<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Rembound.com Example</title>

    <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/earlyaccess/nanumpenscript.css">
    <link rel="stylesheet" href="../../css/menu/reset.css"> <!-- CSS reset -->
    <link rel="stylesheet" href="../../css/menu/style.css"> <!-- Resource style -->
    <script src="../../js/menu/modernizr.js"></script> <!-- Modernizr -->

    <style>
        .center {
            display: block;
            margin: auto;
        }

        .menu {
            position: absolute;
            top: 0;
            height: 32px;
        }

        .but {
            float: left;
            font-family: 'Nanum Pen Script';
            font-weight: bold;
            font-size: 27px;
            padding-top: 12px;

            text-shadow: 1px 2px 2px gray;
        }

        .horizontalCenter {
            left: 50%;
            -webkit-transform: translateX(-50%);
            transform: translateX(-50%);
        }
    </style>

</head>
<body id="GameMain" style="background-image: url(background.jpg);border: 0;padding: 0;background-size: cover;overflow-x:scroll ; overflow-y: hidden;">

    <div style="position:relative;overflow-x:scroll ; overflow-y: hidden;">
        <nav>
            <ul class="cd-primary-nav">
                <li><a href="#0" style="font-weight: bold;" onclick="ShowGame()">게임하기 (두근두근 단어 오락실)</a></li>
                <li><a href="#0" style="font-weight: bold;">땅따먹기 (알쏭달쏭 단어 학습실)</a></li>
                <li><a href="#0" style="font-weight: bold;">관리하기 (이것저것 단어 관리방)</a></li>
                <li><a href="#0" style="font-weight: bold;">조회하기 (오목조목 정보 조회방)</a></li>
                <li><a href="#0" style="font-weight: bold;">설정하기 (오밀조밀 어플 설정방)</a></li>
            </ul>
        </nav>

        <main id="divGame">
            <div>
                <canvas id="viewport" class="center" width="640" height="480"></canvas>

                <div class="menu" style="margin-left:30px;">
                    <p class="but">개수 : 5 개</p>
                </div>

                <!-- <div class="menu horizontalCenter">
                    <p class="but">점수 : 2000 점</p>
                </div> -->

                <!-- <div id="overimg" class="center menu" style="padding-top:20px;width:640px;height:480px;">
                    <img id="effect" style="width:64px;height:32px;position:absolute;" src="impact.gif">
                </div> -->

                

                <img id="scream" width="220" height="277" src="snake_05.png" style="display:none;" alt="The Scream">
            </div>
        </main>

        <div class="cd-overlay-nav">
            <span></span>
        </div> <!-- cd-overlay-nav -->
        <div class="cd-overlay-content">
            <span></span>
        </div> <!-- cd-overlay-content -->
        <a href="#0" class="cd-nav-trigger">Menu<span class="cd-icon"></span></a>
    </div>

    <script type="text/javascript" src="snake.js"></script>

    <script type="text/javascript" src="../../Content/plugins/jquery/jquery.min.js"></script>


    <script src="../../js/menu/jquery-2.1.1.js"></script>
    <script src="../../js/menu/velocity.min.js"></script>
    <script src="../../js/menu/main.js"></script> <!-- Resource jQuery -->

    <script type="text/javascript">

        $(document).ready(function () {
            var bodyWidth = document.getElementById('GameMain' ).offsetWidth;
            var bodyHeight = document.getElementById('GameMain' ).offsetHeight;
            var viewport = document.getElementById('viewport' );

            var width = 0;
            var height = 0;
            var countWidth = -1;
            var countHeight = 0;        

            for(; width < bodyWidth-32; width += 32)
            {
                countWidth++;
            }

            for (; height < bodyHeight-32; height += 16)
            {
                countHeight++;
            }

            $("#viewport").width(width);
            $("#viewport").height(height);

            SetLevel(countWidth*2, countHeight-8);

            var top = (bodyHeight - viewport.offsetHeight)*0.5;

            viewport.style.marginTop = top + "px";
        });

        function showData(str) {

            //alert(str);
            try {


                //$('#effect').hide();

                //var str = '{ "handle": "resize", "view": "뱀키우기", "data": null, "value": { "DeviceWidth": 640, "DeviceHeight": 384, "CountWidth": 20, "CountHeight": 12 } }';

                var jsonObj = JSON.parse(str);

                switch (jsonObj.handle) {
                    case "resize":
                        $("#viewport").width(jsonObj.value.DeviceWidth);
                        $("#viewport").height(jsonObj.value.DeviceHeight);

                        $("#overimg").width(jsonObj.value.DeviceWidth);
                        $("#overimg").height(jsonObj.value.DeviceHeight);

                        SetLevel(jsonObj.value.CountWidth, jsonObj.value.CountHeight);
                        break;
                    case "move":
                        onKeyDown(jsonObj.data);
                        break;
                }
            } catch (exception) {
                alert(exception);
            }


        }
    </script>

</body>
</html> 
<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <title>Basic Form Elements | Bootstrap Based Admin Template - Material Design</title>
    <!-- Favicon-->
    <link rel="icon" href="../Content/favicon.ico" type="image/x-icon">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,700&subset=latin,cyrillic-ext" rel="stylesheet"
        type="text/css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" type="text/css">

    <!-- Bootstrap Core Css -->
    <link href="../Content/plugins/bootstrap/css/bootstrap.css" rel="stylesheet">

    <!-- Waves Effect Css -->
    <link href="../Content/plugins/node-waves/waves.css" rel="stylesheet" />

    <!-- Animation Css -->
    <link href="../Content/plugins/animate-css/animate.css" rel="stylesheet" />

    <!-- Bootstrap Material Datetime Picker Css -->
    <link href="../Content/plugins/bootstrap-material-datetimepicker/css/bootstrap-material-datetimepicker.css"
        rel="stylesheet" />

    <!-- Bootstrap DatePicker Css -->
    <link href="../Content/plugins/bootstrap-datepicker/css/bootstrap-datepicker.css" rel="stylesheet" />

    <!-- Wait Me Css -->
    <link href="../Content/plugins/waitme/waitMe.css" rel="stylesheet" />

    <!-- Bootstrap Select Css -->
    <link href="../Content/plugins/bootstrap-select/css/bootstrap-select.css" rel="stylesheet" />

    <!-- Custom Css -->
    <link href="../Content/css/style.css" rel="stylesheet">

    <!-- AdminBSB Themes. You can choose a theme from css/themes instead of get all themes -->
    <link href="../Content/css/themes/all-themes.css" rel="stylesheet" />

    <!-- 네비게이션 메뉴 관련 -->
    <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/earlyaccess/nanumpenscript.css">
    <link rel="stylesheet" href="../css/menu/reset.css"> <!-- CSS reset -->


    <!-- 신인환 수정 SBGrid 짤림 -->
    <!-- <link rel="stylesheet" href="../css/menu/style.css"> -->
    <!-- 신인환 수정 SBGrid 짤림 -->
    <script src="../js/menu/modernizr.js"></script> <!-- Modernizr -->

    <script src="../js/menu/jquery-2.1.1.js"></script>
    <script src="../js/menu/velocity.min.js"></script>
    <script src="../js/menu/main.js"></script> <!-- Resource jQuery -->
    <!-- 네비게이션 메뉴 관련 -->

    <!-- SBGrid 관련 -->
    <script>
        var SBpath = "../AGrid/js/";
    </script>

    <script src="../AGrid/js/SBGrid/SBGrid_Lib.js"></script>
    <script src="../AGrid/js/SBGrid/SBGrid_min.js"></script>
    <link rel="stylesheet" href="../AGrid/js/SBGrid/css/SBGrid.css">
    <link rel="stylesheet" href="../AGrid/js/SBGrid/css/SBGrid_Default.css">
    <link rel="stylesheet" href="../AGrid/css/basic.css">
    <link rel="stylesheet" href="../AGrid/css/common.css">
    <script src="../AGrid/data/data.js"></script>
    <script src="../AGrid/js/toggle/toggle.js"></script>
    <script src="../AGrid/js/common.js"></script>

    <style>
        .gAjaxParam>tbody>tr>th {
            background-color: rgb(198, 217, 241);
            padding: 5px 20px 5px 20px;
        }

        .gAjaxParam>tbody>tr>td {
            background-color: white;
            padding: 5px 20px 5px 20px;
        }
    </style>

    <script type="text/javascript">
        var datagrid;
        var SBGridProperties = {};

        function createGrid() {
            SBGridProperties.parentid = 'SBGridArea';
            SBGridProperties.id = 'datagrid';
            SBGridProperties.jsonref = 'ct_data.resources';
            SBGridProperties.rowheader = 'seq';
            SBGridProperties.scrollbubbling = true;
            SBGridProperties.explorerbar = 'sort';
            SBGridProperties.selectmode = 'free';
            SBGridProperties.filtering = false;

            // 그리드의 여러 속성들을 입력합니다.
            SBGridProperties.extendlastcol = 'scroll';
            SBGridProperties.tooltip = true;
            SBGridProperties.ellipsis = true;
            SBGridProperties.backcoloralternate = '#FFF2FF';
            SBGridProperties.emptyrecords = "데이터가 존재하지 않습니다.";	//empty 문구 설정
            SBGridProperties.showtotalrows = true;											//그리드 하단 전체 행 표시

            SBGridProperties.paging = {
                'type': 'all',
                'count': 5,
                'size': 7,
                'sorttype': 'all',
                'showgoalpageui': false
            };

            SBGridProperties.columns = [
                { caption: [''], ref: 'check', width: '30px', style: 'text-align:center', type: 'checkbox' },
                { caption: ['학원명'], ref: 'academy', width: '150px', style: 'text-align:center', type: 'output' },
                { caption: ['설립자(성명)'], ref: 'name', width: '150px', style: 'text-align:center', type: 'input' },
                { caption: ['전화번호'], ref: 'phone', width: '120px', style: 'text-align:center', type: 'input' },
                { caption: ['학원주소'], ref: 'addr', width: '450px', style: 'text-align:center', type: 'textarea' },
                { caption: ['교습과정'], ref: 'curriculum', width: '100px', style: 'text-align:center', type: 'combo', typeinfo: { ref: 'newComboData', displayui: true, label: 'label', value: 'value' } },
                { caption: ['교습과목(반)'], ref: 'class', width: '200px', style: 'text-align:center', type: 'input' },
                { caption: ['정원'], ref: 'maxstudent', width: '70px', style: 'text-align:center', type: 'input', format: { type: 'string', rule: '@ "명"' } },
                { caption: ['교습기간'], ref: 'term', width: '100px', style: 'text-align:center', type: 'input' },
                { caption: ['교육시작일'], ref: 'startday', width: '100px', style: 'text-align:center', type: 'datepicker', typeinfo: { locale: 'ko', dateformat: 'yymmdd' }, format: { type: 'date', rule: 'yyyy-mm-dd', origin: 'yyyymmdd' } },
                { caption: ['총교습시간(분)'], ref: 'totalminute', width: '100px', style: 'text-align:center', type: 'input' },
                { caption: ['교습비'], ref: 'pay', width: '100px', style: 'text-align:center', type: 'input', format: { type: 'number', rule: '#,###' } },
                { caption: ['강사수'], ref: 'teacher', width: '70px', style: 'text-align:center', type: 'input' }
            ];
            datagrid = _SBGrid.create(SBGridProperties);

            datagrid.setBackColorAlternate('#cccc');
        };
    </script>
    <!-- SBGrid 관련 -->

    <style>
        .control-detail {
            padding-left: 15px !important;
        }
    </style>

    <!-- UI 관련 -->

    <!-- Jquery Core Js -->
    <script src="../Content/plugins/jquery/jquery.min.js"></script>

    <!-- Bootstrap Core Js -->
    <script src="../Content/plugins/bootstrap/js/bootstrap.js"></script>

    <!-- Select Plugin Js -->
    <!--<script src="../../Content/plugins/bootstrap-select/js/bootstrap-select.js"></script>-->

    <!-- Slimscroll Plugin Js -->
    <script src="../Content/plugins/jquery-slimscroll/jquery.slimscroll.js"></script>

    <!-- Waves Effect Plugin Js -->
    <script src="../Content/plugins/node-waves/waves.js"></script>

    <!-- Autosize Plugin Js -->
    <script src="../Content/plugins/autosize/autosize.js"></script>

    <!-- Moment Plugin Js -->
    <!-- <script src="../Content/plugins/momentjs/moment.js"></script> -->

    <!-- Bootstrap Material Datetime Picker Plugin Js -->
    <script src="../Content/plugins/bootstrap-material-datetimepicker/js/bootstrap-material-datetimepicker.js"></script>

    <!-- Bootstrap Datepicker Plugin Js -->
    <script src="../Content/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js"></script>

    <!-- Custom Js -->
    <script src="../Content/js/admin.js"></script>
    <script src="../Content/js/pages/forms/basic-form-elements.js"></script>

    <!-- Demo Js -->
    <script src="../Content/js/demo.js"></script>

    <!-- UI 관련 -->

    <!-- 처리 관련 -->
    <script type="text/javascript">
        ko.observableArray.fn.find = function (prop, data) {
            var valueToMatch = data[prop];
            return ko.utils.arrayFirst(this(), function (item) {
                return item[prop] === valueToMatch;
            });
        };

        function ViewModel() {
            this.AC_SN = ko.observable("");
            this.AC_NAME = ko.observable("");
            this.AC_ADDRESS = ko.observable("");
            this.AC_MAN01 = ko.observable("");
            this.AC_PHONENUMBER01 = ko.observable("");
            this.AC_EMAIL01 = ko.observable("");
            this.AC_PAY = ko.observable("");
            this.AC_DESC = ko.observable("");
            this.AC_TYPE_CODES = ko.observableArray([]);
            this.AC_TYPE_CODE = ko.observable(this.AC_TYPE_CODES.find("CODE", _AC_TYPE_CODE));
        };

        //var _AC_NAME = "";
        //var _AC_ADDRESS = "";
        //var _AC_MAN01 = "";
        //var _AC_PHONENUMBER01 = "";
        //var _AC_EMAIL01 = "";
        //var _AC_PAY = "";
        //var _AC_DESC = "";
        var _AC_TYPE_CODES = [];
        var _AC_TYPE_CODE = "";

        var vm = null;

        $(document).ready(function () {
            //_AC_NAME = "asdfasdf";
            //_AC_TYPE_CODES = [
            //    { id: 1, name: "one" },
            //    { id: 2, name: "two" },
            //    { id: 3, name: "three" }
            //];
            //_AC_TYPE_CODE = { id: 2, name: "two" };


            //var temp = '{ "handle": "SHOW", "view": "AC_TYPE_CODES", "data": [{"CODE":"001","CODE_001":"015","CODE_002":"001","CODE_003":"---","CODE_NAME":"입고","CODE_TYPE":"","CODE_SORT":0,"CODE_USEYN":false,"CODE_UPDATE_SN":1,"CODE_UPDATE_DATE":"0001 - 01 - 24T08: 18: 12.3081354Z","CODE_DESC":""},{"CODE":"002","CODE_001":"015","CODE_002":"002","CODE_003":"-- - ","CODE_NAME":"출고","CODE_TYPE":"","CODE_SORT":0,"CODE_USEYN":false,"CODE_UPDATE_SN":1,"CODE_UPDATE_DATE":"0001 - 01 - 24T08: 18: 12.3081413Z","CODE_DESC":""}] }';

            //var jsonObj = JSON.parse(temp);

            //switch (jsonObj.view) {
            //    case "AC_TYPE_CODES":
            //        _AC_TYPE_CODES = jsonObj.data;
            //        break;
            //}

            var Main = document.getElementById('Manager');
            var height = document.getElementById('MainBody').offsetHeight;

            Main.style.height = height - 10 + "px";

            var top = (height - Main.offsetHeight) * 0.5;

            Main.style.marginTop = top + "px";

            $('html, body').css({ 'overflow': 'hidden', 'height': '100%' });
            $('#element').on('scroll touchmove mousewheel', function (event) {
                event.preventDefault();
                event.stopPropagation();
                return false;
            });

            vm = new ViewModel();
            ko.applyBindings(vm);


            //var temp = '{ "handle": "SHOW", "view": "AC_TYPE_CODES", "data": [{"CODE":"001","CODE_001":"015","CODE_002":"001","CODE_003":"---","CODE_NAME":"입1111고","CODE_TYPE":"","CODE_SORT":0,"CODE_USEYN":false,"CODE_UPDATE_SN":1,"CODE_UPDATE_DATE":"0001 - 01 - 24T08: 18: 12.3081354Z","CODE_DESC":""},{"CODE":"002","CODE_001":"015","CODE_002":"002","CODE_003":"-- - ","CODE_NAME":"출고","CODE_TYPE":"","CODE_SORT":0,"CODE_USEYN":false,"CODE_UPDATE_SN":1,"CODE_UPDATE_DATE":"0001 - 01 - 24T08: 18: 12.3081413Z","CODE_DESC":""}] }';

            //var jsonObj = JSON.parse(temp);

            //switch (jsonObj.view) {
            //    case "AC_TYPE_CODES":
            //        _AC_TYPE_CODES = jsonObj.data;
            //        vm.AC_TYPE_CODES(_AC_TYPE_CODES);
            //        break;
            //}


        });


        function Create() {
            var objectData = ko.toJS(vm);

            var jSonData = JSON.stringify(objectData);

            //var name = ViewModel.AC_NAME;
            var obj = { handle: "03", view: "ACCOUNT", data: jSonData };

            var data = JSON.stringify(obj);

            //log("Sending Data:" + data);
            invokeCSharpAction(data);
        }

        function Cancel() {
            var obj = { handle: "06", view: "WordBookDetail", data: "WORDBOOK" };

            var data = JSON.stringify(obj);

            window.android.setData(data);
        }

        function logForXamarin(str) {
            //alert(str);
            //$('#result').text($('#result').text() + " " + str);


            //var str = '{ "handle": "SHOW", "view": "AC_TYPE_CODES", "data": [{"CODE":"001","CODE_001":"015","CODE_002":"001","CODE_003":"---","CODE_NAME":"입1111고","CODE_TYPE":"","CODE_SORT":0,"CODE_USEYN":false,"CODE_UPDATE_SN":1,"CODE_UPDATE_DATE":"0001 - 01 - 24T08: 18: 12.3081354Z","CODE_DESC":""},{"CODE":"002","CODE_001":"015","CODE_002":"002","CODE_003":"-- - ","CODE_NAME":"출고","CODE_TYPE":"","CODE_SORT":0,"CODE_USEYN":false,"CODE_UPDATE_SN":1,"CODE_UPDATE_DATE":"0001 - 01 - 24T08: 18: 12.3081413Z","CODE_DESC":""}] }';

            //alert(str);

            try {
                //    var jsonObj = $.parseJSON(str);

                //    switch (jsonObj.view) {
                //        case "AC_TYPE_CODES":
                //            alert(str);
                //            _AC_TYPE_CODES = jsonObj.data;
                //            vm.AC_TYPE_CODES(_AC_TYPE_CODES);
                //            vm.AC_NAME("asdfasdfdsaf");
                //            break;
                //    }


                //var str = '{ "handle": "SHOW", "view": "AC_TYPE_CODES", "data": [{"CODE":"001","CODE_001":"015","CODE_002":"001","CODE_003":"---","CODE_NAME":"입1111고","CODE_TYPE":"","CODE_SORT":0,"CODE_USEYN":false,"CODE_UPDATE_SN":1,"CODE_UPDATE_DATE":"0001 - 01 - 24T08: 18: 12.3081354Z","CODE_DESC":""},{"CODE":"002","CODE_001":"015","CODE_002":"002","CODE_003":"-- - ","CODE_NAME":"출고","CODE_TYPE":"","CODE_SORT":0,"CODE_USEYN":false,"CODE_UPDATE_SN":1,"CODE_UPDATE_DATE":"0001 - 01 - 24T08: 18: 12.3081413Z","CODE_DESC":""}] }';

                var jsonObj = JSON.parse(str);

                switch (jsonObj.view) {
                    case "AC_TYPE_CODES":
                        var coces = jsonObj.value;
                        vm.AC_TYPE_CODES(coces);
                        break;
                    case "ALL":
                        var data = jsonObj.value;
                        vm.AC_NAME(data.AC_NAME);
                        vm.AC_SN(data.AC_SN);
                        vm.AC_TYPE_CODE(data.AC_TYPE_CODE);
                        break;
                }

                //vm = new ViewModel();
                //ko.applyBindings(vm);
            } catch (excetion) {
                alert(excetion);
            }
        }
    </script>
    <!-- 처리 관련 -->

</head>

<body id="MainBody" class="theme-red" style="margin:0;height:100%;">

    <script src="http://code.jquery.com/jquery-2.1.4.min.js"></script>
    <script type='text/javascript' src='../Content/js/knockout-3.4.2.js'></script>

    <!-- Page Loader -->
    <div class="page-loader-wrapper">
        <div class="loader">
            <div class="preloader">
                <div class="spinner-layer pl-red">
                    <div class="circle-clipper left">
                        <div class="circle"></div>
                    </div>
                    <div class="circle-clipper right">
                        <div class="circle"></div>
                    </div>
                </div>
            </div>
            <p>Please wait...</p>
        </div>
    </div>

    <div style="position:relative;overflow-x:scroll ; overflow-y: hidden;">

        <main id="Main">

            <div style="margin-left: 5px;margin-right: 5px;">

                <div id="Manager" class="card" style="min-height:300px;">
                    <div class="header">

                        <div class="row clearfix">
                            <div class="col-sm-6">
                                <h2>
                                    단어장 상세관리
                                    <small>단어장 정보를 입력해 주세요.</small>
                                </h2>
                            </div>

                            <ul class="header-dropdown m-r--5">
                                <li class="dropdown">
                                    <a href="javascript:void(0);" class="dropdown-toggle" data-toggle="dropdown"
                                        role="button" aria-haspopup="true" aria-expanded="false">
                                        <i class="material-icons">more_vert</i>
                                    </a>
                                    <ul class="dropdown-menu pull-right">
                                        <li><a href="javascript:void(0);">단어추가하기</a></li>
                                        <li><a href="javascript:void(0);">단어삭제하기</a></li>
                                        <li><a href="javascript:void(0);">번역하기</a></li>
                                        <li><a href="javascript:void(0);">엑셀파일업로드</a></li>
                                        <li><a href="javascript:void(0);">엑셀파일다운로드</a></li>
                                        <li><a href="javascript:void(0);">이미지자동생성</a></li>
                                        <!-- <li><a href="javascript:void(0);">이미지만들기</a></li>
                                        <li><a href="javascript:void(0);">오디오만들기</a></li>
                                        <li><a href="javascript:void(0);">오디오 듣기
                                            <audio id="myAudio">
                                                <source id="src" type="audio/mpeg">
                                            </audio>
                                        </a></li>
                                        <li><a href="javascript:void(0);">오디오다운받기</a></li> -->
                                    </ul>
                                </li>
                            </ul>
                        </div>

                    </div>
                    <div class="body">
                        <div class="row clearfix">
                            <div class="col-sm-12">
                                <div class="form-group">
                                    <div class="form-line">
                                        <input id="AC_SN" type="hidden" class="control-detail form-control"
                                            placeholder="거래처 SN" data-bind="value: AC_SN" />
                                        <input id="AC_NAME" type="text" class="control-detail form-control"
                                            placeholder="거래처 명" data-bind="value: AC_NAME" />
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div class="form-line">
                                        <select id="AC_TYPE_CODE" class="form-control control-detail show-tick"
                                            data-bind="options: AC_TYPE_CODES,
                                                                                       optionsCaption: '유형을 선택해 주세요',
                                                                                       optionsValue: 'CODE',
                                                                                       value: AC_TYPE_CODE,
                                                                                       optionsText: 'CODE_NAME',
                                                                                       valueAllowUnset: true"></select>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div id="SBGridArea" style="width:100%;height: 350px;"></div>
                                </div>

                                <div class="form-group">
                                    <table style="width:100%;">

                                        <tr>
                                            <td style="width:50%;">
                                                <button type="button" class="btn btn-primary m-t-15 waves-effect"
                                                    style="width:100%;margin-right:10px;"
                                                    onclick="Create();">저장</button>
                                            </td>

                                            <td style="width:50%;">
                                                <button type="button" class="btn btn-primary m-t-15 waves-effect"
                                                    style="width:100%;margin-left:10px" onclick="Cancel()">취소</button>
                                            </td>
                                        </tr>

                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>

        </main>

    </div>
</body>

</html>
<html><head><title>LOSSST</title><meta content="width=device-width,user-scalable=no" name="viewport"><script>u=r=d=l=s=c=B=0;trees=[];apples=[];doors=[];cubes=[];hints=[];emoji=[];puzzles=[];TS=function(k){ba[k]&&clearInterval(ba[k]);onkeydown({which:"+n+"});ba[k]=setInterval(function(){onkeydown({which:k})},150)};TE=function(k){setTimeout(function(){clearInterval(ba[k]);onkeyup()},150)};var g=0;function ca(){a.style.transform="translateX(-"+q[t]*v+"vh)translateY(-"+w[t]*v+"vh)translateZ(45vh)rotateX(40deg)rotateZ("+g+"rad)"}var x=$=_=0;function da(){var k=0;this.i=function(f){k+=f/48E3*Math.PI*2;return k%=2*Math.PI}}function fa(k){var f=new da,n=new da,m=.1;this.i=function(){if(!k)return 0;var A=k+.4*Math.sin(n.i(3));A=440*Math.pow(2,(A-57)/12);m*=.9998;A=f.i(A);return Math.pow(Math.sin(A),1)*m}}function ha(k){function f(){var f=k.length/2;for(_=$;0>_;)_+=f;_%=f;f=new fa(k[2*_+0].charCodeAt(0)-48);for(var A=new fa(k[2*_+1].charCodeAt(0)-48),P=[],aa=0;48E3>aa;aa++){var ea=f.i(),na=A.i(),za=.5*ea+na;P.push(ea+.5*na);P.push(za)}n(P).play()}function n(f){function k(f){f=m(f);return f[0]+f[1]}function m(f){for(var k=0,m="",n=0;4>n;n++,k+=8)m+=String.fromCharCode(f>>k&255);return m}var n=2*f.length;n="RIFF"+m(n+36)+"WAVEfmt "+m(16)+k(1)+k(2)+m(48E3)+m(192E3)+k(4)+k(16)+"data"+m(n);for(var ea in f)n+=k(32767*f[ea]);return new Audio("data:audio/wav;base64,"+btoa(n))}$=-1;this.forward=function(){$++;f()};this.back=function(){$--;f()}}function ja(k){function f(f){f=n(f);return f[0]+f[1]}function n(f){for(var k=0,m="",n=0;4>n;n++,k+=8)m+=String.fromCharCode(f>>k&255);return m}for(var m=[],A=0;;A++){var P=k(A);if(null===P)break;m.push(P)}k=2*m.length;k="RIFF"+n(k+36)+"WAVEfmt "+n(16)+f(1)+f(1)+n(48E3)+n(96E3)+f(2)+f(16)+"data"+n(k);for(A in m)k+=f(1E4*m[A]);return new Audio("data:audio/wav;base64,"+btoa(k))}function ka(k){return 1E4<k?null:(Math.pow(k,1.055)&128?1:-1)*Math.pow((1E4-k)/1E4,2)/2}function la(k){return 25E3<k?null:((k^k>>3^k*k*7.3^k<<4)&65535)/65536*((25E3-k)/25E3)/2}function ma(k){return 5E3<k?null:(Math.pow(k+1E3*Math.sin(.01*k),.8)&200?.5:-.5)*Math.pow((5E3-k)/5E3,1)/2}function oa(k){if(16E3<k)return null;var f=Math.pow((16E3-k)/16E3,2.1)/2;return(k<16E3/7?k+10*Math.sin(-k/900)&16:k&13)?f:-f}function pa(k){return 9E4<k?null:(Math.pow(k+1E3*Math.sin(.01*k),.8)&200?.5:-.5)*Math.pow((9E4-k)/9E4,1)/4}var qa=new ha("nbo0risiubv0uisirbs0ui0i0b0c0f0gniojrlsjuivjymvjubv0ui0i0j0m0n0rsgu0vnxnzgx0vnunsg0n0o0n0g0s0o0nrisjulvgufsjufscrbo0ni0j0b0i0j0il`n0ogqgs`u0vgxgz`0gxl0nsouqvsxuuev0u`0`0eq0slulqcs0qcs0qbs0q`s0njo0reseujv0xeveuj0v0e0q0j0i0g0e0cu0scq00bv0ufr0sgn0vbr0xiz0zjr0sgu0vbx0zgx0vbubsg{0zb{`z^{0zi{fzgv0xiu0vjs0ulr0sbn0oll0nbl0jfi0g00bxc0`zb0^{`0]z^0[z]0Zz[0]z^0`zb0]uf0bxi0f{l0izr0ozn0ixr0nrulrnbo0risiufs0r`o0nb0czf0gzi0gzf0cub0i0j0mvn0m0j0irbscrbs`rbs`sbrbo`q0sgugv`x0zg{gz`s0x`s0v`x0vcx0ues0q`l00eu00`x00ev00`u00eq00`o`"),ra=new ha("p0r0sdk0rco0pdk0p0r0sdw0rcs0pdk0p0r0sdk0rck0pdk0p0r0sdw0rcs0pd0f0g0iwg0bwgx0wgurrnspur0bufwgubs0pkrcsdk0rco0pkk0p0r0sdk0rco0pk0l0k0iwg0b0k0g0n0kzs0nxi0f|l0izr0p0n0lwk0dwg0k0p0k|s0pur0kuo0k0i0l0k0isd0krj0kpd0k0p0rsd0krl0opd0f0g0iskw0riw0pgw0nfw0u`s0rbs0pd0k"),y=localStorage,z=0,C=+y.lossst_s||0,sa=C?ra:qa,D=+y.lossst_m||0,ta=+y.lossst_t||0,ua=+y.lossst_M||0,va=0,ba=[],wa=0,v=5,t=0,q=[],w=[],E=[],F=[],G=y.lossst_S=+y.lossst_S||5,H=0,I=0,J=null,K="0",L=[],M=[],xa=0,N=0,O=0,Q=0,R=0,S=0,T=0,ya=+y.lossst_T||0,Aa=0,U=0,V=0,W="",X=h=0;function Ba(){var k;navigator.userAgent.match(/Mac/)&&(iv.className="a");navigator.userAgent.match(/Fire|Edg/)&&(iv.className+=" c",wa=4E3);D&&(iv.className+=" i");b.className=W;C&&!H&&(ie.innerHTML="");cubes=[];doors=[];trees=[];apples=[];hints=[];emoji=[];if("pz"==W)X=40,h=20,puzzles=[[5,,1,,"0000000000000000000000000",16,9]],G=5,C=0;else if("py"==W)h=X=20,puzzles=[eval("["+location.hash.slice(1).replace(/[01]{2,}/g,'"$&"')+"]")],G=puzzles[0][1],puzzles[0][5]=puzzles[0][6]=8,C=!!puzzles[0][3],hints=[["Move: arrow keys<br>"+(C?"Up/Down: "+(D?"\u2b06\ufe0e/\u2b07\ufe0e":"Shift/Ctrl")+"<br>":"")+"backtrack: "+(D?"\u21a9":"Alt")+"<br>Reset: R",1,5,1,0,C,0]],delete y.lossst_ppy0;else if("px"==W){X=40;h=20;trees=[[13,9,0],[7,13,0],[35,8,0]];apples=[[11,11,0,0,0],[2,12,0,6,0],[38,10,0,7,0]];doors=[[41,10,Math.PI/2,8,0,"pA",1,0,10,0,0],[20,-2,0,14,0,"pD",1,10,19,0,0],[-2,11,-Math.PI/2,6,0,"pJ",1,14,5,1,1],[20,21,Math.PI,14,0,"pC",1,22,1,0,0],[5,21,Math.PI,5,0,"pI",1,36,1,0,1]];puzzles=[];cubes=[];for(f=9;15>f;f++)for(m=0;5>m;m++)2==m&&14==f||2==m&&13==f||3==m&&13==f||3==m&&12==f||2==m&&12==f||cubes.push([m,f]);hints=[["Move with<br>arrow keys"+(D?"":" or WASD/ZQSD"),19,5,0,13,0],["Use the "+(D?"\u21a9":"Alt")+" key to backtrack",1,9,0,13,0,1],["Approach red doors with the right length to open them",35,14,0,13,0],["\u2191<br>New puzzles !<hr>Puzzle editor<br>\u2193",19,8,14,0,0],["\u2190<br>New puzzles !",1,9,6,7,1,1]];emoji=[["\ud83d\udc3f\ufe0f",30,7],["\ud83c\udf30\ufe0f",29,7]]}else if("pA"==W)X=40,h=20,trees=[[35,15,0]],apples=[[33,16,0,0,6],[34,17,0,0,6],[37,15,0,0,6]],cubes=[],doors=[[-2,10,-Math.PI/2,8,0,"px",0,39,11,0,0],[35,21,Math.PI,11,0,"pB",1,35,1,0,0]],puzzles=[[6,,0,,"000000001000001110001110001000000000",2,3],[6,,0,,"000000011000011100010000011000000000",14,3],[6,,0,,"000000000100001100011000011100000000",26,3],[5,,0,,"0000001110011100110000000",2,13],[6,,0,,"000000011000011000001100001100000000",14,13],[6,,0,,"000000000100001100001110001100000000",26,13]],hints=[["Cover the black patterns to solve puzzles",9,9,1,0],["Solve all the puzzles in the room to unlock a new door",21,9,1,0],["Your progress is saved automatically",34,9,1,0]],emoji=[["\ud83d\udc0c",11,10]];else if("pB"==W)D&&(kx.className="",y.lossst_r=1),X=40,h=20,trees=[[4,7,0]],apples=[[1,8,0,0,12],[2,9,0,0,12]],doors=[[35,-2,0,8,0,"pA",0,35,19,0,0],[-2,10,-Math.PI/2,13,0,"pC",1,39,10,0,0]],puzzles=[[6,,0,,"000000011110011010011110000000000000",8,2],[7,,0,,"0000000001110000111000001100000110000010000000000",18,2],[6,,0,,"000000011000011110001010001110000000",28,2],[6,,0,,"000000011100001110001110001100000000",8,12],[6,,0,,"000000001110001110001110001010000000",18,12],[6,,0,,"000000011110011110001100001000000000",28,12]],hints=[["If you get stuck, "+(D?"click \u00d7":"press R")+" to exit a puzzle",35,11,1,0]],cubes=[[11,4],[21,16]],emoji=[["\ud83d\udc08",4,14]];else if("pC"==W)X=40,h=20,trees=[[35,8,0]],apples=[[34,11,0,0,18]],doors=[[41,10,Math.PI/2,8,0,"pB",0,1,10,0,0],[22,-2,0,14,0,"px",1,20,19,0,0]],puzzles=[[7,,0,,"0000000000000001111000111100001111000100000000000",2,3],[7,,0,,"0000000001110000101000011100001110000110000000000",26,3],[6,,0,,"000000001110011110011010001110000000",14,3],[7,,0,,"0000000001100000111000011100001110000110000000000",2,12],[7,,0,,"0000000000000001111100101010011111000000000000000",14,12],[6,,0,,"000000011000011100011110011110000000",26,12]],hints=[["\u2191<br>After this room, you can try a puzzle editor and a new kind of puzzles !",22,11,13,0,0]],cubes=[[29,5],[30,8],[17,6],[15,4],[15,7],[29,13],[30,13],[30,14],[18,15],[16,15],[6,13],[6,17],[7,8],[6,8],[5,8],[3,7],[3,8],[7,6],[7,5]],emoji=[["\ud83e\udd8b<br><br>",29,13]];else if("pD"==W){h=X=20;trees=[[10,2,0]];doors=[[10,21,Math.PI,14,0,"px",0,20,0,0,0],[-2,5,-Math.PI/2,14,0,"pE",0,24,12,0,0]];puzzles=[[7,,1,,"0100010011111000000000000000000000001111100100010",7,7]];hints=[["Now you're thinking with wraps !",2,2,0,14,0]];for(f=0;20>f;f++)cubes.push([f,10]);emoji=[["\ud83d\udc10",12,2]]}else if("pE"==W)h=X=25,trees=[[5,12,0]],apples=[[4,14,0,0,23]],doors=[[26,12,Math.PI/2,14,0,"pD",0,0,5,0,0],[-2,12,-Math.PI/2,15,0,"pF",1,79,5,0,0]],puzzles=[[7,,1,,"1000001000000000000000010100011011011000111000001",3,3],[6,,1,,"110011100001000000100001100001110011",15,17],[5,,1,,"1100111001100011001110011",16,4],[6,,1,,"000011000011110001110001000011000011",3,17]],hints=[["Reminder:<br>use "+(D?"\u21a9":"Alt")+" to backtrack,<br>"+(D?"\u00d7":"R")+" to exit a puzzle.",11,14,1,0,0]],emoji=[["\ud83d\udc12",12,20]];else if("pF"==W)X=80,h=20,trees=[[35,10,0]],apples=[[38,11,0,0,35]],doors=[[81,5,Math.PI/2,15,0,"pE",0,0,12,0,0],[-2,15,-Math.PI/2,16,0,"pG",1,19,5,0,0]],puzzles=[[5,,1,,"0111101001010110100011111",59,13],[5,,1,,"1111011000111100001011110",48,13],[5,,1,,"1111101000011110111001100",37,13],[5,,1,,"1111110000111001000011111",26,13],[5,,1,,"1100101101001110011101101",15,13],[5,,1,,"1111100001110010000111111",59,2],[5,,1,,"1000110111100011000111111",48,2],[5,,1,,"1000110101101011111110001",37,2],[5,,1,,"1111110001000110000111111",26,2],[5,,1,,"0111101100011100011011110",15,2],[5,,1,,"1111101111001110001100001",4,8],[5,,1,,"1010100101111010000111111",71,8]],hints=[["This room hides a surprise !",72,2,0,15,0],["\u2190<br>Exit",38,9,16,0,0]],cubes=[],emoji=[];else if("pG"==W)X=20,h=30,trees=[[5,25,0]],apples=[[4,24,0,0,37],[7,25,0,0,37],[2,26,0,0,37],[3,28,0,0,37]],doors=[[21,5,Math.PI/2,16,0,"pF",0,1,15,0,0],[10,31,Math.PI,20,0,"pH",1,10,1,0,0]],puzzles=[[6,,1,,"001000001110111111011100011000001000",7,6],[6,,1,,"110001100001000111000111100001110001",7,18]],emoji=[["\ud83d\udc01",9,14]];else if("pH"==W)X=20,h=30,trees=[[16,22]],apples=[[18,22,0,0,39]],doors=[[10,-2,0,18,0,"pG",0,10,29,0,0],[21,25,Math.PI/2,21,0,"pI",1,1,10,0,0]],puzzles=[[6,,1,,"001000011110111111011110011110001000",7,6],[6,,1,,"110001100001000011000111001111111111",7,18]],emoji=[["\ud83e\udd86",9,14]];else if("pI"==W){X=40;h=20;apples=[[38,2,0,5,0]];doors=[[-2,10,-Math.PI/2,1,0,"pH",0,19,25,0,0],[36,-2,0,6,0,"px",1,5,19,0,1]];puzzles=[];hints=[["Guess what, you finished the first half of the game !",5,9,1,0],["You can now move up and down with "+(D?"\u2b06\ufe0e and \u2b07\ufe0e":"Shift and Ctrl keys")+", and open black doors",30,11,1,0]];for(f=0;9>f;f++)cubes.push([30,f]);for(f=30;40>f;f++)cubes.push([f,8]);emoji=[["\ud83d\udc22",13,14]];trees=[[3,1],[15,2],[36,3],[26,5],[25,15],[33,9],[10,12],[36,14],[3,15]]}else"pJ"==W?(X=15,h=70,trees=[[2,62]],apples=[[2,65,0,0,47],[1,66,0,0,47]],doors=[[16,5,Math.PI/2,6,0,"px",0,1,11,0,1],[-2,65,-Math.PI/2,8,0,"pK",1,19,65,0,1]],puzzles=[[5,,0,"0000000000000000000001110",,2,2],[4,,0,"0000000001000110",,4,11],[5,,0,"0000000000000000101001110",,6,20],[5,,0,"0000000000000000111000100",,8,29],[4,,0,"0000000001100110","0000011001100000",2,38],[4,,0,"0000010001100100","0000011001100000",4,47],[4,,0,"0000011001000100","0000010001100000",6,56],[4,,0,"0000000001100110","0100011000100000",8,65]],hints=[["You now have to match the patterns on the walls...",10,2,1,0,1],["... and on the floor too !",10,40,1,0,1]],emoji=[["\ud83e\udd89",10,14]]):"pK"==W?(D&&(ky.className=kz.className="",y.lossst_c=1),X=20,h=75,trees=[[2,2]],apples=[[1,4,0,0,59],[2,5,0,0,59],[3,6,0,0,59],[4,2,0,0,59]],doors=[[21,65,Math.PI/2,7,0,"pJ",0,1,65,0,1],[-2,5,-Math.PI/2,12,0,"pL",1,14,5,0,1]],puzzles=[[5,,0,"0000000000010000110001110",,8,69],[6,,0,"000000000000000000000100001110011000",,12,58],[5,,0,"0000000000010000111001000",,2,58],[4,,0,"0000001001100110","0000001001100000",2,45],[5,,0,"0000000000000000010001110","0000000100001100110000000",12,45],[5,,0,"0000000000000000101001110","0000001110010100000000000",2,34],[5,,0,"0000000000000000011001100","0000001110011000010000000",12,34],[4,,1,"0000011001100110","0110000000000110",2,22],[4,,1,"1001000000001001","1001000000001001",12,22],[4,,1,"0000010011110010","0000111101100000",2,12],[4,,1,"0110010000000011","0000011100110000",12,12],[4,,1,"1101000000000001","1101000000010001",12,2]],hints=[["You can rotate the camera with "+(D?"<br>\u21bb and \u21ba":"the keys 1, 2 and 3"),15,68,1,0,1],["Can you guess what's coming next?",7,54,1,0,1],["3D puzzles with wrap ! Use "+(D?"\u2b06\ufe0e and \u2b07\ufe0e":"Shift and Ctrl")+" to wrap between top and bottom",7,24,1,0,1]],emoji=[["\ud83d\udc1e",3,70]]):"pL"==W?(X=15,h=80,trees=[[2,70]],apples=[[1,73,0,0,68],[3,75,0,0,68]],doors=[[16,5,Math.PI/2,12,0,"pK",0,1,5,0,1],[-2,75,-Math.PI/2,14,0,"pM",1,14,25,0,1]],puzzles=[[5,,0,"0000000000001001111100100",,2,2],[4,,0,"0000010001100000",,5,11],[5,,0,"0000000110000110111000010",,8,20],[5,,0,"0000000000001000111011111","0000000000111001111100000",2,29],[4,,0,"1000110011101111","0000001111110000",5,38],[4,,0,"0000100011001110","1110110010000000",8,45],[4,,1,"1000100110010001","0000100110010000",2,54],[4,,1,"0000001011110100","0000110011110011",5,63],[5,,1,"0100011000010000111001000","0000001110110000100000000",8,72]],cubes=[[6,12]],emoji=[["\ud83d\udc1d",3,20]]):"pM"==W?(X=15,h=30,trees=[[10,12]],apples=[[8,11,0,0,71],[9,10,0,0,71],[10,9,0,0,71],[11,10,0,0,71],[12,11,0,0,71],[7,12,0,0,71]],doors=[[16,25,Math.PI/2,14,0,"pL",0,1,75,0,1],[-2,5,-Math.PI/2,20,0,"pN",1,14,5,0,1]],puzzles=[[5,,1,"0001100110011001100010000","0001100110011001100010000",2,24],[5,,1,"1100010001000011000111000","0000011000110010000000000",4,13],[5,,1,"1101110001000001000011000","1100010000000001000111011",6,2]],emoji=[["\ud83d\udc13",1,14]]):"pN"==W&&(X=15,h=48,trees=[[10,44]],apples=[[7,45,0,0,75]],doors=[[16,5,Math.PI/2,20,0,"pM",0,1,5,0,1]],puzzles=[[4,,1,"0000111101101111","1000111111111000",5,38],[4,,1,"1111001001001111","1111101010101111",5,28],[4,,1,"1111010101011101","0001101101101111",5,18],[4,,1,"1111000100011110","1111110110011111",5,8]],emoji=[["\ud83d\udc09",13,46]]);a.style.width=X*v+"vh";a.style.height=h*v+"vh";H||(ig.innerHTML="");ih.innerHTML="";for(var f in trees)ig.innerHTML+="<div id=tree"+f+' class="j tr"style=left:'+trees[f][0]*v+"vh;transform:translateX(-7vh)translateY("+(trees[f][1]*v+4)+"vh)rotateX(-70deg)>\ud83c\udf33</div><div id=treeshadow"+f+' class="e h"style=left:'+trees[f][0]*v+"vh;transform:translateX(-7.5vh)translateY("+(trees[f][1]*v+3.5)+"vh)rotateZ(144deg)scaleY(1.5)>\ud83c\udf33";for(f in apples)y["lossst_a"+W+f]?delete apples[f]:ig.innerHTML+="<div id=a"+f+' class="j g '+(y["lossst_A"+W+f]?"":"h")+'"style=left:'+apples[f][0]*v+"vh;transform:translateY("+(apples[f][1]*v+4)+"vh)rotateX(-65deg)>"+("pN"==W?"<div>\u26bd</div>":"<div class=m>\ud83c\udf4e</div>")+"</div><div id=as"+f+' class="e p '+(y["lossst_A"+W+f]?"":"h")+'"style=left:'+apples[f][0]*v+"vh;transform:scaleX(-1)translateY("+(apples[f][1]*v+3)+"vh)rotateZ(212deg)>"+("pN"==W?"\u26bd":"\ud83c\udf4e");for(f in emoji)ig.innerHTML+='<div class="j n"style=left:'+(emoji[f][1]*v-1)+"vh;transform:translateY("+(emoji[f][2]*v+4)+"vh)rotateX(-65deg)><div class=m>"+emoji[f][0];for(f in doors)ig.innerHTML+="<div id=d"+(""+W+f)+' class="do'+(y["lossst_d"+W+f]?" s":"")+'"style=left:'+(doors[f][0]+.5)*v+"vh;top:"+(doors[f][1]+.5)*v+"vh;transform:rotateZ("+doors[f][2]+"rad)translateZ("+doors[f][9]*v+'vh)><div class="y d'+doors[f][10]+'"'+(doors[f][6]?"":"hidden")+">"+doors[f][3]+'</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh">';for(var n in puzzles)for(var m in cubes)y["lossst_p"+W+n]&&cubes[m][0]>=puzzles[n][5]&&cubes[m][0]<puzzles[n][5]+puzzles[n][0]&&cubes[m][1]>=puzzles[n][6]&&cubes[m][1]<puzzles[n][6]+puzzles[n][0]&&delete cubes[m];for(f in cubes)ig.innerHTML+="<div id=cube"+f+' class="z x"style=left:'+cubes[f][0]*v+"vh;top:"+cubes[f][1]*v+'vh;width:5vh;height:5vh><div class=f></div><div class=u style="background-position:'+(-300-cubes[f][0]*v)+"vh "+(-140-cubes[f][1]*v)+'vh"></div><div class=r></div><div class=l></div><div class=b>';for(f in hints)C^hints[f][5]||!(hints[f][3]&&hints[f][3]<=G||hints[f][4]&&hints[f][4]>=G)||(ig.innerHTML+="<div id=h"+(""+W+f)+" class=t style=left:"+hints[f][1]*v+"vh;transform:translateY("+(hints[f][2]*v+5)+"vh)translateZ("+(hints[f][6]*v||0)+"vh)rotateX(-70deg)translateY(-4vh)>"+hints[f][0]);y.lossst_x&&top.hpx0&&(hpx0.style.opacity=1);for(n in puzzles){T=puzzles[n][0];var A=k="";ih.innerHTML+="<div id=puzzle"+n+' class="z q v '+(puzzles[n][2]&&!y["lossst_p"+W+n]?"w":"")+'"style=left:'+puzzles[n][5]*v+"vh;top:"+puzzles[n][6]*v+"vh;width:"+puzzles[n][0]*v+"vh;height:"+T*v+"vh>"+(puzzles[n][2]?"<div class=l></div><div class=r></div>":"")+"<div id=D"+n+" class=d></div><div id=B"+n+" class=b></div>"+(puzzles[n][2]?"<div class=f>":"");var P="000",aa="fff";y["lossst_p"+W+n]&&(P="44c",aa="fd0",puzzles[n][2]=0);for(f=0;f<T;f++)for(m=0;m<T;m++)puzzles[n][3]&&(k+="<div class=o id=w"+n+f+m+" style=width:"+v+"vh;height:"+v+"vh;background:#"+("1"==puzzles[n][3][f*T+m]?P:aa)+"></div>"),puzzles[n][4]&&(A+="<div class=o id=g"+n+f+m+" style=width:"+v+"vh;height:"+v+"vh;background:#"+("1"==puzzles[n][4][f*T+m]?P:aa)+"></div>");top["D"+n]&&(top["D"+n].innerHTML+=A);top["B"+n]&&(top["B"+n].innerHTML+=k)}"pN"==W&&(ig.innerHTML+="<div style='position:fixed;transform:"+(D?"rotateZ(-90deg)translateX(-87vh)translateY(22vh)translateZ(365vh)":"rotateZ(-90deg)translateX(-83vh)translateY(6vh)translateZ(208vh)")+";font: 30vh/25vh a'>THE<br><br>END");H&&(y.lossst_e||y.lossst_s&&6<y.lossst_S||(ik.style.opacity=im.style.opacity=0,ik.style.position=im.style.position="fixed",ik.style.top=im.style.top="-9vh"),J=0,Y(1),xa=1,Q=O=N=0,puzzles[0][2]=0,setTimeout(function(){(ib.onchange=ib.oninput=resetgrid=function(){Ca();Y();ij.disabled=1;gridval.innerHTML=T=+ib.value;puzzle0.style.width=puzzle0.style.height=T*v+"vh";puzzles[0][0]=T;D0.innerHTML="";A=k=B0.innerHTML="";M=[];L=[];for(f=0;f<T;f++)for(M[f]=[],L[f]=[],m=0;m<T;m++)M[f][m]=0,L[f][m]=0;for(f=0;f<T;f++)for(m=0;m<T;m++)k+="<div class=o id=w"+K+f+m+" style=width:"+v+"vh;padding-top:"+v+"vh></div>",A+="<div class=o id=g"+K+f+m+" style=width:"+v+"vh;padding-top:"+v+"vh></div>";xa&&(D0.innerHTML+=A);N&&(B0.innerHTML+=k)})();iq.onchange=iq.oninput=function(){it.innerHTML=G=+iq.value;Ca();Y()};ik.onclick=function(){ik.checked?xa=1:top.wall&&(xa=0,C=N=1,wall.checked=!0);a.className=N?"haswall":"";resetgrid()};top.wall&&(wall.onclick=function(){wall.checked?(N=1,C=puzzles[0][3]=1):(N=C=0,xa=1,ik.checked=!0,puzzles[0][3]=0);a.className=N?"haswall":"";resetgrid()});top.wrap&&(wrap.onclick=function(){O=puzzles[0][2]=wrap.checked||0;puzzle0.className="z q v "+(O?"w":"");resetgrid()});print=function(k){var n="";for(f=0;f<T;f++)for(m=0;m<T;m++)n=top[k+"0"+f+m].style.background&&top[k+"0"+f+m].style.background.match(/255/)?n+0:n+1;return n};ij.onclick=function(){var f=[];f.push(T);f.push(G);f.push(O?1:0);f.push(N?print("w"):"");f.push(ik.checked?print("g"):"");open("//twitter.com/intent/tweet?text=I%20made%20a%20level%20for%20@MaximeEuziere's%20%23js13k%20game%20LOSSST!%0APlay%20here:%20js13kgames.com%2Fentries%2Flossst%0AMy%20level:%20js13kgames.com%2Fgames%2Flossst%23"+f+"%0A%23LOSSSTlevels")}},100));"px"!=W||y.lossst_x?(a.style.transition="transform 1s,transform-origin 1s",Ca()):(I=1,setTimeout(function(){Ca();Y();M0.style.transition="transform .5s"},2E3),setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(0);F.push(F[t]);t++;Y()},5500+wa),setTimeout(function(){M0.style.transition="";R0.style.transition="transform .2s";R0.style.transform="rotateZ("+-Math.PI/4+"rad)"},6500+wa),setTimeout(function(){R0.style.transform="rotateZ("+Math.PI/4+"rad)"},7E3+wa),setTimeout(function(){R0.style.transform=""},7500+wa),setTimeout(function(){S0.style.transition=R0.style.transition=""},8E3+wa),setTimeout(function(){clearInterval(x);z||(I=0);hpx0.style.opacity=1},8400),setTimeout(function(){a.style.transition="transform 1s,transform-origin 1s";y.lossst_x=20;y.lossst_y=10;b.innerHTML+="<div style='position:fixed;font:8vh a;top:3vh;right:3vh'onclick=location='index.html'>\u00d7";D&&(kU.className=kD.className=kL.className=kR.className="",y.lossst_w=1)},9E3));Y()}function Ca(){var k=C&&!H?ia:ie;k.innerHTML="";q=[];w=[];E=[];F=[];t=G-1;if("py"==W)for(i=0;i<G;i++)q[t-i]=1-i,w[t-i]=10,E[t-i]=0,F[t-i]=-Math.PI/2;else if(H)for(i=0;i<G;i++)q[t-i]=13-i,w[t-i]=12,E[t-i]=0,F[t-i]=-Math.PI/2;else if(y.lossst_x){var f=+y.lossst_x,n=+y.lossst_y,m=+y.lossst_z;"px"==W&&2>y.lossst_x&&(m=y.lossst_z=1);if("pI"==W&&z&&1==C)for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i-1,F[t-i]=0;else if(2>f)for(i=0;i<G;i++)q[t-i]=f-i,w[t-i]=n,E[t-i]=m,F[t-i]=-Math.PI/2;else if(f>X-2)for(i=0;i<G;i++)q[t-i]=f+i,w[t-i]=n,E[t-i]=m,F[t-i]=Math.PI/2;else if(2>n)for(i=0;i<G;i++)q[t-i]=f,w[t-i]=n-i,E[t-i]=m,F[t-i]=0;else if(n>h-2)for(i=0;i<G;i++)q[t-i]=f,w[t-i]=n+i,E[t-i]=m,F[t-i]=0;else for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i,F[t-i]=0}else if("px"==W)for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i-1,F[t-i]=0;for(i=0;i<Math.max(G+4,16);i++)k.innerHTML+="<div id=M"+i+" class=sm style=transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:"+(v-.7)+"vh;height:"+(v-.7)+"vh><div class=ss id=S"+i+"></div><div id=R"+i+' class=sr><div class="z k"id=T'+i+">"+(1>i?"<div style=background:none;box-shadow:none;color:red;font-size:4vh;text-align:center;transform:rotateZ(180deg)translateY(-4vh)translateZ(1.5vh)>Y</div>":"")+'<div class=u style="font:'+.5*v+"vh/"+.8*v+'vh a">'+(1>i?"\ud83d\udc40":"")+"</div><div class=f>"+(1>i?"\u203f":"")+"</div><div class=r></div><div class=l></div><div class=b>"}function Y(k){for(var f={a:0};f.a<G;f={a:f.a,j:f.j,m:f.m,o:f.o},f.a++)if(!k){var n=oldx=oldy=oldz=newx=newy=newz=0;O&&T&&(q[t-f.a-1]==R&&q[t-f.a]==R+T-1?(n=1,oldx=R-1,newx=R+T,oldy=newy=w[t-f.a],oldz=newz=E[t-f.a]):q[t-f.a-1]==R+T-1&&q[t-f.a]==R?(n=1,oldx=R+T,newx=R-1,oldy=newy=w[t-f.a],oldz=newz=E[t-f.a]):w[t-f.a-1]==S&&w[t-f.a]==S+T-1?(n=1,oldy=S-1,newy=S+T,oldx=newx=q[t-f.a],oldz=newz=E[t-f.a]):w[t-f.a-1]==S+T-1&&w[t-f.a]==S?(n=1,oldy=S+T,newy=S-1,oldx=newx=q[t-f.a],oldz=newz=E[t-f.a]):0==E[t-f.a-1]&&E[t-f.a]==T-1?(n=1,oldz=-1,newz=T,oldx=newx=q[t-f.a],oldy=newy=w[t-f.a]):E[t-f.a-1]==T-1&&0==E[t-f.a]&&(n=1,oldz=T,newz=-1,oldx=newx=q[t-f.a],oldy=newy=w[t-f.a]));if(n)top["R"+f.a].style.transform="rotateZ("+F[t-f.a]+"rad)",top["M"+f.a].style.transform="translateX("+(oldx*v+.5)+"vh)translateY("+(oldy*v+.5)+"vh)translateZ("+(oldz*v+.5)+"vh)scale(.01)scaleZ(.01)",setTimeout(function(f){return function(){top["M"+f.a].style.transition="none"}}(f),90),f.j=newx,f.m=newy,f.o=newz,setTimeout(function(f){return function(){top["M"+f.a].style.transform="translateX("+(f.j*v+.5)+"vh)translateY("+(f.m*v+.5)+"vh)translateZ("+(f.o*v+.5)+"vh)scale(.01)"}}(f),100),setTimeout(function(f){return function(){top["M"+f.a].style.transition="";top["M"+f.a].style.transform="translateX("+(q[t-f.a]*v+.25)+"vh)translateY("+w[t-f.a]*v+"vh)translateZ("+(E[t-f.a]*v+.5)+"vh)"}}(f),150);else try{top["M"+f.a].style.transform="translateX("+(q[t-f.a]*v+.25)+"vh)translateY("+w[t-f.a]*v+"vh)translateZ("+(E[t-f.a]*v+.5)+"vh)",top["R"+f.a].style.transform="rotateZ("+F[t-f.a]+"rad)"}catch(A){}try{top["S"+f.a].style.display=0==E[t-f.a]?"":"none"}catch(A){}}H?a.style.transform="translateX(-100vh)translateY(-37vh)translateZ(-5vh)rotateX(33deg)":null===J||y["lossst_p"+W+J]?(a.style.transform="translateX("+-q[t]*v+"vh)translateY("+-w[t]*v+"vh)translateZ(45vh)rotateX(40deg)rotateZ("+g+"rad)",a.style.transformOrigin=""+q[t]*v+"vh "+w[t]*v+"vh"):(a.style.transform="translateX("+(-(R+puzzles[J][0]/2)*v+5)+"vh)translateY("+(-(S+puzzles[J][0]/2)*v+8)+"vh)translateZ("+(90-puzzles[J][0]*(v+3))+"vh)rotateX(30deg)rotateZ("+g+"rad)",a.style.transformOrigin=""+((R+puzzles[J][0]/2)*v+5)+"vh "+((S+puzzles[J][0]/2-1)*v+8)+"vh");f=C?1:0;for(k=0;k<G;k++){if(0>=E[t-k]){f=0;break}for(m in cubes)cubes[m][0]==q[t-k]&&cubes[m][1]==w[t-k]&&1==E[t-k]&&(f=0)}if(f){for(k=0;k<G;k++)E[t-k]--;try{Y()}catch(A){for(var m=2*G;m--;)q.pop(),w.pop(),E.pop(),F.pop(),t--;Aa=0;Y()}}f=q[t];n=w[t];for(k in doors)(doors[k][10]&&C||!doors[k][10]&&!C)&&top["d"+W+k]&&0<doors[k][3]&&G>=doors[k][3]&&4>Math.hypot(f-doors[k][0],n-doors[k][1])&&!y["lossst_d"+W+k]&&(top["d"+W+k].className="do s",!doors[k][6]||"px"==W&&2<k||ja(pa).play(),y["lossst_d"+W+k]=1),top["d"+W+k]&&"do s"==top["d"+W+k].className&&2>Math.hypot(f-doors[k][0],n-doors[k][1])&&(y.lossst_p=W=doors[k][5],setTimeout(Ba,600),y.lossst_x=doors[k][7],y.lossst_y=doors[k][8],y.lossst_z=0);null!==J&&Da();H||(J=null);H||(L=[],M=[]);for(p in puzzles)if(f>=puzzles[p][5]&&f<puzzles[p][5]+puzzles[p][0]&&n>=puzzles[p][6]&&n<puzzles[p][6]+puzzles[p][0]){J=+p;Q=0;y["lossst_p"+W+p]&&(Q=1);K=p;xa=!!puzzles[p][4];N=!!puzzles[p][3];O=!!puzzles[p][2];R=puzzles[p][5];S=puzzles[p][6];T=puzzles[p][0];for(k=0;k<T;k++)for(L[k]=[],M[k]=[],m=0;m<T;m++)puzzles[p][3]&&(M[k][m]=+puzzles[p][3][k*puzzles[p][0]+m]),puzzles[p][4]&&(L[k][m]=+puzzles[p][4][k*puzzles[p][0]+m]);Da()}}function Z(k,f,n){V=0;if(0>k||k>=X||0>f||f>=h)V=1;for(var m in trees)k>=trees[m][0]-1&&k<=trees[m][0]&&f==trees[m][1]&&3>E[t]&&(V=1);for(m in hints)k>=hints[m][1]&&k<=hints[m][1]+3&&f==hints[m][2]&&G>=hints[m][3]&&(!hints[m][4]||G<=hints[m][4])&&(C&&hints[m][5]||!C&&!hints[m][5])&&(V=1);for(m in apples)if(y["lossst_A"+W+m]&&k==apples[m][0]&&f==apples[m][1]&&0==E[t])if(ja(ka).play(),"pN"==W){x=setInterval(sa.forward,150);y.lossst_E=1;setTimeout(function(){I=1;as0.remove();a0.style.transform="translateY(319vh)translateZ(2vh)rotateX(-65deg)rotateY(90deg)";a0.style.transition=a.style.transition="10s";a0.style.transform="translateY(15vh)translateZ(2vh)rotateX(-65deg)";a.style.transform=D?"translateX(-133vh)translateY(-249vh)translateZ(-373vh)rotateZ(90deg)":"translateX(-141vh)translateY(-227vh)translateZ(-185vh)rotateZ(90deg)"},200);var A={},P;for(P in puzzles)A.g=P,setTimeout(function(f){return function(){top["B"+f.g].style.transition=".5s";top["B"+f.g].style.transform="translateY(-125%)"}}(A),[1450,2500,3800,5400][A.g]),A={g:A.g};setTimeout(function(){clearInterval(va);y.lossst_E=1;y.lossst_e=1;b.style.background="#000";y.lossst_s=0;b.innerHTML="<div id=iv style=perspective:90vh><center id=menu style=width:75vh;transform:translateX(-38vh)translateY(-35vh)rotateX(-28deg)><span style=font-size:4vh;line-height:5vh><h1>Congrats!</h1><br>You completed the game in<br>"+ta+" seconds and "+ua+" moves!<br><br><a href=//twitter.com/intent/tweet?text=I%20played%20LOSSST,%20a%20%23js13k%20game%20by%20by%20@MaximeEuziere%0Amy%20score:%20"+ta+"%20seconds%20and%20"+ua+"%20moves!%0Ajs13kgames.com%2Fentries%2Flossst target=_blank style=color:#def;font-size:4vh>TWEET YOUR SCORE</a><br><br>Dev record:<br>854 seconds, 2452 moves<br><br>3D puzzle editor unlocked!<br><br><a href=. style=font-size:4vh>MAIN MENU"},15E3);n=document.querySelectorAll(".o");A={};for(var aa in n){A.h=aa;try{2==n[A.h].style.backgroundColor.match(/68/g).length&&setTimeout(function(f){return function(){top[n[f.h].id].style.background="#a00"}}(A),8E3+10*A.h)}catch(na){}A={h:A.h}}}else if(delete apples[m],top["a"+m].remove(),top["as"+m].remove(),G++,y.lossst_S=G,y["lossst_a"+W+m]=1,"pF"==W&&16==G){I=1;x=setInterval(sa.forward,150);z=1;a.style.transition="5s";a.style.transform="translateX(-180vh)translateY(-53vh)translateZ("+(D?-422:-180)+"vh)rotateZ(180deg)";setTimeout(function(){a.style.transition="1s";I=z=0;Y();ig.innerHTML+="<div class=t style=left:190vh;transform:translateY(50vh)rotateX(-55deg)translateY(-4vh)>\u2190<br>Exit";clearInterval(x)},1E4);n=document.querySelectorAll(".o");A={};for(var ea in n){A.f=ea;try{n[A.f].id.match(/g\d\d\d$/)&&2==n[A.f].style.backgroundColor.match(/68/g).length&&setTimeout(function(f){return function(){top[n[f.f].id].style.background="#a00"}}(A),5500+10*A.f)}catch(na){}A={f:A.f}}}for(m in cubes)k==cubes[m][0]&&f==cubes[m][1]&&0==n&&(V=1);for(m in emoji)"pC"!=W&&k==emoji[m][1]&&f==emoji[m][2]&&0==n&&(V=1);for(m in doors)top["d"+W+m]&&"do s"==top["d"+W+m].className&&2>=Math.hypot(k-doors[m][0],f-doors[m][1])&&(V=0);hitcube2=0;for(m=G-2;0<m;m--)q[t-m]==k&&w[t-m]==f&&E[t-m]==n&&(V=1,1==m&&(hitcube2=1));for(p in puzzles)puzzles[p][3]&&k>=puzzles[p][5]&&k<puzzles[p][5]+puzzles[p][0]&&(f==puzzles[p][6]-1&&w[t]==puzzles[p][6]&&!puzzles[p][2]||f==puzzles[p][6]&&w[t]==puzzles[p][6]-1)&&(V=1);if("pI"==W&&18==k&&!C){z=C=V=I=1;clearInterval(x);sa=ra;_=$=0;x=setInterval(ra.forward,250);y.lossst_s=1;y.lossst_S=G=5;for(k=0;21>k;k++)cubes.push([q[t-k],w[t-k]]),top["M"+k].id="",top["R"+k].id="",top["S"+k].id="",top["T"+k].id="";a.style.transition="2s";Ca();Y();a.style.transform="translateX(-105vh)translateY(-51vh)translateZ(80vh)rotateX(45deg)";a.style.transformOrigin="140vh 70vh";setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(0);F.push(F[t]);t++;Y()},3E3);setTimeout(function(){ii.innerHTML="Daddy!"},4E3);setTimeout(function(){ii.innerHTML=""},6E3);setTimeout(function(){ii.innerHTML="I lossst my soccer ball!"},7E3);setTimeout(function(){ii.innerHTML=""},9E3);setTimeout(function(){ii.innerHTML="But I found new moves!"},1E4);setTimeout(function(){ii.innerHTML="";z=I=0;clearInterval(x);a.style.transition="1s";Y();Ea();D&&(kT.className=kB.className="",y.lossst_B=1)},13500)}}function Da(){if(!Q&&null!==J){solved=1;H&&(ij.disabled=0);for(i=0;i<T;i++)for(j=0;j<T;j++)try{top["g"+K+i+j]&&(top["g"+K+i+j].style.background=L[i][j]?"#000":"#fff"),top["w"+K+i+j]&&(top["w"+K+i+j].style.background=M[i][j]?"#000":"#fff")}catch(m){}if(q[t]<R||q[t]>R+T-1||w[t]<S||w[t]>S+T-1||0>E[t]||E[t]>T-1)H&&(ij.disabled=1);else{for(i=0;i<G;i++){top["g"+K+(w[t-i]-S)+(q[t-i]-R)]&&(top["g"+K+(w[t-i]-S)+(q[t-i]-R)].style.background=L[w[t-i]-S][q[t-i]-R]?"#080":H?"#44c":"#f00");w[t-i]>=S&&w[t-i]<S+T&&top["w"+K+(T-1-E[t-i])+(q[t-i]-R)]&&(top["w"+K+(T-1-E[t-i])+(q[t-i]-R)].style.background=M[T-1-E[t-i]][q[t-i]-R]?"#080":H?"#44c":"#f00");if(q[t-i]<R||q[t-i]>R+T-1||w[t-i]<S||w[t-i]>S+T-1||E[t-i]>T-1)H&&(ij.disabled=1),solved=0;xa&&L[w[t-i]-S]&&!L[w[t-i]-S][q[t-i]-R]&&(solved=0);N&&M[T-1-E[t-i]]&&!M[T-1-E[t-i]][q[t-i]-R]&&(solved=0)}for(i=0;i<T;i++)for(j=0;j<T;j++){try{xa&&3==top["g"+K+i+j].style.backgroundColor.match(/0/g).length&&(solved=0)}catch(m){}try{N&&3==top["w"+K+i+j].style.backgroundColor.match(/0/g).length&&(solved=0)}catch(m){}}if(solved){Q=H?0:1;puzzles[J][2]=0;top["puzzle"+J].classList.remove("w");H||(y["lossst_p"+W+J]=1);for(i=0;i<T;i++)for(j=0;j<T;j++){try{top["g"+K+i+j].style.background=L[i][j]?"#44c":"#fd0"}catch(m){}try{top["w"+K+i+j].style.background=M[i][j]?"#44c":"#fd0"}catch(m){}}H||(ja(oa).play(),ya++,y.lossst_T=ya);var k=1,f={},n;for(n in cubes)f.b=n,cubes[f.b][0]>=puzzles[J][5]&&cubes[f.b][0]<puzzles[J][5]+puzzles[J][0]&&cubes[f.b][1]>=puzzles[J][6]&&cubes[f.b][1]<puzzles[J][6]+puzzles[J][0]&&(delete cubes[f.b],k++,setTimeout(function(f){return function(){top["cube"+f.b].remove()}}(f),200*k)),f={b:f.b}}}}}function Ea(){for(var k in apples)if(!y["lossst_A"+W+k]&&(0<apples[k][3]&&apples[k][3]==G||0<apples[k][4]&&apples[k][4]==ya)){I=1;D&&"px"==W&&1==k&&(kw.className="",y.lossst_b=1);var f=setTimeout;a.style.transform="translateX("+-apples[k][0]*v+"vh)translateY("+-apples[k][1]*v+"vh)translateZ(50vh)rotateX(35deg)";y["lossst_A"+W+k]=1;a.style.transformOrigin=""+apples[k][0]*v+"vh "+apples[k][1]*v+"vh";f(void 0,250);f=setTimeout;top["a"+k].className="j g";top["as"+k].className="e p";f(void 0,800);setTimeout(function(){ja(la).play()},850);setTimeout(function(){Y();z||(I=0)},2E3)}}function Fa(){U=0;H||(J=null);for(p in puzzles)q[t]>=puzzles[p][5]&&q[t]<puzzles[p][5]+puzzles[p][0]&&w[t]>=puzzles[p][6]&&w[t]<puzzles[p][6]+puzzles[p][0]&&0<=E[t]&&E[t]<puzzles[p][0]&&(J=+p,U=1)}onkeydown=function(k){top["lurd************************l**r************l*d***u**u"[k.which-37]]=1;18==k.which&&(B=1);16==k.which&&(s=1);17==k.which&&(c=1);if(!I){if(49==k.which||97==k.which)-1<g&&g--,ca();if(50==k.which||98==k.which)g=0,ca();if(51==k.which||99==k.which)1>g&&g++,ca()}Fa();U?Da():Aa=0;if(82==k.which&&U){if(Aa<=t)for(var f=Aa;f<=t;f++)q.pop(),w.pop(),E.pop(),F.pop(),setTimeout(function(){sa.back()},70*(t-f));t=Aa-1;Aa=0;Y();Da();y.lossst_M=++ua}else if(116!=k.which&&82!=k.which&&17!=k.which&&123!=k.which&&k.preventDefault&&k.preventDefault(),!I){V=0;if(l)!Q&&O&&U&&q[t]==R?(Z(R+T-1,w[t],E[t]),V||(q.push(R+T-1),w.push(w[t]),E.push(E[t]),F.push(Math.PI/2),t++)):(Z(q[t]-1,w[t],E[t]),V||(q.push(q[t]-1),w.push(w[t]),E.push(E[t]),F.push(Math.PI/2),t++));else if(r)!Q&&O&&U&&q[t]==R+T-1?(Z(R,w[t],E[t]),V||(q.push(R),w.push(w[t]),E.push(E[t]),F.push(-Math.PI/2),t++)):(Z(q[t]+1,w[t],E[t]),V||(q.push(q[t]+1),w.push(w[t]),E.push(E[t]),F.push(-Math.PI/2),t++));else if(u)!Q&&O&&U&&w[t]==S?(Z(q[t],S+T-1,E[t]),V||(q.push(q[t]),w.push(S+T-1),E.push(E[t]),F.push(Math.PI),t++)):(Z(q[t],w[t]-1,E[t]),V||(q.push(q[t]),w.push(w[t]-1),E.push(E[t]),F.push(Math.PI),t++));else if(d)!Q&&O&&U&&w[t]==S+T-1?(Z(q[t],S,E[t]),V||(q.push(q[t]),w.push(S),E.push(E[t]),F.push(0),t++)):(Z(q[t],w[t]+1,E[t]),V||(q.push(q[t]),w.push(w[t]+1),E.push(E[t]),F.push(0),t++));else if((C||N)&&s){if(!U){k=G-1;for(f in cubes)cubes[f][0]==q[t]&&cubes[f][1]==w[t]&&k++;if(E[t]==k)return}!Q&&O&&U&&E[t]==T-1?(Z(q[t],w[t],0),V||(q.push(q[t]),w.push(w[t]),E.push(0),F.push(F[t]),t++)):(Z(q[t],w[t],E[t]+1),V||(q.push(q[t]),w.push(w[t]),E.push(E[t]+1),F.push(F[t]),t++))}else(C||N)&&c?!Q&&O&&U&&0==E[t]?(Z(q[t],w[t],T-1),V||(q.push(q[t]),w.push(w[t]),E.push(T-1),F.push(F[t]),t++)):0==E[t]?V=1:(Z(q[t],w[t],E[t]-1),V||(q.push(q[t]),w.push(w[t]),E.push(E[t]-1),F.push(F[t]),t++)):B&&t>G&&(F.pop(),q.pop(),w.pop(),E.pop(),t--);V&&!I&&(I=1,setTimeout(function(){z||(I=0)},150),!(-1<q[t]&&q[t]<X&&-1<w[t]&&w[t]<h)||"pI"==W&&!C&&16<q[t]||hitcube2||ja(ma).play());if(!V&&!z&&(u||r||d||l||s||c||B)){y.lossst_M=++ua;Da();Y();B?t>G&&sa.back():(C||!s&&!c&&!C)&&sa.forward();Y(1);Ea();I||(I=1,setTimeout(function(){z||(I=0)},150));if("px"==W&&(C||14<=G)&&20==q[t]&&10==w[t]){I=1;var n=0;for(f=0;f<G;f++)setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(--n);F.push(F[t]);t++;Y()},150*f);setTimeout(function(){AA("pz",1)},160*G);y.lossst_x=20;y.lossst_y=10}Fa();U&&!Aa&&(Aa=t)}}};onkeyup=function(){u=r=d=l=s=c=B=0};onload=function(){1<location.hash.length?AA("py",1):(setTimeout(function(){x=setInterval(function(){sa.forward()},500)},200),b.innerHTML="<center id=e>\ud83d\udc40</center>\n<center id=iw></center>\n<div id=iv style=perspective:30vh>\n<center id=menu>\n<h1>LOSSST</h1>\n<span onclick=newgame()>New game</span><br>\n"+(y.lossst_a&&!y.lossst_E?"<span onclick=AA(0,1)>Continue</span><br>":"")+"\n<span onclick=AA(\"pz\",1)>Puzzle editor</span><br>\n<span onclick=top.open('//goo.gl/iKqoCS')>Bonus",newgame=function(){for(i in localStorage)0==i.indexOf("lossst")&&-1==i.indexOf("e")&&delete localStorage[i];y.lossst_a=1;menu.innerHTML="<br><br><span onclick=intro(0)>Desssktop</span><br><br><span onclick=intro(1)>Mobile"},intro=function(k){clearInterval(x);_=$=0;x=setInterval(sa.forward,250);y.lossst_m=D=k;y.lossst_S=G=5;ta=y.lossst_t=0;ua=y.lossst_M=0;y.lossst_M=0;y.lossst_t=0;menu.innerHTML="";setTimeout(function(){e.style.margin=0},500);dir=1;inter=setInterval(function(){e.style.opacity=0;setTimeout(function(){e.style.opacity=1;dir=-dir;e.style.transform="scaleX("+dir+")"},150)},3E3);setTimeout(function(){iw.innerHTML="I lossst my kid !"},2E3);setTimeout(function(){iw.innerHTML=""},5E3);setTimeout(function(){clearInterval(inter);e.style.margin="-80vh 0 0"},7E3);setTimeout(AA,7500)})};AA=function(k,f){if(0===k||"pz"==k)clearInterval(x),_=$=0;"pz"==k&&(H=1,J=0);W=k||y.lossst_p||"px";b.outerHTML="<body id=b class="+W+">\n<div id=iv>\n<div id=a style=transform:translateX(-97vh)translateY(-50vh)rotateZ(90deg)translateZ(119vh);transform-origin:100vh+50vh>\n<div id=ig>"+(H?"<div class=t style=width:60vh;transform:translateX(70vh)translateY(1vh)translateZ(2vh)rotateX(-42deg)>\n<label style=width:100%;text-align:center>Create a pattern with the snake and share it !</label>\n<br style=line-height:6vh>\n<div style=text-align:left;padding-left:5vh>\n<label>Grid</label> <input id=ib type=range value=5 min=3 max=8 step=1>\n<span id=gridval>5</span>\n<br>\n<label>Snake</label> <input id=iq type=range value=5 min=5 max=40 step=1>\n<span id=it>5</span>\n</div>\n<input type=checkbox id=ik checked> <label for=ik id=im>ground</label>\n"+(y.lossst_e||y.lossst_s&&6<y.lossst_S?"<input type=checkbox id=wall> <label for=wall>wall</label>":"")+"\n"+(y.lossst_e||y.lossst_s?"<input type=checkbox id=wrap> <label for=wrap>wrap</label>":"")+"\n<br>\n<center>\n<button id=ij disabled>Share</button>\n</center>\n</div>":"")+"\n</div>\n<div id=ih></div>\n<div id=ie></div>\n<div id=ia></div>\n</div>\n</div>\n<center id=iz style='font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw'>\n<button id=kU class=h ontouchstart=TS(38) ontouchend=TE(38)>\u2191</button>\n<button id=kD class=h ontouchstart=TS(40) ontouchend=TE(40)>\u2193</button>\n<button id=kL class=h ontouchstart=TS(37) ontouchend=TE(37)>\u2190</button>\n<button id=kR class=h ontouchstart=TS(39) ontouchend=TE(39)>\u2192</button>\n<button id=kT class=h ontouchstart=TS(16) ontouchend=TE(16)>\u2b06\ufe0e</button>\n<button id=kB class=h ontouchstart=TS(17) ontouchend=TE(17)>\u2b07\ufe0e</button>\n<button id=kw class=h ontouchstart=TS(18) ontouchend=TE(18)>\u21a9</button>\n<button id=kx class=h ontouchstart=TS(82) ontouchend=TE(82)>\u00d7</button>\n<button id=ky class=h ontouchstart=TS(49) ontouchend=TE(49)>\u21bb</button>\n<button id=kz class=h ontouchstart=TS(51) ontouchend=TE(51)>\u21ba</button>\n</center>\n<center id=ii style='font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw'>";y.lossst_Apx0=1;Ba();if(D&&"py"==W||y.lossst_w)kU.className=kD.className=kL.className=kR.className="";if(D&&"py"==W||y.lossst_b)kw.className="";if(D&&"py"==W||y.lossst_r)kr.className="";if(D&&"py"==W||y.lossst_B)kT.className="",kB.className="";if(D&&"py"==W||y.lossst_c)ky.className="",kz.className="";H||(va=setInterval(function(){y.lossst_t=++ta},1E3));f&&(b.innerHTML+="<div style='position:fixed;font:8vh a;top:3vh;right:3vh'onclick=location='.'>\u00d7")}</script><style>@keyframes move{0%,100%{transform:rotateY(-10deg)}50%{transform:rotateY(10deg)}}*{margin:0;padding:0;font:2.5vh/5.5vh arial,sans-serif;vertical-align:middle;box-sizing:border-box;-webkit-touch-callout:none;-webkit-user-select:none;-webkit-tap-highlight-color:transparent;user-select:none;cursor:pointer;touch-action:manipulation}html,body{height:100%;background:#000;overflow:hidden;background:radial-gradient(#def 25%,#7ce)}a{color:#def}input,button{position:relative;z-index:2}input[type=range]::-webkit-slider-runnable-track,input[type=range]::-webkit-slider-thumb{background:#888;border:1px solid #000}input[type=range]::-moz-range-track,input[type=range]::-moz-range-thumb{background:#888;border:1px solid #000}#iv{width:0;height:0;perspective:120vh;position:absolute;top:50%;left:50%}#iv *{transform-style:preserve-3d}#a{width:0;height:0;transform-origin:18vh 0%;transition:transform 1s,transform-origin 1s}.z{position:fixed;top:0;left:0}.z>div{width:100%;height:100%;position:fixed}.z .u{transform:rotateY(90deg)translateX(-100%)rotateY(-90deg)}.z .l{transform:rotateX(-90deg)translateY(-50%)translateX(-50%)rotateY(-90deg)}.z .r{transform:rotateX(-90deg)translateY(-50%)translateX(50%)rotateY(90deg)}.z .f{transform:translateY(50%)rotateX(-90deg)translateY(-50%)}.z .b{transform:translateY(-50%)rotateX(-90deg)translateY(-50%)rotateY(180deg)}.z.q{width:32vh;height:32vh;transform:none}.z.q>div{background:transparent}.z.q .b{transition:opacity .5s;transform:translateY(-50%)rotateX(-90deg)translateY(-52%)}.z.q.w .d,.z.q .d{transition:opacity .5s;background:#0c5b0c}.sm,.sr{transform-origin:50% 50%;width:100%;height:100%;position:fixed}.sm{transition:transform .15s}.z.k{width:100%;height:100%}.z.k>div{box-shadow:0 0 0 .1vh #000 inset;text-align:center}.z.k .f{line-height:3vh}#ie .z.k>div{background:#FFA500}#ie .z.k .u{background:#dF8500}#ia .z.k>div,#a.haswall .z.k>div{background:#444}#ia .z.k .u,#a.haswall .z.k .u{background:#333}#ia .z.k .f{color:#fff}.ss{position:fixed;width:100%;height:100%;background:rgba(0,0,0,.25);transform:translateX(14%)translateY(14%)translateZ(-.25vh)}label{display:inline-block;width:22%}button{display:inline-block;width:23%;border:.2vh solid #000;margin:1vh 2% 0 0}input[type=range]{width:60%}#form{width:50vh;margin:auto}.o{float:left;outline:.4vh solid #888;opacity:0;transition:opacity .5s;background:#fff}.z.q.v{transform:translateZ(.1vh)}.z.q.v .o{opacity:1}.z.q.v .d{transform:none}.z.q.w>div{background:linear-gradient(45deg,rgba(200,200,200,.1),rgba(200,200,200,.3));box-shadow:0 0 .1vh rgba(255,255,255,.5)}.j{position:fixed;transform-origin:50% 100%;bottom:0}.m{animation:move 3s infinite}.e{color:rgba(0,0,0,.002);text-shadow:0px 0px rgba(0,0,0,.25);position:fixed;transform-origin:50% 100%;bottom:0}.tr,.h{font:11vh/12vh a}.a .tr{font:15vh/11vh a}.a .h,.c .h,.i .h,.a .p,.c .p,.i .p,.c .x.b,#iz button.h{display:none}.g,.g *,.p{font:4vh/5vh a;transition:opacity .5s .5s}.n,.n *{font:5vh/6vh a}.g.h,.p.h{opacity:0}.a .g{font:6vh/5vh a}.do{position:fixed;transform-origin:0% 100%;width:0;height:0}.do .y{position:fixed;width:15vh;height:20vh;background:radial-gradient(2vh at 90% 50%,gold 35%,transparent 40%),#a22;border-radius:1vh 1vh 0 0;transform-origin:0% 100%;transform:translateX(-7.5vh)translateY(-12.5vh)rotateX(-90deg);text-align:center;font-size:6vh;line-height:12vh;color:#fff;transition:transform 1s}.do .y.d1{background:radial-gradient(2vh at 90% 50%,gold 35%,transparent 40%),#222}.do.s .y{transform:translateX(-7.5vh)translateY(-12.5vh)rotateX(-90deg)rotateY(90deg)}.z.x div{background:linear-gradient(45deg,#640,#583808)}.z.x div.u{transform:rotateY(90deg)translateX(-5.4vh)translateZ(-.1vh)rotateY(-90deg);background:radial-gradient(#3F7D1F,#034301);background-size:280vh 140vh;width:5.3vh;height:5.3vh}.t{position:fixed;background:#fff;padding:.7vh;width:20vh;font:2vh/2.5vh arial,sans-serif;transform-origin:50% 100%;text-align:center;box-shadow:0 0 0 .2vh #000 inset;bottom:0}.t br{font:0/0 a}.t:before{content:"";width:3vh;height:3vh;background:#750;position:absolute;bottom:-3vh;left:8vh;border-left:.2vh solid;border-right:.2vh solid}.pz .t:before{left:28vh}label{text-align:left}#a{transition:transform 6s ease-in,transform-origin 6s ease-in;width:280vh;height:140vh;background:radial-gradient(#4F8D2F,#136321);border-radius:3vh}.px #a,.pI #a{background:radial-gradient(10vh at 51.3% 52%,#000 40%,transparent 50%),radial-gradient(15vh at 51.3% 52%,#640 40%,transparent 50%),radial-gradient(#4F8D2F,#136321)}#e{margin:99vh 0 0;transition:margin 1s;font:10vh/80vh a}#iw{font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw}#menu{color:#fff;width:55vh;transform:translateX(-27vh)translateY(-20vh)rotateX(-17deg)}#menu span{font:7vh/12vh arial,sans-serif}#menu h1{font:13vh/16vh arial,sans-serif;text-shadow:.1vh -.1vh #777,.2vh -.2vh #777,.3vh -.3vh #777}#menu span:hover{color:#ace;transform:rotateX(-10deg)}.pN #menu span:hover{color:#fff}#iz button{position:fixed;width:10vh;height:10vh;text-align:center;font:6vh/10vh a}#kU{right:14vh;bottom:14vh}#kD{right:14vh;bottom:2vh}#kL{right:26vh;bottom:2vh}#kR{right:2vh;bottom:2vh}#kT{left:2vh;top:2vh}#kB{left:2vh;top:14vh}#kw{bottom:2vh;left:2vh}#kx{bottom:14vh;left:2vh}#ky{top:2vh;right:18vh}#kz{top:2vh;right:6vh}#hpx0{opacity:0;transition:opacity .5s}</style></head><body id="b" style="background:#000"><center id="e">👀</center>
<center id="iw"></center>
<div id="iv" style="perspective:30vh">
<center id="menu">
<h1>LOSSST</h1>
<span onclick="newgame()">New game</span><br>

<span onclick="AA(&quot;pz&quot;,1)">Puzzle editor</span><br>
<span onclick="top.open('//goo.gl/iKqoCS')">Bonus</span></center></div><div id="lo-engage-ext-container"><div data-reactroot=""></div></div><link rel="stylesheet" type="text/css" href="chrome-extension://liecbddmkiiihnedobmlmillhodjkdmb/css/content.css"></body></html><html><head><title>LOSSST</title><meta content="width=device-width,user-scalable=no" name="viewport"><script>u=r=d=l=s=c=B=0;trees=[];apples=[];doors=[];cubes=[];hints=[];emoji=[];puzzles=[];TS=function(k){ba[k]&&clearInterval(ba[k]);onkeydown({which:"+n+"});ba[k]=setInterval(function(){onkeydown({which:k})},150)};TE=function(k){setTimeout(function(){clearInterval(ba[k]);onkeyup()},150)};var g=0;function ca(){a.style.transform="translateX(-"+q[t]*v+"vh)translateY(-"+w[t]*v+"vh)translateZ(45vh)rotateX(40deg)rotateZ("+g+"rad)"}var x=$=_=0;function da(){var k=0;this.i=function(f){k+=f/48E3*Math.PI*2;return k%=2*Math.PI}}function fa(k){var f=new da,n=new da,m=.1;this.i=function(){if(!k)return 0;var A=k+.4*Math.sin(n.i(3));A=440*Math.pow(2,(A-57)/12);m*=.9998;A=f.i(A);return Math.pow(Math.sin(A),1)*m}}function ha(k){function f(){var f=k.length/2;for(_=$;0>_;)_+=f;_%=f;f=new fa(k[2*_+0].charCodeAt(0)-48);for(var A=new fa(k[2*_+1].charCodeAt(0)-48),P=[],aa=0;48E3>aa;aa++){var ea=f.i(),na=A.i(),za=.5*ea+na;P.push(ea+.5*na);P.push(za)}n(P).play()}function n(f){function k(f){f=m(f);return f[0]+f[1]}function m(f){for(var k=0,m="",n=0;4>n;n++,k+=8)m+=String.fromCharCode(f>>k&255);return m}var n=2*f.length;n="RIFF"+m(n+36)+"WAVEfmt "+m(16)+k(1)+k(2)+m(48E3)+m(192E3)+k(4)+k(16)+"data"+m(n);for(var ea in f)n+=k(32767*f[ea]);return new Audio("data:audio/wav;base64,"+btoa(n))}$=-1;this.forward=function(){$++;f()};this.back=function(){$--;f()}}function ja(k){function f(f){f=n(f);return f[0]+f[1]}function n(f){for(var k=0,m="",n=0;4>n;n++,k+=8)m+=String.fromCharCode(f>>k&255);return m}for(var m=[],A=0;;A++){var P=k(A);if(null===P)break;m.push(P)}k=2*m.length;k="RIFF"+n(k+36)+"WAVEfmt "+n(16)+f(1)+f(1)+n(48E3)+n(96E3)+f(2)+f(16)+"data"+n(k);for(A in m)k+=f(1E4*m[A]);return new Audio("data:audio/wav;base64,"+btoa(k))}function ka(k){return 1E4<k?null:(Math.pow(k,1.055)&128?1:-1)*Math.pow((1E4-k)/1E4,2)/2}function la(k){return 25E3<k?null:((k^k>>3^k*k*7.3^k<<4)&65535)/65536*((25E3-k)/25E3)/2}function ma(k){return 5E3<k?null:(Math.pow(k+1E3*Math.sin(.01*k),.8)&200?.5:-.5)*Math.pow((5E3-k)/5E3,1)/2}function oa(k){if(16E3<k)return null;var f=Math.pow((16E3-k)/16E3,2.1)/2;return(k<16E3/7?k+10*Math.sin(-k/900)&16:k&13)?f:-f}function pa(k){return 9E4<k?null:(Math.pow(k+1E3*Math.sin(.01*k),.8)&200?.5:-.5)*Math.pow((9E4-k)/9E4,1)/4}var qa=new ha("nbo0risiubv0uisirbs0ui0i0b0c0f0gniojrlsjuivjymvjubv0ui0i0j0m0n0rsgu0vnxnzgx0vnunsg0n0o0n0g0s0o0nrisjulvgufsjufscrbo0ni0j0b0i0j0il`n0ogqgs`u0vgxgz`0gxl0nsouqvsxuuev0u`0`0eq0slulqcs0qcs0qbs0q`s0njo0reseujv0xeveuj0v0e0q0j0i0g0e0cu0scq00bv0ufr0sgn0vbr0xiz0zjr0sgu0vbx0zgx0vbubsg{0zb{`z^{0zi{fzgv0xiu0vjs0ulr0sbn0oll0nbl0jfi0g00bxc0`zb0^{`0]z^0[z]0Zz[0]z^0`zb0]uf0bxi0f{l0izr0ozn0ixr0nrulrnbo0risiufs0r`o0nb0czf0gzi0gzf0cub0i0j0mvn0m0j0irbscrbs`rbs`sbrbo`q0sgugv`x0zg{gz`s0x`s0v`x0vcx0ues0q`l00eu00`x00ev00`u00eq00`o`"),ra=new ha("p0r0sdk0rco0pdk0p0r0sdw0rcs0pdk0p0r0sdk0rck0pdk0p0r0sdw0rcs0pd0f0g0iwg0bwgx0wgurrnspur0bufwgubs0pkrcsdk0rco0pkk0p0r0sdk0rco0pk0l0k0iwg0b0k0g0n0kzs0nxi0f|l0izr0p0n0lwk0dwg0k0p0k|s0pur0kuo0k0i0l0k0isd0krj0kpd0k0p0rsd0krl0opd0f0g0iskw0riw0pgw0nfw0u`s0rbs0pd0k"),y=localStorage,z=0,C=+y.lossst_s||0,sa=C?ra:qa,D=+y.lossst_m||0,ta=+y.lossst_t||0,ua=+y.lossst_M||0,va=0,ba=[],wa=0,v=5,t=0,q=[],w=[],E=[],F=[],G=y.lossst_S=+y.lossst_S||5,H=0,I=0,J=null,K="0",L=[],M=[],xa=0,N=0,O=0,Q=0,R=0,S=0,T=0,ya=+y.lossst_T||0,Aa=0,U=0,V=0,W="",X=h=0;function Ba(){var k;navigator.userAgent.match(/Mac/)&&(iv.className="a");navigator.userAgent.match(/Fire|Edg/)&&(iv.className+=" c",wa=4E3);D&&(iv.className+=" i");b.className=W;C&&!H&&(ie.innerHTML="");cubes=[];doors=[];trees=[];apples=[];hints=[];emoji=[];if("pz"==W)X=40,h=20,puzzles=[[5,,1,,"0000000000000000000000000",16,9]],G=5,C=0;else if("py"==W)h=X=20,puzzles=[eval("["+location.hash.slice(1).replace(/[01]{2,}/g,'"$&"')+"]")],G=puzzles[0][1],puzzles[0][5]=puzzles[0][6]=8,C=!!puzzles[0][3],hints=[["Move: arrow keys<br>"+(C?"Up/Down: "+(D?"\u2b06\ufe0e/\u2b07\ufe0e":"Shift/Ctrl")+"<br>":"")+"backtrack: "+(D?"\u21a9":"Alt")+"<br>Reset: R",1,5,1,0,C,0]],delete y.lossst_ppy0;else if("px"==W){X=40;h=20;trees=[[13,9,0],[7,13,0],[35,8,0]];apples=[[11,11,0,0,0],[2,12,0,6,0],[38,10,0,7,0]];doors=[[41,10,Math.PI/2,8,0,"pA",1,0,10,0,0],[20,-2,0,14,0,"pD",1,10,19,0,0],[-2,11,-Math.PI/2,6,0,"pJ",1,14,5,1,1],[20,21,Math.PI,14,0,"pC",1,22,1,0,0],[5,21,Math.PI,5,0,"pI",1,36,1,0,1]];puzzles=[];cubes=[];for(f=9;15>f;f++)for(m=0;5>m;m++)2==m&&14==f||2==m&&13==f||3==m&&13==f||3==m&&12==f||2==m&&12==f||cubes.push([m,f]);hints=[["Move with<br>arrow keys"+(D?"":" or WASD/ZQSD"),19,5,0,13,0],["Use the "+(D?"\u21a9":"Alt")+" key to backtrack",1,9,0,13,0,1],["Approach red doors with the right length to open them",35,14,0,13,0],["\u2191<br>New puzzles !<hr>Puzzle editor<br>\u2193",19,8,14,0,0],["\u2190<br>New puzzles !",1,9,6,7,1,1]];emoji=[["\ud83d\udc3f\ufe0f",30,7],["\ud83c\udf30\ufe0f",29,7]]}else if("pA"==W)X=40,h=20,trees=[[35,15,0]],apples=[[33,16,0,0,6],[34,17,0,0,6],[37,15,0,0,6]],cubes=[],doors=[[-2,10,-Math.PI/2,8,0,"px",0,39,11,0,0],[35,21,Math.PI,11,0,"pB",1,35,1,0,0]],puzzles=[[6,,0,,"000000001000001110001110001000000000",2,3],[6,,0,,"000000011000011100010000011000000000",14,3],[6,,0,,"000000000100001100011000011100000000",26,3],[5,,0,,"0000001110011100110000000",2,13],[6,,0,,"000000011000011000001100001100000000",14,13],[6,,0,,"000000000100001100001110001100000000",26,13]],hints=[["Cover the black patterns to solve puzzles",9,9,1,0],["Solve all the puzzles in the room to unlock a new door",21,9,1,0],["Your progress is saved automatically",34,9,1,0]],emoji=[["\ud83d\udc0c",11,10]];else if("pB"==W)D&&(kx.className="",y.lossst_r=1),X=40,h=20,trees=[[4,7,0]],apples=[[1,8,0,0,12],[2,9,0,0,12]],doors=[[35,-2,0,8,0,"pA",0,35,19,0,0],[-2,10,-Math.PI/2,13,0,"pC",1,39,10,0,0]],puzzles=[[6,,0,,"000000011110011010011110000000000000",8,2],[7,,0,,"0000000001110000111000001100000110000010000000000",18,2],[6,,0,,"000000011000011110001010001110000000",28,2],[6,,0,,"000000011100001110001110001100000000",8,12],[6,,0,,"000000001110001110001110001010000000",18,12],[6,,0,,"000000011110011110001100001000000000",28,12]],hints=[["If you get stuck, "+(D?"click \u00d7":"press R")+" to exit a puzzle",35,11,1,0]],cubes=[[11,4],[21,16]],emoji=[["\ud83d\udc08",4,14]];else if("pC"==W)X=40,h=20,trees=[[35,8,0]],apples=[[34,11,0,0,18]],doors=[[41,10,Math.PI/2,8,0,"pB",0,1,10,0,0],[22,-2,0,14,0,"px",1,20,19,0,0]],puzzles=[[7,,0,,"0000000000000001111000111100001111000100000000000",2,3],[7,,0,,"0000000001110000101000011100001110000110000000000",26,3],[6,,0,,"000000001110011110011010001110000000",14,3],[7,,0,,"0000000001100000111000011100001110000110000000000",2,12],[7,,0,,"0000000000000001111100101010011111000000000000000",14,12],[6,,0,,"000000011000011100011110011110000000",26,12]],hints=[["\u2191<br>After this room, you can try a puzzle editor and a new kind of puzzles !",22,11,13,0,0]],cubes=[[29,5],[30,8],[17,6],[15,4],[15,7],[29,13],[30,13],[30,14],[18,15],[16,15],[6,13],[6,17],[7,8],[6,8],[5,8],[3,7],[3,8],[7,6],[7,5]],emoji=[["\ud83e\udd8b<br><br>",29,13]];else if("pD"==W){h=X=20;trees=[[10,2,0]];doors=[[10,21,Math.PI,14,0,"px",0,20,0,0,0],[-2,5,-Math.PI/2,14,0,"pE",0,24,12,0,0]];puzzles=[[7,,1,,"0100010011111000000000000000000000001111100100010",7,7]];hints=[["Now you're thinking with wraps !",2,2,0,14,0]];for(f=0;20>f;f++)cubes.push([f,10]);emoji=[["\ud83d\udc10",12,2]]}else if("pE"==W)h=X=25,trees=[[5,12,0]],apples=[[4,14,0,0,23]],doors=[[26,12,Math.PI/2,14,0,"pD",0,0,5,0,0],[-2,12,-Math.PI/2,15,0,"pF",1,79,5,0,0]],puzzles=[[7,,1,,"1000001000000000000000010100011011011000111000001",3,3],[6,,1,,"110011100001000000100001100001110011",15,17],[5,,1,,"1100111001100011001110011",16,4],[6,,1,,"000011000011110001110001000011000011",3,17]],hints=[["Reminder:<br>use "+(D?"\u21a9":"Alt")+" to backtrack,<br>"+(D?"\u00d7":"R")+" to exit a puzzle.",11,14,1,0,0]],emoji=[["\ud83d\udc12",12,20]];else if("pF"==W)X=80,h=20,trees=[[35,10,0]],apples=[[38,11,0,0,35]],doors=[[81,5,Math.PI/2,15,0,"pE",0,0,12,0,0],[-2,15,-Math.PI/2,16,0,"pG",1,19,5,0,0]],puzzles=[[5,,1,,"0111101001010110100011111",59,13],[5,,1,,"1111011000111100001011110",48,13],[5,,1,,"1111101000011110111001100",37,13],[5,,1,,"1111110000111001000011111",26,13],[5,,1,,"1100101101001110011101101",15,13],[5,,1,,"1111100001110010000111111",59,2],[5,,1,,"1000110111100011000111111",48,2],[5,,1,,"1000110101101011111110001",37,2],[5,,1,,"1111110001000110000111111",26,2],[5,,1,,"0111101100011100011011110",15,2],[5,,1,,"1111101111001110001100001",4,8],[5,,1,,"1010100101111010000111111",71,8]],hints=[["This room hides a surprise !",72,2,0,15,0],["\u2190<br>Exit",38,9,16,0,0]],cubes=[],emoji=[];else if("pG"==W)X=20,h=30,trees=[[5,25,0]],apples=[[4,24,0,0,37],[7,25,0,0,37],[2,26,0,0,37],[3,28,0,0,37]],doors=[[21,5,Math.PI/2,16,0,"pF",0,1,15,0,0],[10,31,Math.PI,20,0,"pH",1,10,1,0,0]],puzzles=[[6,,1,,"001000001110111111011100011000001000",7,6],[6,,1,,"110001100001000111000111100001110001",7,18]],emoji=[["\ud83d\udc01",9,14]];else if("pH"==W)X=20,h=30,trees=[[16,22]],apples=[[18,22,0,0,39]],doors=[[10,-2,0,18,0,"pG",0,10,29,0,0],[21,25,Math.PI/2,21,0,"pI",1,1,10,0,0]],puzzles=[[6,,1,,"001000011110111111011110011110001000",7,6],[6,,1,,"110001100001000011000111001111111111",7,18]],emoji=[["\ud83e\udd86",9,14]];else if("pI"==W){X=40;h=20;apples=[[38,2,0,5,0]];doors=[[-2,10,-Math.PI/2,1,0,"pH",0,19,25,0,0],[36,-2,0,6,0,"px",1,5,19,0,1]];puzzles=[];hints=[["Guess what, you finished the first half of the game !",5,9,1,0],["You can now move up and down with "+(D?"\u2b06\ufe0e and \u2b07\ufe0e":"Shift and Ctrl keys")+", and open black doors",30,11,1,0]];for(f=0;9>f;f++)cubes.push([30,f]);for(f=30;40>f;f++)cubes.push([f,8]);emoji=[["\ud83d\udc22",13,14]];trees=[[3,1],[15,2],[36,3],[26,5],[25,15],[33,9],[10,12],[36,14],[3,15]]}else"pJ"==W?(X=15,h=70,trees=[[2,62]],apples=[[2,65,0,0,47],[1,66,0,0,47]],doors=[[16,5,Math.PI/2,6,0,"px",0,1,11,0,1],[-2,65,-Math.PI/2,8,0,"pK",1,19,65,0,1]],puzzles=[[5,,0,"0000000000000000000001110",,2,2],[4,,0,"0000000001000110",,4,11],[5,,0,"0000000000000000101001110",,6,20],[5,,0,"0000000000000000111000100",,8,29],[4,,0,"0000000001100110","0000011001100000",2,38],[4,,0,"0000010001100100","0000011001100000",4,47],[4,,0,"0000011001000100","0000010001100000",6,56],[4,,0,"0000000001100110","0100011000100000",8,65]],hints=[["You now have to match the patterns on the walls...",10,2,1,0,1],["... and on the floor too !",10,40,1,0,1]],emoji=[["\ud83e\udd89",10,14]]):"pK"==W?(D&&(ky.className=kz.className="",y.lossst_c=1),X=20,h=75,trees=[[2,2]],apples=[[1,4,0,0,59],[2,5,0,0,59],[3,6,0,0,59],[4,2,0,0,59]],doors=[[21,65,Math.PI/2,7,0,"pJ",0,1,65,0,1],[-2,5,-Math.PI/2,12,0,"pL",1,14,5,0,1]],puzzles=[[5,,0,"0000000000010000110001110",,8,69],[6,,0,"000000000000000000000100001110011000",,12,58],[5,,0,"0000000000010000111001000",,2,58],[4,,0,"0000001001100110","0000001001100000",2,45],[5,,0,"0000000000000000010001110","0000000100001100110000000",12,45],[5,,0,"0000000000000000101001110","0000001110010100000000000",2,34],[5,,0,"0000000000000000011001100","0000001110011000010000000",12,34],[4,,1,"0000011001100110","0110000000000110",2,22],[4,,1,"1001000000001001","1001000000001001",12,22],[4,,1,"0000010011110010","0000111101100000",2,12],[4,,1,"0110010000000011","0000011100110000",12,12],[4,,1,"1101000000000001","1101000000010001",12,2]],hints=[["You can rotate the camera with "+(D?"<br>\u21bb and \u21ba":"the keys 1, 2 and 3"),15,68,1,0,1],["Can you guess what's coming next?",7,54,1,0,1],["3D puzzles with wrap ! Use "+(D?"\u2b06\ufe0e and \u2b07\ufe0e":"Shift and Ctrl")+" to wrap between top and bottom",7,24,1,0,1]],emoji=[["\ud83d\udc1e",3,70]]):"pL"==W?(X=15,h=80,trees=[[2,70]],apples=[[1,73,0,0,68],[3,75,0,0,68]],doors=[[16,5,Math.PI/2,12,0,"pK",0,1,5,0,1],[-2,75,-Math.PI/2,14,0,"pM",1,14,25,0,1]],puzzles=[[5,,0,"0000000000001001111100100",,2,2],[4,,0,"0000010001100000",,5,11],[5,,0,"0000000110000110111000010",,8,20],[5,,0,"0000000000001000111011111","0000000000111001111100000",2,29],[4,,0,"1000110011101111","0000001111110000",5,38],[4,,0,"0000100011001110","1110110010000000",8,45],[4,,1,"1000100110010001","0000100110010000",2,54],[4,,1,"0000001011110100","0000110011110011",5,63],[5,,1,"0100011000010000111001000","0000001110110000100000000",8,72]],cubes=[[6,12]],emoji=[["\ud83d\udc1d",3,20]]):"pM"==W?(X=15,h=30,trees=[[10,12]],apples=[[8,11,0,0,71],[9,10,0,0,71],[10,9,0,0,71],[11,10,0,0,71],[12,11,0,0,71],[7,12,0,0,71]],doors=[[16,25,Math.PI/2,14,0,"pL",0,1,75,0,1],[-2,5,-Math.PI/2,20,0,"pN",1,14,5,0,1]],puzzles=[[5,,1,"0001100110011001100010000","0001100110011001100010000",2,24],[5,,1,"1100010001000011000111000","0000011000110010000000000",4,13],[5,,1,"1101110001000001000011000","1100010000000001000111011",6,2]],emoji=[["\ud83d\udc13",1,14]]):"pN"==W&&(X=15,h=48,trees=[[10,44]],apples=[[7,45,0,0,75]],doors=[[16,5,Math.PI/2,20,0,"pM",0,1,5,0,1]],puzzles=[[4,,1,"0000111101101111","1000111111111000",5,38],[4,,1,"1111001001001111","1111101010101111",5,28],[4,,1,"1111010101011101","0001101101101111",5,18],[4,,1,"1111000100011110","1111110110011111",5,8]],emoji=[["\ud83d\udc09",13,46]]);a.style.width=X*v+"vh";a.style.height=h*v+"vh";H||(ig.innerHTML="");ih.innerHTML="";for(var f in trees)ig.innerHTML+="<div id=tree"+f+' class="j tr"style=left:'+trees[f][0]*v+"vh;transform:translateX(-7vh)translateY("+(trees[f][1]*v+4)+"vh)rotateX(-70deg)>\ud83c\udf33</div><div id=treeshadow"+f+' class="e h"style=left:'+trees[f][0]*v+"vh;transform:translateX(-7.5vh)translateY("+(trees[f][1]*v+3.5)+"vh)rotateZ(144deg)scaleY(1.5)>\ud83c\udf33";for(f in apples)y["lossst_a"+W+f]?delete apples[f]:ig.innerHTML+="<div id=a"+f+' class="j g '+(y["lossst_A"+W+f]?"":"h")+'"style=left:'+apples[f][0]*v+"vh;transform:translateY("+(apples[f][1]*v+4)+"vh)rotateX(-65deg)>"+("pN"==W?"<div>\u26bd</div>":"<div class=m>\ud83c\udf4e</div>")+"</div><div id=as"+f+' class="e p '+(y["lossst_A"+W+f]?"":"h")+'"style=left:'+apples[f][0]*v+"vh;transform:scaleX(-1)translateY("+(apples[f][1]*v+3)+"vh)rotateZ(212deg)>"+("pN"==W?"\u26bd":"\ud83c\udf4e");for(f in emoji)ig.innerHTML+='<div class="j n"style=left:'+(emoji[f][1]*v-1)+"vh;transform:translateY("+(emoji[f][2]*v+4)+"vh)rotateX(-65deg)><div class=m>"+emoji[f][0];for(f in doors)ig.innerHTML+="<div id=d"+(""+W+f)+' class="do'+(y["lossst_d"+W+f]?" s":"")+'"style=left:'+(doors[f][0]+.5)*v+"vh;top:"+(doors[f][1]+.5)*v+"vh;transform:rotateZ("+doors[f][2]+"rad)translateZ("+doors[f][9]*v+'vh)><div class="y d'+doors[f][10]+'"'+(doors[f][6]?"":"hidden")+">"+doors[f][3]+'</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh">';for(var n in puzzles)for(var m in cubes)y["lossst_p"+W+n]&&cubes[m][0]>=puzzles[n][5]&&cubes[m][0]<puzzles[n][5]+puzzles[n][0]&&cubes[m][1]>=puzzles[n][6]&&cubes[m][1]<puzzles[n][6]+puzzles[n][0]&&delete cubes[m];for(f in cubes)ig.innerHTML+="<div id=cube"+f+' class="z x"style=left:'+cubes[f][0]*v+"vh;top:"+cubes[f][1]*v+'vh;width:5vh;height:5vh><div class=f></div><div class=u style="background-position:'+(-300-cubes[f][0]*v)+"vh "+(-140-cubes[f][1]*v)+'vh"></div><div class=r></div><div class=l></div><div class=b>';for(f in hints)C^hints[f][5]||!(hints[f][3]&&hints[f][3]<=G||hints[f][4]&&hints[f][4]>=G)||(ig.innerHTML+="<div id=h"+(""+W+f)+" class=t style=left:"+hints[f][1]*v+"vh;transform:translateY("+(hints[f][2]*v+5)+"vh)translateZ("+(hints[f][6]*v||0)+"vh)rotateX(-70deg)translateY(-4vh)>"+hints[f][0]);y.lossst_x&&top.hpx0&&(hpx0.style.opacity=1);for(n in puzzles){T=puzzles[n][0];var A=k="";ih.innerHTML+="<div id=puzzle"+n+' class="z q v '+(puzzles[n][2]&&!y["lossst_p"+W+n]?"w":"")+'"style=left:'+puzzles[n][5]*v+"vh;top:"+puzzles[n][6]*v+"vh;width:"+puzzles[n][0]*v+"vh;height:"+T*v+"vh>"+(puzzles[n][2]?"<div class=l></div><div class=r></div>":"")+"<div id=D"+n+" class=d></div><div id=B"+n+" class=b></div>"+(puzzles[n][2]?"<div class=f>":"");var P="000",aa="fff";y["lossst_p"+W+n]&&(P="44c",aa="fd0",puzzles[n][2]=0);for(f=0;f<T;f++)for(m=0;m<T;m++)puzzles[n][3]&&(k+="<div class=o id=w"+n+f+m+" style=width:"+v+"vh;height:"+v+"vh;background:#"+("1"==puzzles[n][3][f*T+m]?P:aa)+"></div>"),puzzles[n][4]&&(A+="<div class=o id=g"+n+f+m+" style=width:"+v+"vh;height:"+v+"vh;background:#"+("1"==puzzles[n][4][f*T+m]?P:aa)+"></div>");top["D"+n]&&(top["D"+n].innerHTML+=A);top["B"+n]&&(top["B"+n].innerHTML+=k)}"pN"==W&&(ig.innerHTML+="<div style='position:fixed;transform:"+(D?"rotateZ(-90deg)translateX(-87vh)translateY(22vh)translateZ(365vh)":"rotateZ(-90deg)translateX(-83vh)translateY(6vh)translateZ(208vh)")+";font: 30vh/25vh a'>THE<br><br>END");H&&(y.lossst_e||y.lossst_s&&6<y.lossst_S||(ik.style.opacity=im.style.opacity=0,ik.style.position=im.style.position="fixed",ik.style.top=im.style.top="-9vh"),J=0,Y(1),xa=1,Q=O=N=0,puzzles[0][2]=0,setTimeout(function(){(ib.onchange=ib.oninput=resetgrid=function(){Ca();Y();ij.disabled=1;gridval.innerHTML=T=+ib.value;puzzle0.style.width=puzzle0.style.height=T*v+"vh";puzzles[0][0]=T;D0.innerHTML="";A=k=B0.innerHTML="";M=[];L=[];for(f=0;f<T;f++)for(M[f]=[],L[f]=[],m=0;m<T;m++)M[f][m]=0,L[f][m]=0;for(f=0;f<T;f++)for(m=0;m<T;m++)k+="<div class=o id=w"+K+f+m+" style=width:"+v+"vh;padding-top:"+v+"vh></div>",A+="<div class=o id=g"+K+f+m+" style=width:"+v+"vh;padding-top:"+v+"vh></div>";xa&&(D0.innerHTML+=A);N&&(B0.innerHTML+=k)})();iq.onchange=iq.oninput=function(){it.innerHTML=G=+iq.value;Ca();Y()};ik.onclick=function(){ik.checked?xa=1:top.wall&&(xa=0,C=N=1,wall.checked=!0);a.className=N?"haswall":"";resetgrid()};top.wall&&(wall.onclick=function(){wall.checked?(N=1,C=puzzles[0][3]=1):(N=C=0,xa=1,ik.checked=!0,puzzles[0][3]=0);a.className=N?"haswall":"";resetgrid()});top.wrap&&(wrap.onclick=function(){O=puzzles[0][2]=wrap.checked||0;puzzle0.className="z q v "+(O?"w":"");resetgrid()});print=function(k){var n="";for(f=0;f<T;f++)for(m=0;m<T;m++)n=top[k+"0"+f+m].style.background&&top[k+"0"+f+m].style.background.match(/255/)?n+0:n+1;return n};ij.onclick=function(){var f=[];f.push(T);f.push(G);f.push(O?1:0);f.push(N?print("w"):"");f.push(ik.checked?print("g"):"");open("//twitter.com/intent/tweet?text=I%20made%20a%20level%20for%20@MaximeEuziere's%20%23js13k%20game%20LOSSST!%0APlay%20here:%20js13kgames.com%2Fentries%2Flossst%0AMy%20level:%20js13kgames.com%2Fgames%2Flossst%23"+f+"%0A%23LOSSSTlevels")}},100));"px"!=W||y.lossst_x?(a.style.transition="transform 1s,transform-origin 1s",Ca()):(I=1,setTimeout(function(){Ca();Y();M0.style.transition="transform .5s"},2E3),setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(0);F.push(F[t]);t++;Y()},5500+wa),setTimeout(function(){M0.style.transition="";R0.style.transition="transform .2s";R0.style.transform="rotateZ("+-Math.PI/4+"rad)"},6500+wa),setTimeout(function(){R0.style.transform="rotateZ("+Math.PI/4+"rad)"},7E3+wa),setTimeout(function(){R0.style.transform=""},7500+wa),setTimeout(function(){S0.style.transition=R0.style.transition=""},8E3+wa),setTimeout(function(){clearInterval(x);z||(I=0);hpx0.style.opacity=1},8400),setTimeout(function(){a.style.transition="transform 1s,transform-origin 1s";y.lossst_x=20;y.lossst_y=10;b.innerHTML+="<div style='position:fixed;font:8vh a;top:3vh;right:3vh'onclick=location='index.html'>\u00d7";D&&(kU.className=kD.className=kL.className=kR.className="",y.lossst_w=1)},9E3));Y()}function Ca(){var k=C&&!H?ia:ie;k.innerHTML="";q=[];w=[];E=[];F=[];t=G-1;if("py"==W)for(i=0;i<G;i++)q[t-i]=1-i,w[t-i]=10,E[t-i]=0,F[t-i]=-Math.PI/2;else if(H)for(i=0;i<G;i++)q[t-i]=13-i,w[t-i]=12,E[t-i]=0,F[t-i]=-Math.PI/2;else if(y.lossst_x){var f=+y.lossst_x,n=+y.lossst_y,m=+y.lossst_z;"px"==W&&2>y.lossst_x&&(m=y.lossst_z=1);if("pI"==W&&z&&1==C)for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i-1,F[t-i]=0;else if(2>f)for(i=0;i<G;i++)q[t-i]=f-i,w[t-i]=n,E[t-i]=m,F[t-i]=-Math.PI/2;else if(f>X-2)for(i=0;i<G;i++)q[t-i]=f+i,w[t-i]=n,E[t-i]=m,F[t-i]=Math.PI/2;else if(2>n)for(i=0;i<G;i++)q[t-i]=f,w[t-i]=n-i,E[t-i]=m,F[t-i]=0;else if(n>h-2)for(i=0;i<G;i++)q[t-i]=f,w[t-i]=n+i,E[t-i]=m,F[t-i]=0;else for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i,F[t-i]=0}else if("px"==W)for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i-1,F[t-i]=0;for(i=0;i<Math.max(G+4,16);i++)k.innerHTML+="<div id=M"+i+" class=sm style=transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:"+(v-.7)+"vh;height:"+(v-.7)+"vh><div class=ss id=S"+i+"></div><div id=R"+i+' class=sr><div class="z k"id=T'+i+">"+(1>i?"<div style=background:none;box-shadow:none;color:red;font-size:4vh;text-align:center;transform:rotateZ(180deg)translateY(-4vh)translateZ(1.5vh)>Y</div>":"")+'<div class=u style="font:'+.5*v+"vh/"+.8*v+'vh a">'+(1>i?"\ud83d\udc40":"")+"</div><div class=f>"+(1>i?"\u203f":"")+"</div><div class=r></div><div class=l></div><div class=b>"}function Y(k){for(var f={a:0};f.a<G;f={a:f.a,j:f.j,m:f.m,o:f.o},f.a++)if(!k){var n=oldx=oldy=oldz=newx=newy=newz=0;O&&T&&(q[t-f.a-1]==R&&q[t-f.a]==R+T-1?(n=1,oldx=R-1,newx=R+T,oldy=newy=w[t-f.a],oldz=newz=E[t-f.a]):q[t-f.a-1]==R+T-1&&q[t-f.a]==R?(n=1,oldx=R+T,newx=R-1,oldy=newy=w[t-f.a],oldz=newz=E[t-f.a]):w[t-f.a-1]==S&&w[t-f.a]==S+T-1?(n=1,oldy=S-1,newy=S+T,oldx=newx=q[t-f.a],oldz=newz=E[t-f.a]):w[t-f.a-1]==S+T-1&&w[t-f.a]==S?(n=1,oldy=S+T,newy=S-1,oldx=newx=q[t-f.a],oldz=newz=E[t-f.a]):0==E[t-f.a-1]&&E[t-f.a]==T-1?(n=1,oldz=-1,newz=T,oldx=newx=q[t-f.a],oldy=newy=w[t-f.a]):E[t-f.a-1]==T-1&&0==E[t-f.a]&&(n=1,oldz=T,newz=-1,oldx=newx=q[t-f.a],oldy=newy=w[t-f.a]));if(n)top["R"+f.a].style.transform="rotateZ("+F[t-f.a]+"rad)",top["M"+f.a].style.transform="translateX("+(oldx*v+.5)+"vh)translateY("+(oldy*v+.5)+"vh)translateZ("+(oldz*v+.5)+"vh)scale(.01)scaleZ(.01)",setTimeout(function(f){return function(){top["M"+f.a].style.transition="none"}}(f),90),f.j=newx,f.m=newy,f.o=newz,setTimeout(function(f){return function(){top["M"+f.a].style.transform="translateX("+(f.j*v+.5)+"vh)translateY("+(f.m*v+.5)+"vh)translateZ("+(f.o*v+.5)+"vh)scale(.01)"}}(f),100),setTimeout(function(f){return function(){top["M"+f.a].style.transition="";top["M"+f.a].style.transform="translateX("+(q[t-f.a]*v+.25)+"vh)translateY("+w[t-f.a]*v+"vh)translateZ("+(E[t-f.a]*v+.5)+"vh)"}}(f),150);else try{top["M"+f.a].style.transform="translateX("+(q[t-f.a]*v+.25)+"vh)translateY("+w[t-f.a]*v+"vh)translateZ("+(E[t-f.a]*v+.5)+"vh)",top["R"+f.a].style.transform="rotateZ("+F[t-f.a]+"rad)"}catch(A){}try{top["S"+f.a].style.display=0==E[t-f.a]?"":"none"}catch(A){}}H?a.style.transform="translateX(-100vh)translateY(-37vh)translateZ(-5vh)rotateX(33deg)":null===J||y["lossst_p"+W+J]?(a.style.transform="translateX("+-q[t]*v+"vh)translateY("+-w[t]*v+"vh)translateZ(45vh)rotateX(40deg)rotateZ("+g+"rad)",a.style.transformOrigin=""+q[t]*v+"vh "+w[t]*v+"vh"):(a.style.transform="translateX("+(-(R+puzzles[J][0]/2)*v+5)+"vh)translateY("+(-(S+puzzles[J][0]/2)*v+8)+"vh)translateZ("+(90-puzzles[J][0]*(v+3))+"vh)rotateX(30deg)rotateZ("+g+"rad)",a.style.transformOrigin=""+((R+puzzles[J][0]/2)*v+5)+"vh "+((S+puzzles[J][0]/2-1)*v+8)+"vh");f=C?1:0;for(k=0;k<G;k++){if(0>=E[t-k]){f=0;break}for(m in cubes)cubes[m][0]==q[t-k]&&cubes[m][1]==w[t-k]&&1==E[t-k]&&(f=0)}if(f){for(k=0;k<G;k++)E[t-k]--;try{Y()}catch(A){for(var m=2*G;m--;)q.pop(),w.pop(),E.pop(),F.pop(),t--;Aa=0;Y()}}f=q[t];n=w[t];for(k in doors)(doors[k][10]&&C||!doors[k][10]&&!C)&&top["d"+W+k]&&0<doors[k][3]&&G>=doors[k][3]&&4>Math.hypot(f-doors[k][0],n-doors[k][1])&&!y["lossst_d"+W+k]&&(top["d"+W+k].className="do s",!doors[k][6]||"px"==W&&2<k||ja(pa).play(),y["lossst_d"+W+k]=1),top["d"+W+k]&&"do s"==top["d"+W+k].className&&2>Math.hypot(f-doors[k][0],n-doors[k][1])&&(y.lossst_p=W=doors[k][5],setTimeout(Ba,600),y.lossst_x=doors[k][7],y.lossst_y=doors[k][8],y.lossst_z=0);null!==J&&Da();H||(J=null);H||(L=[],M=[]);for(p in puzzles)if(f>=puzzles[p][5]&&f<puzzles[p][5]+puzzles[p][0]&&n>=puzzles[p][6]&&n<puzzles[p][6]+puzzles[p][0]){J=+p;Q=0;y["lossst_p"+W+p]&&(Q=1);K=p;xa=!!puzzles[p][4];N=!!puzzles[p][3];O=!!puzzles[p][2];R=puzzles[p][5];S=puzzles[p][6];T=puzzles[p][0];for(k=0;k<T;k++)for(L[k]=[],M[k]=[],m=0;m<T;m++)puzzles[p][3]&&(M[k][m]=+puzzles[p][3][k*puzzles[p][0]+m]),puzzles[p][4]&&(L[k][m]=+puzzles[p][4][k*puzzles[p][0]+m]);Da()}}function Z(k,f,n){V=0;if(0>k||k>=X||0>f||f>=h)V=1;for(var m in trees)k>=trees[m][0]-1&&k<=trees[m][0]&&f==trees[m][1]&&3>E[t]&&(V=1);for(m in hints)k>=hints[m][1]&&k<=hints[m][1]+3&&f==hints[m][2]&&G>=hints[m][3]&&(!hints[m][4]||G<=hints[m][4])&&(C&&hints[m][5]||!C&&!hints[m][5])&&(V=1);for(m in apples)if(y["lossst_A"+W+m]&&k==apples[m][0]&&f==apples[m][1]&&0==E[t])if(ja(ka).play(),"pN"==W){x=setInterval(sa.forward,150);y.lossst_E=1;setTimeout(function(){I=1;as0.remove();a0.style.transform="translateY(319vh)translateZ(2vh)rotateX(-65deg)rotateY(90deg)";a0.style.transition=a.style.transition="10s";a0.style.transform="translateY(15vh)translateZ(2vh)rotateX(-65deg)";a.style.transform=D?"translateX(-133vh)translateY(-249vh)translateZ(-373vh)rotateZ(90deg)":"translateX(-141vh)translateY(-227vh)translateZ(-185vh)rotateZ(90deg)"},200);var A={},P;for(P in puzzles)A.g=P,setTimeout(function(f){return function(){top["B"+f.g].style.transition=".5s";top["B"+f.g].style.transform="translateY(-125%)"}}(A),[1450,2500,3800,5400][A.g]),A={g:A.g};setTimeout(function(){clearInterval(va);y.lossst_E=1;y.lossst_e=1;b.style.background="#000";y.lossst_s=0;b.innerHTML="<div id=iv style=perspective:90vh><center id=menu style=width:75vh;transform:translateX(-38vh)translateY(-35vh)rotateX(-28deg)><span style=font-size:4vh;line-height:5vh><h1>Congrats!</h1><br>You completed the game in<br>"+ta+" seconds and "+ua+" moves!<br><br><a href=//twitter.com/intent/tweet?text=I%20played%20LOSSST,%20a%20%23js13k%20game%20by%20by%20@MaximeEuziere%0Amy%20score:%20"+ta+"%20seconds%20and%20"+ua+"%20moves!%0Ajs13kgames.com%2Fentries%2Flossst target=_blank style=color:#def;font-size:4vh>TWEET YOUR SCORE</a><br><br>Dev record:<br>854 seconds, 2452 moves<br><br>3D puzzle editor unlocked!<br><br><a href=. style=font-size:4vh>MAIN MENU"},15E3);n=document.querySelectorAll(".o");A={};for(var aa in n){A.h=aa;try{2==n[A.h].style.backgroundColor.match(/68/g).length&&setTimeout(function(f){return function(){top[n[f.h].id].style.background="#a00"}}(A),8E3+10*A.h)}catch(na){}A={h:A.h}}}else if(delete apples[m],top["a"+m].remove(),top["as"+m].remove(),G++,y.lossst_S=G,y["lossst_a"+W+m]=1,"pF"==W&&16==G){I=1;x=setInterval(sa.forward,150);z=1;a.style.transition="5s";a.style.transform="translateX(-180vh)translateY(-53vh)translateZ("+(D?-422:-180)+"vh)rotateZ(180deg)";setTimeout(function(){a.style.transition="1s";I=z=0;Y();ig.innerHTML+="<div class=t style=left:190vh;transform:translateY(50vh)rotateX(-55deg)translateY(-4vh)>\u2190<br>Exit";clearInterval(x)},1E4);n=document.querySelectorAll(".o");A={};for(var ea in n){A.f=ea;try{n[A.f].id.match(/g\d\d\d$/)&&2==n[A.f].style.backgroundColor.match(/68/g).length&&setTimeout(function(f){return function(){top[n[f.f].id].style.background="#a00"}}(A),5500+10*A.f)}catch(na){}A={f:A.f}}}for(m in cubes)k==cubes[m][0]&&f==cubes[m][1]&&0==n&&(V=1);for(m in emoji)"pC"!=W&&k==emoji[m][1]&&f==emoji[m][2]&&0==n&&(V=1);for(m in doors)top["d"+W+m]&&"do s"==top["d"+W+m].className&&2>=Math.hypot(k-doors[m][0],f-doors[m][1])&&(V=0);hitcube2=0;for(m=G-2;0<m;m--)q[t-m]==k&&w[t-m]==f&&E[t-m]==n&&(V=1,1==m&&(hitcube2=1));for(p in puzzles)puzzles[p][3]&&k>=puzzles[p][5]&&k<puzzles[p][5]+puzzles[p][0]&&(f==puzzles[p][6]-1&&w[t]==puzzles[p][6]&&!puzzles[p][2]||f==puzzles[p][6]&&w[t]==puzzles[p][6]-1)&&(V=1);if("pI"==W&&18==k&&!C){z=C=V=I=1;clearInterval(x);sa=ra;_=$=0;x=setInterval(ra.forward,250);y.lossst_s=1;y.lossst_S=G=5;for(k=0;21>k;k++)cubes.push([q[t-k],w[t-k]]),top["M"+k].id="",top["R"+k].id="",top["S"+k].id="",top["T"+k].id="";a.style.transition="2s";Ca();Y();a.style.transform="translateX(-105vh)translateY(-51vh)translateZ(80vh)rotateX(45deg)";a.style.transformOrigin="140vh 70vh";setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(0);F.push(F[t]);t++;Y()},3E3);setTimeout(function(){ii.innerHTML="Daddy!"},4E3);setTimeout(function(){ii.innerHTML=""},6E3);setTimeout(function(){ii.innerHTML="I lossst my soccer ball!"},7E3);setTimeout(function(){ii.innerHTML=""},9E3);setTimeout(function(){ii.innerHTML="But I found new moves!"},1E4);setTimeout(function(){ii.innerHTML="";z=I=0;clearInterval(x);a.style.transition="1s";Y();Ea();D&&(kT.className=kB.className="",y.lossst_B=1)},13500)}}function Da(){if(!Q&&null!==J){solved=1;H&&(ij.disabled=0);for(i=0;i<T;i++)for(j=0;j<T;j++)try{top["g"+K+i+j]&&(top["g"+K+i+j].style.background=L[i][j]?"#000":"#fff"),top["w"+K+i+j]&&(top["w"+K+i+j].style.background=M[i][j]?"#000":"#fff")}catch(m){}if(q[t]<R||q[t]>R+T-1||w[t]<S||w[t]>S+T-1||0>E[t]||E[t]>T-1)H&&(ij.disabled=1);else{for(i=0;i<G;i++){top["g"+K+(w[t-i]-S)+(q[t-i]-R)]&&(top["g"+K+(w[t-i]-S)+(q[t-i]-R)].style.background=L[w[t-i]-S][q[t-i]-R]?"#080":H?"#44c":"#f00");w[t-i]>=S&&w[t-i]<S+T&&top["w"+K+(T-1-E[t-i])+(q[t-i]-R)]&&(top["w"+K+(T-1-E[t-i])+(q[t-i]-R)].style.background=M[T-1-E[t-i]][q[t-i]-R]?"#080":H?"#44c":"#f00");if(q[t-i]<R||q[t-i]>R+T-1||w[t-i]<S||w[t-i]>S+T-1||E[t-i]>T-1)H&&(ij.disabled=1),solved=0;xa&&L[w[t-i]-S]&&!L[w[t-i]-S][q[t-i]-R]&&(solved=0);N&&M[T-1-E[t-i]]&&!M[T-1-E[t-i]][q[t-i]-R]&&(solved=0)}for(i=0;i<T;i++)for(j=0;j<T;j++){try{xa&&3==top["g"+K+i+j].style.backgroundColor.match(/0/g).length&&(solved=0)}catch(m){}try{N&&3==top["w"+K+i+j].style.backgroundColor.match(/0/g).length&&(solved=0)}catch(m){}}if(solved){Q=H?0:1;puzzles[J][2]=0;top["puzzle"+J].classList.remove("w");H||(y["lossst_p"+W+J]=1);for(i=0;i<T;i++)for(j=0;j<T;j++){try{top["g"+K+i+j].style.background=L[i][j]?"#44c":"#fd0"}catch(m){}try{top["w"+K+i+j].style.background=M[i][j]?"#44c":"#fd0"}catch(m){}}H||(ja(oa).play(),ya++,y.lossst_T=ya);var k=1,f={},n;for(n in cubes)f.b=n,cubes[f.b][0]>=puzzles[J][5]&&cubes[f.b][0]<puzzles[J][5]+puzzles[J][0]&&cubes[f.b][1]>=puzzles[J][6]&&cubes[f.b][1]<puzzles[J][6]+puzzles[J][0]&&(delete cubes[f.b],k++,setTimeout(function(f){return function(){top["cube"+f.b].remove()}}(f),200*k)),f={b:f.b}}}}}function Ea(){for(var k in apples)if(!y["lossst_A"+W+k]&&(0<apples[k][3]&&apples[k][3]==G||0<apples[k][4]&&apples[k][4]==ya)){I=1;D&&"px"==W&&1==k&&(kw.className="",y.lossst_b=1);var f=setTimeout;a.style.transform="translateX("+-apples[k][0]*v+"vh)translateY("+-apples[k][1]*v+"vh)translateZ(50vh)rotateX(35deg)";y["lossst_A"+W+k]=1;a.style.transformOrigin=""+apples[k][0]*v+"vh "+apples[k][1]*v+"vh";f(void 0,250);f=setTimeout;top["a"+k].className="j g";top["as"+k].className="e p";f(void 0,800);setTimeout(function(){ja(la).play()},850);setTimeout(function(){Y();z||(I=0)},2E3)}}function Fa(){U=0;H||(J=null);for(p in puzzles)q[t]>=puzzles[p][5]&&q[t]<puzzles[p][5]+puzzles[p][0]&&w[t]>=puzzles[p][6]&&w[t]<puzzles[p][6]+puzzles[p][0]&&0<=E[t]&&E[t]<puzzles[p][0]&&(J=+p,U=1)}onkeydown=function(k){top["lurd************************l**r************l*d***u**u"[k.which-37]]=1;18==k.which&&(B=1);16==k.which&&(s=1);17==k.which&&(c=1);if(!I){if(49==k.which||97==k.which)-1<g&&g--,ca();if(50==k.which||98==k.which)g=0,ca();if(51==k.which||99==k.which)1>g&&g++,ca()}Fa();U?Da():Aa=0;if(82==k.which&&U){if(Aa<=t)for(var f=Aa;f<=t;f++)q.pop(),w.pop(),E.pop(),F.pop(),setTimeout(function(){sa.back()},70*(t-f));t=Aa-1;Aa=0;Y();Da();y.lossst_M=++ua}else if(116!=k.which&&82!=k.which&&17!=k.which&&123!=k.which&&k.preventDefault&&k.preventDefault(),!I){V=0;if(l)!Q&&O&&U&&q[t]==R?(Z(R+T-1,w[t],E[t]),V||(q.push(R+T-1),w.push(w[t]),E.push(E[t]),F.push(Math.PI/2),t++)):(Z(q[t]-1,w[t],E[t]),V||(q.push(q[t]-1),w.push(w[t]),E.push(E[t]),F.push(Math.PI/2),t++));else if(r)!Q&&O&&U&&q[t]==R+T-1?(Z(R,w[t],E[t]),V||(q.push(R),w.push(w[t]),E.push(E[t]),F.push(-Math.PI/2),t++)):(Z(q[t]+1,w[t],E[t]),V||(q.push(q[t]+1),w.push(w[t]),E.push(E[t]),F.push(-Math.PI/2),t++));else if(u)!Q&&O&&U&&w[t]==S?(Z(q[t],S+T-1,E[t]),V||(q.push(q[t]),w.push(S+T-1),E.push(E[t]),F.push(Math.PI),t++)):(Z(q[t],w[t]-1,E[t]),V||(q.push(q[t]),w.push(w[t]-1),E.push(E[t]),F.push(Math.PI),t++));else if(d)!Q&&O&&U&&w[t]==S+T-1?(Z(q[t],S,E[t]),V||(q.push(q[t]),w.push(S),E.push(E[t]),F.push(0),t++)):(Z(q[t],w[t]+1,E[t]),V||(q.push(q[t]),w.push(w[t]+1),E.push(E[t]),F.push(0),t++));else if((C||N)&&s){if(!U){k=G-1;for(f in cubes)cubes[f][0]==q[t]&&cubes[f][1]==w[t]&&k++;if(E[t]==k)return}!Q&&O&&U&&E[t]==T-1?(Z(q[t],w[t],0),V||(q.push(q[t]),w.push(w[t]),E.push(0),F.push(F[t]),t++)):(Z(q[t],w[t],E[t]+1),V||(q.push(q[t]),w.push(w[t]),E.push(E[t]+1),F.push(F[t]),t++))}else(C||N)&&c?!Q&&O&&U&&0==E[t]?(Z(q[t],w[t],T-1),V||(q.push(q[t]),w.push(w[t]),E.push(T-1),F.push(F[t]),t++)):0==E[t]?V=1:(Z(q[t],w[t],E[t]-1),V||(q.push(q[t]),w.push(w[t]),E.push(E[t]-1),F.push(F[t]),t++)):B&&t>G&&(F.pop(),q.pop(),w.pop(),E.pop(),t--);V&&!I&&(I=1,setTimeout(function(){z||(I=0)},150),!(-1<q[t]&&q[t]<X&&-1<w[t]&&w[t]<h)||"pI"==W&&!C&&16<q[t]||hitcube2||ja(ma).play());if(!V&&!z&&(u||r||d||l||s||c||B)){y.lossst_M=++ua;Da();Y();B?t>G&&sa.back():(C||!s&&!c&&!C)&&sa.forward();Y(1);Ea();I||(I=1,setTimeout(function(){z||(I=0)},150));if("px"==W&&(C||14<=G)&&20==q[t]&&10==w[t]){I=1;var n=0;for(f=0;f<G;f++)setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(--n);F.push(F[t]);t++;Y()},150*f);setTimeout(function(){AA("pz",1)},160*G);y.lossst_x=20;y.lossst_y=10}Fa();U&&!Aa&&(Aa=t)}}};onkeyup=function(){u=r=d=l=s=c=B=0};onload=function(){1<location.hash.length?AA("py",1):(setTimeout(function(){x=setInterval(function(){sa.forward()},500)},200),b.innerHTML="<center id=e>\ud83d\udc40</center>\n<center id=iw></center>\n<div id=iv style=perspective:30vh>\n<center id=menu>\n<h1>LOSSST</h1>\n<span onclick=newgame()>New game</span><br>\n"+(y.lossst_a&&!y.lossst_E?"<span onclick=AA(0,1)>Continue</span><br>":"")+"\n<span onclick=AA(\"pz\",1)>Puzzle editor</span><br>\n<span onclick=top.open('//goo.gl/iKqoCS')>Bonus",newgame=function(){for(i in localStorage)0==i.indexOf("lossst")&&-1==i.indexOf("e")&&delete localStorage[i];y.lossst_a=1;menu.innerHTML="<br><br><span onclick=intro(0)>Desssktop</span><br><br><span onclick=intro(1)>Mobile"},intro=function(k){clearInterval(x);_=$=0;x=setInterval(sa.forward,250);y.lossst_m=D=k;y.lossst_S=G=5;ta=y.lossst_t=0;ua=y.lossst_M=0;y.lossst_M=0;y.lossst_t=0;menu.innerHTML="";setTimeout(function(){e.style.margin=0},500);dir=1;inter=setInterval(function(){e.style.opacity=0;setTimeout(function(){e.style.opacity=1;dir=-dir;e.style.transform="scaleX("+dir+")"},150)},3E3);setTimeout(function(){iw.innerHTML="I lossst my kid !"},2E3);setTimeout(function(){iw.innerHTML=""},5E3);setTimeout(function(){clearInterval(inter);e.style.margin="-80vh 0 0"},7E3);setTimeout(AA,7500)})};AA=function(k,f){if(0===k||"pz"==k)clearInterval(x),_=$=0;"pz"==k&&(H=1,J=0);W=k||y.lossst_p||"px";b.outerHTML="<body id=b class="+W+">\n<div id=iv>\n<div id=a style=transform:translateX(-97vh)translateY(-50vh)rotateZ(90deg)translateZ(119vh);transform-origin:100vh+50vh>\n<div id=ig>"+(H?"<div class=t style=width:60vh;transform:translateX(70vh)translateY(1vh)translateZ(2vh)rotateX(-42deg)>\n<label style=width:100%;text-align:center>Create a pattern with the snake and share it !</label>\n<br style=line-height:6vh>\n<div style=text-align:left;padding-left:5vh>\n<label>Grid</label> <input id=ib type=range value=5 min=3 max=8 step=1>\n<span id=gridval>5</span>\n<br>\n<label>Snake</label> <input id=iq type=range value=5 min=5 max=40 step=1>\n<span id=it>5</span>\n</div>\n<input type=checkbox id=ik checked> <label for=ik id=im>ground</label>\n"+(y.lossst_e||y.lossst_s&&6<y.lossst_S?"<input type=checkbox id=wall> <label for=wall>wall</label>":"")+"\n"+(y.lossst_e||y.lossst_s?"<input type=checkbox id=wrap> <label for=wrap>wrap</label>":"")+"\n<br>\n<center>\n<button id=ij disabled>Share</button>\n</center>\n</div>":"")+"\n</div>\n<div id=ih></div>\n<div id=ie></div>\n<div id=ia></div>\n</div>\n</div>\n<center id=iz style='font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw'>\n<button id=kU class=h ontouchstart=TS(38) ontouchend=TE(38)>\u2191</button>\n<button id=kD class=h ontouchstart=TS(40) ontouchend=TE(40)>\u2193</button>\n<button id=kL class=h ontouchstart=TS(37) ontouchend=TE(37)>\u2190</button>\n<button id=kR class=h ontouchstart=TS(39) ontouchend=TE(39)>\u2192</button>\n<button id=kT class=h ontouchstart=TS(16) ontouchend=TE(16)>\u2b06\ufe0e</button>\n<button id=kB class=h ontouchstart=TS(17) ontouchend=TE(17)>\u2b07\ufe0e</button>\n<button id=kw class=h ontouchstart=TS(18) ontouchend=TE(18)>\u21a9</button>\n<button id=kx class=h ontouchstart=TS(82) ontouchend=TE(82)>\u00d7</button>\n<button id=ky class=h ontouchstart=TS(49) ontouchend=TE(49)>\u21bb</button>\n<button id=kz class=h ontouchstart=TS(51) ontouchend=TE(51)>\u21ba</button>\n</center>\n<center id=ii style='font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw'>";y.lossst_Apx0=1;Ba();if(D&&"py"==W||y.lossst_w)kU.className=kD.className=kL.className=kR.className="";if(D&&"py"==W||y.lossst_b)kw.className="";if(D&&"py"==W||y.lossst_r)kr.className="";if(D&&"py"==W||y.lossst_B)kT.className="",kB.className="";if(D&&"py"==W||y.lossst_c)ky.className="",kz.className="";H||(va=setInterval(function(){y.lossst_t=++ta},1E3));f&&(b.innerHTML+="<div style='position:fixed;font:8vh a;top:3vh;right:3vh'onclick=location='.'>\u00d7")}</script><style>@keyframes move{0%,100%{transform:rotateY(-10deg)}50%{transform:rotateY(10deg)}}*{margin:0;padding:0;font:2.5vh/5.5vh arial,sans-serif;vertical-align:middle;box-sizing:border-box;-webkit-touch-callout:none;-webkit-user-select:none;-webkit-tap-highlight-color:transparent;user-select:none;cursor:pointer;touch-action:manipulation}html,body{height:100%;background:#000;overflow:hidden;background:radial-gradient(#def 25%,#7ce)}a{color:#def}input,button{position:relative;z-index:2}input[type=range]::-webkit-slider-runnable-track,input[type=range]::-webkit-slider-thumb{background:#888;border:1px solid #000}input[type=range]::-moz-range-track,input[type=range]::-moz-range-thumb{background:#888;border:1px solid #000}#iv{width:0;height:0;perspective:120vh;position:absolute;top:50%;left:50%}#iv *{transform-style:preserve-3d}#a{width:0;height:0;transform-origin:18vh 0%;transition:transform 1s,transform-origin 1s}.z{position:fixed;top:0;left:0}.z>div{width:100%;height:100%;position:fixed}.z .u{transform:rotateY(90deg)translateX(-100%)rotateY(-90deg)}.z .l{transform:rotateX(-90deg)translateY(-50%)translateX(-50%)rotateY(-90deg)}.z .r{transform:rotateX(-90deg)translateY(-50%)translateX(50%)rotateY(90deg)}.z .f{transform:translateY(50%)rotateX(-90deg)translateY(-50%)}.z .b{transform:translateY(-50%)rotateX(-90deg)translateY(-50%)rotateY(180deg)}.z.q{width:32vh;height:32vh;transform:none}.z.q>div{background:transparent}.z.q .b{transition:opacity .5s;transform:translateY(-50%)rotateX(-90deg)translateY(-52%)}.z.q.w .d,.z.q .d{transition:opacity .5s;background:#0c5b0c}.sm,.sr{transform-origin:50% 50%;width:100%;height:100%;position:fixed}.sm{transition:transform .15s}.z.k{width:100%;height:100%}.z.k>div{box-shadow:0 0 0 .1vh #000 inset;text-align:center}.z.k .f{line-height:3vh}#ie .z.k>div{background:#FFA500}#ie .z.k .u{background:#dF8500}#ia .z.k>div,#a.haswall .z.k>div{background:#444}#ia .z.k .u,#a.haswall .z.k .u{background:#333}#ia .z.k .f{color:#fff}.ss{position:fixed;width:100%;height:100%;background:rgba(0,0,0,.25);transform:translateX(14%)translateY(14%)translateZ(-.25vh)}label{display:inline-block;width:22%}button{display:inline-block;width:23%;border:.2vh solid #000;margin:1vh 2% 0 0}input[type=range]{width:60%}#form{width:50vh;margin:auto}.o{float:left;outline:.4vh solid #888;opacity:0;transition:opacity .5s;background:#fff}.z.q.v{transform:translateZ(.1vh)}.z.q.v .o{opacity:1}.z.q.v .d{transform:none}.z.q.w>div{background:linear-gradient(45deg,rgba(200,200,200,.1),rgba(200,200,200,.3));box-shadow:0 0 .1vh rgba(255,255,255,.5)}.j{position:fixed;transform-origin:50% 100%;bottom:0}.m{animation:move 3s infinite}.e{color:rgba(0,0,0,.002);text-shadow:0px 0px rgba(0,0,0,.25);position:fixed;transform-origin:50% 100%;bottom:0}.tr,.h{font:11vh/12vh a}.a .tr{font:15vh/11vh a}.a .h,.c .h,.i .h,.a .p,.c .p,.i .p,.c .x.b,#iz button.h{display:none}.g,.g *,.p{font:4vh/5vh a;transition:opacity .5s .5s}.n,.n *{font:5vh/6vh a}.g.h,.p.h{opacity:0}.a .g{font:6vh/5vh a}.do{position:fixed;transform-origin:0% 100%;width:0;height:0}.do .y{position:fixed;width:15vh;height:20vh;background:radial-gradient(2vh at 90% 50%,gold 35%,transparent 40%),#a22;border-radius:1vh 1vh 0 0;transform-origin:0% 100%;transform:translateX(-7.5vh)translateY(-12.5vh)rotateX(-90deg);text-align:center;font-size:6vh;line-height:12vh;color:#fff;transition:transform 1s}.do .y.d1{background:radial-gradient(2vh at 90% 50%,gold 35%,transparent 40%),#222}.do.s .y{transform:translateX(-7.5vh)translateY(-12.5vh)rotateX(-90deg)rotateY(90deg)}.z.x div{background:linear-gradient(45deg,#640,#583808)}.z.x div.u{transform:rotateY(90deg)translateX(-5.4vh)translateZ(-.1vh)rotateY(-90deg);background:radial-gradient(#3F7D1F,#034301);background-size:280vh 140vh;width:5.3vh;height:5.3vh}.t{position:fixed;background:#fff;padding:.7vh;width:20vh;font:2vh/2.5vh arial,sans-serif;transform-origin:50% 100%;text-align:center;box-shadow:0 0 0 .2vh #000 inset;bottom:0}.t br{font:0/0 a}.t:before{content:"";width:3vh;height:3vh;background:#750;position:absolute;bottom:-3vh;left:8vh;border-left:.2vh solid;border-right:.2vh solid}.pz .t:before{left:28vh}label{text-align:left}#a{transition:transform 6s ease-in,transform-origin 6s ease-in;width:280vh;height:140vh;background:radial-gradient(#4F8D2F,#136321);border-radius:3vh}.px #a,.pI #a{background:radial-gradient(10vh at 51.3% 52%,#000 40%,transparent 50%),radial-gradient(15vh at 51.3% 52%,#640 40%,transparent 50%),radial-gradient(#4F8D2F,#136321)}#e{margin:99vh 0 0;transition:margin 1s;font:10vh/80vh a}#iw{font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw}#menu{color:#fff;width:55vh;transform:translateX(-27vh)translateY(-20vh)rotateX(-17deg)}#menu span{font:7vh/12vh arial,sans-serif}#menu h1{font:13vh/16vh arial,sans-serif;text-shadow:.1vh -.1vh #777,.2vh -.2vh #777,.3vh -.3vh #777}#menu span:hover{color:#ace;transform:rotateX(-10deg)}.pN #menu span:hover{color:#fff}#iz button{position:fixed;width:10vh;height:10vh;text-align:center;font:6vh/10vh a}#kU{right:14vh;bottom:14vh}#kD{right:14vh;bottom:2vh}#kL{right:26vh;bottom:2vh}#kR{right:2vh;bottom:2vh}#kT{left:2vh;top:2vh}#kB{left:2vh;top:14vh}#kw{bottom:2vh;left:2vh}#kx{bottom:14vh;left:2vh}#ky{top:2vh;right:18vh}#kz{top:2vh;right:6vh}#hpx0{opacity:0;transition:opacity .5s}</style></head><body id="b" style="background:#000"><center id="e">👀</center>
<center id="iw"></center>
<div id="iv" style="perspective:30vh">
<center id="menu"><br><br><span onclick="intro(0)">Desssktop</span><br><br><span onclick="intro(1)">Mobile</span></center></div><div id="lo-engage-ext-container"><div data-reactroot=""></div></div><link rel="stylesheet" type="text/css" href="chrome-extension://liecbddmkiiihnedobmlmillhodjkdmb/css/content.css"></body></html><html><head><title>LOSSST</title><meta content="width=device-width,user-scalable=no" name="viewport"><script>u=r=d=l=s=c=B=0;trees=[];apples=[];doors=[];cubes=[];hints=[];emoji=[];puzzles=[];TS=function(k){ba[k]&&clearInterval(ba[k]);onkeydown({which:"+n+"});ba[k]=setInterval(function(){onkeydown({which:k})},150)};TE=function(k){setTimeout(function(){clearInterval(ba[k]);onkeyup()},150)};var g=0;function ca(){a.style.transform="translateX(-"+q[t]*v+"vh)translateY(-"+w[t]*v+"vh)translateZ(45vh)rotateX(40deg)rotateZ("+g+"rad)"}var x=$=_=0;function da(){var k=0;this.i=function(f){k+=f/48E3*Math.PI*2;return k%=2*Math.PI}}function fa(k){var f=new da,n=new da,m=.1;this.i=function(){if(!k)return 0;var A=k+.4*Math.sin(n.i(3));A=440*Math.pow(2,(A-57)/12);m*=.9998;A=f.i(A);return Math.pow(Math.sin(A),1)*m}}function ha(k){function f(){var f=k.length/2;for(_=$;0>_;)_+=f;_%=f;f=new fa(k[2*_+0].charCodeAt(0)-48);for(var A=new fa(k[2*_+1].charCodeAt(0)-48),P=[],aa=0;48E3>aa;aa++){var ea=f.i(),na=A.i(),za=.5*ea+na;P.push(ea+.5*na);P.push(za)}n(P).play()}function n(f){function k(f){f=m(f);return f[0]+f[1]}function m(f){for(var k=0,m="",n=0;4>n;n++,k+=8)m+=String.fromCharCode(f>>k&255);return m}var n=2*f.length;n="RIFF"+m(n+36)+"WAVEfmt "+m(16)+k(1)+k(2)+m(48E3)+m(192E3)+k(4)+k(16)+"data"+m(n);for(var ea in f)n+=k(32767*f[ea]);return new Audio("data:audio/wav;base64,"+btoa(n))}$=-1;this.forward=function(){$++;f()};this.back=function(){$--;f()}}function ja(k){function f(f){f=n(f);return f[0]+f[1]}function n(f){for(var k=0,m="",n=0;4>n;n++,k+=8)m+=String.fromCharCode(f>>k&255);return m}for(var m=[],A=0;;A++){var P=k(A);if(null===P)break;m.push(P)}k=2*m.length;k="RIFF"+n(k+36)+"WAVEfmt "+n(16)+f(1)+f(1)+n(48E3)+n(96E3)+f(2)+f(16)+"data"+n(k);for(A in m)k+=f(1E4*m[A]);return new Audio("data:audio/wav;base64,"+btoa(k))}function ka(k){return 1E4<k?null:(Math.pow(k,1.055)&128?1:-1)*Math.pow((1E4-k)/1E4,2)/2}function la(k){return 25E3<k?null:((k^k>>3^k*k*7.3^k<<4)&65535)/65536*((25E3-k)/25E3)/2}function ma(k){return 5E3<k?null:(Math.pow(k+1E3*Math.sin(.01*k),.8)&200?.5:-.5)*Math.pow((5E3-k)/5E3,1)/2}function oa(k){if(16E3<k)return null;var f=Math.pow((16E3-k)/16E3,2.1)/2;return(k<16E3/7?k+10*Math.sin(-k/900)&16:k&13)?f:-f}function pa(k){return 9E4<k?null:(Math.pow(k+1E3*Math.sin(.01*k),.8)&200?.5:-.5)*Math.pow((9E4-k)/9E4,1)/4}var qa=new ha("nbo0risiubv0uisirbs0ui0i0b0c0f0gniojrlsjuivjymvjubv0ui0i0j0m0n0rsgu0vnxnzgx0vnunsg0n0o0n0g0s0o0nrisjulvgufsjufscrbo0ni0j0b0i0j0il`n0ogqgs`u0vgxgz`0gxl0nsouqvsxuuev0u`0`0eq0slulqcs0qcs0qbs0q`s0njo0reseujv0xeveuj0v0e0q0j0i0g0e0cu0scq00bv0ufr0sgn0vbr0xiz0zjr0sgu0vbx0zgx0vbubsg{0zb{`z^{0zi{fzgv0xiu0vjs0ulr0sbn0oll0nbl0jfi0g00bxc0`zb0^{`0]z^0[z]0Zz[0]z^0`zb0]uf0bxi0f{l0izr0ozn0ixr0nrulrnbo0risiufs0r`o0nb0czf0gzi0gzf0cub0i0j0mvn0m0j0irbscrbs`rbs`sbrbo`q0sgugv`x0zg{gz`s0x`s0v`x0vcx0ues0q`l00eu00`x00ev00`u00eq00`o`"),ra=new ha("p0r0sdk0rco0pdk0p0r0sdw0rcs0pdk0p0r0sdk0rck0pdk0p0r0sdw0rcs0pd0f0g0iwg0bwgx0wgurrnspur0bufwgubs0pkrcsdk0rco0pkk0p0r0sdk0rco0pk0l0k0iwg0b0k0g0n0kzs0nxi0f|l0izr0p0n0lwk0dwg0k0p0k|s0pur0kuo0k0i0l0k0isd0krj0kpd0k0p0rsd0krl0opd0f0g0iskw0riw0pgw0nfw0u`s0rbs0pd0k"),y=localStorage,z=0,C=+y.lossst_s||0,sa=C?ra:qa,D=+y.lossst_m||0,ta=+y.lossst_t||0,ua=+y.lossst_M||0,va=0,ba=[],wa=0,v=5,t=0,q=[],w=[],E=[],F=[],G=y.lossst_S=+y.lossst_S||5,H=0,I=0,J=null,K="0",L=[],M=[],xa=0,N=0,O=0,Q=0,R=0,S=0,T=0,ya=+y.lossst_T||0,Aa=0,U=0,V=0,W="",X=h=0;function Ba(){var k;navigator.userAgent.match(/Mac/)&&(iv.className="a");navigator.userAgent.match(/Fire|Edg/)&&(iv.className+=" c",wa=4E3);D&&(iv.className+=" i");b.className=W;C&&!H&&(ie.innerHTML="");cubes=[];doors=[];trees=[];apples=[];hints=[];emoji=[];if("pz"==W)X=40,h=20,puzzles=[[5,,1,,"0000000000000000000000000",16,9]],G=5,C=0;else if("py"==W)h=X=20,puzzles=[eval("["+location.hash.slice(1).replace(/[01]{2,}/g,'"$&"')+"]")],G=puzzles[0][1],puzzles[0][5]=puzzles[0][6]=8,C=!!puzzles[0][3],hints=[["Move: arrow keys<br>"+(C?"Up/Down: "+(D?"\u2b06\ufe0e/\u2b07\ufe0e":"Shift/Ctrl")+"<br>":"")+"backtrack: "+(D?"\u21a9":"Alt")+"<br>Reset: R",1,5,1,0,C,0]],delete y.lossst_ppy0;else if("px"==W){X=40;h=20;trees=[[13,9,0],[7,13,0],[35,8,0]];apples=[[11,11,0,0,0],[2,12,0,6,0],[38,10,0,7,0]];doors=[[41,10,Math.PI/2,8,0,"pA",1,0,10,0,0],[20,-2,0,14,0,"pD",1,10,19,0,0],[-2,11,-Math.PI/2,6,0,"pJ",1,14,5,1,1],[20,21,Math.PI,14,0,"pC",1,22,1,0,0],[5,21,Math.PI,5,0,"pI",1,36,1,0,1]];puzzles=[];cubes=[];for(f=9;15>f;f++)for(m=0;5>m;m++)2==m&&14==f||2==m&&13==f||3==m&&13==f||3==m&&12==f||2==m&&12==f||cubes.push([m,f]);hints=[["Move with<br>arrow keys"+(D?"":" or WASD/ZQSD"),19,5,0,13,0],["Use the "+(D?"\u21a9":"Alt")+" key to backtrack",1,9,0,13,0,1],["Approach red doors with the right length to open them",35,14,0,13,0],["\u2191<br>New puzzles !<hr>Puzzle editor<br>\u2193",19,8,14,0,0],["\u2190<br>New puzzles !",1,9,6,7,1,1]];emoji=[["\ud83d\udc3f\ufe0f",30,7],["\ud83c\udf30\ufe0f",29,7]]}else if("pA"==W)X=40,h=20,trees=[[35,15,0]],apples=[[33,16,0,0,6],[34,17,0,0,6],[37,15,0,0,6]],cubes=[],doors=[[-2,10,-Math.PI/2,8,0,"px",0,39,11,0,0],[35,21,Math.PI,11,0,"pB",1,35,1,0,0]],puzzles=[[6,,0,,"000000001000001110001110001000000000",2,3],[6,,0,,"000000011000011100010000011000000000",14,3],[6,,0,,"000000000100001100011000011100000000",26,3],[5,,0,,"0000001110011100110000000",2,13],[6,,0,,"000000011000011000001100001100000000",14,13],[6,,0,,"000000000100001100001110001100000000",26,13]],hints=[["Cover the black patterns to solve puzzles",9,9,1,0],["Solve all the puzzles in the room to unlock a new door",21,9,1,0],["Your progress is saved automatically",34,9,1,0]],emoji=[["\ud83d\udc0c",11,10]];else if("pB"==W)D&&(kx.className="",y.lossst_r=1),X=40,h=20,trees=[[4,7,0]],apples=[[1,8,0,0,12],[2,9,0,0,12]],doors=[[35,-2,0,8,0,"pA",0,35,19,0,0],[-2,10,-Math.PI/2,13,0,"pC",1,39,10,0,0]],puzzles=[[6,,0,,"000000011110011010011110000000000000",8,2],[7,,0,,"0000000001110000111000001100000110000010000000000",18,2],[6,,0,,"000000011000011110001010001110000000",28,2],[6,,0,,"000000011100001110001110001100000000",8,12],[6,,0,,"000000001110001110001110001010000000",18,12],[6,,0,,"000000011110011110001100001000000000",28,12]],hints=[["If you get stuck, "+(D?"click \u00d7":"press R")+" to exit a puzzle",35,11,1,0]],cubes=[[11,4],[21,16]],emoji=[["\ud83d\udc08",4,14]];else if("pC"==W)X=40,h=20,trees=[[35,8,0]],apples=[[34,11,0,0,18]],doors=[[41,10,Math.PI/2,8,0,"pB",0,1,10,0,0],[22,-2,0,14,0,"px",1,20,19,0,0]],puzzles=[[7,,0,,"0000000000000001111000111100001111000100000000000",2,3],[7,,0,,"0000000001110000101000011100001110000110000000000",26,3],[6,,0,,"000000001110011110011010001110000000",14,3],[7,,0,,"0000000001100000111000011100001110000110000000000",2,12],[7,,0,,"0000000000000001111100101010011111000000000000000",14,12],[6,,0,,"000000011000011100011110011110000000",26,12]],hints=[["\u2191<br>After this room, you can try a puzzle editor and a new kind of puzzles !",22,11,13,0,0]],cubes=[[29,5],[30,8],[17,6],[15,4],[15,7],[29,13],[30,13],[30,14],[18,15],[16,15],[6,13],[6,17],[7,8],[6,8],[5,8],[3,7],[3,8],[7,6],[7,5]],emoji=[["\ud83e\udd8b<br><br>",29,13]];else if("pD"==W){h=X=20;trees=[[10,2,0]];doors=[[10,21,Math.PI,14,0,"px",0,20,0,0,0],[-2,5,-Math.PI/2,14,0,"pE",0,24,12,0,0]];puzzles=[[7,,1,,"0100010011111000000000000000000000001111100100010",7,7]];hints=[["Now you're thinking with wraps !",2,2,0,14,0]];for(f=0;20>f;f++)cubes.push([f,10]);emoji=[["\ud83d\udc10",12,2]]}else if("pE"==W)h=X=25,trees=[[5,12,0]],apples=[[4,14,0,0,23]],doors=[[26,12,Math.PI/2,14,0,"pD",0,0,5,0,0],[-2,12,-Math.PI/2,15,0,"pF",1,79,5,0,0]],puzzles=[[7,,1,,"1000001000000000000000010100011011011000111000001",3,3],[6,,1,,"110011100001000000100001100001110011",15,17],[5,,1,,"1100111001100011001110011",16,4],[6,,1,,"000011000011110001110001000011000011",3,17]],hints=[["Reminder:<br>use "+(D?"\u21a9":"Alt")+" to backtrack,<br>"+(D?"\u00d7":"R")+" to exit a puzzle.",11,14,1,0,0]],emoji=[["\ud83d\udc12",12,20]];else if("pF"==W)X=80,h=20,trees=[[35,10,0]],apples=[[38,11,0,0,35]],doors=[[81,5,Math.PI/2,15,0,"pE",0,0,12,0,0],[-2,15,-Math.PI/2,16,0,"pG",1,19,5,0,0]],puzzles=[[5,,1,,"0111101001010110100011111",59,13],[5,,1,,"1111011000111100001011110",48,13],[5,,1,,"1111101000011110111001100",37,13],[5,,1,,"1111110000111001000011111",26,13],[5,,1,,"1100101101001110011101101",15,13],[5,,1,,"1111100001110010000111111",59,2],[5,,1,,"1000110111100011000111111",48,2],[5,,1,,"1000110101101011111110001",37,2],[5,,1,,"1111110001000110000111111",26,2],[5,,1,,"0111101100011100011011110",15,2],[5,,1,,"1111101111001110001100001",4,8],[5,,1,,"1010100101111010000111111",71,8]],hints=[["This room hides a surprise !",72,2,0,15,0],["\u2190<br>Exit",38,9,16,0,0]],cubes=[],emoji=[];else if("pG"==W)X=20,h=30,trees=[[5,25,0]],apples=[[4,24,0,0,37],[7,25,0,0,37],[2,26,0,0,37],[3,28,0,0,37]],doors=[[21,5,Math.PI/2,16,0,"pF",0,1,15,0,0],[10,31,Math.PI,20,0,"pH",1,10,1,0,0]],puzzles=[[6,,1,,"001000001110111111011100011000001000",7,6],[6,,1,,"110001100001000111000111100001110001",7,18]],emoji=[["\ud83d\udc01",9,14]];else if("pH"==W)X=20,h=30,trees=[[16,22]],apples=[[18,22,0,0,39]],doors=[[10,-2,0,18,0,"pG",0,10,29,0,0],[21,25,Math.PI/2,21,0,"pI",1,1,10,0,0]],puzzles=[[6,,1,,"001000011110111111011110011110001000",7,6],[6,,1,,"110001100001000011000111001111111111",7,18]],emoji=[["\ud83e\udd86",9,14]];else if("pI"==W){X=40;h=20;apples=[[38,2,0,5,0]];doors=[[-2,10,-Math.PI/2,1,0,"pH",0,19,25,0,0],[36,-2,0,6,0,"px",1,5,19,0,1]];puzzles=[];hints=[["Guess what, you finished the first half of the game !",5,9,1,0],["You can now move up and down with "+(D?"\u2b06\ufe0e and \u2b07\ufe0e":"Shift and Ctrl keys")+", and open black doors",30,11,1,0]];for(f=0;9>f;f++)cubes.push([30,f]);for(f=30;40>f;f++)cubes.push([f,8]);emoji=[["\ud83d\udc22",13,14]];trees=[[3,1],[15,2],[36,3],[26,5],[25,15],[33,9],[10,12],[36,14],[3,15]]}else"pJ"==W?(X=15,h=70,trees=[[2,62]],apples=[[2,65,0,0,47],[1,66,0,0,47]],doors=[[16,5,Math.PI/2,6,0,"px",0,1,11,0,1],[-2,65,-Math.PI/2,8,0,"pK",1,19,65,0,1]],puzzles=[[5,,0,"0000000000000000000001110",,2,2],[4,,0,"0000000001000110",,4,11],[5,,0,"0000000000000000101001110",,6,20],[5,,0,"0000000000000000111000100",,8,29],[4,,0,"0000000001100110","0000011001100000",2,38],[4,,0,"0000010001100100","0000011001100000",4,47],[4,,0,"0000011001000100","0000010001100000",6,56],[4,,0,"0000000001100110","0100011000100000",8,65]],hints=[["You now have to match the patterns on the walls...",10,2,1,0,1],["... and on the floor too !",10,40,1,0,1]],emoji=[["\ud83e\udd89",10,14]]):"pK"==W?(D&&(ky.className=kz.className="",y.lossst_c=1),X=20,h=75,trees=[[2,2]],apples=[[1,4,0,0,59],[2,5,0,0,59],[3,6,0,0,59],[4,2,0,0,59]],doors=[[21,65,Math.PI/2,7,0,"pJ",0,1,65,0,1],[-2,5,-Math.PI/2,12,0,"pL",1,14,5,0,1]],puzzles=[[5,,0,"0000000000010000110001110",,8,69],[6,,0,"000000000000000000000100001110011000",,12,58],[5,,0,"0000000000010000111001000",,2,58],[4,,0,"0000001001100110","0000001001100000",2,45],[5,,0,"0000000000000000010001110","0000000100001100110000000",12,45],[5,,0,"0000000000000000101001110","0000001110010100000000000",2,34],[5,,0,"0000000000000000011001100","0000001110011000010000000",12,34],[4,,1,"0000011001100110","0110000000000110",2,22],[4,,1,"1001000000001001","1001000000001001",12,22],[4,,1,"0000010011110010","0000111101100000",2,12],[4,,1,"0110010000000011","0000011100110000",12,12],[4,,1,"1101000000000001","1101000000010001",12,2]],hints=[["You can rotate the camera with "+(D?"<br>\u21bb and \u21ba":"the keys 1, 2 and 3"),15,68,1,0,1],["Can you guess what's coming next?",7,54,1,0,1],["3D puzzles with wrap ! Use "+(D?"\u2b06\ufe0e and \u2b07\ufe0e":"Shift and Ctrl")+" to wrap between top and bottom",7,24,1,0,1]],emoji=[["\ud83d\udc1e",3,70]]):"pL"==W?(X=15,h=80,trees=[[2,70]],apples=[[1,73,0,0,68],[3,75,0,0,68]],doors=[[16,5,Math.PI/2,12,0,"pK",0,1,5,0,1],[-2,75,-Math.PI/2,14,0,"pM",1,14,25,0,1]],puzzles=[[5,,0,"0000000000001001111100100",,2,2],[4,,0,"0000010001100000",,5,11],[5,,0,"0000000110000110111000010",,8,20],[5,,0,"0000000000001000111011111","0000000000111001111100000",2,29],[4,,0,"1000110011101111","0000001111110000",5,38],[4,,0,"0000100011001110","1110110010000000",8,45],[4,,1,"1000100110010001","0000100110010000",2,54],[4,,1,"0000001011110100","0000110011110011",5,63],[5,,1,"0100011000010000111001000","0000001110110000100000000",8,72]],cubes=[[6,12]],emoji=[["\ud83d\udc1d",3,20]]):"pM"==W?(X=15,h=30,trees=[[10,12]],apples=[[8,11,0,0,71],[9,10,0,0,71],[10,9,0,0,71],[11,10,0,0,71],[12,11,0,0,71],[7,12,0,0,71]],doors=[[16,25,Math.PI/2,14,0,"pL",0,1,75,0,1],[-2,5,-Math.PI/2,20,0,"pN",1,14,5,0,1]],puzzles=[[5,,1,"0001100110011001100010000","0001100110011001100010000",2,24],[5,,1,"1100010001000011000111000","0000011000110010000000000",4,13],[5,,1,"1101110001000001000011000","1100010000000001000111011",6,2]],emoji=[["\ud83d\udc13",1,14]]):"pN"==W&&(X=15,h=48,trees=[[10,44]],apples=[[7,45,0,0,75]],doors=[[16,5,Math.PI/2,20,0,"pM",0,1,5,0,1]],puzzles=[[4,,1,"0000111101101111","1000111111111000",5,38],[4,,1,"1111001001001111","1111101010101111",5,28],[4,,1,"1111010101011101","0001101101101111",5,18],[4,,1,"1111000100011110","1111110110011111",5,8]],emoji=[["\ud83d\udc09",13,46]]);a.style.width=X*v+"vh";a.style.height=h*v+"vh";H||(ig.innerHTML="");ih.innerHTML="";for(var f in trees)ig.innerHTML+="<div id=tree"+f+' class="j tr"style=left:'+trees[f][0]*v+"vh;transform:translateX(-7vh)translateY("+(trees[f][1]*v+4)+"vh)rotateX(-70deg)>\ud83c\udf33</div><div id=treeshadow"+f+' class="e h"style=left:'+trees[f][0]*v+"vh;transform:translateX(-7.5vh)translateY("+(trees[f][1]*v+3.5)+"vh)rotateZ(144deg)scaleY(1.5)>\ud83c\udf33";for(f in apples)y["lossst_a"+W+f]?delete apples[f]:ig.innerHTML+="<div id=a"+f+' class="j g '+(y["lossst_A"+W+f]?"":"h")+'"style=left:'+apples[f][0]*v+"vh;transform:translateY("+(apples[f][1]*v+4)+"vh)rotateX(-65deg)>"+("pN"==W?"<div>\u26bd</div>":"<div class=m>\ud83c\udf4e</div>")+"</div><div id=as"+f+' class="e p '+(y["lossst_A"+W+f]?"":"h")+'"style=left:'+apples[f][0]*v+"vh;transform:scaleX(-1)translateY("+(apples[f][1]*v+3)+"vh)rotateZ(212deg)>"+("pN"==W?"\u26bd":"\ud83c\udf4e");for(f in emoji)ig.innerHTML+='<div class="j n"style=left:'+(emoji[f][1]*v-1)+"vh;transform:translateY("+(emoji[f][2]*v+4)+"vh)rotateX(-65deg)><div class=m>"+emoji[f][0];for(f in doors)ig.innerHTML+="<div id=d"+(""+W+f)+' class="do'+(y["lossst_d"+W+f]?" s":"")+'"style=left:'+(doors[f][0]+.5)*v+"vh;top:"+(doors[f][1]+.5)*v+"vh;transform:rotateZ("+doors[f][2]+"rad)translateZ("+doors[f][9]*v+'vh)><div class="y d'+doors[f][10]+'"'+(doors[f][6]?"":"hidden")+">"+doors[f][3]+'</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh">';for(var n in puzzles)for(var m in cubes)y["lossst_p"+W+n]&&cubes[m][0]>=puzzles[n][5]&&cubes[m][0]<puzzles[n][5]+puzzles[n][0]&&cubes[m][1]>=puzzles[n][6]&&cubes[m][1]<puzzles[n][6]+puzzles[n][0]&&delete cubes[m];for(f in cubes)ig.innerHTML+="<div id=cube"+f+' class="z x"style=left:'+cubes[f][0]*v+"vh;top:"+cubes[f][1]*v+'vh;width:5vh;height:5vh><div class=f></div><div class=u style="background-position:'+(-300-cubes[f][0]*v)+"vh "+(-140-cubes[f][1]*v)+'vh"></div><div class=r></div><div class=l></div><div class=b>';for(f in hints)C^hints[f][5]||!(hints[f][3]&&hints[f][3]<=G||hints[f][4]&&hints[f][4]>=G)||(ig.innerHTML+="<div id=h"+(""+W+f)+" class=t style=left:"+hints[f][1]*v+"vh;transform:translateY("+(hints[f][2]*v+5)+"vh)translateZ("+(hints[f][6]*v||0)+"vh)rotateX(-70deg)translateY(-4vh)>"+hints[f][0]);y.lossst_x&&top.hpx0&&(hpx0.style.opacity=1);for(n in puzzles){T=puzzles[n][0];var A=k="";ih.innerHTML+="<div id=puzzle"+n+' class="z q v '+(puzzles[n][2]&&!y["lossst_p"+W+n]?"w":"")+'"style=left:'+puzzles[n][5]*v+"vh;top:"+puzzles[n][6]*v+"vh;width:"+puzzles[n][0]*v+"vh;height:"+T*v+"vh>"+(puzzles[n][2]?"<div class=l></div><div class=r></div>":"")+"<div id=D"+n+" class=d></div><div id=B"+n+" class=b></div>"+(puzzles[n][2]?"<div class=f>":"");var P="000",aa="fff";y["lossst_p"+W+n]&&(P="44c",aa="fd0",puzzles[n][2]=0);for(f=0;f<T;f++)for(m=0;m<T;m++)puzzles[n][3]&&(k+="<div class=o id=w"+n+f+m+" style=width:"+v+"vh;height:"+v+"vh;background:#"+("1"==puzzles[n][3][f*T+m]?P:aa)+"></div>"),puzzles[n][4]&&(A+="<div class=o id=g"+n+f+m+" style=width:"+v+"vh;height:"+v+"vh;background:#"+("1"==puzzles[n][4][f*T+m]?P:aa)+"></div>");top["D"+n]&&(top["D"+n].innerHTML+=A);top["B"+n]&&(top["B"+n].innerHTML+=k)}"pN"==W&&(ig.innerHTML+="<div style='position:fixed;transform:"+(D?"rotateZ(-90deg)translateX(-87vh)translateY(22vh)translateZ(365vh)":"rotateZ(-90deg)translateX(-83vh)translateY(6vh)translateZ(208vh)")+";font: 30vh/25vh a'>THE<br><br>END");H&&(y.lossst_e||y.lossst_s&&6<y.lossst_S||(ik.style.opacity=im.style.opacity=0,ik.style.position=im.style.position="fixed",ik.style.top=im.style.top="-9vh"),J=0,Y(1),xa=1,Q=O=N=0,puzzles[0][2]=0,setTimeout(function(){(ib.onchange=ib.oninput=resetgrid=function(){Ca();Y();ij.disabled=1;gridval.innerHTML=T=+ib.value;puzzle0.style.width=puzzle0.style.height=T*v+"vh";puzzles[0][0]=T;D0.innerHTML="";A=k=B0.innerHTML="";M=[];L=[];for(f=0;f<T;f++)for(M[f]=[],L[f]=[],m=0;m<T;m++)M[f][m]=0,L[f][m]=0;for(f=0;f<T;f++)for(m=0;m<T;m++)k+="<div class=o id=w"+K+f+m+" style=width:"+v+"vh;padding-top:"+v+"vh></div>",A+="<div class=o id=g"+K+f+m+" style=width:"+v+"vh;padding-top:"+v+"vh></div>";xa&&(D0.innerHTML+=A);N&&(B0.innerHTML+=k)})();iq.onchange=iq.oninput=function(){it.innerHTML=G=+iq.value;Ca();Y()};ik.onclick=function(){ik.checked?xa=1:top.wall&&(xa=0,C=N=1,wall.checked=!0);a.className=N?"haswall":"";resetgrid()};top.wall&&(wall.onclick=function(){wall.checked?(N=1,C=puzzles[0][3]=1):(N=C=0,xa=1,ik.checked=!0,puzzles[0][3]=0);a.className=N?"haswall":"";resetgrid()});top.wrap&&(wrap.onclick=function(){O=puzzles[0][2]=wrap.checked||0;puzzle0.className="z q v "+(O?"w":"");resetgrid()});print=function(k){var n="";for(f=0;f<T;f++)for(m=0;m<T;m++)n=top[k+"0"+f+m].style.background&&top[k+"0"+f+m].style.background.match(/255/)?n+0:n+1;return n};ij.onclick=function(){var f=[];f.push(T);f.push(G);f.push(O?1:0);f.push(N?print("w"):"");f.push(ik.checked?print("g"):"");open("//twitter.com/intent/tweet?text=I%20made%20a%20level%20for%20@MaximeEuziere's%20%23js13k%20game%20LOSSST!%0APlay%20here:%20js13kgames.com%2Fentries%2Flossst%0AMy%20level:%20js13kgames.com%2Fgames%2Flossst%23"+f+"%0A%23LOSSSTlevels")}},100));"px"!=W||y.lossst_x?(a.style.transition="transform 1s,transform-origin 1s",Ca()):(I=1,setTimeout(function(){Ca();Y();M0.style.transition="transform .5s"},2E3),setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(0);F.push(F[t]);t++;Y()},5500+wa),setTimeout(function(){M0.style.transition="";R0.style.transition="transform .2s";R0.style.transform="rotateZ("+-Math.PI/4+"rad)"},6500+wa),setTimeout(function(){R0.style.transform="rotateZ("+Math.PI/4+"rad)"},7E3+wa),setTimeout(function(){R0.style.transform=""},7500+wa),setTimeout(function(){S0.style.transition=R0.style.transition=""},8E3+wa),setTimeout(function(){clearInterval(x);z||(I=0);hpx0.style.opacity=1},8400),setTimeout(function(){a.style.transition="transform 1s,transform-origin 1s";y.lossst_x=20;y.lossst_y=10;b.innerHTML+="<div style='position:fixed;font:8vh a;top:3vh;right:3vh'onclick=location='index.html'>\u00d7";D&&(kU.className=kD.className=kL.className=kR.className="",y.lossst_w=1)},9E3));Y()}function Ca(){var k=C&&!H?ia:ie;k.innerHTML="";q=[];w=[];E=[];F=[];t=G-1;if("py"==W)for(i=0;i<G;i++)q[t-i]=1-i,w[t-i]=10,E[t-i]=0,F[t-i]=-Math.PI/2;else if(H)for(i=0;i<G;i++)q[t-i]=13-i,w[t-i]=12,E[t-i]=0,F[t-i]=-Math.PI/2;else if(y.lossst_x){var f=+y.lossst_x,n=+y.lossst_y,m=+y.lossst_z;"px"==W&&2>y.lossst_x&&(m=y.lossst_z=1);if("pI"==W&&z&&1==C)for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i-1,F[t-i]=0;else if(2>f)for(i=0;i<G;i++)q[t-i]=f-i,w[t-i]=n,E[t-i]=m,F[t-i]=-Math.PI/2;else if(f>X-2)for(i=0;i<G;i++)q[t-i]=f+i,w[t-i]=n,E[t-i]=m,F[t-i]=Math.PI/2;else if(2>n)for(i=0;i<G;i++)q[t-i]=f,w[t-i]=n-i,E[t-i]=m,F[t-i]=0;else if(n>h-2)for(i=0;i<G;i++)q[t-i]=f,w[t-i]=n+i,E[t-i]=m,F[t-i]=0;else for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i,F[t-i]=0}else if("px"==W)for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i-1,F[t-i]=0;for(i=0;i<Math.max(G+4,16);i++)k.innerHTML+="<div id=M"+i+" class=sm style=transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:"+(v-.7)+"vh;height:"+(v-.7)+"vh><div class=ss id=S"+i+"></div><div id=R"+i+' class=sr><div class="z k"id=T'+i+">"+(1>i?"<div style=background:none;box-shadow:none;color:red;font-size:4vh;text-align:center;transform:rotateZ(180deg)translateY(-4vh)translateZ(1.5vh)>Y</div>":"")+'<div class=u style="font:'+.5*v+"vh/"+.8*v+'vh a">'+(1>i?"\ud83d\udc40":"")+"</div><div class=f>"+(1>i?"\u203f":"")+"</div><div class=r></div><div class=l></div><div class=b>"}function Y(k){for(var f={a:0};f.a<G;f={a:f.a,j:f.j,m:f.m,o:f.o},f.a++)if(!k){var n=oldx=oldy=oldz=newx=newy=newz=0;O&&T&&(q[t-f.a-1]==R&&q[t-f.a]==R+T-1?(n=1,oldx=R-1,newx=R+T,oldy=newy=w[t-f.a],oldz=newz=E[t-f.a]):q[t-f.a-1]==R+T-1&&q[t-f.a]==R?(n=1,oldx=R+T,newx=R-1,oldy=newy=w[t-f.a],oldz=newz=E[t-f.a]):w[t-f.a-1]==S&&w[t-f.a]==S+T-1?(n=1,oldy=S-1,newy=S+T,oldx=newx=q[t-f.a],oldz=newz=E[t-f.a]):w[t-f.a-1]==S+T-1&&w[t-f.a]==S?(n=1,oldy=S+T,newy=S-1,oldx=newx=q[t-f.a],oldz=newz=E[t-f.a]):0==E[t-f.a-1]&&E[t-f.a]==T-1?(n=1,oldz=-1,newz=T,oldx=newx=q[t-f.a],oldy=newy=w[t-f.a]):E[t-f.a-1]==T-1&&0==E[t-f.a]&&(n=1,oldz=T,newz=-1,oldx=newx=q[t-f.a],oldy=newy=w[t-f.a]));if(n)top["R"+f.a].style.transform="rotateZ("+F[t-f.a]+"rad)",top["M"+f.a].style.transform="translateX("+(oldx*v+.5)+"vh)translateY("+(oldy*v+.5)+"vh)translateZ("+(oldz*v+.5)+"vh)scale(.01)scaleZ(.01)",setTimeout(function(f){return function(){top["M"+f.a].style.transition="none"}}(f),90),f.j=newx,f.m=newy,f.o=newz,setTimeout(function(f){return function(){top["M"+f.a].style.transform="translateX("+(f.j*v+.5)+"vh)translateY("+(f.m*v+.5)+"vh)translateZ("+(f.o*v+.5)+"vh)scale(.01)"}}(f),100),setTimeout(function(f){return function(){top["M"+f.a].style.transition="";top["M"+f.a].style.transform="translateX("+(q[t-f.a]*v+.25)+"vh)translateY("+w[t-f.a]*v+"vh)translateZ("+(E[t-f.a]*v+.5)+"vh)"}}(f),150);else try{top["M"+f.a].style.transform="translateX("+(q[t-f.a]*v+.25)+"vh)translateY("+w[t-f.a]*v+"vh)translateZ("+(E[t-f.a]*v+.5)+"vh)",top["R"+f.a].style.transform="rotateZ("+F[t-f.a]+"rad)"}catch(A){}try{top["S"+f.a].style.display=0==E[t-f.a]?"":"none"}catch(A){}}H?a.style.transform="translateX(-100vh)translateY(-37vh)translateZ(-5vh)rotateX(33deg)":null===J||y["lossst_p"+W+J]?(a.style.transform="translateX("+-q[t]*v+"vh)translateY("+-w[t]*v+"vh)translateZ(45vh)rotateX(40deg)rotateZ("+g+"rad)",a.style.transformOrigin=""+q[t]*v+"vh "+w[t]*v+"vh"):(a.style.transform="translateX("+(-(R+puzzles[J][0]/2)*v+5)+"vh)translateY("+(-(S+puzzles[J][0]/2)*v+8)+"vh)translateZ("+(90-puzzles[J][0]*(v+3))+"vh)rotateX(30deg)rotateZ("+g+"rad)",a.style.transformOrigin=""+((R+puzzles[J][0]/2)*v+5)+"vh "+((S+puzzles[J][0]/2-1)*v+8)+"vh");f=C?1:0;for(k=0;k<G;k++){if(0>=E[t-k]){f=0;break}for(m in cubes)cubes[m][0]==q[t-k]&&cubes[m][1]==w[t-k]&&1==E[t-k]&&(f=0)}if(f){for(k=0;k<G;k++)E[t-k]--;try{Y()}catch(A){for(var m=2*G;m--;)q.pop(),w.pop(),E.pop(),F.pop(),t--;Aa=0;Y()}}f=q[t];n=w[t];for(k in doors)(doors[k][10]&&C||!doors[k][10]&&!C)&&top["d"+W+k]&&0<doors[k][3]&&G>=doors[k][3]&&4>Math.hypot(f-doors[k][0],n-doors[k][1])&&!y["lossst_d"+W+k]&&(top["d"+W+k].className="do s",!doors[k][6]||"px"==W&&2<k||ja(pa).play(),y["lossst_d"+W+k]=1),top["d"+W+k]&&"do s"==top["d"+W+k].className&&2>Math.hypot(f-doors[k][0],n-doors[k][1])&&(y.lossst_p=W=doors[k][5],setTimeout(Ba,600),y.lossst_x=doors[k][7],y.lossst_y=doors[k][8],y.lossst_z=0);null!==J&&Da();H||(J=null);H||(L=[],M=[]);for(p in puzzles)if(f>=puzzles[p][5]&&f<puzzles[p][5]+puzzles[p][0]&&n>=puzzles[p][6]&&n<puzzles[p][6]+puzzles[p][0]){J=+p;Q=0;y["lossst_p"+W+p]&&(Q=1);K=p;xa=!!puzzles[p][4];N=!!puzzles[p][3];O=!!puzzles[p][2];R=puzzles[p][5];S=puzzles[p][6];T=puzzles[p][0];for(k=0;k<T;k++)for(L[k]=[],M[k]=[],m=0;m<T;m++)puzzles[p][3]&&(M[k][m]=+puzzles[p][3][k*puzzles[p][0]+m]),puzzles[p][4]&&(L[k][m]=+puzzles[p][4][k*puzzles[p][0]+m]);Da()}}function Z(k,f,n){V=0;if(0>k||k>=X||0>f||f>=h)V=1;for(var m in trees)k>=trees[m][0]-1&&k<=trees[m][0]&&f==trees[m][1]&&3>E[t]&&(V=1);for(m in hints)k>=hints[m][1]&&k<=hints[m][1]+3&&f==hints[m][2]&&G>=hints[m][3]&&(!hints[m][4]||G<=hints[m][4])&&(C&&hints[m][5]||!C&&!hints[m][5])&&(V=1);for(m in apples)if(y["lossst_A"+W+m]&&k==apples[m][0]&&f==apples[m][1]&&0==E[t])if(ja(ka).play(),"pN"==W){x=setInterval(sa.forward,150);y.lossst_E=1;setTimeout(function(){I=1;as0.remove();a0.style.transform="translateY(319vh)translateZ(2vh)rotateX(-65deg)rotateY(90deg)";a0.style.transition=a.style.transition="10s";a0.style.transform="translateY(15vh)translateZ(2vh)rotateX(-65deg)";a.style.transform=D?"translateX(-133vh)translateY(-249vh)translateZ(-373vh)rotateZ(90deg)":"translateX(-141vh)translateY(-227vh)translateZ(-185vh)rotateZ(90deg)"},200);var A={},P;for(P in puzzles)A.g=P,setTimeout(function(f){return function(){top["B"+f.g].style.transition=".5s";top["B"+f.g].style.transform="translateY(-125%)"}}(A),[1450,2500,3800,5400][A.g]),A={g:A.g};setTimeout(function(){clearInterval(va);y.lossst_E=1;y.lossst_e=1;b.style.background="#000";y.lossst_s=0;b.innerHTML="<div id=iv style=perspective:90vh><center id=menu style=width:75vh;transform:translateX(-38vh)translateY(-35vh)rotateX(-28deg)><span style=font-size:4vh;line-height:5vh><h1>Congrats!</h1><br>You completed the game in<br>"+ta+" seconds and "+ua+" moves!<br><br><a href=//twitter.com/intent/tweet?text=I%20played%20LOSSST,%20a%20%23js13k%20game%20by%20by%20@MaximeEuziere%0Amy%20score:%20"+ta+"%20seconds%20and%20"+ua+"%20moves!%0Ajs13kgames.com%2Fentries%2Flossst target=_blank style=color:#def;font-size:4vh>TWEET YOUR SCORE</a><br><br>Dev record:<br>854 seconds, 2452 moves<br><br>3D puzzle editor unlocked!<br><br><a href=. style=font-size:4vh>MAIN MENU"},15E3);n=document.querySelectorAll(".o");A={};for(var aa in n){A.h=aa;try{2==n[A.h].style.backgroundColor.match(/68/g).length&&setTimeout(function(f){return function(){top[n[f.h].id].style.background="#a00"}}(A),8E3+10*A.h)}catch(na){}A={h:A.h}}}else if(delete apples[m],top["a"+m].remove(),top["as"+m].remove(),G++,y.lossst_S=G,y["lossst_a"+W+m]=1,"pF"==W&&16==G){I=1;x=setInterval(sa.forward,150);z=1;a.style.transition="5s";a.style.transform="translateX(-180vh)translateY(-53vh)translateZ("+(D?-422:-180)+"vh)rotateZ(180deg)";setTimeout(function(){a.style.transition="1s";I=z=0;Y();ig.innerHTML+="<div class=t style=left:190vh;transform:translateY(50vh)rotateX(-55deg)translateY(-4vh)>\u2190<br>Exit";clearInterval(x)},1E4);n=document.querySelectorAll(".o");A={};for(var ea in n){A.f=ea;try{n[A.f].id.match(/g\d\d\d$/)&&2==n[A.f].style.backgroundColor.match(/68/g).length&&setTimeout(function(f){return function(){top[n[f.f].id].style.background="#a00"}}(A),5500+10*A.f)}catch(na){}A={f:A.f}}}for(m in cubes)k==cubes[m][0]&&f==cubes[m][1]&&0==n&&(V=1);for(m in emoji)"pC"!=W&&k==emoji[m][1]&&f==emoji[m][2]&&0==n&&(V=1);for(m in doors)top["d"+W+m]&&"do s"==top["d"+W+m].className&&2>=Math.hypot(k-doors[m][0],f-doors[m][1])&&(V=0);hitcube2=0;for(m=G-2;0<m;m--)q[t-m]==k&&w[t-m]==f&&E[t-m]==n&&(V=1,1==m&&(hitcube2=1));for(p in puzzles)puzzles[p][3]&&k>=puzzles[p][5]&&k<puzzles[p][5]+puzzles[p][0]&&(f==puzzles[p][6]-1&&w[t]==puzzles[p][6]&&!puzzles[p][2]||f==puzzles[p][6]&&w[t]==puzzles[p][6]-1)&&(V=1);if("pI"==W&&18==k&&!C){z=C=V=I=1;clearInterval(x);sa=ra;_=$=0;x=setInterval(ra.forward,250);y.lossst_s=1;y.lossst_S=G=5;for(k=0;21>k;k++)cubes.push([q[t-k],w[t-k]]),top["M"+k].id="",top["R"+k].id="",top["S"+k].id="",top["T"+k].id="";a.style.transition="2s";Ca();Y();a.style.transform="translateX(-105vh)translateY(-51vh)translateZ(80vh)rotateX(45deg)";a.style.transformOrigin="140vh 70vh";setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(0);F.push(F[t]);t++;Y()},3E3);setTimeout(function(){ii.innerHTML="Daddy!"},4E3);setTimeout(function(){ii.innerHTML=""},6E3);setTimeout(function(){ii.innerHTML="I lossst my soccer ball!"},7E3);setTimeout(function(){ii.innerHTML=""},9E3);setTimeout(function(){ii.innerHTML="But I found new moves!"},1E4);setTimeout(function(){ii.innerHTML="";z=I=0;clearInterval(x);a.style.transition="1s";Y();Ea();D&&(kT.className=kB.className="",y.lossst_B=1)},13500)}}function Da(){if(!Q&&null!==J){solved=1;H&&(ij.disabled=0);for(i=0;i<T;i++)for(j=0;j<T;j++)try{top["g"+K+i+j]&&(top["g"+K+i+j].style.background=L[i][j]?"#000":"#fff"),top["w"+K+i+j]&&(top["w"+K+i+j].style.background=M[i][j]?"#000":"#fff")}catch(m){}if(q[t]<R||q[t]>R+T-1||w[t]<S||w[t]>S+T-1||0>E[t]||E[t]>T-1)H&&(ij.disabled=1);else{for(i=0;i<G;i++){top["g"+K+(w[t-i]-S)+(q[t-i]-R)]&&(top["g"+K+(w[t-i]-S)+(q[t-i]-R)].style.background=L[w[t-i]-S][q[t-i]-R]?"#080":H?"#44c":"#f00");w[t-i]>=S&&w[t-i]<S+T&&top["w"+K+(T-1-E[t-i])+(q[t-i]-R)]&&(top["w"+K+(T-1-E[t-i])+(q[t-i]-R)].style.background=M[T-1-E[t-i]][q[t-i]-R]?"#080":H?"#44c":"#f00");if(q[t-i]<R||q[t-i]>R+T-1||w[t-i]<S||w[t-i]>S+T-1||E[t-i]>T-1)H&&(ij.disabled=1),solved=0;xa&&L[w[t-i]-S]&&!L[w[t-i]-S][q[t-i]-R]&&(solved=0);N&&M[T-1-E[t-i]]&&!M[T-1-E[t-i]][q[t-i]-R]&&(solved=0)}for(i=0;i<T;i++)for(j=0;j<T;j++){try{xa&&3==top["g"+K+i+j].style.backgroundColor.match(/0/g).length&&(solved=0)}catch(m){}try{N&&3==top["w"+K+i+j].style.backgroundColor.match(/0/g).length&&(solved=0)}catch(m){}}if(solved){Q=H?0:1;puzzles[J][2]=0;top["puzzle"+J].classList.remove("w");H||(y["lossst_p"+W+J]=1);for(i=0;i<T;i++)for(j=0;j<T;j++){try{top["g"+K+i+j].style.background=L[i][j]?"#44c":"#fd0"}catch(m){}try{top["w"+K+i+j].style.background=M[i][j]?"#44c":"#fd0"}catch(m){}}H||(ja(oa).play(),ya++,y.lossst_T=ya);var k=1,f={},n;for(n in cubes)f.b=n,cubes[f.b][0]>=puzzles[J][5]&&cubes[f.b][0]<puzzles[J][5]+puzzles[J][0]&&cubes[f.b][1]>=puzzles[J][6]&&cubes[f.b][1]<puzzles[J][6]+puzzles[J][0]&&(delete cubes[f.b],k++,setTimeout(function(f){return function(){top["cube"+f.b].remove()}}(f),200*k)),f={b:f.b}}}}}function Ea(){for(var k in apples)if(!y["lossst_A"+W+k]&&(0<apples[k][3]&&apples[k][3]==G||0<apples[k][4]&&apples[k][4]==ya)){I=1;D&&"px"==W&&1==k&&(kw.className="",y.lossst_b=1);var f=setTimeout;a.style.transform="translateX("+-apples[k][0]*v+"vh)translateY("+-apples[k][1]*v+"vh)translateZ(50vh)rotateX(35deg)";y["lossst_A"+W+k]=1;a.style.transformOrigin=""+apples[k][0]*v+"vh "+apples[k][1]*v+"vh";f(void 0,250);f=setTimeout;top["a"+k].className="j g";top["as"+k].className="e p";f(void 0,800);setTimeout(function(){ja(la).play()},850);setTimeout(function(){Y();z||(I=0)},2E3)}}function Fa(){U=0;H||(J=null);for(p in puzzles)q[t]>=puzzles[p][5]&&q[t]<puzzles[p][5]+puzzles[p][0]&&w[t]>=puzzles[p][6]&&w[t]<puzzles[p][6]+puzzles[p][0]&&0<=E[t]&&E[t]<puzzles[p][0]&&(J=+p,U=1)}onkeydown=function(k){top["lurd************************l**r************l*d***u**u"[k.which-37]]=1;18==k.which&&(B=1);16==k.which&&(s=1);17==k.which&&(c=1);if(!I){if(49==k.which||97==k.which)-1<g&&g--,ca();if(50==k.which||98==k.which)g=0,ca();if(51==k.which||99==k.which)1>g&&g++,ca()}Fa();U?Da():Aa=0;if(82==k.which&&U){if(Aa<=t)for(var f=Aa;f<=t;f++)q.pop(),w.pop(),E.pop(),F.pop(),setTimeout(function(){sa.back()},70*(t-f));t=Aa-1;Aa=0;Y();Da();y.lossst_M=++ua}else if(116!=k.which&&82!=k.which&&17!=k.which&&123!=k.which&&k.preventDefault&&k.preventDefault(),!I){V=0;if(l)!Q&&O&&U&&q[t]==R?(Z(R+T-1,w[t],E[t]),V||(q.push(R+T-1),w.push(w[t]),E.push(E[t]),F.push(Math.PI/2),t++)):(Z(q[t]-1,w[t],E[t]),V||(q.push(q[t]-1),w.push(w[t]),E.push(E[t]),F.push(Math.PI/2),t++));else if(r)!Q&&O&&U&&q[t]==R+T-1?(Z(R,w[t],E[t]),V||(q.push(R),w.push(w[t]),E.push(E[t]),F.push(-Math.PI/2),t++)):(Z(q[t]+1,w[t],E[t]),V||(q.push(q[t]+1),w.push(w[t]),E.push(E[t]),F.push(-Math.PI/2),t++));else if(u)!Q&&O&&U&&w[t]==S?(Z(q[t],S+T-1,E[t]),V||(q.push(q[t]),w.push(S+T-1),E.push(E[t]),F.push(Math.PI),t++)):(Z(q[t],w[t]-1,E[t]),V||(q.push(q[t]),w.push(w[t]-1),E.push(E[t]),F.push(Math.PI),t++));else if(d)!Q&&O&&U&&w[t]==S+T-1?(Z(q[t],S,E[t]),V||(q.push(q[t]),w.push(S),E.push(E[t]),F.push(0),t++)):(Z(q[t],w[t]+1,E[t]),V||(q.push(q[t]),w.push(w[t]+1),E.push(E[t]),F.push(0),t++));else if((C||N)&&s){if(!U){k=G-1;for(f in cubes)cubes[f][0]==q[t]&&cubes[f][1]==w[t]&&k++;if(E[t]==k)return}!Q&&O&&U&&E[t]==T-1?(Z(q[t],w[t],0),V||(q.push(q[t]),w.push(w[t]),E.push(0),F.push(F[t]),t++)):(Z(q[t],w[t],E[t]+1),V||(q.push(q[t]),w.push(w[t]),E.push(E[t]+1),F.push(F[t]),t++))}else(C||N)&&c?!Q&&O&&U&&0==E[t]?(Z(q[t],w[t],T-1),V||(q.push(q[t]),w.push(w[t]),E.push(T-1),F.push(F[t]),t++)):0==E[t]?V=1:(Z(q[t],w[t],E[t]-1),V||(q.push(q[t]),w.push(w[t]),E.push(E[t]-1),F.push(F[t]),t++)):B&&t>G&&(F.pop(),q.pop(),w.pop(),E.pop(),t--);V&&!I&&(I=1,setTimeout(function(){z||(I=0)},150),!(-1<q[t]&&q[t]<X&&-1<w[t]&&w[t]<h)||"pI"==W&&!C&&16<q[t]||hitcube2||ja(ma).play());if(!V&&!z&&(u||r||d||l||s||c||B)){y.lossst_M=++ua;Da();Y();B?t>G&&sa.back():(C||!s&&!c&&!C)&&sa.forward();Y(1);Ea();I||(I=1,setTimeout(function(){z||(I=0)},150));if("px"==W&&(C||14<=G)&&20==q[t]&&10==w[t]){I=1;var n=0;for(f=0;f<G;f++)setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(--n);F.push(F[t]);t++;Y()},150*f);setTimeout(function(){AA("pz",1)},160*G);y.lossst_x=20;y.lossst_y=10}Fa();U&&!Aa&&(Aa=t)}}};onkeyup=function(){u=r=d=l=s=c=B=0};onload=function(){1<location.hash.length?AA("py",1):(setTimeout(function(){x=setInterval(function(){sa.forward()},500)},200),b.innerHTML="<center id=e>\ud83d\udc40</center>\n<center id=iw></center>\n<div id=iv style=perspective:30vh>\n<center id=menu>\n<h1>LOSSST</h1>\n<span onclick=newgame()>New game</span><br>\n"+(y.lossst_a&&!y.lossst_E?"<span onclick=AA(0,1)>Continue</span><br>":"")+"\n<span onclick=AA(\"pz\",1)>Puzzle editor</span><br>\n<span onclick=top.open('//goo.gl/iKqoCS')>Bonus",newgame=function(){for(i in localStorage)0==i.indexOf("lossst")&&-1==i.indexOf("e")&&delete localStorage[i];y.lossst_a=1;menu.innerHTML="<br><br><span onclick=intro(0)>Desssktop</span><br><br><span onclick=intro(1)>Mobile"},intro=function(k){clearInterval(x);_=$=0;x=setInterval(sa.forward,250);y.lossst_m=D=k;y.lossst_S=G=5;ta=y.lossst_t=0;ua=y.lossst_M=0;y.lossst_M=0;y.lossst_t=0;menu.innerHTML="";setTimeout(function(){e.style.margin=0},500);dir=1;inter=setInterval(function(){e.style.opacity=0;setTimeout(function(){e.style.opacity=1;dir=-dir;e.style.transform="scaleX("+dir+")"},150)},3E3);setTimeout(function(){iw.innerHTML="I lossst my kid !"},2E3);setTimeout(function(){iw.innerHTML=""},5E3);setTimeout(function(){clearInterval(inter);e.style.margin="-80vh 0 0"},7E3);setTimeout(AA,7500)})};AA=function(k,f){if(0===k||"pz"==k)clearInterval(x),_=$=0;"pz"==k&&(H=1,J=0);W=k||y.lossst_p||"px";b.outerHTML="<body id=b class="+W+">\n<div id=iv>\n<div id=a style=transform:translateX(-97vh)translateY(-50vh)rotateZ(90deg)translateZ(119vh);transform-origin:100vh+50vh>\n<div id=ig>"+(H?"<div class=t style=width:60vh;transform:translateX(70vh)translateY(1vh)translateZ(2vh)rotateX(-42deg)>\n<label style=width:100%;text-align:center>Create a pattern with the snake and share it !</label>\n<br style=line-height:6vh>\n<div style=text-align:left;padding-left:5vh>\n<label>Grid</label> <input id=ib type=range value=5 min=3 max=8 step=1>\n<span id=gridval>5</span>\n<br>\n<label>Snake</label> <input id=iq type=range value=5 min=5 max=40 step=1>\n<span id=it>5</span>\n</div>\n<input type=checkbox id=ik checked> <label for=ik id=im>ground</label>\n"+(y.lossst_e||y.lossst_s&&6<y.lossst_S?"<input type=checkbox id=wall> <label for=wall>wall</label>":"")+"\n"+(y.lossst_e||y.lossst_s?"<input type=checkbox id=wrap> <label for=wrap>wrap</label>":"")+"\n<br>\n<center>\n<button id=ij disabled>Share</button>\n</center>\n</div>":"")+"\n</div>\n<div id=ih></div>\n<div id=ie></div>\n<div id=ia></div>\n</div>\n</div>\n<center id=iz style='font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw'>\n<button id=kU class=h ontouchstart=TS(38) ontouchend=TE(38)>\u2191</button>\n<button id=kD class=h ontouchstart=TS(40) ontouchend=TE(40)>\u2193</button>\n<button id=kL class=h ontouchstart=TS(37) ontouchend=TE(37)>\u2190</button>\n<button id=kR class=h ontouchstart=TS(39) ontouchend=TE(39)>\u2192</button>\n<button id=kT class=h ontouchstart=TS(16) ontouchend=TE(16)>\u2b06\ufe0e</button>\n<button id=kB class=h ontouchstart=TS(17) ontouchend=TE(17)>\u2b07\ufe0e</button>\n<button id=kw class=h ontouchstart=TS(18) ontouchend=TE(18)>\u21a9</button>\n<button id=kx class=h ontouchstart=TS(82) ontouchend=TE(82)>\u00d7</button>\n<button id=ky class=h ontouchstart=TS(49) ontouchend=TE(49)>\u21bb</button>\n<button id=kz class=h ontouchstart=TS(51) ontouchend=TE(51)>\u21ba</button>\n</center>\n<center id=ii style='font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw'>";y.lossst_Apx0=1;Ba();if(D&&"py"==W||y.lossst_w)kU.className=kD.className=kL.className=kR.className="";if(D&&"py"==W||y.lossst_b)kw.className="";if(D&&"py"==W||y.lossst_r)kr.className="";if(D&&"py"==W||y.lossst_B)kT.className="",kB.className="";if(D&&"py"==W||y.lossst_c)ky.className="",kz.className="";H||(va=setInterval(function(){y.lossst_t=++ta},1E3));f&&(b.innerHTML+="<div style='position:fixed;font:8vh a;top:3vh;right:3vh'onclick=location='.'>\u00d7")}</script><style>@keyframes move{0%,100%{transform:rotateY(-10deg)}50%{transform:rotateY(10deg)}}*{margin:0;padding:0;font:2.5vh/5.5vh arial,sans-serif;vertical-align:middle;box-sizing:border-box;-webkit-touch-callout:none;-webkit-user-select:none;-webkit-tap-highlight-color:transparent;user-select:none;cursor:pointer;touch-action:manipulation}html,body{height:100%;background:#000;overflow:hidden;background:radial-gradient(#def 25%,#7ce)}a{color:#def}input,button{position:relative;z-index:2}input[type=range]::-webkit-slider-runnable-track,input[type=range]::-webkit-slider-thumb{background:#888;border:1px solid #000}input[type=range]::-moz-range-track,input[type=range]::-moz-range-thumb{background:#888;border:1px solid #000}#iv{width:0;height:0;perspective:120vh;position:absolute;top:50%;left:50%}#iv *{transform-style:preserve-3d}#a{width:0;height:0;transform-origin:18vh 0%;transition:transform 1s,transform-origin 1s}.z{position:fixed;top:0;left:0}.z>div{width:100%;height:100%;position:fixed}.z .u{transform:rotateY(90deg)translateX(-100%)rotateY(-90deg)}.z .l{transform:rotateX(-90deg)translateY(-50%)translateX(-50%)rotateY(-90deg)}.z .r{transform:rotateX(-90deg)translateY(-50%)translateX(50%)rotateY(90deg)}.z .f{transform:translateY(50%)rotateX(-90deg)translateY(-50%)}.z .b{transform:translateY(-50%)rotateX(-90deg)translateY(-50%)rotateY(180deg)}.z.q{width:32vh;height:32vh;transform:none}.z.q>div{background:transparent}.z.q .b{transition:opacity .5s;transform:translateY(-50%)rotateX(-90deg)translateY(-52%)}.z.q.w .d,.z.q .d{transition:opacity .5s;background:#0c5b0c}.sm,.sr{transform-origin:50% 50%;width:100%;height:100%;position:fixed}.sm{transition:transform .15s}.z.k{width:100%;height:100%}.z.k>div{box-shadow:0 0 0 .1vh #000 inset;text-align:center}.z.k .f{line-height:3vh}#ie .z.k>div{background:#FFA500}#ie .z.k .u{background:#dF8500}#ia .z.k>div,#a.haswall .z.k>div{background:#444}#ia .z.k .u,#a.haswall .z.k .u{background:#333}#ia .z.k .f{color:#fff}.ss{position:fixed;width:100%;height:100%;background:rgba(0,0,0,.25);transform:translateX(14%)translateY(14%)translateZ(-.25vh)}label{display:inline-block;width:22%}button{display:inline-block;width:23%;border:.2vh solid #000;margin:1vh 2% 0 0}input[type=range]{width:60%}#form{width:50vh;margin:auto}.o{float:left;outline:.4vh solid #888;opacity:0;transition:opacity .5s;background:#fff}.z.q.v{transform:translateZ(.1vh)}.z.q.v .o{opacity:1}.z.q.v .d{transform:none}.z.q.w>div{background:linear-gradient(45deg,rgba(200,200,200,.1),rgba(200,200,200,.3));box-shadow:0 0 .1vh rgba(255,255,255,.5)}.j{position:fixed;transform-origin:50% 100%;bottom:0}.m{animation:move 3s infinite}.e{color:rgba(0,0,0,.002);text-shadow:0px 0px rgba(0,0,0,.25);position:fixed;transform-origin:50% 100%;bottom:0}.tr,.h{font:11vh/12vh a}.a .tr{font:15vh/11vh a}.a .h,.c .h,.i .h,.a .p,.c .p,.i .p,.c .x.b,#iz button.h{display:none}.g,.g *,.p{font:4vh/5vh a;transition:opacity .5s .5s}.n,.n *{font:5vh/6vh a}.g.h,.p.h{opacity:0}.a .g{font:6vh/5vh a}.do{position:fixed;transform-origin:0% 100%;width:0;height:0}.do .y{position:fixed;width:15vh;height:20vh;background:radial-gradient(2vh at 90% 50%,gold 35%,transparent 40%),#a22;border-radius:1vh 1vh 0 0;transform-origin:0% 100%;transform:translateX(-7.5vh)translateY(-12.5vh)rotateX(-90deg);text-align:center;font-size:6vh;line-height:12vh;color:#fff;transition:transform 1s}.do .y.d1{background:radial-gradient(2vh at 90% 50%,gold 35%,transparent 40%),#222}.do.s .y{transform:translateX(-7.5vh)translateY(-12.5vh)rotateX(-90deg)rotateY(90deg)}.z.x div{background:linear-gradient(45deg,#640,#583808)}.z.x div.u{transform:rotateY(90deg)translateX(-5.4vh)translateZ(-.1vh)rotateY(-90deg);background:radial-gradient(#3F7D1F,#034301);background-size:280vh 140vh;width:5.3vh;height:5.3vh}.t{position:fixed;background:#fff;padding:.7vh;width:20vh;font:2vh/2.5vh arial,sans-serif;transform-origin:50% 100%;text-align:center;box-shadow:0 0 0 .2vh #000 inset;bottom:0}.t br{font:0/0 a}.t:before{content:"";width:3vh;height:3vh;background:#750;position:absolute;bottom:-3vh;left:8vh;border-left:.2vh solid;border-right:.2vh solid}.pz .t:before{left:28vh}label{text-align:left}#a{transition:transform 6s ease-in,transform-origin 6s ease-in;width:280vh;height:140vh;background:radial-gradient(#4F8D2F,#136321);border-radius:3vh}.px #a,.pI #a{background:radial-gradient(10vh at 51.3% 52%,#000 40%,transparent 50%),radial-gradient(15vh at 51.3% 52%,#640 40%,transparent 50%),radial-gradient(#4F8D2F,#136321)}#e{margin:99vh 0 0;transition:margin 1s;font:10vh/80vh a}#iw{font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw}#menu{color:#fff;width:55vh;transform:translateX(-27vh)translateY(-20vh)rotateX(-17deg)}#menu span{font:7vh/12vh arial,sans-serif}#menu h1{font:13vh/16vh arial,sans-serif;text-shadow:.1vh -.1vh #777,.2vh -.2vh #777,.3vh -.3vh #777}#menu span:hover{color:#ace;transform:rotateX(-10deg)}.pN #menu span:hover{color:#fff}#iz button{position:fixed;width:10vh;height:10vh;text-align:center;font:6vh/10vh a}#kU{right:14vh;bottom:14vh}#kD{right:14vh;bottom:2vh}#kL{right:26vh;bottom:2vh}#kR{right:2vh;bottom:2vh}#kT{left:2vh;top:2vh}#kB{left:2vh;top:14vh}#kw{bottom:2vh;left:2vh}#kx{bottom:14vh;left:2vh}#ky{top:2vh;right:18vh}#kz{top:2vh;right:6vh}#hpx0{opacity:0;transition:opacity .5s}</style></head><body id="b" style="background:#000"><center id="e" style="margin: 0px;">👀</center>
<center id="iw">I lossst my kid !</center>
<div id="iv" style="perspective:30vh">
<center id="menu"></center></div><div id="lo-engage-ext-container"><div data-reactroot=""></div></div><link rel="stylesheet" type="text/css" href="chrome-extension://liecbddmkiiihnedobmlmillhodjkdmb/css/content.css"></body></html><html><head><title>LOSSST</title><meta content="width=device-width,user-scalable=no" name="viewport"><script>u=r=d=l=s=c=B=0;trees=[];apples=[];doors=[];cubes=[];hints=[];emoji=[];puzzles=[];TS=function(k){ba[k]&&clearInterval(ba[k]);onkeydown({which:"+n+"});ba[k]=setInterval(function(){onkeydown({which:k})},150)};TE=function(k){setTimeout(function(){clearInterval(ba[k]);onkeyup()},150)};var g=0;function ca(){a.style.transform="translateX(-"+q[t]*v+"vh)translateY(-"+w[t]*v+"vh)translateZ(45vh)rotateX(40deg)rotateZ("+g+"rad)"}var x=$=_=0;function da(){var k=0;this.i=function(f){k+=f/48E3*Math.PI*2;return k%=2*Math.PI}}function fa(k){var f=new da,n=new da,m=.1;this.i=function(){if(!k)return 0;var A=k+.4*Math.sin(n.i(3));A=440*Math.pow(2,(A-57)/12);m*=.9998;A=f.i(A);return Math.pow(Math.sin(A),1)*m}}function ha(k){function f(){var f=k.length/2;for(_=$;0>_;)_+=f;_%=f;f=new fa(k[2*_+0].charCodeAt(0)-48);for(var A=new fa(k[2*_+1].charCodeAt(0)-48),P=[],aa=0;48E3>aa;aa++){var ea=f.i(),na=A.i(),za=.5*ea+na;P.push(ea+.5*na);P.push(za)}n(P).play()}function n(f){function k(f){f=m(f);return f[0]+f[1]}function m(f){for(var k=0,m="",n=0;4>n;n++,k+=8)m+=String.fromCharCode(f>>k&255);return m}var n=2*f.length;n="RIFF"+m(n+36)+"WAVEfmt "+m(16)+k(1)+k(2)+m(48E3)+m(192E3)+k(4)+k(16)+"data"+m(n);for(var ea in f)n+=k(32767*f[ea]);return new Audio("data:audio/wav;base64,"+btoa(n))}$=-1;this.forward=function(){$++;f()};this.back=function(){$--;f()}}function ja(k){function f(f){f=n(f);return f[0]+f[1]}function n(f){for(var k=0,m="",n=0;4>n;n++,k+=8)m+=String.fromCharCode(f>>k&255);return m}for(var m=[],A=0;;A++){var P=k(A);if(null===P)break;m.push(P)}k=2*m.length;k="RIFF"+n(k+36)+"WAVEfmt "+n(16)+f(1)+f(1)+n(48E3)+n(96E3)+f(2)+f(16)+"data"+n(k);for(A in m)k+=f(1E4*m[A]);return new Audio("data:audio/wav;base64,"+btoa(k))}function ka(k){return 1E4<k?null:(Math.pow(k,1.055)&128?1:-1)*Math.pow((1E4-k)/1E4,2)/2}function la(k){return 25E3<k?null:((k^k>>3^k*k*7.3^k<<4)&65535)/65536*((25E3-k)/25E3)/2}function ma(k){return 5E3<k?null:(Math.pow(k+1E3*Math.sin(.01*k),.8)&200?.5:-.5)*Math.pow((5E3-k)/5E3,1)/2}function oa(k){if(16E3<k)return null;var f=Math.pow((16E3-k)/16E3,2.1)/2;return(k<16E3/7?k+10*Math.sin(-k/900)&16:k&13)?f:-f}function pa(k){return 9E4<k?null:(Math.pow(k+1E3*Math.sin(.01*k),.8)&200?.5:-.5)*Math.pow((9E4-k)/9E4,1)/4}var qa=new ha("nbo0risiubv0uisirbs0ui0i0b0c0f0gniojrlsjuivjymvjubv0ui0i0j0m0n0rsgu0vnxnzgx0vnunsg0n0o0n0g0s0o0nrisjulvgufsjufscrbo0ni0j0b0i0j0il`n0ogqgs`u0vgxgz`0gxl0nsouqvsxuuev0u`0`0eq0slulqcs0qcs0qbs0q`s0njo0reseujv0xeveuj0v0e0q0j0i0g0e0cu0scq00bv0ufr0sgn0vbr0xiz0zjr0sgu0vbx0zgx0vbubsg{0zb{`z^{0zi{fzgv0xiu0vjs0ulr0sbn0oll0nbl0jfi0g00bxc0`zb0^{`0]z^0[z]0Zz[0]z^0`zb0]uf0bxi0f{l0izr0ozn0ixr0nrulrnbo0risiufs0r`o0nb0czf0gzi0gzf0cub0i0j0mvn0m0j0irbscrbs`rbs`sbrbo`q0sgugv`x0zg{gz`s0x`s0v`x0vcx0ues0q`l00eu00`x00ev00`u00eq00`o`"),ra=new ha("p0r0sdk0rco0pdk0p0r0sdw0rcs0pdk0p0r0sdk0rck0pdk0p0r0sdw0rcs0pd0f0g0iwg0bwgx0wgurrnspur0bufwgubs0pkrcsdk0rco0pkk0p0r0sdk0rco0pk0l0k0iwg0b0k0g0n0kzs0nxi0f|l0izr0p0n0lwk0dwg0k0p0k|s0pur0kuo0k0i0l0k0isd0krj0kpd0k0p0rsd0krl0opd0f0g0iskw0riw0pgw0nfw0u`s0rbs0pd0k"),y=localStorage,z=0,C=+y.lossst_s||0,sa=C?ra:qa,D=+y.lossst_m||0,ta=+y.lossst_t||0,ua=+y.lossst_M||0,va=0,ba=[],wa=0,v=5,t=0,q=[],w=[],E=[],F=[],G=y.lossst_S=+y.lossst_S||5,H=0,I=0,J=null,K="0",L=[],M=[],xa=0,N=0,O=0,Q=0,R=0,S=0,T=0,ya=+y.lossst_T||0,Aa=0,U=0,V=0,W="",X=h=0;function Ba(){var k;navigator.userAgent.match(/Mac/)&&(iv.className="a");navigator.userAgent.match(/Fire|Edg/)&&(iv.className+=" c",wa=4E3);D&&(iv.className+=" i");b.className=W;C&&!H&&(ie.innerHTML="");cubes=[];doors=[];trees=[];apples=[];hints=[];emoji=[];if("pz"==W)X=40,h=20,puzzles=[[5,,1,,"0000000000000000000000000",16,9]],G=5,C=0;else if("py"==W)h=X=20,puzzles=[eval("["+location.hash.slice(1).replace(/[01]{2,}/g,'"$&"')+"]")],G=puzzles[0][1],puzzles[0][5]=puzzles[0][6]=8,C=!!puzzles[0][3],hints=[["Move: arrow keys<br>"+(C?"Up/Down: "+(D?"\u2b06\ufe0e/\u2b07\ufe0e":"Shift/Ctrl")+"<br>":"")+"backtrack: "+(D?"\u21a9":"Alt")+"<br>Reset: R",1,5,1,0,C,0]],delete y.lossst_ppy0;else if("px"==W){X=40;h=20;trees=[[13,9,0],[7,13,0],[35,8,0]];apples=[[11,11,0,0,0],[2,12,0,6,0],[38,10,0,7,0]];doors=[[41,10,Math.PI/2,8,0,"pA",1,0,10,0,0],[20,-2,0,14,0,"pD",1,10,19,0,0],[-2,11,-Math.PI/2,6,0,"pJ",1,14,5,1,1],[20,21,Math.PI,14,0,"pC",1,22,1,0,0],[5,21,Math.PI,5,0,"pI",1,36,1,0,1]];puzzles=[];cubes=[];for(f=9;15>f;f++)for(m=0;5>m;m++)2==m&&14==f||2==m&&13==f||3==m&&13==f||3==m&&12==f||2==m&&12==f||cubes.push([m,f]);hints=[["Move with<br>arrow keys"+(D?"":" or WASD/ZQSD"),19,5,0,13,0],["Use the "+(D?"\u21a9":"Alt")+" key to backtrack",1,9,0,13,0,1],["Approach red doors with the right length to open them",35,14,0,13,0],["\u2191<br>New puzzles !<hr>Puzzle editor<br>\u2193",19,8,14,0,0],["\u2190<br>New puzzles !",1,9,6,7,1,1]];emoji=[["\ud83d\udc3f\ufe0f",30,7],["\ud83c\udf30\ufe0f",29,7]]}else if("pA"==W)X=40,h=20,trees=[[35,15,0]],apples=[[33,16,0,0,6],[34,17,0,0,6],[37,15,0,0,6]],cubes=[],doors=[[-2,10,-Math.PI/2,8,0,"px",0,39,11,0,0],[35,21,Math.PI,11,0,"pB",1,35,1,0,0]],puzzles=[[6,,0,,"000000001000001110001110001000000000",2,3],[6,,0,,"000000011000011100010000011000000000",14,3],[6,,0,,"000000000100001100011000011100000000",26,3],[5,,0,,"0000001110011100110000000",2,13],[6,,0,,"000000011000011000001100001100000000",14,13],[6,,0,,"000000000100001100001110001100000000",26,13]],hints=[["Cover the black patterns to solve puzzles",9,9,1,0],["Solve all the puzzles in the room to unlock a new door",21,9,1,0],["Your progress is saved automatically",34,9,1,0]],emoji=[["\ud83d\udc0c",11,10]];else if("pB"==W)D&&(kx.className="",y.lossst_r=1),X=40,h=20,trees=[[4,7,0]],apples=[[1,8,0,0,12],[2,9,0,0,12]],doors=[[35,-2,0,8,0,"pA",0,35,19,0,0],[-2,10,-Math.PI/2,13,0,"pC",1,39,10,0,0]],puzzles=[[6,,0,,"000000011110011010011110000000000000",8,2],[7,,0,,"0000000001110000111000001100000110000010000000000",18,2],[6,,0,,"000000011000011110001010001110000000",28,2],[6,,0,,"000000011100001110001110001100000000",8,12],[6,,0,,"000000001110001110001110001010000000",18,12],[6,,0,,"000000011110011110001100001000000000",28,12]],hints=[["If you get stuck, "+(D?"click \u00d7":"press R")+" to exit a puzzle",35,11,1,0]],cubes=[[11,4],[21,16]],emoji=[["\ud83d\udc08",4,14]];else if("pC"==W)X=40,h=20,trees=[[35,8,0]],apples=[[34,11,0,0,18]],doors=[[41,10,Math.PI/2,8,0,"pB",0,1,10,0,0],[22,-2,0,14,0,"px",1,20,19,0,0]],puzzles=[[7,,0,,"0000000000000001111000111100001111000100000000000",2,3],[7,,0,,"0000000001110000101000011100001110000110000000000",26,3],[6,,0,,"000000001110011110011010001110000000",14,3],[7,,0,,"0000000001100000111000011100001110000110000000000",2,12],[7,,0,,"0000000000000001111100101010011111000000000000000",14,12],[6,,0,,"000000011000011100011110011110000000",26,12]],hints=[["\u2191<br>After this room, you can try a puzzle editor and a new kind of puzzles !",22,11,13,0,0]],cubes=[[29,5],[30,8],[17,6],[15,4],[15,7],[29,13],[30,13],[30,14],[18,15],[16,15],[6,13],[6,17],[7,8],[6,8],[5,8],[3,7],[3,8],[7,6],[7,5]],emoji=[["\ud83e\udd8b<br><br>",29,13]];else if("pD"==W){h=X=20;trees=[[10,2,0]];doors=[[10,21,Math.PI,14,0,"px",0,20,0,0,0],[-2,5,-Math.PI/2,14,0,"pE",0,24,12,0,0]];puzzles=[[7,,1,,"0100010011111000000000000000000000001111100100010",7,7]];hints=[["Now you're thinking with wraps !",2,2,0,14,0]];for(f=0;20>f;f++)cubes.push([f,10]);emoji=[["\ud83d\udc10",12,2]]}else if("pE"==W)h=X=25,trees=[[5,12,0]],apples=[[4,14,0,0,23]],doors=[[26,12,Math.PI/2,14,0,"pD",0,0,5,0,0],[-2,12,-Math.PI/2,15,0,"pF",1,79,5,0,0]],puzzles=[[7,,1,,"1000001000000000000000010100011011011000111000001",3,3],[6,,1,,"110011100001000000100001100001110011",15,17],[5,,1,,"1100111001100011001110011",16,4],[6,,1,,"000011000011110001110001000011000011",3,17]],hints=[["Reminder:<br>use "+(D?"\u21a9":"Alt")+" to backtrack,<br>"+(D?"\u00d7":"R")+" to exit a puzzle.",11,14,1,0,0]],emoji=[["\ud83d\udc12",12,20]];else if("pF"==W)X=80,h=20,trees=[[35,10,0]],apples=[[38,11,0,0,35]],doors=[[81,5,Math.PI/2,15,0,"pE",0,0,12,0,0],[-2,15,-Math.PI/2,16,0,"pG",1,19,5,0,0]],puzzles=[[5,,1,,"0111101001010110100011111",59,13],[5,,1,,"1111011000111100001011110",48,13],[5,,1,,"1111101000011110111001100",37,13],[5,,1,,"1111110000111001000011111",26,13],[5,,1,,"1100101101001110011101101",15,13],[5,,1,,"1111100001110010000111111",59,2],[5,,1,,"1000110111100011000111111",48,2],[5,,1,,"1000110101101011111110001",37,2],[5,,1,,"1111110001000110000111111",26,2],[5,,1,,"0111101100011100011011110",15,2],[5,,1,,"1111101111001110001100001",4,8],[5,,1,,"1010100101111010000111111",71,8]],hints=[["This room hides a surprise !",72,2,0,15,0],["\u2190<br>Exit",38,9,16,0,0]],cubes=[],emoji=[];else if("pG"==W)X=20,h=30,trees=[[5,25,0]],apples=[[4,24,0,0,37],[7,25,0,0,37],[2,26,0,0,37],[3,28,0,0,37]],doors=[[21,5,Math.PI/2,16,0,"pF",0,1,15,0,0],[10,31,Math.PI,20,0,"pH",1,10,1,0,0]],puzzles=[[6,,1,,"001000001110111111011100011000001000",7,6],[6,,1,,"110001100001000111000111100001110001",7,18]],emoji=[["\ud83d\udc01",9,14]];else if("pH"==W)X=20,h=30,trees=[[16,22]],apples=[[18,22,0,0,39]],doors=[[10,-2,0,18,0,"pG",0,10,29,0,0],[21,25,Math.PI/2,21,0,"pI",1,1,10,0,0]],puzzles=[[6,,1,,"001000011110111111011110011110001000",7,6],[6,,1,,"110001100001000011000111001111111111",7,18]],emoji=[["\ud83e\udd86",9,14]];else if("pI"==W){X=40;h=20;apples=[[38,2,0,5,0]];doors=[[-2,10,-Math.PI/2,1,0,"pH",0,19,25,0,0],[36,-2,0,6,0,"px",1,5,19,0,1]];puzzles=[];hints=[["Guess what, you finished the first half of the game !",5,9,1,0],["You can now move up and down with "+(D?"\u2b06\ufe0e and \u2b07\ufe0e":"Shift and Ctrl keys")+", and open black doors",30,11,1,0]];for(f=0;9>f;f++)cubes.push([30,f]);for(f=30;40>f;f++)cubes.push([f,8]);emoji=[["\ud83d\udc22",13,14]];trees=[[3,1],[15,2],[36,3],[26,5],[25,15],[33,9],[10,12],[36,14],[3,15]]}else"pJ"==W?(X=15,h=70,trees=[[2,62]],apples=[[2,65,0,0,47],[1,66,0,0,47]],doors=[[16,5,Math.PI/2,6,0,"px",0,1,11,0,1],[-2,65,-Math.PI/2,8,0,"pK",1,19,65,0,1]],puzzles=[[5,,0,"0000000000000000000001110",,2,2],[4,,0,"0000000001000110",,4,11],[5,,0,"0000000000000000101001110",,6,20],[5,,0,"0000000000000000111000100",,8,29],[4,,0,"0000000001100110","0000011001100000",2,38],[4,,0,"0000010001100100","0000011001100000",4,47],[4,,0,"0000011001000100","0000010001100000",6,56],[4,,0,"0000000001100110","0100011000100000",8,65]],hints=[["You now have to match the patterns on the walls...",10,2,1,0,1],["... and on the floor too !",10,40,1,0,1]],emoji=[["\ud83e\udd89",10,14]]):"pK"==W?(D&&(ky.className=kz.className="",y.lossst_c=1),X=20,h=75,trees=[[2,2]],apples=[[1,4,0,0,59],[2,5,0,0,59],[3,6,0,0,59],[4,2,0,0,59]],doors=[[21,65,Math.PI/2,7,0,"pJ",0,1,65,0,1],[-2,5,-Math.PI/2,12,0,"pL",1,14,5,0,1]],puzzles=[[5,,0,"0000000000010000110001110",,8,69],[6,,0,"000000000000000000000100001110011000",,12,58],[5,,0,"0000000000010000111001000",,2,58],[4,,0,"0000001001100110","0000001001100000",2,45],[5,,0,"0000000000000000010001110","0000000100001100110000000",12,45],[5,,0,"0000000000000000101001110","0000001110010100000000000",2,34],[5,,0,"0000000000000000011001100","0000001110011000010000000",12,34],[4,,1,"0000011001100110","0110000000000110",2,22],[4,,1,"1001000000001001","1001000000001001",12,22],[4,,1,"0000010011110010","0000111101100000",2,12],[4,,1,"0110010000000011","0000011100110000",12,12],[4,,1,"1101000000000001","1101000000010001",12,2]],hints=[["You can rotate the camera with "+(D?"<br>\u21bb and \u21ba":"the keys 1, 2 and 3"),15,68,1,0,1],["Can you guess what's coming next?",7,54,1,0,1],["3D puzzles with wrap ! Use "+(D?"\u2b06\ufe0e and \u2b07\ufe0e":"Shift and Ctrl")+" to wrap between top and bottom",7,24,1,0,1]],emoji=[["\ud83d\udc1e",3,70]]):"pL"==W?(X=15,h=80,trees=[[2,70]],apples=[[1,73,0,0,68],[3,75,0,0,68]],doors=[[16,5,Math.PI/2,12,0,"pK",0,1,5,0,1],[-2,75,-Math.PI/2,14,0,"pM",1,14,25,0,1]],puzzles=[[5,,0,"0000000000001001111100100",,2,2],[4,,0,"0000010001100000",,5,11],[5,,0,"0000000110000110111000010",,8,20],[5,,0,"0000000000001000111011111","0000000000111001111100000",2,29],[4,,0,"1000110011101111","0000001111110000",5,38],[4,,0,"0000100011001110","1110110010000000",8,45],[4,,1,"1000100110010001","0000100110010000",2,54],[4,,1,"0000001011110100","0000110011110011",5,63],[5,,1,"0100011000010000111001000","0000001110110000100000000",8,72]],cubes=[[6,12]],emoji=[["\ud83d\udc1d",3,20]]):"pM"==W?(X=15,h=30,trees=[[10,12]],apples=[[8,11,0,0,71],[9,10,0,0,71],[10,9,0,0,71],[11,10,0,0,71],[12,11,0,0,71],[7,12,0,0,71]],doors=[[16,25,Math.PI/2,14,0,"pL",0,1,75,0,1],[-2,5,-Math.PI/2,20,0,"pN",1,14,5,0,1]],puzzles=[[5,,1,"0001100110011001100010000","0001100110011001100010000",2,24],[5,,1,"1100010001000011000111000","0000011000110010000000000",4,13],[5,,1,"1101110001000001000011000","1100010000000001000111011",6,2]],emoji=[["\ud83d\udc13",1,14]]):"pN"==W&&(X=15,h=48,trees=[[10,44]],apples=[[7,45,0,0,75]],doors=[[16,5,Math.PI/2,20,0,"pM",0,1,5,0,1]],puzzles=[[4,,1,"0000111101101111","1000111111111000",5,38],[4,,1,"1111001001001111","1111101010101111",5,28],[4,,1,"1111010101011101","0001101101101111",5,18],[4,,1,"1111000100011110","1111110110011111",5,8]],emoji=[["\ud83d\udc09",13,46]]);a.style.width=X*v+"vh";a.style.height=h*v+"vh";H||(ig.innerHTML="");ih.innerHTML="";for(var f in trees)ig.innerHTML+="<div id=tree"+f+' class="j tr"style=left:'+trees[f][0]*v+"vh;transform:translateX(-7vh)translateY("+(trees[f][1]*v+4)+"vh)rotateX(-70deg)>\ud83c\udf33</div><div id=treeshadow"+f+' class="e h"style=left:'+trees[f][0]*v+"vh;transform:translateX(-7.5vh)translateY("+(trees[f][1]*v+3.5)+"vh)rotateZ(144deg)scaleY(1.5)>\ud83c\udf33";for(f in apples)y["lossst_a"+W+f]?delete apples[f]:ig.innerHTML+="<div id=a"+f+' class="j g '+(y["lossst_A"+W+f]?"":"h")+'"style=left:'+apples[f][0]*v+"vh;transform:translateY("+(apples[f][1]*v+4)+"vh)rotateX(-65deg)>"+("pN"==W?"<div>\u26bd</div>":"<div class=m>\ud83c\udf4e</div>")+"</div><div id=as"+f+' class="e p '+(y["lossst_A"+W+f]?"":"h")+'"style=left:'+apples[f][0]*v+"vh;transform:scaleX(-1)translateY("+(apples[f][1]*v+3)+"vh)rotateZ(212deg)>"+("pN"==W?"\u26bd":"\ud83c\udf4e");for(f in emoji)ig.innerHTML+='<div class="j n"style=left:'+(emoji[f][1]*v-1)+"vh;transform:translateY("+(emoji[f][2]*v+4)+"vh)rotateX(-65deg)><div class=m>"+emoji[f][0];for(f in doors)ig.innerHTML+="<div id=d"+(""+W+f)+' class="do'+(y["lossst_d"+W+f]?" s":"")+'"style=left:'+(doors[f][0]+.5)*v+"vh;top:"+(doors[f][1]+.5)*v+"vh;transform:rotateZ("+doors[f][2]+"rad)translateZ("+doors[f][9]*v+'vh)><div class="y d'+doors[f][10]+'"'+(doors[f][6]?"":"hidden")+">"+doors[f][3]+'</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh">';for(var n in puzzles)for(var m in cubes)y["lossst_p"+W+n]&&cubes[m][0]>=puzzles[n][5]&&cubes[m][0]<puzzles[n][5]+puzzles[n][0]&&cubes[m][1]>=puzzles[n][6]&&cubes[m][1]<puzzles[n][6]+puzzles[n][0]&&delete cubes[m];for(f in cubes)ig.innerHTML+="<div id=cube"+f+' class="z x"style=left:'+cubes[f][0]*v+"vh;top:"+cubes[f][1]*v+'vh;width:5vh;height:5vh><div class=f></div><div class=u style="background-position:'+(-300-cubes[f][0]*v)+"vh "+(-140-cubes[f][1]*v)+'vh"></div><div class=r></div><div class=l></div><div class=b>';for(f in hints)C^hints[f][5]||!(hints[f][3]&&hints[f][3]<=G||hints[f][4]&&hints[f][4]>=G)||(ig.innerHTML+="<div id=h"+(""+W+f)+" class=t style=left:"+hints[f][1]*v+"vh;transform:translateY("+(hints[f][2]*v+5)+"vh)translateZ("+(hints[f][6]*v||0)+"vh)rotateX(-70deg)translateY(-4vh)>"+hints[f][0]);y.lossst_x&&top.hpx0&&(hpx0.style.opacity=1);for(n in puzzles){T=puzzles[n][0];var A=k="";ih.innerHTML+="<div id=puzzle"+n+' class="z q v '+(puzzles[n][2]&&!y["lossst_p"+W+n]?"w":"")+'"style=left:'+puzzles[n][5]*v+"vh;top:"+puzzles[n][6]*v+"vh;width:"+puzzles[n][0]*v+"vh;height:"+T*v+"vh>"+(puzzles[n][2]?"<div class=l></div><div class=r></div>":"")+"<div id=D"+n+" class=d></div><div id=B"+n+" class=b></div>"+(puzzles[n][2]?"<div class=f>":"");var P="000",aa="fff";y["lossst_p"+W+n]&&(P="44c",aa="fd0",puzzles[n][2]=0);for(f=0;f<T;f++)for(m=0;m<T;m++)puzzles[n][3]&&(k+="<div class=o id=w"+n+f+m+" style=width:"+v+"vh;height:"+v+"vh;background:#"+("1"==puzzles[n][3][f*T+m]?P:aa)+"></div>"),puzzles[n][4]&&(A+="<div class=o id=g"+n+f+m+" style=width:"+v+"vh;height:"+v+"vh;background:#"+("1"==puzzles[n][4][f*T+m]?P:aa)+"></div>");top["D"+n]&&(top["D"+n].innerHTML+=A);top["B"+n]&&(top["B"+n].innerHTML+=k)}"pN"==W&&(ig.innerHTML+="<div style='position:fixed;transform:"+(D?"rotateZ(-90deg)translateX(-87vh)translateY(22vh)translateZ(365vh)":"rotateZ(-90deg)translateX(-83vh)translateY(6vh)translateZ(208vh)")+";font: 30vh/25vh a'>THE<br><br>END");H&&(y.lossst_e||y.lossst_s&&6<y.lossst_S||(ik.style.opacity=im.style.opacity=0,ik.style.position=im.style.position="fixed",ik.style.top=im.style.top="-9vh"),J=0,Y(1),xa=1,Q=O=N=0,puzzles[0][2]=0,setTimeout(function(){(ib.onchange=ib.oninput=resetgrid=function(){Ca();Y();ij.disabled=1;gridval.innerHTML=T=+ib.value;puzzle0.style.width=puzzle0.style.height=T*v+"vh";puzzles[0][0]=T;D0.innerHTML="";A=k=B0.innerHTML="";M=[];L=[];for(f=0;f<T;f++)for(M[f]=[],L[f]=[],m=0;m<T;m++)M[f][m]=0,L[f][m]=0;for(f=0;f<T;f++)for(m=0;m<T;m++)k+="<div class=o id=w"+K+f+m+" style=width:"+v+"vh;padding-top:"+v+"vh></div>",A+="<div class=o id=g"+K+f+m+" style=width:"+v+"vh;padding-top:"+v+"vh></div>";xa&&(D0.innerHTML+=A);N&&(B0.innerHTML+=k)})();iq.onchange=iq.oninput=function(){it.innerHTML=G=+iq.value;Ca();Y()};ik.onclick=function(){ik.checked?xa=1:top.wall&&(xa=0,C=N=1,wall.checked=!0);a.className=N?"haswall":"";resetgrid()};top.wall&&(wall.onclick=function(){wall.checked?(N=1,C=puzzles[0][3]=1):(N=C=0,xa=1,ik.checked=!0,puzzles[0][3]=0);a.className=N?"haswall":"";resetgrid()});top.wrap&&(wrap.onclick=function(){O=puzzles[0][2]=wrap.checked||0;puzzle0.className="z q v "+(O?"w":"");resetgrid()});print=function(k){var n="";for(f=0;f<T;f++)for(m=0;m<T;m++)n=top[k+"0"+f+m].style.background&&top[k+"0"+f+m].style.background.match(/255/)?n+0:n+1;return n};ij.onclick=function(){var f=[];f.push(T);f.push(G);f.push(O?1:0);f.push(N?print("w"):"");f.push(ik.checked?print("g"):"");open("//twitter.com/intent/tweet?text=I%20made%20a%20level%20for%20@MaximeEuziere's%20%23js13k%20game%20LOSSST!%0APlay%20here:%20js13kgames.com%2Fentries%2Flossst%0AMy%20level:%20js13kgames.com%2Fgames%2Flossst%23"+f+"%0A%23LOSSSTlevels")}},100));"px"!=W||y.lossst_x?(a.style.transition="transform 1s,transform-origin 1s",Ca()):(I=1,setTimeout(function(){Ca();Y();M0.style.transition="transform .5s"},2E3),setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(0);F.push(F[t]);t++;Y()},5500+wa),setTimeout(function(){M0.style.transition="";R0.style.transition="transform .2s";R0.style.transform="rotateZ("+-Math.PI/4+"rad)"},6500+wa),setTimeout(function(){R0.style.transform="rotateZ("+Math.PI/4+"rad)"},7E3+wa),setTimeout(function(){R0.style.transform=""},7500+wa),setTimeout(function(){S0.style.transition=R0.style.transition=""},8E3+wa),setTimeout(function(){clearInterval(x);z||(I=0);hpx0.style.opacity=1},8400),setTimeout(function(){a.style.transition="transform 1s,transform-origin 1s";y.lossst_x=20;y.lossst_y=10;b.innerHTML+="<div style='position:fixed;font:8vh a;top:3vh;right:3vh'onclick=location='index.html'>\u00d7";D&&(kU.className=kD.className=kL.className=kR.className="",y.lossst_w=1)},9E3));Y()}function Ca(){var k=C&&!H?ia:ie;k.innerHTML="";q=[];w=[];E=[];F=[];t=G-1;if("py"==W)for(i=0;i<G;i++)q[t-i]=1-i,w[t-i]=10,E[t-i]=0,F[t-i]=-Math.PI/2;else if(H)for(i=0;i<G;i++)q[t-i]=13-i,w[t-i]=12,E[t-i]=0,F[t-i]=-Math.PI/2;else if(y.lossst_x){var f=+y.lossst_x,n=+y.lossst_y,m=+y.lossst_z;"px"==W&&2>y.lossst_x&&(m=y.lossst_z=1);if("pI"==W&&z&&1==C)for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i-1,F[t-i]=0;else if(2>f)for(i=0;i<G;i++)q[t-i]=f-i,w[t-i]=n,E[t-i]=m,F[t-i]=-Math.PI/2;else if(f>X-2)for(i=0;i<G;i++)q[t-i]=f+i,w[t-i]=n,E[t-i]=m,F[t-i]=Math.PI/2;else if(2>n)for(i=0;i<G;i++)q[t-i]=f,w[t-i]=n-i,E[t-i]=m,F[t-i]=0;else if(n>h-2)for(i=0;i<G;i++)q[t-i]=f,w[t-i]=n+i,E[t-i]=m,F[t-i]=0;else for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i,F[t-i]=0}else if("px"==W)for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i-1,F[t-i]=0;for(i=0;i<Math.max(G+4,16);i++)k.innerHTML+="<div id=M"+i+" class=sm style=transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:"+(v-.7)+"vh;height:"+(v-.7)+"vh><div class=ss id=S"+i+"></div><div id=R"+i+' class=sr><div class="z k"id=T'+i+">"+(1>i?"<div style=background:none;box-shadow:none;color:red;font-size:4vh;text-align:center;transform:rotateZ(180deg)translateY(-4vh)translateZ(1.5vh)>Y</div>":"")+'<div class=u style="font:'+.5*v+"vh/"+.8*v+'vh a">'+(1>i?"\ud83d\udc40":"")+"</div><div class=f>"+(1>i?"\u203f":"")+"</div><div class=r></div><div class=l></div><div class=b>"}function Y(k){for(var f={a:0};f.a<G;f={a:f.a,j:f.j,m:f.m,o:f.o},f.a++)if(!k){var n=oldx=oldy=oldz=newx=newy=newz=0;O&&T&&(q[t-f.a-1]==R&&q[t-f.a]==R+T-1?(n=1,oldx=R-1,newx=R+T,oldy=newy=w[t-f.a],oldz=newz=E[t-f.a]):q[t-f.a-1]==R+T-1&&q[t-f.a]==R?(n=1,oldx=R+T,newx=R-1,oldy=newy=w[t-f.a],oldz=newz=E[t-f.a]):w[t-f.a-1]==S&&w[t-f.a]==S+T-1?(n=1,oldy=S-1,newy=S+T,oldx=newx=q[t-f.a],oldz=newz=E[t-f.a]):w[t-f.a-1]==S+T-1&&w[t-f.a]==S?(n=1,oldy=S+T,newy=S-1,oldx=newx=q[t-f.a],oldz=newz=E[t-f.a]):0==E[t-f.a-1]&&E[t-f.a]==T-1?(n=1,oldz=-1,newz=T,oldx=newx=q[t-f.a],oldy=newy=w[t-f.a]):E[t-f.a-1]==T-1&&0==E[t-f.a]&&(n=1,oldz=T,newz=-1,oldx=newx=q[t-f.a],oldy=newy=w[t-f.a]));if(n)top["R"+f.a].style.transform="rotateZ("+F[t-f.a]+"rad)",top["M"+f.a].style.transform="translateX("+(oldx*v+.5)+"vh)translateY("+(oldy*v+.5)+"vh)translateZ("+(oldz*v+.5)+"vh)scale(.01)scaleZ(.01)",setTimeout(function(f){return function(){top["M"+f.a].style.transition="none"}}(f),90),f.j=newx,f.m=newy,f.o=newz,setTimeout(function(f){return function(){top["M"+f.a].style.transform="translateX("+(f.j*v+.5)+"vh)translateY("+(f.m*v+.5)+"vh)translateZ("+(f.o*v+.5)+"vh)scale(.01)"}}(f),100),setTimeout(function(f){return function(){top["M"+f.a].style.transition="";top["M"+f.a].style.transform="translateX("+(q[t-f.a]*v+.25)+"vh)translateY("+w[t-f.a]*v+"vh)translateZ("+(E[t-f.a]*v+.5)+"vh)"}}(f),150);else try{top["M"+f.a].style.transform="translateX("+(q[t-f.a]*v+.25)+"vh)translateY("+w[t-f.a]*v+"vh)translateZ("+(E[t-f.a]*v+.5)+"vh)",top["R"+f.a].style.transform="rotateZ("+F[t-f.a]+"rad)"}catch(A){}try{top["S"+f.a].style.display=0==E[t-f.a]?"":"none"}catch(A){}}H?a.style.transform="translateX(-100vh)translateY(-37vh)translateZ(-5vh)rotateX(33deg)":null===J||y["lossst_p"+W+J]?(a.style.transform="translateX("+-q[t]*v+"vh)translateY("+-w[t]*v+"vh)translateZ(45vh)rotateX(40deg)rotateZ("+g+"rad)",a.style.transformOrigin=""+q[t]*v+"vh "+w[t]*v+"vh"):(a.style.transform="translateX("+(-(R+puzzles[J][0]/2)*v+5)+"vh)translateY("+(-(S+puzzles[J][0]/2)*v+8)+"vh)translateZ("+(90-puzzles[J][0]*(v+3))+"vh)rotateX(30deg)rotateZ("+g+"rad)",a.style.transformOrigin=""+((R+puzzles[J][0]/2)*v+5)+"vh "+((S+puzzles[J][0]/2-1)*v+8)+"vh");f=C?1:0;for(k=0;k<G;k++){if(0>=E[t-k]){f=0;break}for(m in cubes)cubes[m][0]==q[t-k]&&cubes[m][1]==w[t-k]&&1==E[t-k]&&(f=0)}if(f){for(k=0;k<G;k++)E[t-k]--;try{Y()}catch(A){for(var m=2*G;m--;)q.pop(),w.pop(),E.pop(),F.pop(),t--;Aa=0;Y()}}f=q[t];n=w[t];for(k in doors)(doors[k][10]&&C||!doors[k][10]&&!C)&&top["d"+W+k]&&0<doors[k][3]&&G>=doors[k][3]&&4>Math.hypot(f-doors[k][0],n-doors[k][1])&&!y["lossst_d"+W+k]&&(top["d"+W+k].className="do s",!doors[k][6]||"px"==W&&2<k||ja(pa).play(),y["lossst_d"+W+k]=1),top["d"+W+k]&&"do s"==top["d"+W+k].className&&2>Math.hypot(f-doors[k][0],n-doors[k][1])&&(y.lossst_p=W=doors[k][5],setTimeout(Ba,600),y.lossst_x=doors[k][7],y.lossst_y=doors[k][8],y.lossst_z=0);null!==J&&Da();H||(J=null);H||(L=[],M=[]);for(p in puzzles)if(f>=puzzles[p][5]&&f<puzzles[p][5]+puzzles[p][0]&&n>=puzzles[p][6]&&n<puzzles[p][6]+puzzles[p][0]){J=+p;Q=0;y["lossst_p"+W+p]&&(Q=1);K=p;xa=!!puzzles[p][4];N=!!puzzles[p][3];O=!!puzzles[p][2];R=puzzles[p][5];S=puzzles[p][6];T=puzzles[p][0];for(k=0;k<T;k++)for(L[k]=[],M[k]=[],m=0;m<T;m++)puzzles[p][3]&&(M[k][m]=+puzzles[p][3][k*puzzles[p][0]+m]),puzzles[p][4]&&(L[k][m]=+puzzles[p][4][k*puzzles[p][0]+m]);Da()}}function Z(k,f,n){V=0;if(0>k||k>=X||0>f||f>=h)V=1;for(var m in trees)k>=trees[m][0]-1&&k<=trees[m][0]&&f==trees[m][1]&&3>E[t]&&(V=1);for(m in hints)k>=hints[m][1]&&k<=hints[m][1]+3&&f==hints[m][2]&&G>=hints[m][3]&&(!hints[m][4]||G<=hints[m][4])&&(C&&hints[m][5]||!C&&!hints[m][5])&&(V=1);for(m in apples)if(y["lossst_A"+W+m]&&k==apples[m][0]&&f==apples[m][1]&&0==E[t])if(ja(ka).play(),"pN"==W){x=setInterval(sa.forward,150);y.lossst_E=1;setTimeout(function(){I=1;as0.remove();a0.style.transform="translateY(319vh)translateZ(2vh)rotateX(-65deg)rotateY(90deg)";a0.style.transition=a.style.transition="10s";a0.style.transform="translateY(15vh)translateZ(2vh)rotateX(-65deg)";a.style.transform=D?"translateX(-133vh)translateY(-249vh)translateZ(-373vh)rotateZ(90deg)":"translateX(-141vh)translateY(-227vh)translateZ(-185vh)rotateZ(90deg)"},200);var A={},P;for(P in puzzles)A.g=P,setTimeout(function(f){return function(){top["B"+f.g].style.transition=".5s";top["B"+f.g].style.transform="translateY(-125%)"}}(A),[1450,2500,3800,5400][A.g]),A={g:A.g};setTimeout(function(){clearInterval(va);y.lossst_E=1;y.lossst_e=1;b.style.background="#000";y.lossst_s=0;b.innerHTML="<div id=iv style=perspective:90vh><center id=menu style=width:75vh;transform:translateX(-38vh)translateY(-35vh)rotateX(-28deg)><span style=font-size:4vh;line-height:5vh><h1>Congrats!</h1><br>You completed the game in<br>"+ta+" seconds and "+ua+" moves!<br><br><a href=//twitter.com/intent/tweet?text=I%20played%20LOSSST,%20a%20%23js13k%20game%20by%20by%20@MaximeEuziere%0Amy%20score:%20"+ta+"%20seconds%20and%20"+ua+"%20moves!%0Ajs13kgames.com%2Fentries%2Flossst target=_blank style=color:#def;font-size:4vh>TWEET YOUR SCORE</a><br><br>Dev record:<br>854 seconds, 2452 moves<br><br>3D puzzle editor unlocked!<br><br><a href=. style=font-size:4vh>MAIN MENU"},15E3);n=document.querySelectorAll(".o");A={};for(var aa in n){A.h=aa;try{2==n[A.h].style.backgroundColor.match(/68/g).length&&setTimeout(function(f){return function(){top[n[f.h].id].style.background="#a00"}}(A),8E3+10*A.h)}catch(na){}A={h:A.h}}}else if(delete apples[m],top["a"+m].remove(),top["as"+m].remove(),G++,y.lossst_S=G,y["lossst_a"+W+m]=1,"pF"==W&&16==G){I=1;x=setInterval(sa.forward,150);z=1;a.style.transition="5s";a.style.transform="translateX(-180vh)translateY(-53vh)translateZ("+(D?-422:-180)+"vh)rotateZ(180deg)";setTimeout(function(){a.style.transition="1s";I=z=0;Y();ig.innerHTML+="<div class=t style=left:190vh;transform:translateY(50vh)rotateX(-55deg)translateY(-4vh)>\u2190<br>Exit";clearInterval(x)},1E4);n=document.querySelectorAll(".o");A={};for(var ea in n){A.f=ea;try{n[A.f].id.match(/g\d\d\d$/)&&2==n[A.f].style.backgroundColor.match(/68/g).length&&setTimeout(function(f){return function(){top[n[f.f].id].style.background="#a00"}}(A),5500+10*A.f)}catch(na){}A={f:A.f}}}for(m in cubes)k==cubes[m][0]&&f==cubes[m][1]&&0==n&&(V=1);for(m in emoji)"pC"!=W&&k==emoji[m][1]&&f==emoji[m][2]&&0==n&&(V=1);for(m in doors)top["d"+W+m]&&"do s"==top["d"+W+m].className&&2>=Math.hypot(k-doors[m][0],f-doors[m][1])&&(V=0);hitcube2=0;for(m=G-2;0<m;m--)q[t-m]==k&&w[t-m]==f&&E[t-m]==n&&(V=1,1==m&&(hitcube2=1));for(p in puzzles)puzzles[p][3]&&k>=puzzles[p][5]&&k<puzzles[p][5]+puzzles[p][0]&&(f==puzzles[p][6]-1&&w[t]==puzzles[p][6]&&!puzzles[p][2]||f==puzzles[p][6]&&w[t]==puzzles[p][6]-1)&&(V=1);if("pI"==W&&18==k&&!C){z=C=V=I=1;clearInterval(x);sa=ra;_=$=0;x=setInterval(ra.forward,250);y.lossst_s=1;y.lossst_S=G=5;for(k=0;21>k;k++)cubes.push([q[t-k],w[t-k]]),top["M"+k].id="",top["R"+k].id="",top["S"+k].id="",top["T"+k].id="";a.style.transition="2s";Ca();Y();a.style.transform="translateX(-105vh)translateY(-51vh)translateZ(80vh)rotateX(45deg)";a.style.transformOrigin="140vh 70vh";setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(0);F.push(F[t]);t++;Y()},3E3);setTimeout(function(){ii.innerHTML="Daddy!"},4E3);setTimeout(function(){ii.innerHTML=""},6E3);setTimeout(function(){ii.innerHTML="I lossst my soccer ball!"},7E3);setTimeout(function(){ii.innerHTML=""},9E3);setTimeout(function(){ii.innerHTML="But I found new moves!"},1E4);setTimeout(function(){ii.innerHTML="";z=I=0;clearInterval(x);a.style.transition="1s";Y();Ea();D&&(kT.className=kB.className="",y.lossst_B=1)},13500)}}function Da(){if(!Q&&null!==J){solved=1;H&&(ij.disabled=0);for(i=0;i<T;i++)for(j=0;j<T;j++)try{top["g"+K+i+j]&&(top["g"+K+i+j].style.background=L[i][j]?"#000":"#fff"),top["w"+K+i+j]&&(top["w"+K+i+j].style.background=M[i][j]?"#000":"#fff")}catch(m){}if(q[t]<R||q[t]>R+T-1||w[t]<S||w[t]>S+T-1||0>E[t]||E[t]>T-1)H&&(ij.disabled=1);else{for(i=0;i<G;i++){top["g"+K+(w[t-i]-S)+(q[t-i]-R)]&&(top["g"+K+(w[t-i]-S)+(q[t-i]-R)].style.background=L[w[t-i]-S][q[t-i]-R]?"#080":H?"#44c":"#f00");w[t-i]>=S&&w[t-i]<S+T&&top["w"+K+(T-1-E[t-i])+(q[t-i]-R)]&&(top["w"+K+(T-1-E[t-i])+(q[t-i]-R)].style.background=M[T-1-E[t-i]][q[t-i]-R]?"#080":H?"#44c":"#f00");if(q[t-i]<R||q[t-i]>R+T-1||w[t-i]<S||w[t-i]>S+T-1||E[t-i]>T-1)H&&(ij.disabled=1),solved=0;xa&&L[w[t-i]-S]&&!L[w[t-i]-S][q[t-i]-R]&&(solved=0);N&&M[T-1-E[t-i]]&&!M[T-1-E[t-i]][q[t-i]-R]&&(solved=0)}for(i=0;i<T;i++)for(j=0;j<T;j++){try{xa&&3==top["g"+K+i+j].style.backgroundColor.match(/0/g).length&&(solved=0)}catch(m){}try{N&&3==top["w"+K+i+j].style.backgroundColor.match(/0/g).length&&(solved=0)}catch(m){}}if(solved){Q=H?0:1;puzzles[J][2]=0;top["puzzle"+J].classList.remove("w");H||(y["lossst_p"+W+J]=1);for(i=0;i<T;i++)for(j=0;j<T;j++){try{top["g"+K+i+j].style.background=L[i][j]?"#44c":"#fd0"}catch(m){}try{top["w"+K+i+j].style.background=M[i][j]?"#44c":"#fd0"}catch(m){}}H||(ja(oa).play(),ya++,y.lossst_T=ya);var k=1,f={},n;for(n in cubes)f.b=n,cubes[f.b][0]>=puzzles[J][5]&&cubes[f.b][0]<puzzles[J][5]+puzzles[J][0]&&cubes[f.b][1]>=puzzles[J][6]&&cubes[f.b][1]<puzzles[J][6]+puzzles[J][0]&&(delete cubes[f.b],k++,setTimeout(function(f){return function(){top["cube"+f.b].remove()}}(f),200*k)),f={b:f.b}}}}}function Ea(){for(var k in apples)if(!y["lossst_A"+W+k]&&(0<apples[k][3]&&apples[k][3]==G||0<apples[k][4]&&apples[k][4]==ya)){I=1;D&&"px"==W&&1==k&&(kw.className="",y.lossst_b=1);var f=setTimeout;a.style.transform="translateX("+-apples[k][0]*v+"vh)translateY("+-apples[k][1]*v+"vh)translateZ(50vh)rotateX(35deg)";y["lossst_A"+W+k]=1;a.style.transformOrigin=""+apples[k][0]*v+"vh "+apples[k][1]*v+"vh";f(void 0,250);f=setTimeout;top["a"+k].className="j g";top["as"+k].className="e p";f(void 0,800);setTimeout(function(){ja(la).play()},850);setTimeout(function(){Y();z||(I=0)},2E3)}}function Fa(){U=0;H||(J=null);for(p in puzzles)q[t]>=puzzles[p][5]&&q[t]<puzzles[p][5]+puzzles[p][0]&&w[t]>=puzzles[p][6]&&w[t]<puzzles[p][6]+puzzles[p][0]&&0<=E[t]&&E[t]<puzzles[p][0]&&(J=+p,U=1)}onkeydown=function(k){top["lurd************************l**r************l*d***u**u"[k.which-37]]=1;18==k.which&&(B=1);16==k.which&&(s=1);17==k.which&&(c=1);if(!I){if(49==k.which||97==k.which)-1<g&&g--,ca();if(50==k.which||98==k.which)g=0,ca();if(51==k.which||99==k.which)1>g&&g++,ca()}Fa();U?Da():Aa=0;if(82==k.which&&U){if(Aa<=t)for(var f=Aa;f<=t;f++)q.pop(),w.pop(),E.pop(),F.pop(),setTimeout(function(){sa.back()},70*(t-f));t=Aa-1;Aa=0;Y();Da();y.lossst_M=++ua}else if(116!=k.which&&82!=k.which&&17!=k.which&&123!=k.which&&k.preventDefault&&k.preventDefault(),!I){V=0;if(l)!Q&&O&&U&&q[t]==R?(Z(R+T-1,w[t],E[t]),V||(q.push(R+T-1),w.push(w[t]),E.push(E[t]),F.push(Math.PI/2),t++)):(Z(q[t]-1,w[t],E[t]),V||(q.push(q[t]-1),w.push(w[t]),E.push(E[t]),F.push(Math.PI/2),t++));else if(r)!Q&&O&&U&&q[t]==R+T-1?(Z(R,w[t],E[t]),V||(q.push(R),w.push(w[t]),E.push(E[t]),F.push(-Math.PI/2),t++)):(Z(q[t]+1,w[t],E[t]),V||(q.push(q[t]+1),w.push(w[t]),E.push(E[t]),F.push(-Math.PI/2),t++));else if(u)!Q&&O&&U&&w[t]==S?(Z(q[t],S+T-1,E[t]),V||(q.push(q[t]),w.push(S+T-1),E.push(E[t]),F.push(Math.PI),t++)):(Z(q[t],w[t]-1,E[t]),V||(q.push(q[t]),w.push(w[t]-1),E.push(E[t]),F.push(Math.PI),t++));else if(d)!Q&&O&&U&&w[t]==S+T-1?(Z(q[t],S,E[t]),V||(q.push(q[t]),w.push(S),E.push(E[t]),F.push(0),t++)):(Z(q[t],w[t]+1,E[t]),V||(q.push(q[t]),w.push(w[t]+1),E.push(E[t]),F.push(0),t++));else if((C||N)&&s){if(!U){k=G-1;for(f in cubes)cubes[f][0]==q[t]&&cubes[f][1]==w[t]&&k++;if(E[t]==k)return}!Q&&O&&U&&E[t]==T-1?(Z(q[t],w[t],0),V||(q.push(q[t]),w.push(w[t]),E.push(0),F.push(F[t]),t++)):(Z(q[t],w[t],E[t]+1),V||(q.push(q[t]),w.push(w[t]),E.push(E[t]+1),F.push(F[t]),t++))}else(C||N)&&c?!Q&&O&&U&&0==E[t]?(Z(q[t],w[t],T-1),V||(q.push(q[t]),w.push(w[t]),E.push(T-1),F.push(F[t]),t++)):0==E[t]?V=1:(Z(q[t],w[t],E[t]-1),V||(q.push(q[t]),w.push(w[t]),E.push(E[t]-1),F.push(F[t]),t++)):B&&t>G&&(F.pop(),q.pop(),w.pop(),E.pop(),t--);V&&!I&&(I=1,setTimeout(function(){z||(I=0)},150),!(-1<q[t]&&q[t]<X&&-1<w[t]&&w[t]<h)||"pI"==W&&!C&&16<q[t]||hitcube2||ja(ma).play());if(!V&&!z&&(u||r||d||l||s||c||B)){y.lossst_M=++ua;Da();Y();B?t>G&&sa.back():(C||!s&&!c&&!C)&&sa.forward();Y(1);Ea();I||(I=1,setTimeout(function(){z||(I=0)},150));if("px"==W&&(C||14<=G)&&20==q[t]&&10==w[t]){I=1;var n=0;for(f=0;f<G;f++)setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(--n);F.push(F[t]);t++;Y()},150*f);setTimeout(function(){AA("pz",1)},160*G);y.lossst_x=20;y.lossst_y=10}Fa();U&&!Aa&&(Aa=t)}}};onkeyup=function(){u=r=d=l=s=c=B=0};onload=function(){1<location.hash.length?AA("py",1):(setTimeout(function(){x=setInterval(function(){sa.forward()},500)},200),b.innerHTML="<center id=e>\ud83d\udc40</center>\n<center id=iw></center>\n<div id=iv style=perspective:30vh>\n<center id=menu>\n<h1>LOSSST</h1>\n<span onclick=newgame()>New game</span><br>\n"+(y.lossst_a&&!y.lossst_E?"<span onclick=AA(0,1)>Continue</span><br>":"")+"\n<span onclick=AA(\"pz\",1)>Puzzle editor</span><br>\n<span onclick=top.open('//goo.gl/iKqoCS')>Bonus",newgame=function(){for(i in localStorage)0==i.indexOf("lossst")&&-1==i.indexOf("e")&&delete localStorage[i];y.lossst_a=1;menu.innerHTML="<br><br><span onclick=intro(0)>Desssktop</span><br><br><span onclick=intro(1)>Mobile"},intro=function(k){clearInterval(x);_=$=0;x=setInterval(sa.forward,250);y.lossst_m=D=k;y.lossst_S=G=5;ta=y.lossst_t=0;ua=y.lossst_M=0;y.lossst_M=0;y.lossst_t=0;menu.innerHTML="";setTimeout(function(){e.style.margin=0},500);dir=1;inter=setInterval(function(){e.style.opacity=0;setTimeout(function(){e.style.opacity=1;dir=-dir;e.style.transform="scaleX("+dir+")"},150)},3E3);setTimeout(function(){iw.innerHTML="I lossst my kid !"},2E3);setTimeout(function(){iw.innerHTML=""},5E3);setTimeout(function(){clearInterval(inter);e.style.margin="-80vh 0 0"},7E3);setTimeout(AA,7500)})};AA=function(k,f){if(0===k||"pz"==k)clearInterval(x),_=$=0;"pz"==k&&(H=1,J=0);W=k||y.lossst_p||"px";b.outerHTML="<body id=b class="+W+">\n<div id=iv>\n<div id=a style=transform:translateX(-97vh)translateY(-50vh)rotateZ(90deg)translateZ(119vh);transform-origin:100vh+50vh>\n<div id=ig>"+(H?"<div class=t style=width:60vh;transform:translateX(70vh)translateY(1vh)translateZ(2vh)rotateX(-42deg)>\n<label style=width:100%;text-align:center>Create a pattern with the snake and share it !</label>\n<br style=line-height:6vh>\n<div style=text-align:left;padding-left:5vh>\n<label>Grid</label> <input id=ib type=range value=5 min=3 max=8 step=1>\n<span id=gridval>5</span>\n<br>\n<label>Snake</label> <input id=iq type=range value=5 min=5 max=40 step=1>\n<span id=it>5</span>\n</div>\n<input type=checkbox id=ik checked> <label for=ik id=im>ground</label>\n"+(y.lossst_e||y.lossst_s&&6<y.lossst_S?"<input type=checkbox id=wall> <label for=wall>wall</label>":"")+"\n"+(y.lossst_e||y.lossst_s?"<input type=checkbox id=wrap> <label for=wrap>wrap</label>":"")+"\n<br>\n<center>\n<button id=ij disabled>Share</button>\n</center>\n</div>":"")+"\n</div>\n<div id=ih></div>\n<div id=ie></div>\n<div id=ia></div>\n</div>\n</div>\n<center id=iz style='font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw'>\n<button id=kU class=h ontouchstart=TS(38) ontouchend=TE(38)>\u2191</button>\n<button id=kD class=h ontouchstart=TS(40) ontouchend=TE(40)>\u2193</button>\n<button id=kL class=h ontouchstart=TS(37) ontouchend=TE(37)>\u2190</button>\n<button id=kR class=h ontouchstart=TS(39) ontouchend=TE(39)>\u2192</button>\n<button id=kT class=h ontouchstart=TS(16) ontouchend=TE(16)>\u2b06\ufe0e</button>\n<button id=kB class=h ontouchstart=TS(17) ontouchend=TE(17)>\u2b07\ufe0e</button>\n<button id=kw class=h ontouchstart=TS(18) ontouchend=TE(18)>\u21a9</button>\n<button id=kx class=h ontouchstart=TS(82) ontouchend=TE(82)>\u00d7</button>\n<button id=ky class=h ontouchstart=TS(49) ontouchend=TE(49)>\u21bb</button>\n<button id=kz class=h ontouchstart=TS(51) ontouchend=TE(51)>\u21ba</button>\n</center>\n<center id=ii style='font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw'>";y.lossst_Apx0=1;Ba();if(D&&"py"==W||y.lossst_w)kU.className=kD.className=kL.className=kR.className="";if(D&&"py"==W||y.lossst_b)kw.className="";if(D&&"py"==W||y.lossst_r)kr.className="";if(D&&"py"==W||y.lossst_B)kT.className="",kB.className="";if(D&&"py"==W||y.lossst_c)ky.className="",kz.className="";H||(va=setInterval(function(){y.lossst_t=++ta},1E3));f&&(b.innerHTML+="<div style='position:fixed;font:8vh a;top:3vh;right:3vh'onclick=location='.'>\u00d7")}</script><style>@keyframes move{0%,100%{transform:rotateY(-10deg)}50%{transform:rotateY(10deg)}}*{margin:0;padding:0;font:2.5vh/5.5vh arial,sans-serif;vertical-align:middle;box-sizing:border-box;-webkit-touch-callout:none;-webkit-user-select:none;-webkit-tap-highlight-color:transparent;user-select:none;cursor:pointer;touch-action:manipulation}html,body{height:100%;background:#000;overflow:hidden;background:radial-gradient(#def 25%,#7ce)}a{color:#def}input,button{position:relative;z-index:2}input[type=range]::-webkit-slider-runnable-track,input[type=range]::-webkit-slider-thumb{background:#888;border:1px solid #000}input[type=range]::-moz-range-track,input[type=range]::-moz-range-thumb{background:#888;border:1px solid #000}#iv{width:0;height:0;perspective:120vh;position:absolute;top:50%;left:50%}#iv *{transform-style:preserve-3d}#a{width:0;height:0;transform-origin:18vh 0%;transition:transform 1s,transform-origin 1s}.z{position:fixed;top:0;left:0}.z>div{width:100%;height:100%;position:fixed}.z .u{transform:rotateY(90deg)translateX(-100%)rotateY(-90deg)}.z .l{transform:rotateX(-90deg)translateY(-50%)translateX(-50%)rotateY(-90deg)}.z .r{transform:rotateX(-90deg)translateY(-50%)translateX(50%)rotateY(90deg)}.z .f{transform:translateY(50%)rotateX(-90deg)translateY(-50%)}.z .b{transform:translateY(-50%)rotateX(-90deg)translateY(-50%)rotateY(180deg)}.z.q{width:32vh;height:32vh;transform:none}.z.q>div{background:transparent}.z.q .b{transition:opacity .5s;transform:translateY(-50%)rotateX(-90deg)translateY(-52%)}.z.q.w .d,.z.q .d{transition:opacity .5s;background:#0c5b0c}.sm,.sr{transform-origin:50% 50%;width:100%;height:100%;position:fixed}.sm{transition:transform .15s}.z.k{width:100%;height:100%}.z.k>div{box-shadow:0 0 0 .1vh #000 inset;text-align:center}.z.k .f{line-height:3vh}#ie .z.k>div{background:#FFA500}#ie .z.k .u{background:#dF8500}#ia .z.k>div,#a.haswall .z.k>div{background:#444}#ia .z.k .u,#a.haswall .z.k .u{background:#333}#ia .z.k .f{color:#fff}.ss{position:fixed;width:100%;height:100%;background:rgba(0,0,0,.25);transform:translateX(14%)translateY(14%)translateZ(-.25vh)}label{display:inline-block;width:22%}button{display:inline-block;width:23%;border:.2vh solid #000;margin:1vh 2% 0 0}input[type=range]{width:60%}#form{width:50vh;margin:auto}.o{float:left;outline:.4vh solid #888;opacity:0;transition:opacity .5s;background:#fff}.z.q.v{transform:translateZ(.1vh)}.z.q.v .o{opacity:1}.z.q.v .d{transform:none}.z.q.w>div{background:linear-gradient(45deg,rgba(200,200,200,.1),rgba(200,200,200,.3));box-shadow:0 0 .1vh rgba(255,255,255,.5)}.j{position:fixed;transform-origin:50% 100%;bottom:0}.m{animation:move 3s infinite}.e{color:rgba(0,0,0,.002);text-shadow:0px 0px rgba(0,0,0,.25);position:fixed;transform-origin:50% 100%;bottom:0}.tr,.h{font:11vh/12vh a}.a .tr{font:15vh/11vh a}.a .h,.c .h,.i .h,.a .p,.c .p,.i .p,.c .x.b,#iz button.h{display:none}.g,.g *,.p{font:4vh/5vh a;transition:opacity .5s .5s}.n,.n *{font:5vh/6vh a}.g.h,.p.h{opacity:0}.a .g{font:6vh/5vh a}.do{position:fixed;transform-origin:0% 100%;width:0;height:0}.do .y{position:fixed;width:15vh;height:20vh;background:radial-gradient(2vh at 90% 50%,gold 35%,transparent 40%),#a22;border-radius:1vh 1vh 0 0;transform-origin:0% 100%;transform:translateX(-7.5vh)translateY(-12.5vh)rotateX(-90deg);text-align:center;font-size:6vh;line-height:12vh;color:#fff;transition:transform 1s}.do .y.d1{background:radial-gradient(2vh at 90% 50%,gold 35%,transparent 40%),#222}.do.s .y{transform:translateX(-7.5vh)translateY(-12.5vh)rotateX(-90deg)rotateY(90deg)}.z.x div{background:linear-gradient(45deg,#640,#583808)}.z.x div.u{transform:rotateY(90deg)translateX(-5.4vh)translateZ(-.1vh)rotateY(-90deg);background:radial-gradient(#3F7D1F,#034301);background-size:280vh 140vh;width:5.3vh;height:5.3vh}.t{position:fixed;background:#fff;padding:.7vh;width:20vh;font:2vh/2.5vh arial,sans-serif;transform-origin:50% 100%;text-align:center;box-shadow:0 0 0 .2vh #000 inset;bottom:0}.t br{font:0/0 a}.t:before{content:"";width:3vh;height:3vh;background:#750;position:absolute;bottom:-3vh;left:8vh;border-left:.2vh solid;border-right:.2vh solid}.pz .t:before{left:28vh}label{text-align:left}#a{transition:transform 6s ease-in,transform-origin 6s ease-in;width:280vh;height:140vh;background:radial-gradient(#4F8D2F,#136321);border-radius:3vh}.px #a,.pI #a{background:radial-gradient(10vh at 51.3% 52%,#000 40%,transparent 50%),radial-gradient(15vh at 51.3% 52%,#640 40%,transparent 50%),radial-gradient(#4F8D2F,#136321)}#e{margin:99vh 0 0;transition:margin 1s;font:10vh/80vh a}#iw{font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw}#menu{color:#fff;width:55vh;transform:translateX(-27vh)translateY(-20vh)rotateX(-17deg)}#menu span{font:7vh/12vh arial,sans-serif}#menu h1{font:13vh/16vh arial,sans-serif;text-shadow:.1vh -.1vh #777,.2vh -.2vh #777,.3vh -.3vh #777}#menu span:hover{color:#ace;transform:rotateX(-10deg)}.pN #menu span:hover{color:#fff}#iz button{position:fixed;width:10vh;height:10vh;text-align:center;font:6vh/10vh a}#kU{right:14vh;bottom:14vh}#kD{right:14vh;bottom:2vh}#kL{right:26vh;bottom:2vh}#kR{right:2vh;bottom:2vh}#kT{left:2vh;top:2vh}#kB{left:2vh;top:14vh}#kw{bottom:2vh;left:2vh}#kx{bottom:14vh;left:2vh}#ky{top:2vh;right:18vh}#kz{top:2vh;right:6vh}#hpx0{opacity:0;transition:opacity .5s}</style></head><head></head><body id="b" class="px">
<div id="iv">
<div id="a" style="transform: translateX(-100vh) translateY(-50vh) translateZ(45vh) rotateX(40deg) rotateZ(0rad); transform-origin: 100vh 50vh 0px; width: 200vh; height: 100vh; transition: transform 1s, transform-origin 1s;">
<div id="ig"><div id="tree0" class="j tr" style="left:65vh;transform:translateX(-7vh)translateY(49vh)rotateX(-70deg)">🌳</div><div id="treeshadow0" class="e h" style="left:65vh;transform:translateX(-7.5vh)translateY(48.5vh)rotateZ(144deg)scaleY(1.5)">🌳</div><div id="tree1" class="j tr" style="left:35vh;transform:translateX(-7vh)translateY(69vh)rotateX(-70deg)">🌳</div><div id="treeshadow1" class="e h" style="left:35vh;transform:translateX(-7.5vh)translateY(68.5vh)rotateZ(144deg)scaleY(1.5)">🌳</div><div id="tree2" class="j tr" style="left:175vh;transform:translateX(-7vh)translateY(44vh)rotateX(-70deg)">🌳</div><div id="treeshadow2" class="e h" style="left:175vh;transform:translateX(-7.5vh)translateY(43.5vh)rotateZ(144deg)scaleY(1.5)">🌳</div><div id="a0" class="j g " style="left:55vh;transform:translateY(59vh)rotateX(-65deg)"><div class="m">🍎</div></div><div id="as0" class="e p " style="left:55vh;transform:scaleX(-1)translateY(58vh)rotateZ(212deg)">🍎</div><div id="a1" class="j g h" style="left:10vh;transform:translateY(64vh)rotateX(-65deg)"><div class="m">🍎</div></div><div id="as1" class="e p h" style="left:10vh;transform:scaleX(-1)translateY(63vh)rotateZ(212deg)">🍎</div><div id="a2" class="j g h" style="left:190vh;transform:translateY(54vh)rotateX(-65deg)"><div class="m">🍎</div></div><div id="as2" class="e p h" style="left:190vh;transform:scaleX(-1)translateY(53vh)rotateZ(212deg)">🍎</div><div class="j n" style="left:149vh;transform:translateY(39vh)rotateX(-65deg)"><div class="m">🐿️</div></div><div class="j n" style="left:144vh;transform:translateY(39vh)rotateX(-65deg)"><div class="m">🌰️</div></div><div id="dpx0" class="do" style="left:207.5vh;top:52.5vh;transform:rotateZ(1.5707963267948966rad)translateZ(0vh)"><div class="y d0">8</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh"></div></div><div id="dpx1" class="do" style="left:102.5vh;top:-7.5vh;transform:rotateZ(0rad)translateZ(0vh)"><div class="y d0">14</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh"></div></div><div id="dpx2" class="do" style="left:-7.5vh;top:57.5vh;transform:rotateZ(-1.5707963267948966rad)translateZ(5vh)"><div class="y d1">6</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh"></div></div><div id="dpx3" class="do" style="left:102.5vh;top:107.5vh;transform:rotateZ(3.141592653589793rad)translateZ(0vh)"><div class="y d0">14</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh"></div></div><div id="dpx4" class="do" style="left:27.5vh;top:107.5vh;transform:rotateZ(3.141592653589793rad)translateZ(0vh)"><div class="y d1">5</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh"></div></div><div id="cube0" class="z x" style="left:0vh;top:45vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-300vh -185vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube1" class="z x" style="left:5vh;top:45vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-305vh -185vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube2" class="z x" style="left:10vh;top:45vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-310vh -185vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube3" class="z x" style="left:15vh;top:45vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-315vh -185vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube4" class="z x" style="left:20vh;top:45vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-320vh -185vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube5" class="z x" style="left:0vh;top:50vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-300vh -190vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube6" class="z x" style="left:5vh;top:50vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-305vh -190vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube7" class="z x" style="left:10vh;top:50vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-310vh -190vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube8" class="z x" style="left:15vh;top:50vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-315vh -190vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube9" class="z x" style="left:20vh;top:50vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-320vh -190vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube10" class="z x" style="left:0vh;top:55vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-300vh -195vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube11" class="z x" style="left:5vh;top:55vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-305vh -195vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube12" class="z x" style="left:10vh;top:55vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-310vh -195vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube13" class="z x" style="left:15vh;top:55vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-315vh -195vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube14" class="z x" style="left:20vh;top:55vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-320vh -195vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube15" class="z x" style="left:0vh;top:60vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-300vh -200vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube16" class="z x" style="left:5vh;top:60vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-305vh -200vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube17" class="z x" style="left:20vh;top:60vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-320vh -200vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube18" class="z x" style="left:0vh;top:65vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-300vh -205vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube19" class="z x" style="left:5vh;top:65vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-305vh -205vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube20" class="z x" style="left:20vh;top:65vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-320vh -205vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube21" class="z x" style="left:0vh;top:70vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-300vh -210vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube22" class="z x" style="left:5vh;top:70vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-305vh -210vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube23" class="z x" style="left:15vh;top:70vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-315vh -210vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube24" class="z x" style="left:20vh;top:70vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-320vh -210vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="hpx0" class="t" style="left: 95vh; transform: translateY(30vh) translateZ(0vh) rotateX(-70deg) translateY(-4vh); opacity: 1;">Move with<br>arrow keys or WASD/ZQSD</div><div id="hpx1" class="t" style="left:5vh;transform:translateY(50vh)translateZ(5vh)rotateX(-70deg)translateY(-4vh)">Use the Alt key to backtrack</div><div id="hpx2" class="t" style="left:175vh;transform:translateY(75vh)translateZ(0vh)rotateX(-70deg)translateY(-4vh)">Approach red doors with the right length to open them</div></div>
<div id="ih"></div>
<div id="ie"><div id="M0" class="sm" style="transform: translateX(100.25vh) translateY(50vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S0" style=""></div><div id="R0" class="sr" style=""><div class="z k" id="T0"><div style="background:none;box-shadow:none;color:red;font-size:4vh;text-align:center;transform:rotateZ(180deg)translateY(-4vh)translateZ(1.5vh)">Y</div><div class="u" style="font:2.5vh/4vh a">👀</div><div class="f">‿</div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M1" class="sm" style="transform: translateX(100.25vh) translateY(50vh) translateZ(-4.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S1" style="display: none;"></div><div id="R1" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T1"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M2" class="sm" style="transform: translateX(100.25vh) translateY(50vh) translateZ(-9.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S2" style="display: none;"></div><div id="R2" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T2"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M3" class="sm" style="transform: translateX(100.25vh) translateY(50vh) translateZ(-14.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S3" style="display: none;"></div><div id="R3" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T3"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M4" class="sm" style="transform: translateX(100.25vh) translateY(50vh) translateZ(-19.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S4" style="display: none;"></div><div id="R4" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T4"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M5" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S5"></div><div id="R5" class="sr"><div class="z k" id="T5"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M6" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S6"></div><div id="R6" class="sr"><div class="z k" id="T6"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M7" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S7"></div><div id="R7" class="sr"><div class="z k" id="T7"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M8" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S8"></div><div id="R8" class="sr"><div class="z k" id="T8"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M9" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S9"></div><div id="R9" class="sr"><div class="z k" id="T9"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M10" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S10"></div><div id="R10" class="sr"><div class="z k" id="T10"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M11" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S11"></div><div id="R11" class="sr"><div class="z k" id="T11"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M12" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S12"></div><div id="R12" class="sr"><div class="z k" id="T12"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M13" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S13"></div><div id="R13" class="sr"><div class="z k" id="T13"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M14" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S14"></div><div id="R14" class="sr"><div class="z k" id="T14"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M15" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S15"></div><div id="R15" class="sr"><div class="z k" id="T15"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div></div>
<div id="ia"></div>
</div>
</div>
<center id="iz" style="font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw">
<button id="kU" class="h" ontouchstart="TS(38)" ontouchend="TE(38)">↑</button>
<button id="kD" class="h" ontouchstart="TS(40)" ontouchend="TE(40)">↓</button>
<button id="kL" class="h" ontouchstart="TS(37)" ontouchend="TE(37)">←</button>
<button id="kR" class="h" ontouchstart="TS(39)" ontouchend="TE(39)">→</button>
<button id="kT" class="h" ontouchstart="TS(16)" ontouchend="TE(16)">⬆︎</button>
<button id="kB" class="h" ontouchstart="TS(17)" ontouchend="TE(17)">⬇︎</button>
<button id="kw" class="h" ontouchstart="TS(18)" ontouchend="TE(18)">↩</button>
<button id="kx" class="h" ontouchstart="TS(82)" ontouchend="TE(82)">×</button>
<button id="ky" class="h" ontouchstart="TS(49)" ontouchend="TE(49)">↻</button>
<button id="kz" class="h" ontouchstart="TS(51)" ontouchend="TE(51)">↺</button>
</center>
<center id="ii" style="font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw"></center><div style="position:fixed;font:8vh a;top:3vh;right:3vh" onclick="location='index.html'">×</div></body></html><html><head><title>LOSSST</title><meta content="width=device-width,user-scalable=no" name="viewport"><script>u=r=d=l=s=c=B=0;trees=[];apples=[];doors=[];cubes=[];hints=[];emoji=[];puzzles=[];TS=function(k){ba[k]&&clearInterval(ba[k]);onkeydown({which:"+n+"});ba[k]=setInterval(function(){onkeydown({which:k})},150)};TE=function(k){setTimeout(function(){clearInterval(ba[k]);onkeyup()},150)};var g=0;function ca(){a.style.transform="translateX(-"+q[t]*v+"vh)translateY(-"+w[t]*v+"vh)translateZ(45vh)rotateX(40deg)rotateZ("+g+"rad)"}var x=$=_=0;function da(){var k=0;this.i=function(f){k+=f/48E3*Math.PI*2;return k%=2*Math.PI}}function fa(k){var f=new da,n=new da,m=.1;this.i=function(){if(!k)return 0;var A=k+.4*Math.sin(n.i(3));A=440*Math.pow(2,(A-57)/12);m*=.9998;A=f.i(A);return Math.pow(Math.sin(A),1)*m}}function ha(k){function f(){var f=k.length/2;for(_=$;0>_;)_+=f;_%=f;f=new fa(k[2*_+0].charCodeAt(0)-48);for(var A=new fa(k[2*_+1].charCodeAt(0)-48),P=[],aa=0;48E3>aa;aa++){var ea=f.i(),na=A.i(),za=.5*ea+na;P.push(ea+.5*na);P.push(za)}n(P).play()}function n(f){function k(f){f=m(f);return f[0]+f[1]}function m(f){for(var k=0,m="",n=0;4>n;n++,k+=8)m+=String.fromCharCode(f>>k&255);return m}var n=2*f.length;n="RIFF"+m(n+36)+"WAVEfmt "+m(16)+k(1)+k(2)+m(48E3)+m(192E3)+k(4)+k(16)+"data"+m(n);for(var ea in f)n+=k(32767*f[ea]);return new Audio("data:audio/wav;base64,"+btoa(n))}$=-1;this.forward=function(){$++;f()};this.back=function(){$--;f()}}function ja(k){function f(f){f=n(f);return f[0]+f[1]}function n(f){for(var k=0,m="",n=0;4>n;n++,k+=8)m+=String.fromCharCode(f>>k&255);return m}for(var m=[],A=0;;A++){var P=k(A);if(null===P)break;m.push(P)}k=2*m.length;k="RIFF"+n(k+36)+"WAVEfmt "+n(16)+f(1)+f(1)+n(48E3)+n(96E3)+f(2)+f(16)+"data"+n(k);for(A in m)k+=f(1E4*m[A]);return new Audio("data:audio/wav;base64,"+btoa(k))}function ka(k){return 1E4<k?null:(Math.pow(k,1.055)&128?1:-1)*Math.pow((1E4-k)/1E4,2)/2}function la(k){return 25E3<k?null:((k^k>>3^k*k*7.3^k<<4)&65535)/65536*((25E3-k)/25E3)/2}function ma(k){return 5E3<k?null:(Math.pow(k+1E3*Math.sin(.01*k),.8)&200?.5:-.5)*Math.pow((5E3-k)/5E3,1)/2}function oa(k){if(16E3<k)return null;var f=Math.pow((16E3-k)/16E3,2.1)/2;return(k<16E3/7?k+10*Math.sin(-k/900)&16:k&13)?f:-f}function pa(k){return 9E4<k?null:(Math.pow(k+1E3*Math.sin(.01*k),.8)&200?.5:-.5)*Math.pow((9E4-k)/9E4,1)/4}var qa=new ha("nbo0risiubv0uisirbs0ui0i0b0c0f0gniojrlsjuivjymvjubv0ui0i0j0m0n0rsgu0vnxnzgx0vnunsg0n0o0n0g0s0o0nrisjulvgufsjufscrbo0ni0j0b0i0j0il`n0ogqgs`u0vgxgz`0gxl0nsouqvsxuuev0u`0`0eq0slulqcs0qcs0qbs0q`s0njo0reseujv0xeveuj0v0e0q0j0i0g0e0cu0scq00bv0ufr0sgn0vbr0xiz0zjr0sgu0vbx0zgx0vbubsg{0zb{`z^{0zi{fzgv0xiu0vjs0ulr0sbn0oll0nbl0jfi0g00bxc0`zb0^{`0]z^0[z]0Zz[0]z^0`zb0]uf0bxi0f{l0izr0ozn0ixr0nrulrnbo0risiufs0r`o0nb0czf0gzi0gzf0cub0i0j0mvn0m0j0irbscrbs`rbs`sbrbo`q0sgugv`x0zg{gz`s0x`s0v`x0vcx0ues0q`l00eu00`x00ev00`u00eq00`o`"),ra=new ha("p0r0sdk0rco0pdk0p0r0sdw0rcs0pdk0p0r0sdk0rck0pdk0p0r0sdw0rcs0pd0f0g0iwg0bwgx0wgurrnspur0bufwgubs0pkrcsdk0rco0pkk0p0r0sdk0rco0pk0l0k0iwg0b0k0g0n0kzs0nxi0f|l0izr0p0n0lwk0dwg0k0p0k|s0pur0kuo0k0i0l0k0isd0krj0kpd0k0p0rsd0krl0opd0f0g0iskw0riw0pgw0nfw0u`s0rbs0pd0k"),y=localStorage,z=0,C=+y.lossst_s||0,sa=C?ra:qa,D=+y.lossst_m||0,ta=+y.lossst_t||0,ua=+y.lossst_M||0,va=0,ba=[],wa=0,v=5,t=0,q=[],w=[],E=[],F=[],G=y.lossst_S=+y.lossst_S||5,H=0,I=0,J=null,K="0",L=[],M=[],xa=0,N=0,O=0,Q=0,R=0,S=0,T=0,ya=+y.lossst_T||0,Aa=0,U=0,V=0,W="",X=h=0;function Ba(){var k;navigator.userAgent.match(/Mac/)&&(iv.className="a");navigator.userAgent.match(/Fire|Edg/)&&(iv.className+=" c",wa=4E3);D&&(iv.className+=" i");b.className=W;C&&!H&&(ie.innerHTML="");cubes=[];doors=[];trees=[];apples=[];hints=[];emoji=[];if("pz"==W)X=40,h=20,puzzles=[[5,,1,,"0000000000000000000000000",16,9]],G=5,C=0;else if("py"==W)h=X=20,puzzles=[eval("["+location.hash.slice(1).replace(/[01]{2,}/g,'"$&"')+"]")],G=puzzles[0][1],puzzles[0][5]=puzzles[0][6]=8,C=!!puzzles[0][3],hints=[["Move: arrow keys<br>"+(C?"Up/Down: "+(D?"\u2b06\ufe0e/\u2b07\ufe0e":"Shift/Ctrl")+"<br>":"")+"backtrack: "+(D?"\u21a9":"Alt")+"<br>Reset: R",1,5,1,0,C,0]],delete y.lossst_ppy0;else if("px"==W){X=40;h=20;trees=[[13,9,0],[7,13,0],[35,8,0]];apples=[[11,11,0,0,0],[2,12,0,6,0],[38,10,0,7,0]];doors=[[41,10,Math.PI/2,8,0,"pA",1,0,10,0,0],[20,-2,0,14,0,"pD",1,10,19,0,0],[-2,11,-Math.PI/2,6,0,"pJ",1,14,5,1,1],[20,21,Math.PI,14,0,"pC",1,22,1,0,0],[5,21,Math.PI,5,0,"pI",1,36,1,0,1]];puzzles=[];cubes=[];for(f=9;15>f;f++)for(m=0;5>m;m++)2==m&&14==f||2==m&&13==f||3==m&&13==f||3==m&&12==f||2==m&&12==f||cubes.push([m,f]);hints=[["Move with<br>arrow keys"+(D?"":" or WASD/ZQSD"),19,5,0,13,0],["Use the "+(D?"\u21a9":"Alt")+" key to backtrack",1,9,0,13,0,1],["Approach red doors with the right length to open them",35,14,0,13,0],["\u2191<br>New puzzles !<hr>Puzzle editor<br>\u2193",19,8,14,0,0],["\u2190<br>New puzzles !",1,9,6,7,1,1]];emoji=[["\ud83d\udc3f\ufe0f",30,7],["\ud83c\udf30\ufe0f",29,7]]}else if("pA"==W)X=40,h=20,trees=[[35,15,0]],apples=[[33,16,0,0,6],[34,17,0,0,6],[37,15,0,0,6]],cubes=[],doors=[[-2,10,-Math.PI/2,8,0,"px",0,39,11,0,0],[35,21,Math.PI,11,0,"pB",1,35,1,0,0]],puzzles=[[6,,0,,"000000001000001110001110001000000000",2,3],[6,,0,,"000000011000011100010000011000000000",14,3],[6,,0,,"000000000100001100011000011100000000",26,3],[5,,0,,"0000001110011100110000000",2,13],[6,,0,,"000000011000011000001100001100000000",14,13],[6,,0,,"000000000100001100001110001100000000",26,13]],hints=[["Cover the black patterns to solve puzzles",9,9,1,0],["Solve all the puzzles in the room to unlock a new door",21,9,1,0],["Your progress is saved automatically",34,9,1,0]],emoji=[["\ud83d\udc0c",11,10]];else if("pB"==W)D&&(kx.className="",y.lossst_r=1),X=40,h=20,trees=[[4,7,0]],apples=[[1,8,0,0,12],[2,9,0,0,12]],doors=[[35,-2,0,8,0,"pA",0,35,19,0,0],[-2,10,-Math.PI/2,13,0,"pC",1,39,10,0,0]],puzzles=[[6,,0,,"000000011110011010011110000000000000",8,2],[7,,0,,"0000000001110000111000001100000110000010000000000",18,2],[6,,0,,"000000011000011110001010001110000000",28,2],[6,,0,,"000000011100001110001110001100000000",8,12],[6,,0,,"000000001110001110001110001010000000",18,12],[6,,0,,"000000011110011110001100001000000000",28,12]],hints=[["If you get stuck, "+(D?"click \u00d7":"press R")+" to exit a puzzle",35,11,1,0]],cubes=[[11,4],[21,16]],emoji=[["\ud83d\udc08",4,14]];else if("pC"==W)X=40,h=20,trees=[[35,8,0]],apples=[[34,11,0,0,18]],doors=[[41,10,Math.PI/2,8,0,"pB",0,1,10,0,0],[22,-2,0,14,0,"px",1,20,19,0,0]],puzzles=[[7,,0,,"0000000000000001111000111100001111000100000000000",2,3],[7,,0,,"0000000001110000101000011100001110000110000000000",26,3],[6,,0,,"000000001110011110011010001110000000",14,3],[7,,0,,"0000000001100000111000011100001110000110000000000",2,12],[7,,0,,"0000000000000001111100101010011111000000000000000",14,12],[6,,0,,"000000011000011100011110011110000000",26,12]],hints=[["\u2191<br>After this room, you can try a puzzle editor and a new kind of puzzles !",22,11,13,0,0]],cubes=[[29,5],[30,8],[17,6],[15,4],[15,7],[29,13],[30,13],[30,14],[18,15],[16,15],[6,13],[6,17],[7,8],[6,8],[5,8],[3,7],[3,8],[7,6],[7,5]],emoji=[["\ud83e\udd8b<br><br>",29,13]];else if("pD"==W){h=X=20;trees=[[10,2,0]];doors=[[10,21,Math.PI,14,0,"px",0,20,0,0,0],[-2,5,-Math.PI/2,14,0,"pE",0,24,12,0,0]];puzzles=[[7,,1,,"0100010011111000000000000000000000001111100100010",7,7]];hints=[["Now you're thinking with wraps !",2,2,0,14,0]];for(f=0;20>f;f++)cubes.push([f,10]);emoji=[["\ud83d\udc10",12,2]]}else if("pE"==W)h=X=25,trees=[[5,12,0]],apples=[[4,14,0,0,23]],doors=[[26,12,Math.PI/2,14,0,"pD",0,0,5,0,0],[-2,12,-Math.PI/2,15,0,"pF",1,79,5,0,0]],puzzles=[[7,,1,,"1000001000000000000000010100011011011000111000001",3,3],[6,,1,,"110011100001000000100001100001110011",15,17],[5,,1,,"1100111001100011001110011",16,4],[6,,1,,"000011000011110001110001000011000011",3,17]],hints=[["Reminder:<br>use "+(D?"\u21a9":"Alt")+" to backtrack,<br>"+(D?"\u00d7":"R")+" to exit a puzzle.",11,14,1,0,0]],emoji=[["\ud83d\udc12",12,20]];else if("pF"==W)X=80,h=20,trees=[[35,10,0]],apples=[[38,11,0,0,35]],doors=[[81,5,Math.PI/2,15,0,"pE",0,0,12,0,0],[-2,15,-Math.PI/2,16,0,"pG",1,19,5,0,0]],puzzles=[[5,,1,,"0111101001010110100011111",59,13],[5,,1,,"1111011000111100001011110",48,13],[5,,1,,"1111101000011110111001100",37,13],[5,,1,,"1111110000111001000011111",26,13],[5,,1,,"1100101101001110011101101",15,13],[5,,1,,"1111100001110010000111111",59,2],[5,,1,,"1000110111100011000111111",48,2],[5,,1,,"1000110101101011111110001",37,2],[5,,1,,"1111110001000110000111111",26,2],[5,,1,,"0111101100011100011011110",15,2],[5,,1,,"1111101111001110001100001",4,8],[5,,1,,"1010100101111010000111111",71,8]],hints=[["This room hides a surprise !",72,2,0,15,0],["\u2190<br>Exit",38,9,16,0,0]],cubes=[],emoji=[];else if("pG"==W)X=20,h=30,trees=[[5,25,0]],apples=[[4,24,0,0,37],[7,25,0,0,37],[2,26,0,0,37],[3,28,0,0,37]],doors=[[21,5,Math.PI/2,16,0,"pF",0,1,15,0,0],[10,31,Math.PI,20,0,"pH",1,10,1,0,0]],puzzles=[[6,,1,,"001000001110111111011100011000001000",7,6],[6,,1,,"110001100001000111000111100001110001",7,18]],emoji=[["\ud83d\udc01",9,14]];else if("pH"==W)X=20,h=30,trees=[[16,22]],apples=[[18,22,0,0,39]],doors=[[10,-2,0,18,0,"pG",0,10,29,0,0],[21,25,Math.PI/2,21,0,"pI",1,1,10,0,0]],puzzles=[[6,,1,,"001000011110111111011110011110001000",7,6],[6,,1,,"110001100001000011000111001111111111",7,18]],emoji=[["\ud83e\udd86",9,14]];else if("pI"==W){X=40;h=20;apples=[[38,2,0,5,0]];doors=[[-2,10,-Math.PI/2,1,0,"pH",0,19,25,0,0],[36,-2,0,6,0,"px",1,5,19,0,1]];puzzles=[];hints=[["Guess what, you finished the first half of the game !",5,9,1,0],["You can now move up and down with "+(D?"\u2b06\ufe0e and \u2b07\ufe0e":"Shift and Ctrl keys")+", and open black doors",30,11,1,0]];for(f=0;9>f;f++)cubes.push([30,f]);for(f=30;40>f;f++)cubes.push([f,8]);emoji=[["\ud83d\udc22",13,14]];trees=[[3,1],[15,2],[36,3],[26,5],[25,15],[33,9],[10,12],[36,14],[3,15]]}else"pJ"==W?(X=15,h=70,trees=[[2,62]],apples=[[2,65,0,0,47],[1,66,0,0,47]],doors=[[16,5,Math.PI/2,6,0,"px",0,1,11,0,1],[-2,65,-Math.PI/2,8,0,"pK",1,19,65,0,1]],puzzles=[[5,,0,"0000000000000000000001110",,2,2],[4,,0,"0000000001000110",,4,11],[5,,0,"0000000000000000101001110",,6,20],[5,,0,"0000000000000000111000100",,8,29],[4,,0,"0000000001100110","0000011001100000",2,38],[4,,0,"0000010001100100","0000011001100000",4,47],[4,,0,"0000011001000100","0000010001100000",6,56],[4,,0,"0000000001100110","0100011000100000",8,65]],hints=[["You now have to match the patterns on the walls...",10,2,1,0,1],["... and on the floor too !",10,40,1,0,1]],emoji=[["\ud83e\udd89",10,14]]):"pK"==W?(D&&(ky.className=kz.className="",y.lossst_c=1),X=20,h=75,trees=[[2,2]],apples=[[1,4,0,0,59],[2,5,0,0,59],[3,6,0,0,59],[4,2,0,0,59]],doors=[[21,65,Math.PI/2,7,0,"pJ",0,1,65,0,1],[-2,5,-Math.PI/2,12,0,"pL",1,14,5,0,1]],puzzles=[[5,,0,"0000000000010000110001110",,8,69],[6,,0,"000000000000000000000100001110011000",,12,58],[5,,0,"0000000000010000111001000",,2,58],[4,,0,"0000001001100110","0000001001100000",2,45],[5,,0,"0000000000000000010001110","0000000100001100110000000",12,45],[5,,0,"0000000000000000101001110","0000001110010100000000000",2,34],[5,,0,"0000000000000000011001100","0000001110011000010000000",12,34],[4,,1,"0000011001100110","0110000000000110",2,22],[4,,1,"1001000000001001","1001000000001001",12,22],[4,,1,"0000010011110010","0000111101100000",2,12],[4,,1,"0110010000000011","0000011100110000",12,12],[4,,1,"1101000000000001","1101000000010001",12,2]],hints=[["You can rotate the camera with "+(D?"<br>\u21bb and \u21ba":"the keys 1, 2 and 3"),15,68,1,0,1],["Can you guess what's coming next?",7,54,1,0,1],["3D puzzles with wrap ! Use "+(D?"\u2b06\ufe0e and \u2b07\ufe0e":"Shift and Ctrl")+" to wrap between top and bottom",7,24,1,0,1]],emoji=[["\ud83d\udc1e",3,70]]):"pL"==W?(X=15,h=80,trees=[[2,70]],apples=[[1,73,0,0,68],[3,75,0,0,68]],doors=[[16,5,Math.PI/2,12,0,"pK",0,1,5,0,1],[-2,75,-Math.PI/2,14,0,"pM",1,14,25,0,1]],puzzles=[[5,,0,"0000000000001001111100100",,2,2],[4,,0,"0000010001100000",,5,11],[5,,0,"0000000110000110111000010",,8,20],[5,,0,"0000000000001000111011111","0000000000111001111100000",2,29],[4,,0,"1000110011101111","0000001111110000",5,38],[4,,0,"0000100011001110","1110110010000000",8,45],[4,,1,"1000100110010001","0000100110010000",2,54],[4,,1,"0000001011110100","0000110011110011",5,63],[5,,1,"0100011000010000111001000","0000001110110000100000000",8,72]],cubes=[[6,12]],emoji=[["\ud83d\udc1d",3,20]]):"pM"==W?(X=15,h=30,trees=[[10,12]],apples=[[8,11,0,0,71],[9,10,0,0,71],[10,9,0,0,71],[11,10,0,0,71],[12,11,0,0,71],[7,12,0,0,71]],doors=[[16,25,Math.PI/2,14,0,"pL",0,1,75,0,1],[-2,5,-Math.PI/2,20,0,"pN",1,14,5,0,1]],puzzles=[[5,,1,"0001100110011001100010000","0001100110011001100010000",2,24],[5,,1,"1100010001000011000111000","0000011000110010000000000",4,13],[5,,1,"1101110001000001000011000","1100010000000001000111011",6,2]],emoji=[["\ud83d\udc13",1,14]]):"pN"==W&&(X=15,h=48,trees=[[10,44]],apples=[[7,45,0,0,75]],doors=[[16,5,Math.PI/2,20,0,"pM",0,1,5,0,1]],puzzles=[[4,,1,"0000111101101111","1000111111111000",5,38],[4,,1,"1111001001001111","1111101010101111",5,28],[4,,1,"1111010101011101","0001101101101111",5,18],[4,,1,"1111000100011110","1111110110011111",5,8]],emoji=[["\ud83d\udc09",13,46]]);a.style.width=X*v+"vh";a.style.height=h*v+"vh";H||(ig.innerHTML="");ih.innerHTML="";for(var f in trees)ig.innerHTML+="<div id=tree"+f+' class="j tr"style=left:'+trees[f][0]*v+"vh;transform:translateX(-7vh)translateY("+(trees[f][1]*v+4)+"vh)rotateX(-70deg)>\ud83c\udf33</div><div id=treeshadow"+f+' class="e h"style=left:'+trees[f][0]*v+"vh;transform:translateX(-7.5vh)translateY("+(trees[f][1]*v+3.5)+"vh)rotateZ(144deg)scaleY(1.5)>\ud83c\udf33";for(f in apples)y["lossst_a"+W+f]?delete apples[f]:ig.innerHTML+="<div id=a"+f+' class="j g '+(y["lossst_A"+W+f]?"":"h")+'"style=left:'+apples[f][0]*v+"vh;transform:translateY("+(apples[f][1]*v+4)+"vh)rotateX(-65deg)>"+("pN"==W?"<div>\u26bd</div>":"<div class=m>\ud83c\udf4e</div>")+"</div><div id=as"+f+' class="e p '+(y["lossst_A"+W+f]?"":"h")+'"style=left:'+apples[f][0]*v+"vh;transform:scaleX(-1)translateY("+(apples[f][1]*v+3)+"vh)rotateZ(212deg)>"+("pN"==W?"\u26bd":"\ud83c\udf4e");for(f in emoji)ig.innerHTML+='<div class="j n"style=left:'+(emoji[f][1]*v-1)+"vh;transform:translateY("+(emoji[f][2]*v+4)+"vh)rotateX(-65deg)><div class=m>"+emoji[f][0];for(f in doors)ig.innerHTML+="<div id=d"+(""+W+f)+' class="do'+(y["lossst_d"+W+f]?" s":"")+'"style=left:'+(doors[f][0]+.5)*v+"vh;top:"+(doors[f][1]+.5)*v+"vh;transform:rotateZ("+doors[f][2]+"rad)translateZ("+doors[f][9]*v+'vh)><div class="y d'+doors[f][10]+'"'+(doors[f][6]?"":"hidden")+">"+doors[f][3]+'</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh">';for(var n in puzzles)for(var m in cubes)y["lossst_p"+W+n]&&cubes[m][0]>=puzzles[n][5]&&cubes[m][0]<puzzles[n][5]+puzzles[n][0]&&cubes[m][1]>=puzzles[n][6]&&cubes[m][1]<puzzles[n][6]+puzzles[n][0]&&delete cubes[m];for(f in cubes)ig.innerHTML+="<div id=cube"+f+' class="z x"style=left:'+cubes[f][0]*v+"vh;top:"+cubes[f][1]*v+'vh;width:5vh;height:5vh><div class=f></div><div class=u style="background-position:'+(-300-cubes[f][0]*v)+"vh "+(-140-cubes[f][1]*v)+'vh"></div><div class=r></div><div class=l></div><div class=b>';for(f in hints)C^hints[f][5]||!(hints[f][3]&&hints[f][3]<=G||hints[f][4]&&hints[f][4]>=G)||(ig.innerHTML+="<div id=h"+(""+W+f)+" class=t style=left:"+hints[f][1]*v+"vh;transform:translateY("+(hints[f][2]*v+5)+"vh)translateZ("+(hints[f][6]*v||0)+"vh)rotateX(-70deg)translateY(-4vh)>"+hints[f][0]);y.lossst_x&&top.hpx0&&(hpx0.style.opacity=1);for(n in puzzles){T=puzzles[n][0];var A=k="";ih.innerHTML+="<div id=puzzle"+n+' class="z q v '+(puzzles[n][2]&&!y["lossst_p"+W+n]?"w":"")+'"style=left:'+puzzles[n][5]*v+"vh;top:"+puzzles[n][6]*v+"vh;width:"+puzzles[n][0]*v+"vh;height:"+T*v+"vh>"+(puzzles[n][2]?"<div class=l></div><div class=r></div>":"")+"<div id=D"+n+" class=d></div><div id=B"+n+" class=b></div>"+(puzzles[n][2]?"<div class=f>":"");var P="000",aa="fff";y["lossst_p"+W+n]&&(P="44c",aa="fd0",puzzles[n][2]=0);for(f=0;f<T;f++)for(m=0;m<T;m++)puzzles[n][3]&&(k+="<div class=o id=w"+n+f+m+" style=width:"+v+"vh;height:"+v+"vh;background:#"+("1"==puzzles[n][3][f*T+m]?P:aa)+"></div>"),puzzles[n][4]&&(A+="<div class=o id=g"+n+f+m+" style=width:"+v+"vh;height:"+v+"vh;background:#"+("1"==puzzles[n][4][f*T+m]?P:aa)+"></div>");top["D"+n]&&(top["D"+n].innerHTML+=A);top["B"+n]&&(top["B"+n].innerHTML+=k)}"pN"==W&&(ig.innerHTML+="<div style='position:fixed;transform:"+(D?"rotateZ(-90deg)translateX(-87vh)translateY(22vh)translateZ(365vh)":"rotateZ(-90deg)translateX(-83vh)translateY(6vh)translateZ(208vh)")+";font: 30vh/25vh a'>THE<br><br>END");H&&(y.lossst_e||y.lossst_s&&6<y.lossst_S||(ik.style.opacity=im.style.opacity=0,ik.style.position=im.style.position="fixed",ik.style.top=im.style.top="-9vh"),J=0,Y(1),xa=1,Q=O=N=0,puzzles[0][2]=0,setTimeout(function(){(ib.onchange=ib.oninput=resetgrid=function(){Ca();Y();ij.disabled=1;gridval.innerHTML=T=+ib.value;puzzle0.style.width=puzzle0.style.height=T*v+"vh";puzzles[0][0]=T;D0.innerHTML="";A=k=B0.innerHTML="";M=[];L=[];for(f=0;f<T;f++)for(M[f]=[],L[f]=[],m=0;m<T;m++)M[f][m]=0,L[f][m]=0;for(f=0;f<T;f++)for(m=0;m<T;m++)k+="<div class=o id=w"+K+f+m+" style=width:"+v+"vh;padding-top:"+v+"vh></div>",A+="<div class=o id=g"+K+f+m+" style=width:"+v+"vh;padding-top:"+v+"vh></div>";xa&&(D0.innerHTML+=A);N&&(B0.innerHTML+=k)})();iq.onchange=iq.oninput=function(){it.innerHTML=G=+iq.value;Ca();Y()};ik.onclick=function(){ik.checked?xa=1:top.wall&&(xa=0,C=N=1,wall.checked=!0);a.className=N?"haswall":"";resetgrid()};top.wall&&(wall.onclick=function(){wall.checked?(N=1,C=puzzles[0][3]=1):(N=C=0,xa=1,ik.checked=!0,puzzles[0][3]=0);a.className=N?"haswall":"";resetgrid()});top.wrap&&(wrap.onclick=function(){O=puzzles[0][2]=wrap.checked||0;puzzle0.className="z q v "+(O?"w":"");resetgrid()});print=function(k){var n="";for(f=0;f<T;f++)for(m=0;m<T;m++)n=top[k+"0"+f+m].style.background&&top[k+"0"+f+m].style.background.match(/255/)?n+0:n+1;return n};ij.onclick=function(){var f=[];f.push(T);f.push(G);f.push(O?1:0);f.push(N?print("w"):"");f.push(ik.checked?print("g"):"");open("//twitter.com/intent/tweet?text=I%20made%20a%20level%20for%20@MaximeEuziere's%20%23js13k%20game%20LOSSST!%0APlay%20here:%20js13kgames.com%2Fentries%2Flossst%0AMy%20level:%20js13kgames.com%2Fgames%2Flossst%23"+f+"%0A%23LOSSSTlevels")}},100));"px"!=W||y.lossst_x?(a.style.transition="transform 1s,transform-origin 1s",Ca()):(I=1,setTimeout(function(){Ca();Y();M0.style.transition="transform .5s"},2E3),setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(0);F.push(F[t]);t++;Y()},5500+wa),setTimeout(function(){M0.style.transition="";R0.style.transition="transform .2s";R0.style.transform="rotateZ("+-Math.PI/4+"rad)"},6500+wa),setTimeout(function(){R0.style.transform="rotateZ("+Math.PI/4+"rad)"},7E3+wa),setTimeout(function(){R0.style.transform=""},7500+wa),setTimeout(function(){S0.style.transition=R0.style.transition=""},8E3+wa),setTimeout(function(){clearInterval(x);z||(I=0);hpx0.style.opacity=1},8400),setTimeout(function(){a.style.transition="transform 1s,transform-origin 1s";y.lossst_x=20;y.lossst_y=10;b.innerHTML+="<div style='position:fixed;font:8vh a;top:3vh;right:3vh'onclick=location='index.html'>\u00d7";D&&(kU.className=kD.className=kL.className=kR.className="",y.lossst_w=1)},9E3));Y()}function Ca(){var k=C&&!H?ia:ie;k.innerHTML="";q=[];w=[];E=[];F=[];t=G-1;if("py"==W)for(i=0;i<G;i++)q[t-i]=1-i,w[t-i]=10,E[t-i]=0,F[t-i]=-Math.PI/2;else if(H)for(i=0;i<G;i++)q[t-i]=13-i,w[t-i]=12,E[t-i]=0,F[t-i]=-Math.PI/2;else if(y.lossst_x){var f=+y.lossst_x,n=+y.lossst_y,m=+y.lossst_z;"px"==W&&2>y.lossst_x&&(m=y.lossst_z=1);if("pI"==W&&z&&1==C)for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i-1,F[t-i]=0;else if(2>f)for(i=0;i<G;i++)q[t-i]=f-i,w[t-i]=n,E[t-i]=m,F[t-i]=-Math.PI/2;else if(f>X-2)for(i=0;i<G;i++)q[t-i]=f+i,w[t-i]=n,E[t-i]=m,F[t-i]=Math.PI/2;else if(2>n)for(i=0;i<G;i++)q[t-i]=f,w[t-i]=n-i,E[t-i]=m,F[t-i]=0;else if(n>h-2)for(i=0;i<G;i++)q[t-i]=f,w[t-i]=n+i,E[t-i]=m,F[t-i]=0;else for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i,F[t-i]=0}else if("px"==W)for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i-1,F[t-i]=0;for(i=0;i<Math.max(G+4,16);i++)k.innerHTML+="<div id=M"+i+" class=sm style=transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:"+(v-.7)+"vh;height:"+(v-.7)+"vh><div class=ss id=S"+i+"></div><div id=R"+i+' class=sr><div class="z k"id=T'+i+">"+(1>i?"<div style=background:none;box-shadow:none;color:red;font-size:4vh;text-align:center;transform:rotateZ(180deg)translateY(-4vh)translateZ(1.5vh)>Y</div>":"")+'<div class=u style="font:'+.5*v+"vh/"+.8*v+'vh a">'+(1>i?"\ud83d\udc40":"")+"</div><div class=f>"+(1>i?"\u203f":"")+"</div><div class=r></div><div class=l></div><div class=b>"}function Y(k){for(var f={a:0};f.a<G;f={a:f.a,j:f.j,m:f.m,o:f.o},f.a++)if(!k){var n=oldx=oldy=oldz=newx=newy=newz=0;O&&T&&(q[t-f.a-1]==R&&q[t-f.a]==R+T-1?(n=1,oldx=R-1,newx=R+T,oldy=newy=w[t-f.a],oldz=newz=E[t-f.a]):q[t-f.a-1]==R+T-1&&q[t-f.a]==R?(n=1,oldx=R+T,newx=R-1,oldy=newy=w[t-f.a],oldz=newz=E[t-f.a]):w[t-f.a-1]==S&&w[t-f.a]==S+T-1?(n=1,oldy=S-1,newy=S+T,oldx=newx=q[t-f.a],oldz=newz=E[t-f.a]):w[t-f.a-1]==S+T-1&&w[t-f.a]==S?(n=1,oldy=S+T,newy=S-1,oldx=newx=q[t-f.a],oldz=newz=E[t-f.a]):0==E[t-f.a-1]&&E[t-f.a]==T-1?(n=1,oldz=-1,newz=T,oldx=newx=q[t-f.a],oldy=newy=w[t-f.a]):E[t-f.a-1]==T-1&&0==E[t-f.a]&&(n=1,oldz=T,newz=-1,oldx=newx=q[t-f.a],oldy=newy=w[t-f.a]));if(n)top["R"+f.a].style.transform="rotateZ("+F[t-f.a]+"rad)",top["M"+f.a].style.transform="translateX("+(oldx*v+.5)+"vh)translateY("+(oldy*v+.5)+"vh)translateZ("+(oldz*v+.5)+"vh)scale(.01)scaleZ(.01)",setTimeout(function(f){return function(){top["M"+f.a].style.transition="none"}}(f),90),f.j=newx,f.m=newy,f.o=newz,setTimeout(function(f){return function(){top["M"+f.a].style.transform="translateX("+(f.j*v+.5)+"vh)translateY("+(f.m*v+.5)+"vh)translateZ("+(f.o*v+.5)+"vh)scale(.01)"}}(f),100),setTimeout(function(f){return function(){top["M"+f.a].style.transition="";top["M"+f.a].style.transform="translateX("+(q[t-f.a]*v+.25)+"vh)translateY("+w[t-f.a]*v+"vh)translateZ("+(E[t-f.a]*v+.5)+"vh)"}}(f),150);else try{top["M"+f.a].style.transform="translateX("+(q[t-f.a]*v+.25)+"vh)translateY("+w[t-f.a]*v+"vh)translateZ("+(E[t-f.a]*v+.5)+"vh)",top["R"+f.a].style.transform="rotateZ("+F[t-f.a]+"rad)"}catch(A){}try{top["S"+f.a].style.display=0==E[t-f.a]?"":"none"}catch(A){}}H?a.style.transform="translateX(-100vh)translateY(-37vh)translateZ(-5vh)rotateX(33deg)":null===J||y["lossst_p"+W+J]?(a.style.transform="translateX("+-q[t]*v+"vh)translateY("+-w[t]*v+"vh)translateZ(45vh)rotateX(40deg)rotateZ("+g+"rad)",a.style.transformOrigin=""+q[t]*v+"vh "+w[t]*v+"vh"):(a.style.transform="translateX("+(-(R+puzzles[J][0]/2)*v+5)+"vh)translateY("+(-(S+puzzles[J][0]/2)*v+8)+"vh)translateZ("+(90-puzzles[J][0]*(v+3))+"vh)rotateX(30deg)rotateZ("+g+"rad)",a.style.transformOrigin=""+((R+puzzles[J][0]/2)*v+5)+"vh "+((S+puzzles[J][0]/2-1)*v+8)+"vh");f=C?1:0;for(k=0;k<G;k++){if(0>=E[t-k]){f=0;break}for(m in cubes)cubes[m][0]==q[t-k]&&cubes[m][1]==w[t-k]&&1==E[t-k]&&(f=0)}if(f){for(k=0;k<G;k++)E[t-k]--;try{Y()}catch(A){for(var m=2*G;m--;)q.pop(),w.pop(),E.pop(),F.pop(),t--;Aa=0;Y()}}f=q[t];n=w[t];for(k in doors)(doors[k][10]&&C||!doors[k][10]&&!C)&&top["d"+W+k]&&0<doors[k][3]&&G>=doors[k][3]&&4>Math.hypot(f-doors[k][0],n-doors[k][1])&&!y["lossst_d"+W+k]&&(top["d"+W+k].className="do s",!doors[k][6]||"px"==W&&2<k||ja(pa).play(),y["lossst_d"+W+k]=1),top["d"+W+k]&&"do s"==top["d"+W+k].className&&2>Math.hypot(f-doors[k][0],n-doors[k][1])&&(y.lossst_p=W=doors[k][5],setTimeout(Ba,600),y.lossst_x=doors[k][7],y.lossst_y=doors[k][8],y.lossst_z=0);null!==J&&Da();H||(J=null);H||(L=[],M=[]);for(p in puzzles)if(f>=puzzles[p][5]&&f<puzzles[p][5]+puzzles[p][0]&&n>=puzzles[p][6]&&n<puzzles[p][6]+puzzles[p][0]){J=+p;Q=0;y["lossst_p"+W+p]&&(Q=1);K=p;xa=!!puzzles[p][4];N=!!puzzles[p][3];O=!!puzzles[p][2];R=puzzles[p][5];S=puzzles[p][6];T=puzzles[p][0];for(k=0;k<T;k++)for(L[k]=[],M[k]=[],m=0;m<T;m++)puzzles[p][3]&&(M[k][m]=+puzzles[p][3][k*puzzles[p][0]+m]),puzzles[p][4]&&(L[k][m]=+puzzles[p][4][k*puzzles[p][0]+m]);Da()}}function Z(k,f,n){V=0;if(0>k||k>=X||0>f||f>=h)V=1;for(var m in trees)k>=trees[m][0]-1&&k<=trees[m][0]&&f==trees[m][1]&&3>E[t]&&(V=1);for(m in hints)k>=hints[m][1]&&k<=hints[m][1]+3&&f==hints[m][2]&&G>=hints[m][3]&&(!hints[m][4]||G<=hints[m][4])&&(C&&hints[m][5]||!C&&!hints[m][5])&&(V=1);for(m in apples)if(y["lossst_A"+W+m]&&k==apples[m][0]&&f==apples[m][1]&&0==E[t])if(ja(ka).play(),"pN"==W){x=setInterval(sa.forward,150);y.lossst_E=1;setTimeout(function(){I=1;as0.remove();a0.style.transform="translateY(319vh)translateZ(2vh)rotateX(-65deg)rotateY(90deg)";a0.style.transition=a.style.transition="10s";a0.style.transform="translateY(15vh)translateZ(2vh)rotateX(-65deg)";a.style.transform=D?"translateX(-133vh)translateY(-249vh)translateZ(-373vh)rotateZ(90deg)":"translateX(-141vh)translateY(-227vh)translateZ(-185vh)rotateZ(90deg)"},200);var A={},P;for(P in puzzles)A.g=P,setTimeout(function(f){return function(){top["B"+f.g].style.transition=".5s";top["B"+f.g].style.transform="translateY(-125%)"}}(A),[1450,2500,3800,5400][A.g]),A={g:A.g};setTimeout(function(){clearInterval(va);y.lossst_E=1;y.lossst_e=1;b.style.background="#000";y.lossst_s=0;b.innerHTML="<div id=iv style=perspective:90vh><center id=menu style=width:75vh;transform:translateX(-38vh)translateY(-35vh)rotateX(-28deg)><span style=font-size:4vh;line-height:5vh><h1>Congrats!</h1><br>You completed the game in<br>"+ta+" seconds and "+ua+" moves!<br><br><a href=//twitter.com/intent/tweet?text=I%20played%20LOSSST,%20a%20%23js13k%20game%20by%20by%20@MaximeEuziere%0Amy%20score:%20"+ta+"%20seconds%20and%20"+ua+"%20moves!%0Ajs13kgames.com%2Fentries%2Flossst target=_blank style=color:#def;font-size:4vh>TWEET YOUR SCORE</a><br><br>Dev record:<br>854 seconds, 2452 moves<br><br>3D puzzle editor unlocked!<br><br><a href=. style=font-size:4vh>MAIN MENU"},15E3);n=document.querySelectorAll(".o");A={};for(var aa in n){A.h=aa;try{2==n[A.h].style.backgroundColor.match(/68/g).length&&setTimeout(function(f){return function(){top[n[f.h].id].style.background="#a00"}}(A),8E3+10*A.h)}catch(na){}A={h:A.h}}}else if(delete apples[m],top["a"+m].remove(),top["as"+m].remove(),G++,y.lossst_S=G,y["lossst_a"+W+m]=1,"pF"==W&&16==G){I=1;x=setInterval(sa.forward,150);z=1;a.style.transition="5s";a.style.transform="translateX(-180vh)translateY(-53vh)translateZ("+(D?-422:-180)+"vh)rotateZ(180deg)";setTimeout(function(){a.style.transition="1s";I=z=0;Y();ig.innerHTML+="<div class=t style=left:190vh;transform:translateY(50vh)rotateX(-55deg)translateY(-4vh)>\u2190<br>Exit";clearInterval(x)},1E4);n=document.querySelectorAll(".o");A={};for(var ea in n){A.f=ea;try{n[A.f].id.match(/g\d\d\d$/)&&2==n[A.f].style.backgroundColor.match(/68/g).length&&setTimeout(function(f){return function(){top[n[f.f].id].style.background="#a00"}}(A),5500+10*A.f)}catch(na){}A={f:A.f}}}for(m in cubes)k==cubes[m][0]&&f==cubes[m][1]&&0==n&&(V=1);for(m in emoji)"pC"!=W&&k==emoji[m][1]&&f==emoji[m][2]&&0==n&&(V=1);for(m in doors)top["d"+W+m]&&"do s"==top["d"+W+m].className&&2>=Math.hypot(k-doors[m][0],f-doors[m][1])&&(V=0);hitcube2=0;for(m=G-2;0<m;m--)q[t-m]==k&&w[t-m]==f&&E[t-m]==n&&(V=1,1==m&&(hitcube2=1));for(p in puzzles)puzzles[p][3]&&k>=puzzles[p][5]&&k<puzzles[p][5]+puzzles[p][0]&&(f==puzzles[p][6]-1&&w[t]==puzzles[p][6]&&!puzzles[p][2]||f==puzzles[p][6]&&w[t]==puzzles[p][6]-1)&&(V=1);if("pI"==W&&18==k&&!C){z=C=V=I=1;clearInterval(x);sa=ra;_=$=0;x=setInterval(ra.forward,250);y.lossst_s=1;y.lossst_S=G=5;for(k=0;21>k;k++)cubes.push([q[t-k],w[t-k]]),top["M"+k].id="",top["R"+k].id="",top["S"+k].id="",top["T"+k].id="";a.style.transition="2s";Ca();Y();a.style.transform="translateX(-105vh)translateY(-51vh)translateZ(80vh)rotateX(45deg)";a.style.transformOrigin="140vh 70vh";setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(0);F.push(F[t]);t++;Y()},3E3);setTimeout(function(){ii.innerHTML="Daddy!"},4E3);setTimeout(function(){ii.innerHTML=""},6E3);setTimeout(function(){ii.innerHTML="I lossst my soccer ball!"},7E3);setTimeout(function(){ii.innerHTML=""},9E3);setTimeout(function(){ii.innerHTML="But I found new moves!"},1E4);setTimeout(function(){ii.innerHTML="";z=I=0;clearInterval(x);a.style.transition="1s";Y();Ea();D&&(kT.className=kB.className="",y.lossst_B=1)},13500)}}function Da(){if(!Q&&null!==J){solved=1;H&&(ij.disabled=0);for(i=0;i<T;i++)for(j=0;j<T;j++)try{top["g"+K+i+j]&&(top["g"+K+i+j].style.background=L[i][j]?"#000":"#fff"),top["w"+K+i+j]&&(top["w"+K+i+j].style.background=M[i][j]?"#000":"#fff")}catch(m){}if(q[t]<R||q[t]>R+T-1||w[t]<S||w[t]>S+T-1||0>E[t]||E[t]>T-1)H&&(ij.disabled=1);else{for(i=0;i<G;i++){top["g"+K+(w[t-i]-S)+(q[t-i]-R)]&&(top["g"+K+(w[t-i]-S)+(q[t-i]-R)].style.background=L[w[t-i]-S][q[t-i]-R]?"#080":H?"#44c":"#f00");w[t-i]>=S&&w[t-i]<S+T&&top["w"+K+(T-1-E[t-i])+(q[t-i]-R)]&&(top["w"+K+(T-1-E[t-i])+(q[t-i]-R)].style.background=M[T-1-E[t-i]][q[t-i]-R]?"#080":H?"#44c":"#f00");if(q[t-i]<R||q[t-i]>R+T-1||w[t-i]<S||w[t-i]>S+T-1||E[t-i]>T-1)H&&(ij.disabled=1),solved=0;xa&&L[w[t-i]-S]&&!L[w[t-i]-S][q[t-i]-R]&&(solved=0);N&&M[T-1-E[t-i]]&&!M[T-1-E[t-i]][q[t-i]-R]&&(solved=0)}for(i=0;i<T;i++)for(j=0;j<T;j++){try{xa&&3==top["g"+K+i+j].style.backgroundColor.match(/0/g).length&&(solved=0)}catch(m){}try{N&&3==top["w"+K+i+j].style.backgroundColor.match(/0/g).length&&(solved=0)}catch(m){}}if(solved){Q=H?0:1;puzzles[J][2]=0;top["puzzle"+J].classList.remove("w");H||(y["lossst_p"+W+J]=1);for(i=0;i<T;i++)for(j=0;j<T;j++){try{top["g"+K+i+j].style.background=L[i][j]?"#44c":"#fd0"}catch(m){}try{top["w"+K+i+j].style.background=M[i][j]?"#44c":"#fd0"}catch(m){}}H||(ja(oa).play(),ya++,y.lossst_T=ya);var k=1,f={},n;for(n in cubes)f.b=n,cubes[f.b][0]>=puzzles[J][5]&&cubes[f.b][0]<puzzles[J][5]+puzzles[J][0]&&cubes[f.b][1]>=puzzles[J][6]&&cubes[f.b][1]<puzzles[J][6]+puzzles[J][0]&&(delete cubes[f.b],k++,setTimeout(function(f){return function(){top["cube"+f.b].remove()}}(f),200*k)),f={b:f.b}}}}}function Ea(){for(var k in apples)if(!y["lossst_A"+W+k]&&(0<apples[k][3]&&apples[k][3]==G||0<apples[k][4]&&apples[k][4]==ya)){I=1;D&&"px"==W&&1==k&&(kw.className="",y.lossst_b=1);var f=setTimeout;a.style.transform="translateX("+-apples[k][0]*v+"vh)translateY("+-apples[k][1]*v+"vh)translateZ(50vh)rotateX(35deg)";y["lossst_A"+W+k]=1;a.style.transformOrigin=""+apples[k][0]*v+"vh "+apples[k][1]*v+"vh";f(void 0,250);f=setTimeout;top["a"+k].className="j g";top["as"+k].className="e p";f(void 0,800);setTimeout(function(){ja(la).play()},850);setTimeout(function(){Y();z||(I=0)},2E3)}}function Fa(){U=0;H||(J=null);for(p in puzzles)q[t]>=puzzles[p][5]&&q[t]<puzzles[p][5]+puzzles[p][0]&&w[t]>=puzzles[p][6]&&w[t]<puzzles[p][6]+puzzles[p][0]&&0<=E[t]&&E[t]<puzzles[p][0]&&(J=+p,U=1)}onkeydown=function(k){top["lurd************************l**r************l*d***u**u"[k.which-37]]=1;18==k.which&&(B=1);16==k.which&&(s=1);17==k.which&&(c=1);if(!I){if(49==k.which||97==k.which)-1<g&&g--,ca();if(50==k.which||98==k.which)g=0,ca();if(51==k.which||99==k.which)1>g&&g++,ca()}Fa();U?Da():Aa=0;if(82==k.which&&U){if(Aa<=t)for(var f=Aa;f<=t;f++)q.pop(),w.pop(),E.pop(),F.pop(),setTimeout(function(){sa.back()},70*(t-f));t=Aa-1;Aa=0;Y();Da();y.lossst_M=++ua}else if(116!=k.which&&82!=k.which&&17!=k.which&&123!=k.which&&k.preventDefault&&k.preventDefault(),!I){V=0;if(l)!Q&&O&&U&&q[t]==R?(Z(R+T-1,w[t],E[t]),V||(q.push(R+T-1),w.push(w[t]),E.push(E[t]),F.push(Math.PI/2),t++)):(Z(q[t]-1,w[t],E[t]),V||(q.push(q[t]-1),w.push(w[t]),E.push(E[t]),F.push(Math.PI/2),t++));else if(r)!Q&&O&&U&&q[t]==R+T-1?(Z(R,w[t],E[t]),V||(q.push(R),w.push(w[t]),E.push(E[t]),F.push(-Math.PI/2),t++)):(Z(q[t]+1,w[t],E[t]),V||(q.push(q[t]+1),w.push(w[t]),E.push(E[t]),F.push(-Math.PI/2),t++));else if(u)!Q&&O&&U&&w[t]==S?(Z(q[t],S+T-1,E[t]),V||(q.push(q[t]),w.push(S+T-1),E.push(E[t]),F.push(Math.PI),t++)):(Z(q[t],w[t]-1,E[t]),V||(q.push(q[t]),w.push(w[t]-1),E.push(E[t]),F.push(Math.PI),t++));else if(d)!Q&&O&&U&&w[t]==S+T-1?(Z(q[t],S,E[t]),V||(q.push(q[t]),w.push(S),E.push(E[t]),F.push(0),t++)):(Z(q[t],w[t]+1,E[t]),V||(q.push(q[t]),w.push(w[t]+1),E.push(E[t]),F.push(0),t++));else if((C||N)&&s){if(!U){k=G-1;for(f in cubes)cubes[f][0]==q[t]&&cubes[f][1]==w[t]&&k++;if(E[t]==k)return}!Q&&O&&U&&E[t]==T-1?(Z(q[t],w[t],0),V||(q.push(q[t]),w.push(w[t]),E.push(0),F.push(F[t]),t++)):(Z(q[t],w[t],E[t]+1),V||(q.push(q[t]),w.push(w[t]),E.push(E[t]+1),F.push(F[t]),t++))}else(C||N)&&c?!Q&&O&&U&&0==E[t]?(Z(q[t],w[t],T-1),V||(q.push(q[t]),w.push(w[t]),E.push(T-1),F.push(F[t]),t++)):0==E[t]?V=1:(Z(q[t],w[t],E[t]-1),V||(q.push(q[t]),w.push(w[t]),E.push(E[t]-1),F.push(F[t]),t++)):B&&t>G&&(F.pop(),q.pop(),w.pop(),E.pop(),t--);V&&!I&&(I=1,setTimeout(function(){z||(I=0)},150),!(-1<q[t]&&q[t]<X&&-1<w[t]&&w[t]<h)||"pI"==W&&!C&&16<q[t]||hitcube2||ja(ma).play());if(!V&&!z&&(u||r||d||l||s||c||B)){y.lossst_M=++ua;Da();Y();B?t>G&&sa.back():(C||!s&&!c&&!C)&&sa.forward();Y(1);Ea();I||(I=1,setTimeout(function(){z||(I=0)},150));if("px"==W&&(C||14<=G)&&20==q[t]&&10==w[t]){I=1;var n=0;for(f=0;f<G;f++)setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(--n);F.push(F[t]);t++;Y()},150*f);setTimeout(function(){AA("pz",1)},160*G);y.lossst_x=20;y.lossst_y=10}Fa();U&&!Aa&&(Aa=t)}}};onkeyup=function(){u=r=d=l=s=c=B=0};onload=function(){1<location.hash.length?AA("py",1):(setTimeout(function(){x=setInterval(function(){sa.forward()},500)},200),b.innerHTML="<center id=e>\ud83d\udc40</center>\n<center id=iw></center>\n<div id=iv style=perspective:30vh>\n<center id=menu>\n<h1>LOSSST</h1>\n<span onclick=newgame()>New game</span><br>\n"+(y.lossst_a&&!y.lossst_E?"<span onclick=AA(0,1)>Continue</span><br>":"")+"\n<span onclick=AA(\"pz\",1)>Puzzle editor</span><br>\n<span onclick=top.open('//goo.gl/iKqoCS')>Bonus",newgame=function(){for(i in localStorage)0==i.indexOf("lossst")&&-1==i.indexOf("e")&&delete localStorage[i];y.lossst_a=1;menu.innerHTML="<br><br><span onclick=intro(0)>Desssktop</span><br><br><span onclick=intro(1)>Mobile"},intro=function(k){clearInterval(x);_=$=0;x=setInterval(sa.forward,250);y.lossst_m=D=k;y.lossst_S=G=5;ta=y.lossst_t=0;ua=y.lossst_M=0;y.lossst_M=0;y.lossst_t=0;menu.innerHTML="";setTimeout(function(){e.style.margin=0},500);dir=1;inter=setInterval(function(){e.style.opacity=0;setTimeout(function(){e.style.opacity=1;dir=-dir;e.style.transform="scaleX("+dir+")"},150)},3E3);setTimeout(function(){iw.innerHTML="I lossst my kid !"},2E3);setTimeout(function(){iw.innerHTML=""},5E3);setTimeout(function(){clearInterval(inter);e.style.margin="-80vh 0 0"},7E3);setTimeout(AA,7500)})};AA=function(k,f){if(0===k||"pz"==k)clearInterval(x),_=$=0;"pz"==k&&(H=1,J=0);W=k||y.lossst_p||"px";b.outerHTML="<body id=b class="+W+">\n<div id=iv>\n<div id=a style=transform:translateX(-97vh)translateY(-50vh)rotateZ(90deg)translateZ(119vh);transform-origin:100vh+50vh>\n<div id=ig>"+(H?"<div class=t style=width:60vh;transform:translateX(70vh)translateY(1vh)translateZ(2vh)rotateX(-42deg)>\n<label style=width:100%;text-align:center>Create a pattern with the snake and share it !</label>\n<br style=line-height:6vh>\n<div style=text-align:left;padding-left:5vh>\n<label>Grid</label> <input id=ib type=range value=5 min=3 max=8 step=1>\n<span id=gridval>5</span>\n<br>\n<label>Snake</label> <input id=iq type=range value=5 min=5 max=40 step=1>\n<span id=it>5</span>\n</div>\n<input type=checkbox id=ik checked> <label for=ik id=im>ground</label>\n"+(y.lossst_e||y.lossst_s&&6<y.lossst_S?"<input type=checkbox id=wall> <label for=wall>wall</label>":"")+"\n"+(y.lossst_e||y.lossst_s?"<input type=checkbox id=wrap> <label for=wrap>wrap</label>":"")+"\n<br>\n<center>\n<button id=ij disabled>Share</button>\n</center>\n</div>":"")+"\n</div>\n<div id=ih></div>\n<div id=ie></div>\n<div id=ia></div>\n</div>\n</div>\n<center id=iz style='font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw'>\n<button id=kU class=h ontouchstart=TS(38) ontouchend=TE(38)>\u2191</button>\n<button id=kD class=h ontouchstart=TS(40) ontouchend=TE(40)>\u2193</button>\n<button id=kL class=h ontouchstart=TS(37) ontouchend=TE(37)>\u2190</button>\n<button id=kR class=h ontouchstart=TS(39) ontouchend=TE(39)>\u2192</button>\n<button id=kT class=h ontouchstart=TS(16) ontouchend=TE(16)>\u2b06\ufe0e</button>\n<button id=kB class=h ontouchstart=TS(17) ontouchend=TE(17)>\u2b07\ufe0e</button>\n<button id=kw class=h ontouchstart=TS(18) ontouchend=TE(18)>\u21a9</button>\n<button id=kx class=h ontouchstart=TS(82) ontouchend=TE(82)>\u00d7</button>\n<button id=ky class=h ontouchstart=TS(49) ontouchend=TE(49)>\u21bb</button>\n<button id=kz class=h ontouchstart=TS(51) ontouchend=TE(51)>\u21ba</button>\n</center>\n<center id=ii style='font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw'>";y.lossst_Apx0=1;Ba();if(D&&"py"==W||y.lossst_w)kU.className=kD.className=kL.className=kR.className="";if(D&&"py"==W||y.lossst_b)kw.className="";if(D&&"py"==W||y.lossst_r)kr.className="";if(D&&"py"==W||y.lossst_B)kT.className="",kB.className="";if(D&&"py"==W||y.lossst_c)ky.className="",kz.className="";H||(va=setInterval(function(){y.lossst_t=++ta},1E3));f&&(b.innerHTML+="<div style='position:fixed;font:8vh a;top:3vh;right:3vh'onclick=location='.'>\u00d7")}</script><style>@keyframes move{0%,100%{transform:rotateY(-10deg)}50%{transform:rotateY(10deg)}}*{margin:0;padding:0;font:2.5vh/5.5vh arial,sans-serif;vertical-align:middle;box-sizing:border-box;-webkit-touch-callout:none;-webkit-user-select:none;-webkit-tap-highlight-color:transparent;user-select:none;cursor:pointer;touch-action:manipulation}html,body{height:100%;background:#000;overflow:hidden;background:radial-gradient(#def 25%,#7ce)}a{color:#def}input,button{position:relative;z-index:2}input[type=range]::-webkit-slider-runnable-track,input[type=range]::-webkit-slider-thumb{background:#888;border:1px solid #000}input[type=range]::-moz-range-track,input[type=range]::-moz-range-thumb{background:#888;border:1px solid #000}#iv{width:0;height:0;perspective:120vh;position:absolute;top:50%;left:50%}#iv *{transform-style:preserve-3d}#a{width:0;height:0;transform-origin:18vh 0%;transition:transform 1s,transform-origin 1s}.z{position:fixed;top:0;left:0}.z>div{width:100%;height:100%;position:fixed}.z .u{transform:rotateY(90deg)translateX(-100%)rotateY(-90deg)}.z .l{transform:rotateX(-90deg)translateY(-50%)translateX(-50%)rotateY(-90deg)}.z .r{transform:rotateX(-90deg)translateY(-50%)translateX(50%)rotateY(90deg)}.z .f{transform:translateY(50%)rotateX(-90deg)translateY(-50%)}.z .b{transform:translateY(-50%)rotateX(-90deg)translateY(-50%)rotateY(180deg)}.z.q{width:32vh;height:32vh;transform:none}.z.q>div{background:transparent}.z.q .b{transition:opacity .5s;transform:translateY(-50%)rotateX(-90deg)translateY(-52%)}.z.q.w .d,.z.q .d{transition:opacity .5s;background:#0c5b0c}.sm,.sr{transform-origin:50% 50%;width:100%;height:100%;position:fixed}.sm{transition:transform .15s}.z.k{width:100%;height:100%}.z.k>div{box-shadow:0 0 0 .1vh #000 inset;text-align:center}.z.k .f{line-height:3vh}#ie .z.k>div{background:#FFA500}#ie .z.k .u{background:#dF8500}#ia .z.k>div,#a.haswall .z.k>div{background:#444}#ia .z.k .u,#a.haswall .z.k .u{background:#333}#ia .z.k .f{color:#fff}.ss{position:fixed;width:100%;height:100%;background:rgba(0,0,0,.25);transform:translateX(14%)translateY(14%)translateZ(-.25vh)}label{display:inline-block;width:22%}button{display:inline-block;width:23%;border:.2vh solid #000;margin:1vh 2% 0 0}input[type=range]{width:60%}#form{width:50vh;margin:auto}.o{float:left;outline:.4vh solid #888;opacity:0;transition:opacity .5s;background:#fff}.z.q.v{transform:translateZ(.1vh)}.z.q.v .o{opacity:1}.z.q.v .d{transform:none}.z.q.w>div{background:linear-gradient(45deg,rgba(200,200,200,.1),rgba(200,200,200,.3));box-shadow:0 0 .1vh rgba(255,255,255,.5)}.j{position:fixed;transform-origin:50% 100%;bottom:0}.m{animation:move 3s infinite}.e{color:rgba(0,0,0,.002);text-shadow:0px 0px rgba(0,0,0,.25);position:fixed;transform-origin:50% 100%;bottom:0}.tr,.h{font:11vh/12vh a}.a .tr{font:15vh/11vh a}.a .h,.c .h,.i .h,.a .p,.c .p,.i .p,.c .x.b,#iz button.h{display:none}.g,.g *,.p{font:4vh/5vh a;transition:opacity .5s .5s}.n,.n *{font:5vh/6vh a}.g.h,.p.h{opacity:0}.a .g{font:6vh/5vh a}.do{position:fixed;transform-origin:0% 100%;width:0;height:0}.do .y{position:fixed;width:15vh;height:20vh;background:radial-gradient(2vh at 90% 50%,gold 35%,transparent 40%),#a22;border-radius:1vh 1vh 0 0;transform-origin:0% 100%;transform:translateX(-7.5vh)translateY(-12.5vh)rotateX(-90deg);text-align:center;font-size:6vh;line-height:12vh;color:#fff;transition:transform 1s}.do .y.d1{background:radial-gradient(2vh at 90% 50%,gold 35%,transparent 40%),#222}.do.s .y{transform:translateX(-7.5vh)translateY(-12.5vh)rotateX(-90deg)rotateY(90deg)}.z.x div{background:linear-gradient(45deg,#640,#583808)}.z.x div.u{transform:rotateY(90deg)translateX(-5.4vh)translateZ(-.1vh)rotateY(-90deg);background:radial-gradient(#3F7D1F,#034301);background-size:280vh 140vh;width:5.3vh;height:5.3vh}.t{position:fixed;background:#fff;padding:.7vh;width:20vh;font:2vh/2.5vh arial,sans-serif;transform-origin:50% 100%;text-align:center;box-shadow:0 0 0 .2vh #000 inset;bottom:0}.t br{font:0/0 a}.t:before{content:"";width:3vh;height:3vh;background:#750;position:absolute;bottom:-3vh;left:8vh;border-left:.2vh solid;border-right:.2vh solid}.pz .t:before{left:28vh}label{text-align:left}#a{transition:transform 6s ease-in,transform-origin 6s ease-in;width:280vh;height:140vh;background:radial-gradient(#4F8D2F,#136321);border-radius:3vh}.px #a,.pI #a{background:radial-gradient(10vh at 51.3% 52%,#000 40%,transparent 50%),radial-gradient(15vh at 51.3% 52%,#640 40%,transparent 50%),radial-gradient(#4F8D2F,#136321)}#e{margin:99vh 0 0;transition:margin 1s;font:10vh/80vh a}#iw{font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw}#menu{color:#fff;width:55vh;transform:translateX(-27vh)translateY(-20vh)rotateX(-17deg)}#menu span{font:7vh/12vh arial,sans-serif}#menu h1{font:13vh/16vh arial,sans-serif;text-shadow:.1vh -.1vh #777,.2vh -.2vh #777,.3vh -.3vh #777}#menu span:hover{color:#ace;transform:rotateX(-10deg)}.pN #menu span:hover{color:#fff}#iz button{position:fixed;width:10vh;height:10vh;text-align:center;font:6vh/10vh a}#kU{right:14vh;bottom:14vh}#kD{right:14vh;bottom:2vh}#kL{right:26vh;bottom:2vh}#kR{right:2vh;bottom:2vh}#kT{left:2vh;top:2vh}#kB{left:2vh;top:14vh}#kw{bottom:2vh;left:2vh}#kx{bottom:14vh;left:2vh}#ky{top:2vh;right:18vh}#kz{top:2vh;right:6vh}#hpx0{opacity:0;transition:opacity .5s}</style></head><head></head><body id="b" class="pA">
<div id="iv">
<div id="a" style="transform: translateX(-5vh) translateY(-50vh) translateZ(45vh) rotateX(40deg) rotateZ(0rad); transform-origin: 5vh 50vh 0px; width: 200vh; height: 100vh; transition: transform 1s, transform-origin 1s;">
<div id="ig"><div id="tree0" class="j tr" style="left:175vh;transform:translateX(-7vh)translateY(79vh)rotateX(-70deg)">🌳</div><div id="treeshadow0" class="e h" style="left:175vh;transform:translateX(-7.5vh)translateY(78.5vh)rotateZ(144deg)scaleY(1.5)">🌳</div><div id="a0" class="j g h" style="left:165vh;transform:translateY(84vh)rotateX(-65deg)"><div class="m">🍎</div></div><div id="as0" class="e p h" style="left:165vh;transform:scaleX(-1)translateY(83vh)rotateZ(212deg)">🍎</div><div id="a1" class="j g h" style="left:170vh;transform:translateY(89vh)rotateX(-65deg)"><div class="m">🍎</div></div><div id="as1" class="e p h" style="left:170vh;transform:scaleX(-1)translateY(88vh)rotateZ(212deg)">🍎</div><div id="a2" class="j g h" style="left:185vh;transform:translateY(79vh)rotateX(-65deg)"><div class="m">🍎</div></div><div id="as2" class="e p h" style="left:185vh;transform:scaleX(-1)translateY(78vh)rotateZ(212deg)">🍎</div><div class="j n" style="left:54vh;transform:translateY(54vh)rotateX(-65deg)"><div class="m">🐌</div></div><div id="dpA0" class="do s" style="left:-7.5vh;top:52.5vh;transform:rotateZ(-1.5707963267948966rad)translateZ(0vh)"><div class="y d0" hidden="">8</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh"></div></div><div id="dpA1" class="do" style="left:177.5vh;top:107.5vh;transform:rotateZ(3.141592653589793rad)translateZ(0vh)"><div class="y d0">11</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh"></div></div><div id="hpA0" class="t" style="left:45vh;transform:translateY(50vh)translateZ(0vh)rotateX(-70deg)translateY(-4vh)">Cover the black patterns to solve puzzles</div><div id="hpA1" class="t" style="left:105vh;transform:translateY(50vh)translateZ(0vh)rotateX(-70deg)translateY(-4vh)">Solve all the puzzles in the room to unlock a new door</div><div id="hpA2" class="t" style="left:170vh;transform:translateY(50vh)translateZ(0vh)rotateX(-70deg)translateY(-4vh)">Your progress is saved automatically</div></div>
<div id="ih"><div id="puzzle0" class="z q v " style="left:10vh;top:15vh;width:30vh;height:30vh"><div id="D0" class="d"><div class="o" id="g000" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g001" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g002" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g003" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g004" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g005" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g010" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g011" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g012" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g013" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g014" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g015" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g020" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g021" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g022" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g023" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g024" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g025" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g030" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g031" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g032" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g033" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g034" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g035" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g040" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g041" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g042" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g043" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g044" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g045" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g050" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g051" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g052" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g053" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g054" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g055" style="width:5vh;height:5vh;background:#fff"></div></div><div id="B0" class="b"></div></div><div id="puzzle1" class="z q v " style="left:70vh;top:15vh;width:30vh;height:30vh"><div id="D1" class="d"><div class="o" id="g100" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g101" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g102" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g103" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g104" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g105" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g110" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g111" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g112" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g113" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g114" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g115" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g120" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g121" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g122" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g123" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g124" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g125" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g130" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g131" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g132" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g133" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g134" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g135" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g140" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g141" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g142" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g143" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g144" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g145" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g150" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g151" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g152" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g153" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g154" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g155" style="width:5vh;height:5vh;background:#fff"></div></div><div id="B1" class="b"></div></div><div id="puzzle2" class="z q v " style="left:130vh;top:15vh;width:30vh;height:30vh"><div id="D2" class="d"><div class="o" id="g200" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g201" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g202" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g203" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g204" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g205" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g210" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g211" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g212" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g213" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g214" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g215" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g220" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g221" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g222" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g223" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g224" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g225" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g230" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g231" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g232" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g233" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g234" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g235" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g240" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g241" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g242" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g243" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g244" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g245" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g250" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g251" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g252" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g253" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g254" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g255" style="width:5vh;height:5vh;background:#fff"></div></div><div id="B2" class="b"></div></div><div id="puzzle3" class="z q v " style="left:10vh;top:65vh;width:25vh;height:25vh"><div id="D3" class="d"><div class="o" id="g300" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g301" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g302" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g303" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g304" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g310" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g311" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g312" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g313" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g314" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g320" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g321" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g322" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g323" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g324" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g330" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g331" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g332" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g333" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g334" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g340" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g341" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g342" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g343" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g344" style="width:5vh;height:5vh;background:#fff"></div></div><div id="B3" class="b"></div></div><div id="puzzle4" class="z q v " style="left:70vh;top:65vh;width:30vh;height:30vh"><div id="D4" class="d"><div class="o" id="g400" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g401" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g402" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g403" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g404" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g405" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g410" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g411" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g412" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g413" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g414" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g415" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g420" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g421" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g422" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g423" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g424" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g425" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g430" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g431" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g432" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g433" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g434" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g435" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g440" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g441" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g442" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g443" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g444" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g445" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g450" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g451" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g452" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g453" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g454" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g455" style="width:5vh;height:5vh;background:#fff"></div></div><div id="B4" class="b"></div></div><div id="puzzle5" class="z q v " style="left:130vh;top:65vh;width:30vh;height:30vh"><div id="D5" class="d"><div class="o" id="g500" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g501" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g502" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g503" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g504" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g505" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g510" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g511" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g512" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g513" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g514" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g515" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g520" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g521" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g522" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g523" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g524" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g525" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g530" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g531" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g532" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g533" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g534" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g535" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g540" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g541" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g542" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g543" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g544" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g545" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g550" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g551" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g552" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g553" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g554" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g555" style="width:5vh;height:5vh;background:#fff"></div></div><div id="B5" class="b"></div></div></div>
<div id="ie"><div id="M0" class="sm" style="transform: translateX(5.25vh) translateY(50vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S0"></div><div id="R0" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id="T0"><div style="background:none;box-shadow:none;color:red;font-size:4vh;text-align:center;transform:rotateZ(180deg)translateY(-4vh)translateZ(1.5vh)">Y</div><div class="u" style="font:2.5vh/4vh a">👀</div><div class="f">‿</div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M1" class="sm" style="transform: translateX(0.25vh) translateY(50vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S1"></div><div id="R1" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id="T1"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M2" class="sm" style="transform: translateX(-4.75vh) translateY(50vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S2"></div><div id="R2" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id="T2"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M3" class="sm" style="transform: translateX(-9.75vh) translateY(50vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S3"></div><div id="R3" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id="T3"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M4" class="sm" style="transform: translateX(-14.75vh) translateY(50vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S4"></div><div id="R4" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id="T4"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M5" class="sm" style="transform: translateX(-19.75vh) translateY(50vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S5"></div><div id="R5" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id="T5"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M6" class="sm" style="transform: translateX(-24.75vh) translateY(50vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S6"></div><div id="R6" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id="T6"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M7" class="sm" style="transform: translateX(-29.75vh) translateY(50vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S7"></div><div id="R7" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id="T7"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M8" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S8"></div><div id="R8" class="sr"><div class="z k" id="T8"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M9" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S9"></div><div id="R9" class="sr"><div class="z k" id="T9"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M10" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S10"></div><div id="R10" class="sr"><div class="z k" id="T10"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M11" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S11"></div><div id="R11" class="sr"><div class="z k" id="T11"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M12" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S12"></div><div id="R12" class="sr"><div class="z k" id="T12"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M13" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S13"></div><div id="R13" class="sr"><div class="z k" id="T13"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M14" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S14"></div><div id="R14" class="sr"><div class="z k" id="T14"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M15" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S15"></div><div id="R15" class="sr"><div class="z k" id="T15"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div></div>
<div id="ia"></div>
</div>
</div>
<center id="iz" style="font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw">
<button id="kU" class="h" ontouchstart="TS(38)" ontouchend="TE(38)">↑</button>
<button id="kD" class="h" ontouchstart="TS(40)" ontouchend="TE(40)">↓</button>
<button id="kL" class="h" ontouchstart="TS(37)" ontouchend="TE(37)">←</button>
<button id="kR" class="h" ontouchstart="TS(39)" ontouchend="TE(39)">→</button>
<button id="kT" class="h" ontouchstart="TS(16)" ontouchend="TE(16)">⬆︎</button>
<button id="kB" class="h" ontouchstart="TS(17)" ontouchend="TE(17)">⬇︎</button>
<button id="kw" class="h" ontouchstart="TS(18)" ontouchend="TE(18)">↩</button>
<button id="kx" class="h" ontouchstart="TS(82)" ontouchend="TE(82)">×</button>
<button id="ky" class="h" ontouchstart="TS(49)" ontouchend="TE(49)">↻</button>
<button id="kz" class="h" ontouchstart="TS(51)" ontouchend="TE(51)">↺</button>
</center>
<center id="ii" style="font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw"></center><div style="position:fixed;font:8vh a;top:3vh;right:3vh" onclick="location='index.html'">×</div></body></html><html><head><title>LOSSST</title><meta content="width=device-width,user-scalable=no" name="viewport"><script>u=r=d=l=s=c=B=0;trees=[];apples=[];doors=[];cubes=[];hints=[];emoji=[];puzzles=[];TS=function(k){ba[k]&&clearInterval(ba[k]);onkeydown({which:"+n+"});ba[k]=setInterval(function(){onkeydown({which:k})},150)};TE=function(k){setTimeout(function(){clearInterval(ba[k]);onkeyup()},150)};var g=0;function ca(){a.style.transform="translateX(-"+q[t]*v+"vh)translateY(-"+w[t]*v+"vh)translateZ(45vh)rotateX(40deg)rotateZ("+g+"rad)"}var x=$=_=0;function da(){var k=0;this.i=function(f){k+=f/48E3*Math.PI*2;return k%=2*Math.PI}}function fa(k){var f=new da,n=new da,m=.1;this.i=function(){if(!k)return 0;var A=k+.4*Math.sin(n.i(3));A=440*Math.pow(2,(A-57)/12);m*=.9998;A=f.i(A);return Math.pow(Math.sin(A),1)*m}}function ha(k){function f(){var f=k.length/2;for(_=$;0>_;)_+=f;_%=f;f=new fa(k[2*_+0].charCodeAt(0)-48);for(var A=new fa(k[2*_+1].charCodeAt(0)-48),P=[],aa=0;48E3>aa;aa++){var ea=f.i(),na=A.i(),za=.5*ea+na;P.push(ea+.5*na);P.push(za)}n(P).play()}function n(f){function k(f){f=m(f);return f[0]+f[1]}function m(f){for(var k=0,m="",n=0;4>n;n++,k+=8)m+=String.fromCharCode(f>>k&255);return m}var n=2*f.length;n="RIFF"+m(n+36)+"WAVEfmt "+m(16)+k(1)+k(2)+m(48E3)+m(192E3)+k(4)+k(16)+"data"+m(n);for(var ea in f)n+=k(32767*f[ea]);return new Audio("data:audio/wav;base64,"+btoa(n))}$=-1;this.forward=function(){$++;f()};this.back=function(){$--;f()}}function ja(k){function f(f){f=n(f);return f[0]+f[1]}function n(f){for(var k=0,m="",n=0;4>n;n++,k+=8)m+=String.fromCharCode(f>>k&255);return m}for(var m=[],A=0;;A++){var P=k(A);if(null===P)break;m.push(P)}k=2*m.length;k="RIFF"+n(k+36)+"WAVEfmt "+n(16)+f(1)+f(1)+n(48E3)+n(96E3)+f(2)+f(16)+"data"+n(k);for(A in m)k+=f(1E4*m[A]);return new Audio("data:audio/wav;base64,"+btoa(k))}function ka(k){return 1E4<k?null:(Math.pow(k,1.055)&128?1:-1)*Math.pow((1E4-k)/1E4,2)/2}function la(k){return 25E3<k?null:((k^k>>3^k*k*7.3^k<<4)&65535)/65536*((25E3-k)/25E3)/2}function ma(k){return 5E3<k?null:(Math.pow(k+1E3*Math.sin(.01*k),.8)&200?.5:-.5)*Math.pow((5E3-k)/5E3,1)/2}function oa(k){if(16E3<k)return null;var f=Math.pow((16E3-k)/16E3,2.1)/2;return(k<16E3/7?k+10*Math.sin(-k/900)&16:k&13)?f:-f}function pa(k){return 9E4<k?null:(Math.pow(k+1E3*Math.sin(.01*k),.8)&200?.5:-.5)*Math.pow((9E4-k)/9E4,1)/4}var qa=new ha("nbo0risiubv0uisirbs0ui0i0b0c0f0gniojrlsjuivjymvjubv0ui0i0j0m0n0rsgu0vnxnzgx0vnunsg0n0o0n0g0s0o0nrisjulvgufsjufscrbo0ni0j0b0i0j0il`n0ogqgs`u0vgxgz`0gxl0nsouqvsxuuev0u`0`0eq0slulqcs0qcs0qbs0q`s0njo0reseujv0xeveuj0v0e0q0j0i0g0e0cu0scq00bv0ufr0sgn0vbr0xiz0zjr0sgu0vbx0zgx0vbubsg{0zb{`z^{0zi{fzgv0xiu0vjs0ulr0sbn0oll0nbl0jfi0g00bxc0`zb0^{`0]z^0[z]0Zz[0]z^0`zb0]uf0bxi0f{l0izr0ozn0ixr0nrulrnbo0risiufs0r`o0nb0czf0gzi0gzf0cub0i0j0mvn0m0j0irbscrbs`rbs`sbrbo`q0sgugv`x0zg{gz`s0x`s0v`x0vcx0ues0q`l00eu00`x00ev00`u00eq00`o`"),ra=new ha("p0r0sdk0rco0pdk0p0r0sdw0rcs0pdk0p0r0sdk0rck0pdk0p0r0sdw0rcs0pd0f0g0iwg0bwgx0wgurrnspur0bufwgubs0pkrcsdk0rco0pkk0p0r0sdk0rco0pk0l0k0iwg0b0k0g0n0kzs0nxi0f|l0izr0p0n0lwk0dwg0k0p0k|s0pur0kuo0k0i0l0k0isd0krj0kpd0k0p0rsd0krl0opd0f0g0iskw0riw0pgw0nfw0u`s0rbs0pd0k"),y=localStorage,z=0,C=+y.lossst_s||0,sa=C?ra:qa,D=+y.lossst_m||0,ta=+y.lossst_t||0,ua=+y.lossst_M||0,va=0,ba=[],wa=0,v=5,t=0,q=[],w=[],E=[],F=[],G=y.lossst_S=+y.lossst_S||5,H=0,I=0,J=null,K="0",L=[],M=[],xa=0,N=0,O=0,Q=0,R=0,S=0,T=0,ya=+y.lossst_T||0,Aa=0,U=0,V=0,W="",X=h=0;function Ba(){var k;navigator.userAgent.match(/Mac/)&&(iv.className="a");navigator.userAgent.match(/Fire|Edg/)&&(iv.className+=" c",wa=4E3);D&&(iv.className+=" i");b.className=W;C&&!H&&(ie.innerHTML="");cubes=[];doors=[];trees=[];apples=[];hints=[];emoji=[];if("pz"==W)X=40,h=20,puzzles=[[5,,1,,"0000000000000000000000000",16,9]],G=5,C=0;else if("py"==W)h=X=20,puzzles=[eval("["+location.hash.slice(1).replace(/[01]{2,}/g,'"$&"')+"]")],G=puzzles[0][1],puzzles[0][5]=puzzles[0][6]=8,C=!!puzzles[0][3],hints=[["Move: arrow keys<br>"+(C?"Up/Down: "+(D?"\u2b06\ufe0e/\u2b07\ufe0e":"Shift/Ctrl")+"<br>":"")+"backtrack: "+(D?"\u21a9":"Alt")+"<br>Reset: R",1,5,1,0,C,0]],delete y.lossst_ppy0;else if("px"==W){X=40;h=20;trees=[[13,9,0],[7,13,0],[35,8,0]];apples=[[11,11,0,0,0],[2,12,0,6,0],[38,10,0,7,0]];doors=[[41,10,Math.PI/2,8,0,"pA",1,0,10,0,0],[20,-2,0,14,0,"pD",1,10,19,0,0],[-2,11,-Math.PI/2,6,0,"pJ",1,14,5,1,1],[20,21,Math.PI,14,0,"pC",1,22,1,0,0],[5,21,Math.PI,5,0,"pI",1,36,1,0,1]];puzzles=[];cubes=[];for(f=9;15>f;f++)for(m=0;5>m;m++)2==m&&14==f||2==m&&13==f||3==m&&13==f||3==m&&12==f||2==m&&12==f||cubes.push([m,f]);hints=[["Move with<br>arrow keys"+(D?"":" or WASD/ZQSD"),19,5,0,13,0],["Use the "+(D?"\u21a9":"Alt")+" key to backtrack",1,9,0,13,0,1],["Approach red doors with the right length to open them",35,14,0,13,0],["\u2191<br>New puzzles !<hr>Puzzle editor<br>\u2193",19,8,14,0,0],["\u2190<br>New puzzles !",1,9,6,7,1,1]];emoji=[["\ud83d\udc3f\ufe0f",30,7],["\ud83c\udf30\ufe0f",29,7]]}else if("pA"==W)X=40,h=20,trees=[[35,15,0]],apples=[[33,16,0,0,6],[34,17,0,0,6],[37,15,0,0,6]],cubes=[],doors=[[-2,10,-Math.PI/2,8,0,"px",0,39,11,0,0],[35,21,Math.PI,11,0,"pB",1,35,1,0,0]],puzzles=[[6,,0,,"000000001000001110001110001000000000",2,3],[6,,0,,"000000011000011100010000011000000000",14,3],[6,,0,,"000000000100001100011000011100000000",26,3],[5,,0,,"0000001110011100110000000",2,13],[6,,0,,"000000011000011000001100001100000000",14,13],[6,,0,,"000000000100001100001110001100000000",26,13]],hints=[["Cover the black patterns to solve puzzles",9,9,1,0],["Solve all the puzzles in the room to unlock a new door",21,9,1,0],["Your progress is saved automatically",34,9,1,0]],emoji=[["\ud83d\udc0c",11,10]];else if("pB"==W)D&&(kx.className="",y.lossst_r=1),X=40,h=20,trees=[[4,7,0]],apples=[[1,8,0,0,12],[2,9,0,0,12]],doors=[[35,-2,0,8,0,"pA",0,35,19,0,0],[-2,10,-Math.PI/2,13,0,"pC",1,39,10,0,0]],puzzles=[[6,,0,,"000000011110011010011110000000000000",8,2],[7,,0,,"0000000001110000111000001100000110000010000000000",18,2],[6,,0,,"000000011000011110001010001110000000",28,2],[6,,0,,"000000011100001110001110001100000000",8,12],[6,,0,,"000000001110001110001110001010000000",18,12],[6,,0,,"000000011110011110001100001000000000",28,12]],hints=[["If you get stuck, "+(D?"click \u00d7":"press R")+" to exit a puzzle",35,11,1,0]],cubes=[[11,4],[21,16]],emoji=[["\ud83d\udc08",4,14]];else if("pC"==W)X=40,h=20,trees=[[35,8,0]],apples=[[34,11,0,0,18]],doors=[[41,10,Math.PI/2,8,0,"pB",0,1,10,0,0],[22,-2,0,14,0,"px",1,20,19,0,0]],puzzles=[[7,,0,,"0000000000000001111000111100001111000100000000000",2,3],[7,,0,,"0000000001110000101000011100001110000110000000000",26,3],[6,,0,,"000000001110011110011010001110000000",14,3],[7,,0,,"0000000001100000111000011100001110000110000000000",2,12],[7,,0,,"0000000000000001111100101010011111000000000000000",14,12],[6,,0,,"000000011000011100011110011110000000",26,12]],hints=[["\u2191<br>After this room, you can try a puzzle editor and a new kind of puzzles !",22,11,13,0,0]],cubes=[[29,5],[30,8],[17,6],[15,4],[15,7],[29,13],[30,13],[30,14],[18,15],[16,15],[6,13],[6,17],[7,8],[6,8],[5,8],[3,7],[3,8],[7,6],[7,5]],emoji=[["\ud83e\udd8b<br><br>",29,13]];else if("pD"==W){h=X=20;trees=[[10,2,0]];doors=[[10,21,Math.PI,14,0,"px",0,20,0,0,0],[-2,5,-Math.PI/2,14,0,"pE",0,24,12,0,0]];puzzles=[[7,,1,,"0100010011111000000000000000000000001111100100010",7,7]];hints=[["Now you're thinking with wraps !",2,2,0,14,0]];for(f=0;20>f;f++)cubes.push([f,10]);emoji=[["\ud83d\udc10",12,2]]}else if("pE"==W)h=X=25,trees=[[5,12,0]],apples=[[4,14,0,0,23]],doors=[[26,12,Math.PI/2,14,0,"pD",0,0,5,0,0],[-2,12,-Math.PI/2,15,0,"pF",1,79,5,0,0]],puzzles=[[7,,1,,"1000001000000000000000010100011011011000111000001",3,3],[6,,1,,"110011100001000000100001100001110011",15,17],[5,,1,,"1100111001100011001110011",16,4],[6,,1,,"000011000011110001110001000011000011",3,17]],hints=[["Reminder:<br>use "+(D?"\u21a9":"Alt")+" to backtrack,<br>"+(D?"\u00d7":"R")+" to exit a puzzle.",11,14,1,0,0]],emoji=[["\ud83d\udc12",12,20]];else if("pF"==W)X=80,h=20,trees=[[35,10,0]],apples=[[38,11,0,0,35]],doors=[[81,5,Math.PI/2,15,0,"pE",0,0,12,0,0],[-2,15,-Math.PI/2,16,0,"pG",1,19,5,0,0]],puzzles=[[5,,1,,"0111101001010110100011111",59,13],[5,,1,,"1111011000111100001011110",48,13],[5,,1,,"1111101000011110111001100",37,13],[5,,1,,"1111110000111001000011111",26,13],[5,,1,,"1100101101001110011101101",15,13],[5,,1,,"1111100001110010000111111",59,2],[5,,1,,"1000110111100011000111111",48,2],[5,,1,,"1000110101101011111110001",37,2],[5,,1,,"1111110001000110000111111",26,2],[5,,1,,"0111101100011100011011110",15,2],[5,,1,,"1111101111001110001100001",4,8],[5,,1,,"1010100101111010000111111",71,8]],hints=[["This room hides a surprise !",72,2,0,15,0],["\u2190<br>Exit",38,9,16,0,0]],cubes=[],emoji=[];else if("pG"==W)X=20,h=30,trees=[[5,25,0]],apples=[[4,24,0,0,37],[7,25,0,0,37],[2,26,0,0,37],[3,28,0,0,37]],doors=[[21,5,Math.PI/2,16,0,"pF",0,1,15,0,0],[10,31,Math.PI,20,0,"pH",1,10,1,0,0]],puzzles=[[6,,1,,"001000001110111111011100011000001000",7,6],[6,,1,,"110001100001000111000111100001110001",7,18]],emoji=[["\ud83d\udc01",9,14]];else if("pH"==W)X=20,h=30,trees=[[16,22]],apples=[[18,22,0,0,39]],doors=[[10,-2,0,18,0,"pG",0,10,29,0,0],[21,25,Math.PI/2,21,0,"pI",1,1,10,0,0]],puzzles=[[6,,1,,"001000011110111111011110011110001000",7,6],[6,,1,,"110001100001000011000111001111111111",7,18]],emoji=[["\ud83e\udd86",9,14]];else if("pI"==W){X=40;h=20;apples=[[38,2,0,5,0]];doors=[[-2,10,-Math.PI/2,1,0,"pH",0,19,25,0,0],[36,-2,0,6,0,"px",1,5,19,0,1]];puzzles=[];hints=[["Guess what, you finished the first half of the game !",5,9,1,0],["You can now move up and down with "+(D?"\u2b06\ufe0e and \u2b07\ufe0e":"Shift and Ctrl keys")+", and open black doors",30,11,1,0]];for(f=0;9>f;f++)cubes.push([30,f]);for(f=30;40>f;f++)cubes.push([f,8]);emoji=[["\ud83d\udc22",13,14]];trees=[[3,1],[15,2],[36,3],[26,5],[25,15],[33,9],[10,12],[36,14],[3,15]]}else"pJ"==W?(X=15,h=70,trees=[[2,62]],apples=[[2,65,0,0,47],[1,66,0,0,47]],doors=[[16,5,Math.PI/2,6,0,"px",0,1,11,0,1],[-2,65,-Math.PI/2,8,0,"pK",1,19,65,0,1]],puzzles=[[5,,0,"0000000000000000000001110",,2,2],[4,,0,"0000000001000110",,4,11],[5,,0,"0000000000000000101001110",,6,20],[5,,0,"0000000000000000111000100",,8,29],[4,,0,"0000000001100110","0000011001100000",2,38],[4,,0,"0000010001100100","0000011001100000",4,47],[4,,0,"0000011001000100","0000010001100000",6,56],[4,,0,"0000000001100110","0100011000100000",8,65]],hints=[["You now have to match the patterns on the walls...",10,2,1,0,1],["... and on the floor too !",10,40,1,0,1]],emoji=[["\ud83e\udd89",10,14]]):"pK"==W?(D&&(ky.className=kz.className="",y.lossst_c=1),X=20,h=75,trees=[[2,2]],apples=[[1,4,0,0,59],[2,5,0,0,59],[3,6,0,0,59],[4,2,0,0,59]],doors=[[21,65,Math.PI/2,7,0,"pJ",0,1,65,0,1],[-2,5,-Math.PI/2,12,0,"pL",1,14,5,0,1]],puzzles=[[5,,0,"0000000000010000110001110",,8,69],[6,,0,"000000000000000000000100001110011000",,12,58],[5,,0,"0000000000010000111001000",,2,58],[4,,0,"0000001001100110","0000001001100000",2,45],[5,,0,"0000000000000000010001110","0000000100001100110000000",12,45],[5,,0,"0000000000000000101001110","0000001110010100000000000",2,34],[5,,0,"0000000000000000011001100","0000001110011000010000000",12,34],[4,,1,"0000011001100110","0110000000000110",2,22],[4,,1,"1001000000001001","1001000000001001",12,22],[4,,1,"0000010011110010","0000111101100000",2,12],[4,,1,"0110010000000011","0000011100110000",12,12],[4,,1,"1101000000000001","1101000000010001",12,2]],hints=[["You can rotate the camera with "+(D?"<br>\u21bb and \u21ba":"the keys 1, 2 and 3"),15,68,1,0,1],["Can you guess what's coming next?",7,54,1,0,1],["3D puzzles with wrap ! Use "+(D?"\u2b06\ufe0e and \u2b07\ufe0e":"Shift and Ctrl")+" to wrap between top and bottom",7,24,1,0,1]],emoji=[["\ud83d\udc1e",3,70]]):"pL"==W?(X=15,h=80,trees=[[2,70]],apples=[[1,73,0,0,68],[3,75,0,0,68]],doors=[[16,5,Math.PI/2,12,0,"pK",0,1,5,0,1],[-2,75,-Math.PI/2,14,0,"pM",1,14,25,0,1]],puzzles=[[5,,0,"0000000000001001111100100",,2,2],[4,,0,"0000010001100000",,5,11],[5,,0,"0000000110000110111000010",,8,20],[5,,0,"0000000000001000111011111","0000000000111001111100000",2,29],[4,,0,"1000110011101111","0000001111110000",5,38],[4,,0,"0000100011001110","1110110010000000",8,45],[4,,1,"1000100110010001","0000100110010000",2,54],[4,,1,"0000001011110100","0000110011110011",5,63],[5,,1,"0100011000010000111001000","0000001110110000100000000",8,72]],cubes=[[6,12]],emoji=[["\ud83d\udc1d",3,20]]):"pM"==W?(X=15,h=30,trees=[[10,12]],apples=[[8,11,0,0,71],[9,10,0,0,71],[10,9,0,0,71],[11,10,0,0,71],[12,11,0,0,71],[7,12,0,0,71]],doors=[[16,25,Math.PI/2,14,0,"pL",0,1,75,0,1],[-2,5,-Math.PI/2,20,0,"pN",1,14,5,0,1]],puzzles=[[5,,1,"0001100110011001100010000","0001100110011001100010000",2,24],[5,,1,"1100010001000011000111000","0000011000110010000000000",4,13],[5,,1,"1101110001000001000011000","1100010000000001000111011",6,2]],emoji=[["\ud83d\udc13",1,14]]):"pN"==W&&(X=15,h=48,trees=[[10,44]],apples=[[7,45,0,0,75]],doors=[[16,5,Math.PI/2,20,0,"pM",0,1,5,0,1]],puzzles=[[4,,1,"0000111101101111","1000111111111000",5,38],[4,,1,"1111001001001111","1111101010101111",5,28],[4,,1,"1111010101011101","0001101101101111",5,18],[4,,1,"1111000100011110","1111110110011111",5,8]],emoji=[["\ud83d\udc09",13,46]]);a.style.width=X*v+"vh";a.style.height=h*v+"vh";H||(ig.innerHTML="");ih.innerHTML="";for(var f in trees)ig.innerHTML+="<div id=tree"+f+' class="j tr"style=left:'+trees[f][0]*v+"vh;transform:translateX(-7vh)translateY("+(trees[f][1]*v+4)+"vh)rotateX(-70deg)>\ud83c\udf33</div><div id=treeshadow"+f+' class="e h"style=left:'+trees[f][0]*v+"vh;transform:translateX(-7.5vh)translateY("+(trees[f][1]*v+3.5)+"vh)rotateZ(144deg)scaleY(1.5)>\ud83c\udf33";for(f in apples)y["lossst_a"+W+f]?delete apples[f]:ig.innerHTML+="<div id=a"+f+' class="j g '+(y["lossst_A"+W+f]?"":"h")+'"style=left:'+apples[f][0]*v+"vh;transform:translateY("+(apples[f][1]*v+4)+"vh)rotateX(-65deg)>"+("pN"==W?"<div>\u26bd</div>":"<div class=m>\ud83c\udf4e</div>")+"</div><div id=as"+f+' class="e p '+(y["lossst_A"+W+f]?"":"h")+'"style=left:'+apples[f][0]*v+"vh;transform:scaleX(-1)translateY("+(apples[f][1]*v+3)+"vh)rotateZ(212deg)>"+("pN"==W?"\u26bd":"\ud83c\udf4e");for(f in emoji)ig.innerHTML+='<div class="j n"style=left:'+(emoji[f][1]*v-1)+"vh;transform:translateY("+(emoji[f][2]*v+4)+"vh)rotateX(-65deg)><div class=m>"+emoji[f][0];for(f in doors)ig.innerHTML+="<div id=d"+(""+W+f)+' class="do'+(y["lossst_d"+W+f]?" s":"")+'"style=left:'+(doors[f][0]+.5)*v+"vh;top:"+(doors[f][1]+.5)*v+"vh;transform:rotateZ("+doors[f][2]+"rad)translateZ("+doors[f][9]*v+'vh)><div class="y d'+doors[f][10]+'"'+(doors[f][6]?"":"hidden")+">"+doors[f][3]+'</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh">';for(var n in puzzles)for(var m in cubes)y["lossst_p"+W+n]&&cubes[m][0]>=puzzles[n][5]&&cubes[m][0]<puzzles[n][5]+puzzles[n][0]&&cubes[m][1]>=puzzles[n][6]&&cubes[m][1]<puzzles[n][6]+puzzles[n][0]&&delete cubes[m];for(f in cubes)ig.innerHTML+="<div id=cube"+f+' class="z x"style=left:'+cubes[f][0]*v+"vh;top:"+cubes[f][1]*v+'vh;width:5vh;height:5vh><div class=f></div><div class=u style="background-position:'+(-300-cubes[f][0]*v)+"vh "+(-140-cubes[f][1]*v)+'vh"></div><div class=r></div><div class=l></div><div class=b>';for(f in hints)C^hints[f][5]||!(hints[f][3]&&hints[f][3]<=G||hints[f][4]&&hints[f][4]>=G)||(ig.innerHTML+="<div id=h"+(""+W+f)+" class=t style=left:"+hints[f][1]*v+"vh;transform:translateY("+(hints[f][2]*v+5)+"vh)translateZ("+(hints[f][6]*v||0)+"vh)rotateX(-70deg)translateY(-4vh)>"+hints[f][0]);y.lossst_x&&top.hpx0&&(hpx0.style.opacity=1);for(n in puzzles){T=puzzles[n][0];var A=k="";ih.innerHTML+="<div id=puzzle"+n+' class="z q v '+(puzzles[n][2]&&!y["lossst_p"+W+n]?"w":"")+'"style=left:'+puzzles[n][5]*v+"vh;top:"+puzzles[n][6]*v+"vh;width:"+puzzles[n][0]*v+"vh;height:"+T*v+"vh>"+(puzzles[n][2]?"<div class=l></div><div class=r></div>":"")+"<div id=D"+n+" class=d></div><div id=B"+n+" class=b></div>"+(puzzles[n][2]?"<div class=f>":"");var P="000",aa="fff";y["lossst_p"+W+n]&&(P="44c",aa="fd0",puzzles[n][2]=0);for(f=0;f<T;f++)for(m=0;m<T;m++)puzzles[n][3]&&(k+="<div class=o id=w"+n+f+m+" style=width:"+v+"vh;height:"+v+"vh;background:#"+("1"==puzzles[n][3][f*T+m]?P:aa)+"></div>"),puzzles[n][4]&&(A+="<div class=o id=g"+n+f+m+" style=width:"+v+"vh;height:"+v+"vh;background:#"+("1"==puzzles[n][4][f*T+m]?P:aa)+"></div>");top["D"+n]&&(top["D"+n].innerHTML+=A);top["B"+n]&&(top["B"+n].innerHTML+=k)}"pN"==W&&(ig.innerHTML+="<div style='position:fixed;transform:"+(D?"rotateZ(-90deg)translateX(-87vh)translateY(22vh)translateZ(365vh)":"rotateZ(-90deg)translateX(-83vh)translateY(6vh)translateZ(208vh)")+";font: 30vh/25vh a'>THE<br><br>END");H&&(y.lossst_e||y.lossst_s&&6<y.lossst_S||(ik.style.opacity=im.style.opacity=0,ik.style.position=im.style.position="fixed",ik.style.top=im.style.top="-9vh"),J=0,Y(1),xa=1,Q=O=N=0,puzzles[0][2]=0,setTimeout(function(){(ib.onchange=ib.oninput=resetgrid=function(){Ca();Y();ij.disabled=1;gridval.innerHTML=T=+ib.value;puzzle0.style.width=puzzle0.style.height=T*v+"vh";puzzles[0][0]=T;D0.innerHTML="";A=k=B0.innerHTML="";M=[];L=[];for(f=0;f<T;f++)for(M[f]=[],L[f]=[],m=0;m<T;m++)M[f][m]=0,L[f][m]=0;for(f=0;f<T;f++)for(m=0;m<T;m++)k+="<div class=o id=w"+K+f+m+" style=width:"+v+"vh;padding-top:"+v+"vh></div>",A+="<div class=o id=g"+K+f+m+" style=width:"+v+"vh;padding-top:"+v+"vh></div>";xa&&(D0.innerHTML+=A);N&&(B0.innerHTML+=k)})();iq.onchange=iq.oninput=function(){it.innerHTML=G=+iq.value;Ca();Y()};ik.onclick=function(){ik.checked?xa=1:top.wall&&(xa=0,C=N=1,wall.checked=!0);a.className=N?"haswall":"";resetgrid()};top.wall&&(wall.onclick=function(){wall.checked?(N=1,C=puzzles[0][3]=1):(N=C=0,xa=1,ik.checked=!0,puzzles[0][3]=0);a.className=N?"haswall":"";resetgrid()});top.wrap&&(wrap.onclick=function(){O=puzzles[0][2]=wrap.checked||0;puzzle0.className="z q v "+(O?"w":"");resetgrid()});print=function(k){var n="";for(f=0;f<T;f++)for(m=0;m<T;m++)n=top[k+"0"+f+m].style.background&&top[k+"0"+f+m].style.background.match(/255/)?n+0:n+1;return n};ij.onclick=function(){var f=[];f.push(T);f.push(G);f.push(O?1:0);f.push(N?print("w"):"");f.push(ik.checked?print("g"):"");open("//twitter.com/intent/tweet?text=I%20made%20a%20level%20for%20@MaximeEuziere's%20%23js13k%20game%20LOSSST!%0APlay%20here:%20js13kgames.com%2Fentries%2Flossst%0AMy%20level:%20js13kgames.com%2Fgames%2Flossst%23"+f+"%0A%23LOSSSTlevels")}},100));"px"!=W||y.lossst_x?(a.style.transition="transform 1s,transform-origin 1s",Ca()):(I=1,setTimeout(function(){Ca();Y();M0.style.transition="transform .5s"},2E3),setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(0);F.push(F[t]);t++;Y()},5500+wa),setTimeout(function(){M0.style.transition="";R0.style.transition="transform .2s";R0.style.transform="rotateZ("+-Math.PI/4+"rad)"},6500+wa),setTimeout(function(){R0.style.transform="rotateZ("+Math.PI/4+"rad)"},7E3+wa),setTimeout(function(){R0.style.transform=""},7500+wa),setTimeout(function(){S0.style.transition=R0.style.transition=""},8E3+wa),setTimeout(function(){clearInterval(x);z||(I=0);hpx0.style.opacity=1},8400),setTimeout(function(){a.style.transition="transform 1s,transform-origin 1s";y.lossst_x=20;y.lossst_y=10;b.innerHTML+="<div style='position:fixed;font:8vh a;top:3vh;right:3vh'onclick=location='index.html'>\u00d7";D&&(kU.className=kD.className=kL.className=kR.className="",y.lossst_w=1)},9E3));Y()}function Ca(){var k=C&&!H?ia:ie;k.innerHTML="";q=[];w=[];E=[];F=[];t=G-1;if("py"==W)for(i=0;i<G;i++)q[t-i]=1-i,w[t-i]=10,E[t-i]=0,F[t-i]=-Math.PI/2;else if(H)for(i=0;i<G;i++)q[t-i]=13-i,w[t-i]=12,E[t-i]=0,F[t-i]=-Math.PI/2;else if(y.lossst_x){var f=+y.lossst_x,n=+y.lossst_y,m=+y.lossst_z;"px"==W&&2>y.lossst_x&&(m=y.lossst_z=1);if("pI"==W&&z&&1==C)for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i-1,F[t-i]=0;else if(2>f)for(i=0;i<G;i++)q[t-i]=f-i,w[t-i]=n,E[t-i]=m,F[t-i]=-Math.PI/2;else if(f>X-2)for(i=0;i<G;i++)q[t-i]=f+i,w[t-i]=n,E[t-i]=m,F[t-i]=Math.PI/2;else if(2>n)for(i=0;i<G;i++)q[t-i]=f,w[t-i]=n-i,E[t-i]=m,F[t-i]=0;else if(n>h-2)for(i=0;i<G;i++)q[t-i]=f,w[t-i]=n+i,E[t-i]=m,F[t-i]=0;else for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i,F[t-i]=0}else if("px"==W)for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i-1,F[t-i]=0;for(i=0;i<Math.max(G+4,16);i++)k.innerHTML+="<div id=M"+i+" class=sm style=transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:"+(v-.7)+"vh;height:"+(v-.7)+"vh><div class=ss id=S"+i+"></div><div id=R"+i+' class=sr><div class="z k"id=T'+i+">"+(1>i?"<div style=background:none;box-shadow:none;color:red;font-size:4vh;text-align:center;transform:rotateZ(180deg)translateY(-4vh)translateZ(1.5vh)>Y</div>":"")+'<div class=u style="font:'+.5*v+"vh/"+.8*v+'vh a">'+(1>i?"\ud83d\udc40":"")+"</div><div class=f>"+(1>i?"\u203f":"")+"</div><div class=r></div><div class=l></div><div class=b>"}function Y(k){for(var f={a:0};f.a<G;f={a:f.a,j:f.j,m:f.m,o:f.o},f.a++)if(!k){var n=oldx=oldy=oldz=newx=newy=newz=0;O&&T&&(q[t-f.a-1]==R&&q[t-f.a]==R+T-1?(n=1,oldx=R-1,newx=R+T,oldy=newy=w[t-f.a],oldz=newz=E[t-f.a]):q[t-f.a-1]==R+T-1&&q[t-f.a]==R?(n=1,oldx=R+T,newx=R-1,oldy=newy=w[t-f.a],oldz=newz=E[t-f.a]):w[t-f.a-1]==S&&w[t-f.a]==S+T-1?(n=1,oldy=S-1,newy=S+T,oldx=newx=q[t-f.a],oldz=newz=E[t-f.a]):w[t-f.a-1]==S+T-1&&w[t-f.a]==S?(n=1,oldy=S+T,newy=S-1,oldx=newx=q[t-f.a],oldz=newz=E[t-f.a]):0==E[t-f.a-1]&&E[t-f.a]==T-1?(n=1,oldz=-1,newz=T,oldx=newx=q[t-f.a],oldy=newy=w[t-f.a]):E[t-f.a-1]==T-1&&0==E[t-f.a]&&(n=1,oldz=T,newz=-1,oldx=newx=q[t-f.a],oldy=newy=w[t-f.a]));if(n)top["R"+f.a].style.transform="rotateZ("+F[t-f.a]+"rad)",top["M"+f.a].style.transform="translateX("+(oldx*v+.5)+"vh)translateY("+(oldy*v+.5)+"vh)translateZ("+(oldz*v+.5)+"vh)scale(.01)scaleZ(.01)",setTimeout(function(f){return function(){top["M"+f.a].style.transition="none"}}(f),90),f.j=newx,f.m=newy,f.o=newz,setTimeout(function(f){return function(){top["M"+f.a].style.transform="translateX("+(f.j*v+.5)+"vh)translateY("+(f.m*v+.5)+"vh)translateZ("+(f.o*v+.5)+"vh)scale(.01)"}}(f),100),setTimeout(function(f){return function(){top["M"+f.a].style.transition="";top["M"+f.a].style.transform="translateX("+(q[t-f.a]*v+.25)+"vh)translateY("+w[t-f.a]*v+"vh)translateZ("+(E[t-f.a]*v+.5)+"vh)"}}(f),150);else try{top["M"+f.a].style.transform="translateX("+(q[t-f.a]*v+.25)+"vh)translateY("+w[t-f.a]*v+"vh)translateZ("+(E[t-f.a]*v+.5)+"vh)",top["R"+f.a].style.transform="rotateZ("+F[t-f.a]+"rad)"}catch(A){}try{top["S"+f.a].style.display=0==E[t-f.a]?"":"none"}catch(A){}}H?a.style.transform="translateX(-100vh)translateY(-37vh)translateZ(-5vh)rotateX(33deg)":null===J||y["lossst_p"+W+J]?(a.style.transform="translateX("+-q[t]*v+"vh)translateY("+-w[t]*v+"vh)translateZ(45vh)rotateX(40deg)rotateZ("+g+"rad)",a.style.transformOrigin=""+q[t]*v+"vh "+w[t]*v+"vh"):(a.style.transform="translateX("+(-(R+puzzles[J][0]/2)*v+5)+"vh)translateY("+(-(S+puzzles[J][0]/2)*v+8)+"vh)translateZ("+(90-puzzles[J][0]*(v+3))+"vh)rotateX(30deg)rotateZ("+g+"rad)",a.style.transformOrigin=""+((R+puzzles[J][0]/2)*v+5)+"vh "+((S+puzzles[J][0]/2-1)*v+8)+"vh");f=C?1:0;for(k=0;k<G;k++){if(0>=E[t-k]){f=0;break}for(m in cubes)cubes[m][0]==q[t-k]&&cubes[m][1]==w[t-k]&&1==E[t-k]&&(f=0)}if(f){for(k=0;k<G;k++)E[t-k]--;try{Y()}catch(A){for(var m=2*G;m--;)q.pop(),w.pop(),E.pop(),F.pop(),t--;Aa=0;Y()}}f=q[t];n=w[t];for(k in doors)(doors[k][10]&&C||!doors[k][10]&&!C)&&top["d"+W+k]&&0<doors[k][3]&&G>=doors[k][3]&&4>Math.hypot(f-doors[k][0],n-doors[k][1])&&!y["lossst_d"+W+k]&&(top["d"+W+k].className="do s",!doors[k][6]||"px"==W&&2<k||ja(pa).play(),y["lossst_d"+W+k]=1),top["d"+W+k]&&"do s"==top["d"+W+k].className&&2>Math.hypot(f-doors[k][0],n-doors[k][1])&&(y.lossst_p=W=doors[k][5],setTimeout(Ba,600),y.lossst_x=doors[k][7],y.lossst_y=doors[k][8],y.lossst_z=0);null!==J&&Da();H||(J=null);H||(L=[],M=[]);for(p in puzzles)if(f>=puzzles[p][5]&&f<puzzles[p][5]+puzzles[p][0]&&n>=puzzles[p][6]&&n<puzzles[p][6]+puzzles[p][0]){J=+p;Q=0;y["lossst_p"+W+p]&&(Q=1);K=p;xa=!!puzzles[p][4];N=!!puzzles[p][3];O=!!puzzles[p][2];R=puzzles[p][5];S=puzzles[p][6];T=puzzles[p][0];for(k=0;k<T;k++)for(L[k]=[],M[k]=[],m=0;m<T;m++)puzzles[p][3]&&(M[k][m]=+puzzles[p][3][k*puzzles[p][0]+m]),puzzles[p][4]&&(L[k][m]=+puzzles[p][4][k*puzzles[p][0]+m]);Da()}}function Z(k,f,n){V=0;if(0>k||k>=X||0>f||f>=h)V=1;for(var m in trees)k>=trees[m][0]-1&&k<=trees[m][0]&&f==trees[m][1]&&3>E[t]&&(V=1);for(m in hints)k>=hints[m][1]&&k<=hints[m][1]+3&&f==hints[m][2]&&G>=hints[m][3]&&(!hints[m][4]||G<=hints[m][4])&&(C&&hints[m][5]||!C&&!hints[m][5])&&(V=1);for(m in apples)if(y["lossst_A"+W+m]&&k==apples[m][0]&&f==apples[m][1]&&0==E[t])if(ja(ka).play(),"pN"==W){x=setInterval(sa.forward,150);y.lossst_E=1;setTimeout(function(){I=1;as0.remove();a0.style.transform="translateY(319vh)translateZ(2vh)rotateX(-65deg)rotateY(90deg)";a0.style.transition=a.style.transition="10s";a0.style.transform="translateY(15vh)translateZ(2vh)rotateX(-65deg)";a.style.transform=D?"translateX(-133vh)translateY(-249vh)translateZ(-373vh)rotateZ(90deg)":"translateX(-141vh)translateY(-227vh)translateZ(-185vh)rotateZ(90deg)"},200);var A={},P;for(P in puzzles)A.g=P,setTimeout(function(f){return function(){top["B"+f.g].style.transition=".5s";top["B"+f.g].style.transform="translateY(-125%)"}}(A),[1450,2500,3800,5400][A.g]),A={g:A.g};setTimeout(function(){clearInterval(va);y.lossst_E=1;y.lossst_e=1;b.style.background="#000";y.lossst_s=0;b.innerHTML="<div id=iv style=perspective:90vh><center id=menu style=width:75vh;transform:translateX(-38vh)translateY(-35vh)rotateX(-28deg)><span style=font-size:4vh;line-height:5vh><h1>Congrats!</h1><br>You completed the game in<br>"+ta+" seconds and "+ua+" moves!<br><br><a href=//twitter.com/intent/tweet?text=I%20played%20LOSSST,%20a%20%23js13k%20game%20by%20by%20@MaximeEuziere%0Amy%20score:%20"+ta+"%20seconds%20and%20"+ua+"%20moves!%0Ajs13kgames.com%2Fentries%2Flossst target=_blank style=color:#def;font-size:4vh>TWEET YOUR SCORE</a><br><br>Dev record:<br>854 seconds, 2452 moves<br><br>3D puzzle editor unlocked!<br><br><a href=. style=font-size:4vh>MAIN MENU"},15E3);n=document.querySelectorAll(".o");A={};for(var aa in n){A.h=aa;try{2==n[A.h].style.backgroundColor.match(/68/g).length&&setTimeout(function(f){return function(){top[n[f.h].id].style.background="#a00"}}(A),8E3+10*A.h)}catch(na){}A={h:A.h}}}else if(delete apples[m],top["a"+m].remove(),top["as"+m].remove(),G++,y.lossst_S=G,y["lossst_a"+W+m]=1,"pF"==W&&16==G){I=1;x=setInterval(sa.forward,150);z=1;a.style.transition="5s";a.style.transform="translateX(-180vh)translateY(-53vh)translateZ("+(D?-422:-180)+"vh)rotateZ(180deg)";setTimeout(function(){a.style.transition="1s";I=z=0;Y();ig.innerHTML+="<div class=t style=left:190vh;transform:translateY(50vh)rotateX(-55deg)translateY(-4vh)>\u2190<br>Exit";clearInterval(x)},1E4);n=document.querySelectorAll(".o");A={};for(var ea in n){A.f=ea;try{n[A.f].id.match(/g\d\d\d$/)&&2==n[A.f].style.backgroundColor.match(/68/g).length&&setTimeout(function(f){return function(){top[n[f.f].id].style.background="#a00"}}(A),5500+10*A.f)}catch(na){}A={f:A.f}}}for(m in cubes)k==cubes[m][0]&&f==cubes[m][1]&&0==n&&(V=1);for(m in emoji)"pC"!=W&&k==emoji[m][1]&&f==emoji[m][2]&&0==n&&(V=1);for(m in doors)top["d"+W+m]&&"do s"==top["d"+W+m].className&&2>=Math.hypot(k-doors[m][0],f-doors[m][1])&&(V=0);hitcube2=0;for(m=G-2;0<m;m--)q[t-m]==k&&w[t-m]==f&&E[t-m]==n&&(V=1,1==m&&(hitcube2=1));for(p in puzzles)puzzles[p][3]&&k>=puzzles[p][5]&&k<puzzles[p][5]+puzzles[p][0]&&(f==puzzles[p][6]-1&&w[t]==puzzles[p][6]&&!puzzles[p][2]||f==puzzles[p][6]&&w[t]==puzzles[p][6]-1)&&(V=1);if("pI"==W&&18==k&&!C){z=C=V=I=1;clearInterval(x);sa=ra;_=$=0;x=setInterval(ra.forward,250);y.lossst_s=1;y.lossst_S=G=5;for(k=0;21>k;k++)cubes.push([q[t-k],w[t-k]]),top["M"+k].id="",top["R"+k].id="",top["S"+k].id="",top["T"+k].id="";a.style.transition="2s";Ca();Y();a.style.transform="translateX(-105vh)translateY(-51vh)translateZ(80vh)rotateX(45deg)";a.style.transformOrigin="140vh 70vh";setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(0);F.push(F[t]);t++;Y()},3E3);setTimeout(function(){ii.innerHTML="Daddy!"},4E3);setTimeout(function(){ii.innerHTML=""},6E3);setTimeout(function(){ii.innerHTML="I lossst my soccer ball!"},7E3);setTimeout(function(){ii.innerHTML=""},9E3);setTimeout(function(){ii.innerHTML="But I found new moves!"},1E4);setTimeout(function(){ii.innerHTML="";z=I=0;clearInterval(x);a.style.transition="1s";Y();Ea();D&&(kT.className=kB.className="",y.lossst_B=1)},13500)}}function Da(){if(!Q&&null!==J){solved=1;H&&(ij.disabled=0);for(i=0;i<T;i++)for(j=0;j<T;j++)try{top["g"+K+i+j]&&(top["g"+K+i+j].style.background=L[i][j]?"#000":"#fff"),top["w"+K+i+j]&&(top["w"+K+i+j].style.background=M[i][j]?"#000":"#fff")}catch(m){}if(q[t]<R||q[t]>R+T-1||w[t]<S||w[t]>S+T-1||0>E[t]||E[t]>T-1)H&&(ij.disabled=1);else{for(i=0;i<G;i++){top["g"+K+(w[t-i]-S)+(q[t-i]-R)]&&(top["g"+K+(w[t-i]-S)+(q[t-i]-R)].style.background=L[w[t-i]-S][q[t-i]-R]?"#080":H?"#44c":"#f00");w[t-i]>=S&&w[t-i]<S+T&&top["w"+K+(T-1-E[t-i])+(q[t-i]-R)]&&(top["w"+K+(T-1-E[t-i])+(q[t-i]-R)].style.background=M[T-1-E[t-i]][q[t-i]-R]?"#080":H?"#44c":"#f00");if(q[t-i]<R||q[t-i]>R+T-1||w[t-i]<S||w[t-i]>S+T-1||E[t-i]>T-1)H&&(ij.disabled=1),solved=0;xa&&L[w[t-i]-S]&&!L[w[t-i]-S][q[t-i]-R]&&(solved=0);N&&M[T-1-E[t-i]]&&!M[T-1-E[t-i]][q[t-i]-R]&&(solved=0)}for(i=0;i<T;i++)for(j=0;j<T;j++){try{xa&&3==top["g"+K+i+j].style.backgroundColor.match(/0/g).length&&(solved=0)}catch(m){}try{N&&3==top["w"+K+i+j].style.backgroundColor.match(/0/g).length&&(solved=0)}catch(m){}}if(solved){Q=H?0:1;puzzles[J][2]=0;top["puzzle"+J].classList.remove("w");H||(y["lossst_p"+W+J]=1);for(i=0;i<T;i++)for(j=0;j<T;j++){try{top["g"+K+i+j].style.background=L[i][j]?"#44c":"#fd0"}catch(m){}try{top["w"+K+i+j].style.background=M[i][j]?"#44c":"#fd0"}catch(m){}}H||(ja(oa).play(),ya++,y.lossst_T=ya);var k=1,f={},n;for(n in cubes)f.b=n,cubes[f.b][0]>=puzzles[J][5]&&cubes[f.b][0]<puzzles[J][5]+puzzles[J][0]&&cubes[f.b][1]>=puzzles[J][6]&&cubes[f.b][1]<puzzles[J][6]+puzzles[J][0]&&(delete cubes[f.b],k++,setTimeout(function(f){return function(){top["cube"+f.b].remove()}}(f),200*k)),f={b:f.b}}}}}function Ea(){for(var k in apples)if(!y["lossst_A"+W+k]&&(0<apples[k][3]&&apples[k][3]==G||0<apples[k][4]&&apples[k][4]==ya)){I=1;D&&"px"==W&&1==k&&(kw.className="",y.lossst_b=1);var f=setTimeout;a.style.transform="translateX("+-apples[k][0]*v+"vh)translateY("+-apples[k][1]*v+"vh)translateZ(50vh)rotateX(35deg)";y["lossst_A"+W+k]=1;a.style.transformOrigin=""+apples[k][0]*v+"vh "+apples[k][1]*v+"vh";f(void 0,250);f=setTimeout;top["a"+k].className="j g";top["as"+k].className="e p";f(void 0,800);setTimeout(function(){ja(la).play()},850);setTimeout(function(){Y();z||(I=0)},2E3)}}function Fa(){U=0;H||(J=null);for(p in puzzles)q[t]>=puzzles[p][5]&&q[t]<puzzles[p][5]+puzzles[p][0]&&w[t]>=puzzles[p][6]&&w[t]<puzzles[p][6]+puzzles[p][0]&&0<=E[t]&&E[t]<puzzles[p][0]&&(J=+p,U=1)}onkeydown=function(k){top["lurd************************l**r************l*d***u**u"[k.which-37]]=1;18==k.which&&(B=1);16==k.which&&(s=1);17==k.which&&(c=1);if(!I){if(49==k.which||97==k.which)-1<g&&g--,ca();if(50==k.which||98==k.which)g=0,ca();if(51==k.which||99==k.which)1>g&&g++,ca()}Fa();U?Da():Aa=0;if(82==k.which&&U){if(Aa<=t)for(var f=Aa;f<=t;f++)q.pop(),w.pop(),E.pop(),F.pop(),setTimeout(function(){sa.back()},70*(t-f));t=Aa-1;Aa=0;Y();Da();y.lossst_M=++ua}else if(116!=k.which&&82!=k.which&&17!=k.which&&123!=k.which&&k.preventDefault&&k.preventDefault(),!I){V=0;if(l)!Q&&O&&U&&q[t]==R?(Z(R+T-1,w[t],E[t]),V||(q.push(R+T-1),w.push(w[t]),E.push(E[t]),F.push(Math.PI/2),t++)):(Z(q[t]-1,w[t],E[t]),V||(q.push(q[t]-1),w.push(w[t]),E.push(E[t]),F.push(Math.PI/2),t++));else if(r)!Q&&O&&U&&q[t]==R+T-1?(Z(R,w[t],E[t]),V||(q.push(R),w.push(w[t]),E.push(E[t]),F.push(-Math.PI/2),t++)):(Z(q[t]+1,w[t],E[t]),V||(q.push(q[t]+1),w.push(w[t]),E.push(E[t]),F.push(-Math.PI/2),t++));else if(u)!Q&&O&&U&&w[t]==S?(Z(q[t],S+T-1,E[t]),V||(q.push(q[t]),w.push(S+T-1),E.push(E[t]),F.push(Math.PI),t++)):(Z(q[t],w[t]-1,E[t]),V||(q.push(q[t]),w.push(w[t]-1),E.push(E[t]),F.push(Math.PI),t++));else if(d)!Q&&O&&U&&w[t]==S+T-1?(Z(q[t],S,E[t]),V||(q.push(q[t]),w.push(S),E.push(E[t]),F.push(0),t++)):(Z(q[t],w[t]+1,E[t]),V||(q.push(q[t]),w.push(w[t]+1),E.push(E[t]),F.push(0),t++));else if((C||N)&&s){if(!U){k=G-1;for(f in cubes)cubes[f][0]==q[t]&&cubes[f][1]==w[t]&&k++;if(E[t]==k)return}!Q&&O&&U&&E[t]==T-1?(Z(q[t],w[t],0),V||(q.push(q[t]),w.push(w[t]),E.push(0),F.push(F[t]),t++)):(Z(q[t],w[t],E[t]+1),V||(q.push(q[t]),w.push(w[t]),E.push(E[t]+1),F.push(F[t]),t++))}else(C||N)&&c?!Q&&O&&U&&0==E[t]?(Z(q[t],w[t],T-1),V||(q.push(q[t]),w.push(w[t]),E.push(T-1),F.push(F[t]),t++)):0==E[t]?V=1:(Z(q[t],w[t],E[t]-1),V||(q.push(q[t]),w.push(w[t]),E.push(E[t]-1),F.push(F[t]),t++)):B&&t>G&&(F.pop(),q.pop(),w.pop(),E.pop(),t--);V&&!I&&(I=1,setTimeout(function(){z||(I=0)},150),!(-1<q[t]&&q[t]<X&&-1<w[t]&&w[t]<h)||"pI"==W&&!C&&16<q[t]||hitcube2||ja(ma).play());if(!V&&!z&&(u||r||d||l||s||c||B)){y.lossst_M=++ua;Da();Y();B?t>G&&sa.back():(C||!s&&!c&&!C)&&sa.forward();Y(1);Ea();I||(I=1,setTimeout(function(){z||(I=0)},150));if("px"==W&&(C||14<=G)&&20==q[t]&&10==w[t]){I=1;var n=0;for(f=0;f<G;f++)setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(--n);F.push(F[t]);t++;Y()},150*f);setTimeout(function(){AA("pz",1)},160*G);y.lossst_x=20;y.lossst_y=10}Fa();U&&!Aa&&(Aa=t)}}};onkeyup=function(){u=r=d=l=s=c=B=0};onload=function(){1<location.hash.length?AA("py",1):(setTimeout(function(){x=setInterval(function(){sa.forward()},500)},200),b.innerHTML="<center id=e>\ud83d\udc40</center>\n<center id=iw></center>\n<div id=iv style=perspective:30vh>\n<center id=menu>\n<h1>LOSSST</h1>\n<span onclick=newgame()>New game</span><br>\n"+(y.lossst_a&&!y.lossst_E?"<span onclick=AA(0,1)>Continue</span><br>":"")+"\n<span onclick=AA(\"pz\",1)>Puzzle editor</span><br>\n<span onclick=top.open('//goo.gl/iKqoCS')>Bonus",newgame=function(){for(i in localStorage)0==i.indexOf("lossst")&&-1==i.indexOf("e")&&delete localStorage[i];y.lossst_a=1;menu.innerHTML="<br><br><span onclick=intro(0)>Desssktop</span><br><br><span onclick=intro(1)>Mobile"},intro=function(k){clearInterval(x);_=$=0;x=setInterval(sa.forward,250);y.lossst_m=D=k;y.lossst_S=G=5;ta=y.lossst_t=0;ua=y.lossst_M=0;y.lossst_M=0;y.lossst_t=0;menu.innerHTML="";setTimeout(function(){e.style.margin=0},500);dir=1;inter=setInterval(function(){e.style.opacity=0;setTimeout(function(){e.style.opacity=1;dir=-dir;e.style.transform="scaleX("+dir+")"},150)},3E3);setTimeout(function(){iw.innerHTML="I lossst my kid !"},2E3);setTimeout(function(){iw.innerHTML=""},5E3);setTimeout(function(){clearInterval(inter);e.style.margin="-80vh 0 0"},7E3);setTimeout(AA,7500)})};AA=function(k,f){if(0===k||"pz"==k)clearInterval(x),_=$=0;"pz"==k&&(H=1,J=0);W=k||y.lossst_p||"px";b.outerHTML="<body id=b class="+W+">\n<div id=iv>\n<div id=a style=transform:translateX(-97vh)translateY(-50vh)rotateZ(90deg)translateZ(119vh);transform-origin:100vh+50vh>\n<div id=ig>"+(H?"<div class=t style=width:60vh;transform:translateX(70vh)translateY(1vh)translateZ(2vh)rotateX(-42deg)>\n<label style=width:100%;text-align:center>Create a pattern with the snake and share it !</label>\n<br style=line-height:6vh>\n<div style=text-align:left;padding-left:5vh>\n<label>Grid</label> <input id=ib type=range value=5 min=3 max=8 step=1>\n<span id=gridval>5</span>\n<br>\n<label>Snake</label> <input id=iq type=range value=5 min=5 max=40 step=1>\n<span id=it>5</span>\n</div>\n<input type=checkbox id=ik checked> <label for=ik id=im>ground</label>\n"+(y.lossst_e||y.lossst_s&&6<y.lossst_S?"<input type=checkbox id=wall> <label for=wall>wall</label>":"")+"\n"+(y.lossst_e||y.lossst_s?"<input type=checkbox id=wrap> <label for=wrap>wrap</label>":"")+"\n<br>\n<center>\n<button id=ij disabled>Share</button>\n</center>\n</div>":"")+"\n</div>\n<div id=ih></div>\n<div id=ie></div>\n<div id=ia></div>\n</div>\n</div>\n<center id=iz style='font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw'>\n<button id=kU class=h ontouchstart=TS(38) ontouchend=TE(38)>\u2191</button>\n<button id=kD class=h ontouchstart=TS(40) ontouchend=TE(40)>\u2193</button>\n<button id=kL class=h ontouchstart=TS(37) ontouchend=TE(37)>\u2190</button>\n<button id=kR class=h ontouchstart=TS(39) ontouchend=TE(39)>\u2192</button>\n<button id=kT class=h ontouchstart=TS(16) ontouchend=TE(16)>\u2b06\ufe0e</button>\n<button id=kB class=h ontouchstart=TS(17) ontouchend=TE(17)>\u2b07\ufe0e</button>\n<button id=kw class=h ontouchstart=TS(18) ontouchend=TE(18)>\u21a9</button>\n<button id=kx class=h ontouchstart=TS(82) ontouchend=TE(82)>\u00d7</button>\n<button id=ky class=h ontouchstart=TS(49) ontouchend=TE(49)>\u21bb</button>\n<button id=kz class=h ontouchstart=TS(51) ontouchend=TE(51)>\u21ba</button>\n</center>\n<center id=ii style='font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw'>";y.lossst_Apx0=1;Ba();if(D&&"py"==W||y.lossst_w)kU.className=kD.className=kL.className=kR.className="";if(D&&"py"==W||y.lossst_b)kw.className="";if(D&&"py"==W||y.lossst_r)kr.className="";if(D&&"py"==W||y.lossst_B)kT.className="",kB.className="";if(D&&"py"==W||y.lossst_c)ky.className="",kz.className="";H||(va=setInterval(function(){y.lossst_t=++ta},1E3));f&&(b.innerHTML+="<div style='position:fixed;font:8vh a;top:3vh;right:3vh'onclick=location='.'>\u00d7")}</script><style>@keyframes move{0%,100%{transform:rotateY(-10deg)}50%{transform:rotateY(10deg)}}*{margin:0;padding:0;font:2.5vh/5.5vh arial,sans-serif;vertical-align:middle;box-sizing:border-box;-webkit-touch-callout:none;-webkit-user-select:none;-webkit-tap-highlight-color:transparent;user-select:none;cursor:pointer;touch-action:manipulation}html,body{height:100%;background:#000;overflow:hidden;background:radial-gradient(#def 25%,#7ce)}a{color:#def}input,button{position:relative;z-index:2}input[type=range]::-webkit-slider-runnable-track,input[type=range]::-webkit-slider-thumb{background:#888;border:1px solid #000}input[type=range]::-moz-range-track,input[type=range]::-moz-range-thumb{background:#888;border:1px solid #000}#iv{width:0;height:0;perspective:120vh;position:absolute;top:50%;left:50%}#iv *{transform-style:preserve-3d}#a{width:0;height:0;transform-origin:18vh 0%;transition:transform 1s,transform-origin 1s}.z{position:fixed;top:0;left:0}.z>div{width:100%;height:100%;position:fixed}.z .u{transform:rotateY(90deg)translateX(-100%)rotateY(-90deg)}.z .l{transform:rotateX(-90deg)translateY(-50%)translateX(-50%)rotateY(-90deg)}.z .r{transform:rotateX(-90deg)translateY(-50%)translateX(50%)rotateY(90deg)}.z .f{transform:translateY(50%)rotateX(-90deg)translateY(-50%)}.z .b{transform:translateY(-50%)rotateX(-90deg)translateY(-50%)rotateY(180deg)}.z.q{width:32vh;height:32vh;transform:none}.z.q>div{background:transparent}.z.q .b{transition:opacity .5s;transform:translateY(-50%)rotateX(-90deg)translateY(-52%)}.z.q.w .d,.z.q .d{transition:opacity .5s;background:#0c5b0c}.sm,.sr{transform-origin:50% 50%;width:100%;height:100%;position:fixed}.sm{transition:transform .15s}.z.k{width:100%;height:100%}.z.k>div{box-shadow:0 0 0 .1vh #000 inset;text-align:center}.z.k .f{line-height:3vh}#ie .z.k>div{background:#FFA500}#ie .z.k .u{background:#dF8500}#ia .z.k>div,#a.haswall .z.k>div{background:#444}#ia .z.k .u,#a.haswall .z.k .u{background:#333}#ia .z.k .f{color:#fff}.ss{position:fixed;width:100%;height:100%;background:rgba(0,0,0,.25);transform:translateX(14%)translateY(14%)translateZ(-.25vh)}label{display:inline-block;width:22%}button{display:inline-block;width:23%;border:.2vh solid #000;margin:1vh 2% 0 0}input[type=range]{width:60%}#form{width:50vh;margin:auto}.o{float:left;outline:.4vh solid #888;opacity:0;transition:opacity .5s;background:#fff}.z.q.v{transform:translateZ(.1vh)}.z.q.v .o{opacity:1}.z.q.v .d{transform:none}.z.q.w>div{background:linear-gradient(45deg,rgba(200,200,200,.1),rgba(200,200,200,.3));box-shadow:0 0 .1vh rgba(255,255,255,.5)}.j{position:fixed;transform-origin:50% 100%;bottom:0}.m{animation:move 3s infinite}.e{color:rgba(0,0,0,.002);text-shadow:0px 0px rgba(0,0,0,.25);position:fixed;transform-origin:50% 100%;bottom:0}.tr,.h{font:11vh/12vh a}.a .tr{font:15vh/11vh a}.a .h,.c .h,.i .h,.a .p,.c .p,.i .p,.c .x.b,#iz button.h{display:none}.g,.g *,.p{font:4vh/5vh a;transition:opacity .5s .5s}.n,.n *{font:5vh/6vh a}.g.h,.p.h{opacity:0}.a .g{font:6vh/5vh a}.do{position:fixed;transform-origin:0% 100%;width:0;height:0}.do .y{position:fixed;width:15vh;height:20vh;background:radial-gradient(2vh at 90% 50%,gold 35%,transparent 40%),#a22;border-radius:1vh 1vh 0 0;transform-origin:0% 100%;transform:translateX(-7.5vh)translateY(-12.5vh)rotateX(-90deg);text-align:center;font-size:6vh;line-height:12vh;color:#fff;transition:transform 1s}.do .y.d1{background:radial-gradient(2vh at 90% 50%,gold 35%,transparent 40%),#222}.do.s .y{transform:translateX(-7.5vh)translateY(-12.5vh)rotateX(-90deg)rotateY(90deg)}.z.x div{background:linear-gradient(45deg,#640,#583808)}.z.x div.u{transform:rotateY(90deg)translateX(-5.4vh)translateZ(-.1vh)rotateY(-90deg);background:radial-gradient(#3F7D1F,#034301);background-size:280vh 140vh;width:5.3vh;height:5.3vh}.t{position:fixed;background:#fff;padding:.7vh;width:20vh;font:2vh/2.5vh arial,sans-serif;transform-origin:50% 100%;text-align:center;box-shadow:0 0 0 .2vh #000 inset;bottom:0}.t br{font:0/0 a}.t:before{content:"";width:3vh;height:3vh;background:#750;position:absolute;bottom:-3vh;left:8vh;border-left:.2vh solid;border-right:.2vh solid}.pz .t:before{left:28vh}label{text-align:left}#a{transition:transform 6s ease-in,transform-origin 6s ease-in;width:280vh;height:140vh;background:radial-gradient(#4F8D2F,#136321);border-radius:3vh}.px #a,.pI #a{background:radial-gradient(10vh at 51.3% 52%,#000 40%,transparent 50%),radial-gradient(15vh at 51.3% 52%,#640 40%,transparent 50%),radial-gradient(#4F8D2F,#136321)}#e{margin:99vh 0 0;transition:margin 1s;font:10vh/80vh a}#iw{font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw}#menu{color:#fff;width:55vh;transform:translateX(-27vh)translateY(-20vh)rotateX(-17deg)}#menu span{font:7vh/12vh arial,sans-serif}#menu h1{font:13vh/16vh arial,sans-serif;text-shadow:.1vh -.1vh #777,.2vh -.2vh #777,.3vh -.3vh #777}#menu span:hover{color:#ace;transform:rotateX(-10deg)}.pN #menu span:hover{color:#fff}#iz button{position:fixed;width:10vh;height:10vh;text-align:center;font:6vh/10vh a}#kU{right:14vh;bottom:14vh}#kD{right:14vh;bottom:2vh}#kL{right:26vh;bottom:2vh}#kR{right:2vh;bottom:2vh}#kT{left:2vh;top:2vh}#kB{left:2vh;top:14vh}#kw{bottom:2vh;left:2vh}#kx{bottom:14vh;left:2vh}#ky{top:2vh;right:18vh}#kz{top:2vh;right:6vh}#hpx0{opacity:0;transition:opacity .5s}</style></head><head></head><body id="b" class="pB">
<div id="iv">
<div id="a" style="transform: translateX(-175vh) translateY(-5vh) translateZ(45vh) rotateX(40deg) rotateZ(0rad); transform-origin: 175vh 5vh 0px; width: 200vh; height: 100vh; transition: transform 1s, transform-origin 1s;">
<div id="ig"><div id="tree0" class="j tr" style="left:20vh;transform:translateX(-7vh)translateY(39vh)rotateX(-70deg)">🌳</div><div id="treeshadow0" class="e h" style="left:20vh;transform:translateX(-7.5vh)translateY(38.5vh)rotateZ(144deg)scaleY(1.5)">🌳</div><div id="a0" class="j g h" style="left:5vh;transform:translateY(44vh)rotateX(-65deg)"><div class="m">🍎</div></div><div id="as0" class="e p h" style="left:5vh;transform:scaleX(-1)translateY(43vh)rotateZ(212deg)">🍎</div><div id="a1" class="j g h" style="left:10vh;transform:translateY(49vh)rotateX(-65deg)"><div class="m">🍎</div></div><div id="as1" class="e p h" style="left:10vh;transform:scaleX(-1)translateY(48vh)rotateZ(212deg)">🍎</div><div class="j n" style="left:19vh;transform:translateY(74vh)rotateX(-65deg)"><div class="m">🐈</div></div><div id="dpB0" class="do s" style="left:177.5vh;top:-7.5vh;transform:rotateZ(0rad)translateZ(0vh)"><div class="y d0" hidden="">8</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh"></div></div><div id="dpB1" class="do" style="left:-7.5vh;top:52.5vh;transform:rotateZ(-1.5707963267948966rad)translateZ(0vh)"><div class="y d0">13</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh"></div></div><div id="cube0" class="z x" style="left:55vh;top:20vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-355vh -160vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube1" class="z x" style="left:105vh;top:80vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-405vh -220vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="hpB0" class="t" style="left:175vh;transform:translateY(60vh)translateZ(0vh)rotateX(-70deg)translateY(-4vh)">If you get stuck, press R to exit a puzzle</div></div>
<div id="ih"><div id="puzzle0" class="z q v " style="left:40vh;top:10vh;width:30vh;height:30vh"><div id="D0" class="d"><div class="o" id="g000" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g001" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g002" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g003" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g004" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g005" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g010" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g011" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g012" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g013" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g014" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g015" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g020" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g021" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g022" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g023" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g024" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g025" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g030" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g031" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g032" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g033" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g034" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g035" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g040" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g041" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g042" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g043" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g044" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g045" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g050" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g051" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g052" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g053" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g054" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g055" style="width:5vh;height:5vh;background:#fff"></div></div><div id="B0" class="b"></div></div><div id="puzzle1" class="z q v " style="left:90vh;top:10vh;width:35vh;height:35vh"><div id="D1" class="d"><div class="o" id="g100" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g101" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g102" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g103" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g104" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g105" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g106" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g110" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g111" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g112" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g113" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g114" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g115" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g116" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g120" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g121" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g122" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g123" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g124" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g125" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g126" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g130" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g131" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g132" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g133" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g134" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g135" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g136" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g140" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g141" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g142" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g143" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g144" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g145" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g146" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g150" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g151" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g152" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g153" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g154" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g155" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g156" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g160" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g161" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g162" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g163" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g164" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g165" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g166" style="width:5vh;height:5vh;background:#fff"></div></div><div id="B1" class="b"></div></div><div id="puzzle2" class="z q v " style="left:140vh;top:10vh;width:30vh;height:30vh"><div id="D2" class="d"><div class="o" id="g200" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g201" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g202" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g203" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g204" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g205" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g210" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g211" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g212" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g213" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g214" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g215" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g220" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g221" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g222" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g223" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g224" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g225" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g230" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g231" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g232" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g233" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g234" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g235" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g240" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g241" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g242" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g243" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g244" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g245" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g250" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g251" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g252" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g253" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g254" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g255" style="width:5vh;height:5vh;background:#fff"></div></div><div id="B2" class="b"></div></div><div id="puzzle3" class="z q v " style="left:40vh;top:60vh;width:30vh;height:30vh"><div id="D3" class="d"><div class="o" id="g300" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g301" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g302" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g303" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g304" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g305" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g310" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g311" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g312" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g313" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g314" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g315" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g320" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g321" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g322" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g323" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g324" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g325" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g330" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g331" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g332" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g333" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g334" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g335" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g340" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g341" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g342" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g343" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g344" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g345" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g350" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g351" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g352" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g353" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g354" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g355" style="width:5vh;height:5vh;background:#fff"></div></div><div id="B3" class="b"></div></div><div id="puzzle4" class="z q v " style="left:90vh;top:60vh;width:30vh;height:30vh"><div id="D4" class="d"><div class="o" id="g400" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g401" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g402" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g403" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g404" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g405" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g410" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g411" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g412" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g413" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g414" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g415" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g420" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g421" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g422" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g423" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g424" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g425" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g430" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g431" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g432" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g433" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g434" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g435" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g440" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g441" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g442" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g443" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g444" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g445" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g450" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g451" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g452" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g453" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g454" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g455" style="width:5vh;height:5vh;background:#fff"></div></div><div id="B4" class="b"></div></div><div id="puzzle5" class="z q v " style="left:140vh;top:60vh;width:30vh;height:30vh"><div id="D5" class="d"><div class="o" id="g500" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g501" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g502" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g503" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g504" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g505" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g510" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g511" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g512" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g513" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g514" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g515" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g520" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g521" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g522" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g523" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g524" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g525" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g530" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g531" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g532" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g533" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g534" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g535" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g540" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g541" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g542" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g543" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g544" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g545" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g550" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g551" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g552" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g553" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g554" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g555" style="width:5vh;height:5vh;background:#fff"></div></div><div id="B5" class="b"></div></div></div>
<div id="ie"><div id="M0" class="sm" style="transform: translateX(175.25vh) translateY(5vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S0"></div><div id="R0" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T0"><div style="background:none;box-shadow:none;color:red;font-size:4vh;text-align:center;transform:rotateZ(180deg)translateY(-4vh)translateZ(1.5vh)">Y</div><div class="u" style="font:2.5vh/4vh a">👀</div><div class="f">‿</div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M1" class="sm" style="transform: translateX(175.25vh) translateY(0vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S1"></div><div id="R1" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T1"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M2" class="sm" style="transform: translateX(175.25vh) translateY(-5vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S2"></div><div id="R2" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T2"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M3" class="sm" style="transform: translateX(175.25vh) translateY(-10vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S3"></div><div id="R3" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T3"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M4" class="sm" style="transform: translateX(175.25vh) translateY(-15vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S4"></div><div id="R4" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T4"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M5" class="sm" style="transform: translateX(175.25vh) translateY(-20vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S5"></div><div id="R5" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T5"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M6" class="sm" style="transform: translateX(175.25vh) translateY(-25vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S6"></div><div id="R6" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T6"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M7" class="sm" style="transform: translateX(175.25vh) translateY(-30vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S7"></div><div id="R7" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T7"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M8" class="sm" style="transform: translateX(175.25vh) translateY(-35vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S8"></div><div id="R8" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T8"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M9" class="sm" style="transform: translateX(175.25vh) translateY(-40vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S9"></div><div id="R9" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T9"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M10" class="sm" style="transform: translateX(175.25vh) translateY(-45vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S10"></div><div id="R10" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T10"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M11" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S11"></div><div id="R11" class="sr"><div class="z k" id="T11"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M12" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S12"></div><div id="R12" class="sr"><div class="z k" id="T12"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M13" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S13"></div><div id="R13" class="sr"><div class="z k" id="T13"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M14" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S14"></div><div id="R14" class="sr"><div class="z k" id="T14"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M15" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S15"></div><div id="R15" class="sr"><div class="z k" id="T15"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div></div>
<div id="ia"></div>
</div>
</div>
<center id="iz" style="font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw">
<button id="kU" class="h" ontouchstart="TS(38)" ontouchend="TE(38)">↑</button>
<button id="kD" class="h" ontouchstart="TS(40)" ontouchend="TE(40)">↓</button>
<button id="kL" class="h" ontouchstart="TS(37)" ontouchend="TE(37)">←</button>
<button id="kR" class="h" ontouchstart="TS(39)" ontouchend="TE(39)">→</button>
<button id="kT" class="h" ontouchstart="TS(16)" ontouchend="TE(16)">⬆︎</button>
<button id="kB" class="h" ontouchstart="TS(17)" ontouchend="TE(17)">⬇︎</button>
<button id="kw" class="h" ontouchstart="TS(18)" ontouchend="TE(18)">↩</button>
<button id="kx" class="h" ontouchstart="TS(82)" ontouchend="TE(82)">×</button>
<button id="ky" class="h" ontouchstart="TS(49)" ontouchend="TE(49)">↻</button>
<button id="kz" class="h" ontouchstart="TS(51)" ontouchend="TE(51)">↺</button>
</center>
<center id="ii" style="font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw"></center><div style="position:fixed;font:8vh a;top:3vh;right:3vh" onclick="location='index.html'">×</div></body></html><html><head><title>LOSSST</title><meta content="width=device-width,user-scalable=no" name="viewport"><script>u=r=d=l=s=c=B=0;trees=[];apples=[];doors=[];cubes=[];hints=[];emoji=[];puzzles=[];TS=function(k){ba[k]&&clearInterval(ba[k]);onkeydown({which:"+n+"});ba[k]=setInterval(function(){onkeydown({which:k})},150)};TE=function(k){setTimeout(function(){clearInterval(ba[k]);onkeyup()},150)};var g=0;function ca(){a.style.transform="translateX(-"+q[t]*v+"vh)translateY(-"+w[t]*v+"vh)translateZ(45vh)rotateX(40deg)rotateZ("+g+"rad)"}var x=$=_=0;function da(){var k=0;this.i=function(f){k+=f/48E3*Math.PI*2;return k%=2*Math.PI}}function fa(k){var f=new da,n=new da,m=.1;this.i=function(){if(!k)return 0;var A=k+.4*Math.sin(n.i(3));A=440*Math.pow(2,(A-57)/12);m*=.9998;A=f.i(A);return Math.pow(Math.sin(A),1)*m}}function ha(k){function f(){var f=k.length/2;for(_=$;0>_;)_+=f;_%=f;f=new fa(k[2*_+0].charCodeAt(0)-48);for(var A=new fa(k[2*_+1].charCodeAt(0)-48),P=[],aa=0;48E3>aa;aa++){var ea=f.i(),na=A.i(),za=.5*ea+na;P.push(ea+.5*na);P.push(za)}n(P).play()}function n(f){function k(f){f=m(f);return f[0]+f[1]}function m(f){for(var k=0,m="",n=0;4>n;n++,k+=8)m+=String.fromCharCode(f>>k&255);return m}var n=2*f.length;n="RIFF"+m(n+36)+"WAVEfmt "+m(16)+k(1)+k(2)+m(48E3)+m(192E3)+k(4)+k(16)+"data"+m(n);for(var ea in f)n+=k(32767*f[ea]);return new Audio("data:audio/wav;base64,"+btoa(n))}$=-1;this.forward=function(){$++;f()};this.back=function(){$--;f()}}function ja(k){function f(f){f=n(f);return f[0]+f[1]}function n(f){for(var k=0,m="",n=0;4>n;n++,k+=8)m+=String.fromCharCode(f>>k&255);return m}for(var m=[],A=0;;A++){var P=k(A);if(null===P)break;m.push(P)}k=2*m.length;k="RIFF"+n(k+36)+"WAVEfmt "+n(16)+f(1)+f(1)+n(48E3)+n(96E3)+f(2)+f(16)+"data"+n(k);for(A in m)k+=f(1E4*m[A]);return new Audio("data:audio/wav;base64,"+btoa(k))}function ka(k){return 1E4<k?null:(Math.pow(k,1.055)&128?1:-1)*Math.pow((1E4-k)/1E4,2)/2}function la(k){return 25E3<k?null:((k^k>>3^k*k*7.3^k<<4)&65535)/65536*((25E3-k)/25E3)/2}function ma(k){return 5E3<k?null:(Math.pow(k+1E3*Math.sin(.01*k),.8)&200?.5:-.5)*Math.pow((5E3-k)/5E3,1)/2}function oa(k){if(16E3<k)return null;var f=Math.pow((16E3-k)/16E3,2.1)/2;return(k<16E3/7?k+10*Math.sin(-k/900)&16:k&13)?f:-f}function pa(k){return 9E4<k?null:(Math.pow(k+1E3*Math.sin(.01*k),.8)&200?.5:-.5)*Math.pow((9E4-k)/9E4,1)/4}var qa=new ha("nbo0risiubv0uisirbs0ui0i0b0c0f0gniojrlsjuivjymvjubv0ui0i0j0m0n0rsgu0vnxnzgx0vnunsg0n0o0n0g0s0o0nrisjulvgufsjufscrbo0ni0j0b0i0j0il`n0ogqgs`u0vgxgz`0gxl0nsouqvsxuuev0u`0`0eq0slulqcs0qcs0qbs0q`s0njo0reseujv0xeveuj0v0e0q0j0i0g0e0cu0scq00bv0ufr0sgn0vbr0xiz0zjr0sgu0vbx0zgx0vbubsg{0zb{`z^{0zi{fzgv0xiu0vjs0ulr0sbn0oll0nbl0jfi0g00bxc0`zb0^{`0]z^0[z]0Zz[0]z^0`zb0]uf0bxi0f{l0izr0ozn0ixr0nrulrnbo0risiufs0r`o0nb0czf0gzi0gzf0cub0i0j0mvn0m0j0irbscrbs`rbs`sbrbo`q0sgugv`x0zg{gz`s0x`s0v`x0vcx0ues0q`l00eu00`x00ev00`u00eq00`o`"),ra=new ha("p0r0sdk0rco0pdk0p0r0sdw0rcs0pdk0p0r0sdk0rck0pdk0p0r0sdw0rcs0pd0f0g0iwg0bwgx0wgurrnspur0bufwgubs0pkrcsdk0rco0pkk0p0r0sdk0rco0pk0l0k0iwg0b0k0g0n0kzs0nxi0f|l0izr0p0n0lwk0dwg0k0p0k|s0pur0kuo0k0i0l0k0isd0krj0kpd0k0p0rsd0krl0opd0f0g0iskw0riw0pgw0nfw0u`s0rbs0pd0k"),y=localStorage,z=0,C=+y.lossst_s||0,sa=C?ra:qa,D=+y.lossst_m||0,ta=+y.lossst_t||0,ua=+y.lossst_M||0,va=0,ba=[],wa=0,v=5,t=0,q=[],w=[],E=[],F=[],G=y.lossst_S=+y.lossst_S||5,H=0,I=0,J=null,K="0",L=[],M=[],xa=0,N=0,O=0,Q=0,R=0,S=0,T=0,ya=+y.lossst_T||0,Aa=0,U=0,V=0,W="",X=h=0;function Ba(){var k;navigator.userAgent.match(/Mac/)&&(iv.className="a");navigator.userAgent.match(/Fire|Edg/)&&(iv.className+=" c",wa=4E3);D&&(iv.className+=" i");b.className=W;C&&!H&&(ie.innerHTML="");cubes=[];doors=[];trees=[];apples=[];hints=[];emoji=[];if("pz"==W)X=40,h=20,puzzles=[[5,,1,,"0000000000000000000000000",16,9]],G=5,C=0;else if("py"==W)h=X=20,puzzles=[eval("["+location.hash.slice(1).replace(/[01]{2,}/g,'"$&"')+"]")],G=puzzles[0][1],puzzles[0][5]=puzzles[0][6]=8,C=!!puzzles[0][3],hints=[["Move: arrow keys<br>"+(C?"Up/Down: "+(D?"\u2b06\ufe0e/\u2b07\ufe0e":"Shift/Ctrl")+"<br>":"")+"backtrack: "+(D?"\u21a9":"Alt")+"<br>Reset: R",1,5,1,0,C,0]],delete y.lossst_ppy0;else if("px"==W){X=40;h=20;trees=[[13,9,0],[7,13,0],[35,8,0]];apples=[[11,11,0,0,0],[2,12,0,6,0],[38,10,0,7,0]];doors=[[41,10,Math.PI/2,8,0,"pA",1,0,10,0,0],[20,-2,0,14,0,"pD",1,10,19,0,0],[-2,11,-Math.PI/2,6,0,"pJ",1,14,5,1,1],[20,21,Math.PI,14,0,"pC",1,22,1,0,0],[5,21,Math.PI,5,0,"pI",1,36,1,0,1]];puzzles=[];cubes=[];for(f=9;15>f;f++)for(m=0;5>m;m++)2==m&&14==f||2==m&&13==f||3==m&&13==f||3==m&&12==f||2==m&&12==f||cubes.push([m,f]);hints=[["Move with<br>arrow keys"+(D?"":" or WASD/ZQSD"),19,5,0,13,0],["Use the "+(D?"\u21a9":"Alt")+" key to backtrack",1,9,0,13,0,1],["Approach red doors with the right length to open them",35,14,0,13,0],["\u2191<br>New puzzles !<hr>Puzzle editor<br>\u2193",19,8,14,0,0],["\u2190<br>New puzzles !",1,9,6,7,1,1]];emoji=[["\ud83d\udc3f\ufe0f",30,7],["\ud83c\udf30\ufe0f",29,7]]}else if("pA"==W)X=40,h=20,trees=[[35,15,0]],apples=[[33,16,0,0,6],[34,17,0,0,6],[37,15,0,0,6]],cubes=[],doors=[[-2,10,-Math.PI/2,8,0,"px",0,39,11,0,0],[35,21,Math.PI,11,0,"pB",1,35,1,0,0]],puzzles=[[6,,0,,"000000001000001110001110001000000000",2,3],[6,,0,,"000000011000011100010000011000000000",14,3],[6,,0,,"000000000100001100011000011100000000",26,3],[5,,0,,"0000001110011100110000000",2,13],[6,,0,,"000000011000011000001100001100000000",14,13],[6,,0,,"000000000100001100001110001100000000",26,13]],hints=[["Cover the black patterns to solve puzzles",9,9,1,0],["Solve all the puzzles in the room to unlock a new door",21,9,1,0],["Your progress is saved automatically",34,9,1,0]],emoji=[["\ud83d\udc0c",11,10]];else if("pB"==W)D&&(kx.className="",y.lossst_r=1),X=40,h=20,trees=[[4,7,0]],apples=[[1,8,0,0,12],[2,9,0,0,12]],doors=[[35,-2,0,8,0,"pA",0,35,19,0,0],[-2,10,-Math.PI/2,13,0,"pC",1,39,10,0,0]],puzzles=[[6,,0,,"000000011110011010011110000000000000",8,2],[7,,0,,"0000000001110000111000001100000110000010000000000",18,2],[6,,0,,"000000011000011110001010001110000000",28,2],[6,,0,,"000000011100001110001110001100000000",8,12],[6,,0,,"000000001110001110001110001010000000",18,12],[6,,0,,"000000011110011110001100001000000000",28,12]],hints=[["If you get stuck, "+(D?"click \u00d7":"press R")+" to exit a puzzle",35,11,1,0]],cubes=[[11,4],[21,16]],emoji=[["\ud83d\udc08",4,14]];else if("pC"==W)X=40,h=20,trees=[[35,8,0]],apples=[[34,11,0,0,18]],doors=[[41,10,Math.PI/2,8,0,"pB",0,1,10,0,0],[22,-2,0,14,0,"px",1,20,19,0,0]],puzzles=[[7,,0,,"0000000000000001111000111100001111000100000000000",2,3],[7,,0,,"0000000001110000101000011100001110000110000000000",26,3],[6,,0,,"000000001110011110011010001110000000",14,3],[7,,0,,"0000000001100000111000011100001110000110000000000",2,12],[7,,0,,"0000000000000001111100101010011111000000000000000",14,12],[6,,0,,"000000011000011100011110011110000000",26,12]],hints=[["\u2191<br>After this room, you can try a puzzle editor and a new kind of puzzles !",22,11,13,0,0]],cubes=[[29,5],[30,8],[17,6],[15,4],[15,7],[29,13],[30,13],[30,14],[18,15],[16,15],[6,13],[6,17],[7,8],[6,8],[5,8],[3,7],[3,8],[7,6],[7,5]],emoji=[["\ud83e\udd8b<br><br>",29,13]];else if("pD"==W){h=X=20;trees=[[10,2,0]];doors=[[10,21,Math.PI,14,0,"px",0,20,0,0,0],[-2,5,-Math.PI/2,14,0,"pE",0,24,12,0,0]];puzzles=[[7,,1,,"0100010011111000000000000000000000001111100100010",7,7]];hints=[["Now you're thinking with wraps !",2,2,0,14,0]];for(f=0;20>f;f++)cubes.push([f,10]);emoji=[["\ud83d\udc10",12,2]]}else if("pE"==W)h=X=25,trees=[[5,12,0]],apples=[[4,14,0,0,23]],doors=[[26,12,Math.PI/2,14,0,"pD",0,0,5,0,0],[-2,12,-Math.PI/2,15,0,"pF",1,79,5,0,0]],puzzles=[[7,,1,,"1000001000000000000000010100011011011000111000001",3,3],[6,,1,,"110011100001000000100001100001110011",15,17],[5,,1,,"1100111001100011001110011",16,4],[6,,1,,"000011000011110001110001000011000011",3,17]],hints=[["Reminder:<br>use "+(D?"\u21a9":"Alt")+" to backtrack,<br>"+(D?"\u00d7":"R")+" to exit a puzzle.",11,14,1,0,0]],emoji=[["\ud83d\udc12",12,20]];else if("pF"==W)X=80,h=20,trees=[[35,10,0]],apples=[[38,11,0,0,35]],doors=[[81,5,Math.PI/2,15,0,"pE",0,0,12,0,0],[-2,15,-Math.PI/2,16,0,"pG",1,19,5,0,0]],puzzles=[[5,,1,,"0111101001010110100011111",59,13],[5,,1,,"1111011000111100001011110",48,13],[5,,1,,"1111101000011110111001100",37,13],[5,,1,,"1111110000111001000011111",26,13],[5,,1,,"1100101101001110011101101",15,13],[5,,1,,"1111100001110010000111111",59,2],[5,,1,,"1000110111100011000111111",48,2],[5,,1,,"1000110101101011111110001",37,2],[5,,1,,"1111110001000110000111111",26,2],[5,,1,,"0111101100011100011011110",15,2],[5,,1,,"1111101111001110001100001",4,8],[5,,1,,"1010100101111010000111111",71,8]],hints=[["This room hides a surprise !",72,2,0,15,0],["\u2190<br>Exit",38,9,16,0,0]],cubes=[],emoji=[];else if("pG"==W)X=20,h=30,trees=[[5,25,0]],apples=[[4,24,0,0,37],[7,25,0,0,37],[2,26,0,0,37],[3,28,0,0,37]],doors=[[21,5,Math.PI/2,16,0,"pF",0,1,15,0,0],[10,31,Math.PI,20,0,"pH",1,10,1,0,0]],puzzles=[[6,,1,,"001000001110111111011100011000001000",7,6],[6,,1,,"110001100001000111000111100001110001",7,18]],emoji=[["\ud83d\udc01",9,14]];else if("pH"==W)X=20,h=30,trees=[[16,22]],apples=[[18,22,0,0,39]],doors=[[10,-2,0,18,0,"pG",0,10,29,0,0],[21,25,Math.PI/2,21,0,"pI",1,1,10,0,0]],puzzles=[[6,,1,,"001000011110111111011110011110001000",7,6],[6,,1,,"110001100001000011000111001111111111",7,18]],emoji=[["\ud83e\udd86",9,14]];else if("pI"==W){X=40;h=20;apples=[[38,2,0,5,0]];doors=[[-2,10,-Math.PI/2,1,0,"pH",0,19,25,0,0],[36,-2,0,6,0,"px",1,5,19,0,1]];puzzles=[];hints=[["Guess what, you finished the first half of the game !",5,9,1,0],["You can now move up and down with "+(D?"\u2b06\ufe0e and \u2b07\ufe0e":"Shift and Ctrl keys")+", and open black doors",30,11,1,0]];for(f=0;9>f;f++)cubes.push([30,f]);for(f=30;40>f;f++)cubes.push([f,8]);emoji=[["\ud83d\udc22",13,14]];trees=[[3,1],[15,2],[36,3],[26,5],[25,15],[33,9],[10,12],[36,14],[3,15]]}else"pJ"==W?(X=15,h=70,trees=[[2,62]],apples=[[2,65,0,0,47],[1,66,0,0,47]],doors=[[16,5,Math.PI/2,6,0,"px",0,1,11,0,1],[-2,65,-Math.PI/2,8,0,"pK",1,19,65,0,1]],puzzles=[[5,,0,"0000000000000000000001110",,2,2],[4,,0,"0000000001000110",,4,11],[5,,0,"0000000000000000101001110",,6,20],[5,,0,"0000000000000000111000100",,8,29],[4,,0,"0000000001100110","0000011001100000",2,38],[4,,0,"0000010001100100","0000011001100000",4,47],[4,,0,"0000011001000100","0000010001100000",6,56],[4,,0,"0000000001100110","0100011000100000",8,65]],hints=[["You now have to match the patterns on the walls...",10,2,1,0,1],["... and on the floor too !",10,40,1,0,1]],emoji=[["\ud83e\udd89",10,14]]):"pK"==W?(D&&(ky.className=kz.className="",y.lossst_c=1),X=20,h=75,trees=[[2,2]],apples=[[1,4,0,0,59],[2,5,0,0,59],[3,6,0,0,59],[4,2,0,0,59]],doors=[[21,65,Math.PI/2,7,0,"pJ",0,1,65,0,1],[-2,5,-Math.PI/2,12,0,"pL",1,14,5,0,1]],puzzles=[[5,,0,"0000000000010000110001110",,8,69],[6,,0,"000000000000000000000100001110011000",,12,58],[5,,0,"0000000000010000111001000",,2,58],[4,,0,"0000001001100110","0000001001100000",2,45],[5,,0,"0000000000000000010001110","0000000100001100110000000",12,45],[5,,0,"0000000000000000101001110","0000001110010100000000000",2,34],[5,,0,"0000000000000000011001100","0000001110011000010000000",12,34],[4,,1,"0000011001100110","0110000000000110",2,22],[4,,1,"1001000000001001","1001000000001001",12,22],[4,,1,"0000010011110010","0000111101100000",2,12],[4,,1,"0110010000000011","0000011100110000",12,12],[4,,1,"1101000000000001","1101000000010001",12,2]],hints=[["You can rotate the camera with "+(D?"<br>\u21bb and \u21ba":"the keys 1, 2 and 3"),15,68,1,0,1],["Can you guess what's coming next?",7,54,1,0,1],["3D puzzles with wrap ! Use "+(D?"\u2b06\ufe0e and \u2b07\ufe0e":"Shift and Ctrl")+" to wrap between top and bottom",7,24,1,0,1]],emoji=[["\ud83d\udc1e",3,70]]):"pL"==W?(X=15,h=80,trees=[[2,70]],apples=[[1,73,0,0,68],[3,75,0,0,68]],doors=[[16,5,Math.PI/2,12,0,"pK",0,1,5,0,1],[-2,75,-Math.PI/2,14,0,"pM",1,14,25,0,1]],puzzles=[[5,,0,"0000000000001001111100100",,2,2],[4,,0,"0000010001100000",,5,11],[5,,0,"0000000110000110111000010",,8,20],[5,,0,"0000000000001000111011111","0000000000111001111100000",2,29],[4,,0,"1000110011101111","0000001111110000",5,38],[4,,0,"0000100011001110","1110110010000000",8,45],[4,,1,"1000100110010001","0000100110010000",2,54],[4,,1,"0000001011110100","0000110011110011",5,63],[5,,1,"0100011000010000111001000","0000001110110000100000000",8,72]],cubes=[[6,12]],emoji=[["\ud83d\udc1d",3,20]]):"pM"==W?(X=15,h=30,trees=[[10,12]],apples=[[8,11,0,0,71],[9,10,0,0,71],[10,9,0,0,71],[11,10,0,0,71],[12,11,0,0,71],[7,12,0,0,71]],doors=[[16,25,Math.PI/2,14,0,"pL",0,1,75,0,1],[-2,5,-Math.PI/2,20,0,"pN",1,14,5,0,1]],puzzles=[[5,,1,"0001100110011001100010000","0001100110011001100010000",2,24],[5,,1,"1100010001000011000111000","0000011000110010000000000",4,13],[5,,1,"1101110001000001000011000","1100010000000001000111011",6,2]],emoji=[["\ud83d\udc13",1,14]]):"pN"==W&&(X=15,h=48,trees=[[10,44]],apples=[[7,45,0,0,75]],doors=[[16,5,Math.PI/2,20,0,"pM",0,1,5,0,1]],puzzles=[[4,,1,"0000111101101111","1000111111111000",5,38],[4,,1,"1111001001001111","1111101010101111",5,28],[4,,1,"1111010101011101","0001101101101111",5,18],[4,,1,"1111000100011110","1111110110011111",5,8]],emoji=[["\ud83d\udc09",13,46]]);a.style.width=X*v+"vh";a.style.height=h*v+"vh";H||(ig.innerHTML="");ih.innerHTML="";for(var f in trees)ig.innerHTML+="<div id=tree"+f+' class="j tr"style=left:'+trees[f][0]*v+"vh;transform:translateX(-7vh)translateY("+(trees[f][1]*v+4)+"vh)rotateX(-70deg)>\ud83c\udf33</div><div id=treeshadow"+f+' class="e h"style=left:'+trees[f][0]*v+"vh;transform:translateX(-7.5vh)translateY("+(trees[f][1]*v+3.5)+"vh)rotateZ(144deg)scaleY(1.5)>\ud83c\udf33";for(f in apples)y["lossst_a"+W+f]?delete apples[f]:ig.innerHTML+="<div id=a"+f+' class="j g '+(y["lossst_A"+W+f]?"":"h")+'"style=left:'+apples[f][0]*v+"vh;transform:translateY("+(apples[f][1]*v+4)+"vh)rotateX(-65deg)>"+("pN"==W?"<div>\u26bd</div>":"<div class=m>\ud83c\udf4e</div>")+"</div><div id=as"+f+' class="e p '+(y["lossst_A"+W+f]?"":"h")+'"style=left:'+apples[f][0]*v+"vh;transform:scaleX(-1)translateY("+(apples[f][1]*v+3)+"vh)rotateZ(212deg)>"+("pN"==W?"\u26bd":"\ud83c\udf4e");for(f in emoji)ig.innerHTML+='<div class="j n"style=left:'+(emoji[f][1]*v-1)+"vh;transform:translateY("+(emoji[f][2]*v+4)+"vh)rotateX(-65deg)><div class=m>"+emoji[f][0];for(f in doors)ig.innerHTML+="<div id=d"+(""+W+f)+' class="do'+(y["lossst_d"+W+f]?" s":"")+'"style=left:'+(doors[f][0]+.5)*v+"vh;top:"+(doors[f][1]+.5)*v+"vh;transform:rotateZ("+doors[f][2]+"rad)translateZ("+doors[f][9]*v+'vh)><div class="y d'+doors[f][10]+'"'+(doors[f][6]?"":"hidden")+">"+doors[f][3]+'</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh">';for(var n in puzzles)for(var m in cubes)y["lossst_p"+W+n]&&cubes[m][0]>=puzzles[n][5]&&cubes[m][0]<puzzles[n][5]+puzzles[n][0]&&cubes[m][1]>=puzzles[n][6]&&cubes[m][1]<puzzles[n][6]+puzzles[n][0]&&delete cubes[m];for(f in cubes)ig.innerHTML+="<div id=cube"+f+' class="z x"style=left:'+cubes[f][0]*v+"vh;top:"+cubes[f][1]*v+'vh;width:5vh;height:5vh><div class=f></div><div class=u style="background-position:'+(-300-cubes[f][0]*v)+"vh "+(-140-cubes[f][1]*v)+'vh"></div><div class=r></div><div class=l></div><div class=b>';for(f in hints)C^hints[f][5]||!(hints[f][3]&&hints[f][3]<=G||hints[f][4]&&hints[f][4]>=G)||(ig.innerHTML+="<div id=h"+(""+W+f)+" class=t style=left:"+hints[f][1]*v+"vh;transform:translateY("+(hints[f][2]*v+5)+"vh)translateZ("+(hints[f][6]*v||0)+"vh)rotateX(-70deg)translateY(-4vh)>"+hints[f][0]);y.lossst_x&&top.hpx0&&(hpx0.style.opacity=1);for(n in puzzles){T=puzzles[n][0];var A=k="";ih.innerHTML+="<div id=puzzle"+n+' class="z q v '+(puzzles[n][2]&&!y["lossst_p"+W+n]?"w":"")+'"style=left:'+puzzles[n][5]*v+"vh;top:"+puzzles[n][6]*v+"vh;width:"+puzzles[n][0]*v+"vh;height:"+T*v+"vh>"+(puzzles[n][2]?"<div class=l></div><div class=r></div>":"")+"<div id=D"+n+" class=d></div><div id=B"+n+" class=b></div>"+(puzzles[n][2]?"<div class=f>":"");var P="000",aa="fff";y["lossst_p"+W+n]&&(P="44c",aa="fd0",puzzles[n][2]=0);for(f=0;f<T;f++)for(m=0;m<T;m++)puzzles[n][3]&&(k+="<div class=o id=w"+n+f+m+" style=width:"+v+"vh;height:"+v+"vh;background:#"+("1"==puzzles[n][3][f*T+m]?P:aa)+"></div>"),puzzles[n][4]&&(A+="<div class=o id=g"+n+f+m+" style=width:"+v+"vh;height:"+v+"vh;background:#"+("1"==puzzles[n][4][f*T+m]?P:aa)+"></div>");top["D"+n]&&(top["D"+n].innerHTML+=A);top["B"+n]&&(top["B"+n].innerHTML+=k)}"pN"==W&&(ig.innerHTML+="<div style='position:fixed;transform:"+(D?"rotateZ(-90deg)translateX(-87vh)translateY(22vh)translateZ(365vh)":"rotateZ(-90deg)translateX(-83vh)translateY(6vh)translateZ(208vh)")+";font: 30vh/25vh a'>THE<br><br>END");H&&(y.lossst_e||y.lossst_s&&6<y.lossst_S||(ik.style.opacity=im.style.opacity=0,ik.style.position=im.style.position="fixed",ik.style.top=im.style.top="-9vh"),J=0,Y(1),xa=1,Q=O=N=0,puzzles[0][2]=0,setTimeout(function(){(ib.onchange=ib.oninput=resetgrid=function(){Ca();Y();ij.disabled=1;gridval.innerHTML=T=+ib.value;puzzle0.style.width=puzzle0.style.height=T*v+"vh";puzzles[0][0]=T;D0.innerHTML="";A=k=B0.innerHTML="";M=[];L=[];for(f=0;f<T;f++)for(M[f]=[],L[f]=[],m=0;m<T;m++)M[f][m]=0,L[f][m]=0;for(f=0;f<T;f++)for(m=0;m<T;m++)k+="<div class=o id=w"+K+f+m+" style=width:"+v+"vh;padding-top:"+v+"vh></div>",A+="<div class=o id=g"+K+f+m+" style=width:"+v+"vh;padding-top:"+v+"vh></div>";xa&&(D0.innerHTML+=A);N&&(B0.innerHTML+=k)})();iq.onchange=iq.oninput=function(){it.innerHTML=G=+iq.value;Ca();Y()};ik.onclick=function(){ik.checked?xa=1:top.wall&&(xa=0,C=N=1,wall.checked=!0);a.className=N?"haswall":"";resetgrid()};top.wall&&(wall.onclick=function(){wall.checked?(N=1,C=puzzles[0][3]=1):(N=C=0,xa=1,ik.checked=!0,puzzles[0][3]=0);a.className=N?"haswall":"";resetgrid()});top.wrap&&(wrap.onclick=function(){O=puzzles[0][2]=wrap.checked||0;puzzle0.className="z q v "+(O?"w":"");resetgrid()});print=function(k){var n="";for(f=0;f<T;f++)for(m=0;m<T;m++)n=top[k+"0"+f+m].style.background&&top[k+"0"+f+m].style.background.match(/255/)?n+0:n+1;return n};ij.onclick=function(){var f=[];f.push(T);f.push(G);f.push(O?1:0);f.push(N?print("w"):"");f.push(ik.checked?print("g"):"");open("//twitter.com/intent/tweet?text=I%20made%20a%20level%20for%20@MaximeEuziere's%20%23js13k%20game%20LOSSST!%0APlay%20here:%20js13kgames.com%2Fentries%2Flossst%0AMy%20level:%20js13kgames.com%2Fgames%2Flossst%23"+f+"%0A%23LOSSSTlevels")}},100));"px"!=W||y.lossst_x?(a.style.transition="transform 1s,transform-origin 1s",Ca()):(I=1,setTimeout(function(){Ca();Y();M0.style.transition="transform .5s"},2E3),setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(0);F.push(F[t]);t++;Y()},5500+wa),setTimeout(function(){M0.style.transition="";R0.style.transition="transform .2s";R0.style.transform="rotateZ("+-Math.PI/4+"rad)"},6500+wa),setTimeout(function(){R0.style.transform="rotateZ("+Math.PI/4+"rad)"},7E3+wa),setTimeout(function(){R0.style.transform=""},7500+wa),setTimeout(function(){S0.style.transition=R0.style.transition=""},8E3+wa),setTimeout(function(){clearInterval(x);z||(I=0);hpx0.style.opacity=1},8400),setTimeout(function(){a.style.transition="transform 1s,transform-origin 1s";y.lossst_x=20;y.lossst_y=10;b.innerHTML+="<div style='position:fixed;font:8vh a;top:3vh;right:3vh'onclick=location='index.html'>\u00d7";D&&(kU.className=kD.className=kL.className=kR.className="",y.lossst_w=1)},9E3));Y()}function Ca(){var k=C&&!H?ia:ie;k.innerHTML="";q=[];w=[];E=[];F=[];t=G-1;if("py"==W)for(i=0;i<G;i++)q[t-i]=1-i,w[t-i]=10,E[t-i]=0,F[t-i]=-Math.PI/2;else if(H)for(i=0;i<G;i++)q[t-i]=13-i,w[t-i]=12,E[t-i]=0,F[t-i]=-Math.PI/2;else if(y.lossst_x){var f=+y.lossst_x,n=+y.lossst_y,m=+y.lossst_z;"px"==W&&2>y.lossst_x&&(m=y.lossst_z=1);if("pI"==W&&z&&1==C)for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i-1,F[t-i]=0;else if(2>f)for(i=0;i<G;i++)q[t-i]=f-i,w[t-i]=n,E[t-i]=m,F[t-i]=-Math.PI/2;else if(f>X-2)for(i=0;i<G;i++)q[t-i]=f+i,w[t-i]=n,E[t-i]=m,F[t-i]=Math.PI/2;else if(2>n)for(i=0;i<G;i++)q[t-i]=f,w[t-i]=n-i,E[t-i]=m,F[t-i]=0;else if(n>h-2)for(i=0;i<G;i++)q[t-i]=f,w[t-i]=n+i,E[t-i]=m,F[t-i]=0;else for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i,F[t-i]=0}else if("px"==W)for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i-1,F[t-i]=0;for(i=0;i<Math.max(G+4,16);i++)k.innerHTML+="<div id=M"+i+" class=sm style=transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:"+(v-.7)+"vh;height:"+(v-.7)+"vh><div class=ss id=S"+i+"></div><div id=R"+i+' class=sr><div class="z k"id=T'+i+">"+(1>i?"<div style=background:none;box-shadow:none;color:red;font-size:4vh;text-align:center;transform:rotateZ(180deg)translateY(-4vh)translateZ(1.5vh)>Y</div>":"")+'<div class=u style="font:'+.5*v+"vh/"+.8*v+'vh a">'+(1>i?"\ud83d\udc40":"")+"</div><div class=f>"+(1>i?"\u203f":"")+"</div><div class=r></div><div class=l></div><div class=b>"}function Y(k){for(var f={a:0};f.a<G;f={a:f.a,j:f.j,m:f.m,o:f.o},f.a++)if(!k){var n=oldx=oldy=oldz=newx=newy=newz=0;O&&T&&(q[t-f.a-1]==R&&q[t-f.a]==R+T-1?(n=1,oldx=R-1,newx=R+T,oldy=newy=w[t-f.a],oldz=newz=E[t-f.a]):q[t-f.a-1]==R+T-1&&q[t-f.a]==R?(n=1,oldx=R+T,newx=R-1,oldy=newy=w[t-f.a],oldz=newz=E[t-f.a]):w[t-f.a-1]==S&&w[t-f.a]==S+T-1?(n=1,oldy=S-1,newy=S+T,oldx=newx=q[t-f.a],oldz=newz=E[t-f.a]):w[t-f.a-1]==S+T-1&&w[t-f.a]==S?(n=1,oldy=S+T,newy=S-1,oldx=newx=q[t-f.a],oldz=newz=E[t-f.a]):0==E[t-f.a-1]&&E[t-f.a]==T-1?(n=1,oldz=-1,newz=T,oldx=newx=q[t-f.a],oldy=newy=w[t-f.a]):E[t-f.a-1]==T-1&&0==E[t-f.a]&&(n=1,oldz=T,newz=-1,oldx=newx=q[t-f.a],oldy=newy=w[t-f.a]));if(n)top["R"+f.a].style.transform="rotateZ("+F[t-f.a]+"rad)",top["M"+f.a].style.transform="translateX("+(oldx*v+.5)+"vh)translateY("+(oldy*v+.5)+"vh)translateZ("+(oldz*v+.5)+"vh)scale(.01)scaleZ(.01)",setTimeout(function(f){return function(){top["M"+f.a].style.transition="none"}}(f),90),f.j=newx,f.m=newy,f.o=newz,setTimeout(function(f){return function(){top["M"+f.a].style.transform="translateX("+(f.j*v+.5)+"vh)translateY("+(f.m*v+.5)+"vh)translateZ("+(f.o*v+.5)+"vh)scale(.01)"}}(f),100),setTimeout(function(f){return function(){top["M"+f.a].style.transition="";top["M"+f.a].style.transform="translateX("+(q[t-f.a]*v+.25)+"vh)translateY("+w[t-f.a]*v+"vh)translateZ("+(E[t-f.a]*v+.5)+"vh)"}}(f),150);else try{top["M"+f.a].style.transform="translateX("+(q[t-f.a]*v+.25)+"vh)translateY("+w[t-f.a]*v+"vh)translateZ("+(E[t-f.a]*v+.5)+"vh)",top["R"+f.a].style.transform="rotateZ("+F[t-f.a]+"rad)"}catch(A){}try{top["S"+f.a].style.display=0==E[t-f.a]?"":"none"}catch(A){}}H?a.style.transform="translateX(-100vh)translateY(-37vh)translateZ(-5vh)rotateX(33deg)":null===J||y["lossst_p"+W+J]?(a.style.transform="translateX("+-q[t]*v+"vh)translateY("+-w[t]*v+"vh)translateZ(45vh)rotateX(40deg)rotateZ("+g+"rad)",a.style.transformOrigin=""+q[t]*v+"vh "+w[t]*v+"vh"):(a.style.transform="translateX("+(-(R+puzzles[J][0]/2)*v+5)+"vh)translateY("+(-(S+puzzles[J][0]/2)*v+8)+"vh)translateZ("+(90-puzzles[J][0]*(v+3))+"vh)rotateX(30deg)rotateZ("+g+"rad)",a.style.transformOrigin=""+((R+puzzles[J][0]/2)*v+5)+"vh "+((S+puzzles[J][0]/2-1)*v+8)+"vh");f=C?1:0;for(k=0;k<G;k++){if(0>=E[t-k]){f=0;break}for(m in cubes)cubes[m][0]==q[t-k]&&cubes[m][1]==w[t-k]&&1==E[t-k]&&(f=0)}if(f){for(k=0;k<G;k++)E[t-k]--;try{Y()}catch(A){for(var m=2*G;m--;)q.pop(),w.pop(),E.pop(),F.pop(),t--;Aa=0;Y()}}f=q[t];n=w[t];for(k in doors)(doors[k][10]&&C||!doors[k][10]&&!C)&&top["d"+W+k]&&0<doors[k][3]&&G>=doors[k][3]&&4>Math.hypot(f-doors[k][0],n-doors[k][1])&&!y["lossst_d"+W+k]&&(top["d"+W+k].className="do s",!doors[k][6]||"px"==W&&2<k||ja(pa).play(),y["lossst_d"+W+k]=1),top["d"+W+k]&&"do s"==top["d"+W+k].className&&2>Math.hypot(f-doors[k][0],n-doors[k][1])&&(y.lossst_p=W=doors[k][5],setTimeout(Ba,600),y.lossst_x=doors[k][7],y.lossst_y=doors[k][8],y.lossst_z=0);null!==J&&Da();H||(J=null);H||(L=[],M=[]);for(p in puzzles)if(f>=puzzles[p][5]&&f<puzzles[p][5]+puzzles[p][0]&&n>=puzzles[p][6]&&n<puzzles[p][6]+puzzles[p][0]){J=+p;Q=0;y["lossst_p"+W+p]&&(Q=1);K=p;xa=!!puzzles[p][4];N=!!puzzles[p][3];O=!!puzzles[p][2];R=puzzles[p][5];S=puzzles[p][6];T=puzzles[p][0];for(k=0;k<T;k++)for(L[k]=[],M[k]=[],m=0;m<T;m++)puzzles[p][3]&&(M[k][m]=+puzzles[p][3][k*puzzles[p][0]+m]),puzzles[p][4]&&(L[k][m]=+puzzles[p][4][k*puzzles[p][0]+m]);Da()}}function Z(k,f,n){V=0;if(0>k||k>=X||0>f||f>=h)V=1;for(var m in trees)k>=trees[m][0]-1&&k<=trees[m][0]&&f==trees[m][1]&&3>E[t]&&(V=1);for(m in hints)k>=hints[m][1]&&k<=hints[m][1]+3&&f==hints[m][2]&&G>=hints[m][3]&&(!hints[m][4]||G<=hints[m][4])&&(C&&hints[m][5]||!C&&!hints[m][5])&&(V=1);for(m in apples)if(y["lossst_A"+W+m]&&k==apples[m][0]&&f==apples[m][1]&&0==E[t])if(ja(ka).play(),"pN"==W){x=setInterval(sa.forward,150);y.lossst_E=1;setTimeout(function(){I=1;as0.remove();a0.style.transform="translateY(319vh)translateZ(2vh)rotateX(-65deg)rotateY(90deg)";a0.style.transition=a.style.transition="10s";a0.style.transform="translateY(15vh)translateZ(2vh)rotateX(-65deg)";a.style.transform=D?"translateX(-133vh)translateY(-249vh)translateZ(-373vh)rotateZ(90deg)":"translateX(-141vh)translateY(-227vh)translateZ(-185vh)rotateZ(90deg)"},200);var A={},P;for(P in puzzles)A.g=P,setTimeout(function(f){return function(){top["B"+f.g].style.transition=".5s";top["B"+f.g].style.transform="translateY(-125%)"}}(A),[1450,2500,3800,5400][A.g]),A={g:A.g};setTimeout(function(){clearInterval(va);y.lossst_E=1;y.lossst_e=1;b.style.background="#000";y.lossst_s=0;b.innerHTML="<div id=iv style=perspective:90vh><center id=menu style=width:75vh;transform:translateX(-38vh)translateY(-35vh)rotateX(-28deg)><span style=font-size:4vh;line-height:5vh><h1>Congrats!</h1><br>You completed the game in<br>"+ta+" seconds and "+ua+" moves!<br><br><a href=//twitter.com/intent/tweet?text=I%20played%20LOSSST,%20a%20%23js13k%20game%20by%20by%20@MaximeEuziere%0Amy%20score:%20"+ta+"%20seconds%20and%20"+ua+"%20moves!%0Ajs13kgames.com%2Fentries%2Flossst target=_blank style=color:#def;font-size:4vh>TWEET YOUR SCORE</a><br><br>Dev record:<br>854 seconds, 2452 moves<br><br>3D puzzle editor unlocked!<br><br><a href=. style=font-size:4vh>MAIN MENU"},15E3);n=document.querySelectorAll(".o");A={};for(var aa in n){A.h=aa;try{2==n[A.h].style.backgroundColor.match(/68/g).length&&setTimeout(function(f){return function(){top[n[f.h].id].style.background="#a00"}}(A),8E3+10*A.h)}catch(na){}A={h:A.h}}}else if(delete apples[m],top["a"+m].remove(),top["as"+m].remove(),G++,y.lossst_S=G,y["lossst_a"+W+m]=1,"pF"==W&&16==G){I=1;x=setInterval(sa.forward,150);z=1;a.style.transition="5s";a.style.transform="translateX(-180vh)translateY(-53vh)translateZ("+(D?-422:-180)+"vh)rotateZ(180deg)";setTimeout(function(){a.style.transition="1s";I=z=0;Y();ig.innerHTML+="<div class=t style=left:190vh;transform:translateY(50vh)rotateX(-55deg)translateY(-4vh)>\u2190<br>Exit";clearInterval(x)},1E4);n=document.querySelectorAll(".o");A={};for(var ea in n){A.f=ea;try{n[A.f].id.match(/g\d\d\d$/)&&2==n[A.f].style.backgroundColor.match(/68/g).length&&setTimeout(function(f){return function(){top[n[f.f].id].style.background="#a00"}}(A),5500+10*A.f)}catch(na){}A={f:A.f}}}for(m in cubes)k==cubes[m][0]&&f==cubes[m][1]&&0==n&&(V=1);for(m in emoji)"pC"!=W&&k==emoji[m][1]&&f==emoji[m][2]&&0==n&&(V=1);for(m in doors)top["d"+W+m]&&"do s"==top["d"+W+m].className&&2>=Math.hypot(k-doors[m][0],f-doors[m][1])&&(V=0);hitcube2=0;for(m=G-2;0<m;m--)q[t-m]==k&&w[t-m]==f&&E[t-m]==n&&(V=1,1==m&&(hitcube2=1));for(p in puzzles)puzzles[p][3]&&k>=puzzles[p][5]&&k<puzzles[p][5]+puzzles[p][0]&&(f==puzzles[p][6]-1&&w[t]==puzzles[p][6]&&!puzzles[p][2]||f==puzzles[p][6]&&w[t]==puzzles[p][6]-1)&&(V=1);if("pI"==W&&18==k&&!C){z=C=V=I=1;clearInterval(x);sa=ra;_=$=0;x=setInterval(ra.forward,250);y.lossst_s=1;y.lossst_S=G=5;for(k=0;21>k;k++)cubes.push([q[t-k],w[t-k]]),top["M"+k].id="",top["R"+k].id="",top["S"+k].id="",top["T"+k].id="";a.style.transition="2s";Ca();Y();a.style.transform="translateX(-105vh)translateY(-51vh)translateZ(80vh)rotateX(45deg)";a.style.transformOrigin="140vh 70vh";setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(0);F.push(F[t]);t++;Y()},3E3);setTimeout(function(){ii.innerHTML="Daddy!"},4E3);setTimeout(function(){ii.innerHTML=""},6E3);setTimeout(function(){ii.innerHTML="I lossst my soccer ball!"},7E3);setTimeout(function(){ii.innerHTML=""},9E3);setTimeout(function(){ii.innerHTML="But I found new moves!"},1E4);setTimeout(function(){ii.innerHTML="";z=I=0;clearInterval(x);a.style.transition="1s";Y();Ea();D&&(kT.className=kB.className="",y.lossst_B=1)},13500)}}function Da(){if(!Q&&null!==J){solved=1;H&&(ij.disabled=0);for(i=0;i<T;i++)for(j=0;j<T;j++)try{top["g"+K+i+j]&&(top["g"+K+i+j].style.background=L[i][j]?"#000":"#fff"),top["w"+K+i+j]&&(top["w"+K+i+j].style.background=M[i][j]?"#000":"#fff")}catch(m){}if(q[t]<R||q[t]>R+T-1||w[t]<S||w[t]>S+T-1||0>E[t]||E[t]>T-1)H&&(ij.disabled=1);else{for(i=0;i<G;i++){top["g"+K+(w[t-i]-S)+(q[t-i]-R)]&&(top["g"+K+(w[t-i]-S)+(q[t-i]-R)].style.background=L[w[t-i]-S][q[t-i]-R]?"#080":H?"#44c":"#f00");w[t-i]>=S&&w[t-i]<S+T&&top["w"+K+(T-1-E[t-i])+(q[t-i]-R)]&&(top["w"+K+(T-1-E[t-i])+(q[t-i]-R)].style.background=M[T-1-E[t-i]][q[t-i]-R]?"#080":H?"#44c":"#f00");if(q[t-i]<R||q[t-i]>R+T-1||w[t-i]<S||w[t-i]>S+T-1||E[t-i]>T-1)H&&(ij.disabled=1),solved=0;xa&&L[w[t-i]-S]&&!L[w[t-i]-S][q[t-i]-R]&&(solved=0);N&&M[T-1-E[t-i]]&&!M[T-1-E[t-i]][q[t-i]-R]&&(solved=0)}for(i=0;i<T;i++)for(j=0;j<T;j++){try{xa&&3==top["g"+K+i+j].style.backgroundColor.match(/0/g).length&&(solved=0)}catch(m){}try{N&&3==top["w"+K+i+j].style.backgroundColor.match(/0/g).length&&(solved=0)}catch(m){}}if(solved){Q=H?0:1;puzzles[J][2]=0;top["puzzle"+J].classList.remove("w");H||(y["lossst_p"+W+J]=1);for(i=0;i<T;i++)for(j=0;j<T;j++){try{top["g"+K+i+j].style.background=L[i][j]?"#44c":"#fd0"}catch(m){}try{top["w"+K+i+j].style.background=M[i][j]?"#44c":"#fd0"}catch(m){}}H||(ja(oa).play(),ya++,y.lossst_T=ya);var k=1,f={},n;for(n in cubes)f.b=n,cubes[f.b][0]>=puzzles[J][5]&&cubes[f.b][0]<puzzles[J][5]+puzzles[J][0]&&cubes[f.b][1]>=puzzles[J][6]&&cubes[f.b][1]<puzzles[J][6]+puzzles[J][0]&&(delete cubes[f.b],k++,setTimeout(function(f){return function(){top["cube"+f.b].remove()}}(f),200*k)),f={b:f.b}}}}}function Ea(){for(var k in apples)if(!y["lossst_A"+W+k]&&(0<apples[k][3]&&apples[k][3]==G||0<apples[k][4]&&apples[k][4]==ya)){I=1;D&&"px"==W&&1==k&&(kw.className="",y.lossst_b=1);var f=setTimeout;a.style.transform="translateX("+-apples[k][0]*v+"vh)translateY("+-apples[k][1]*v+"vh)translateZ(50vh)rotateX(35deg)";y["lossst_A"+W+k]=1;a.style.transformOrigin=""+apples[k][0]*v+"vh "+apples[k][1]*v+"vh";f(void 0,250);f=setTimeout;top["a"+k].className="j g";top["as"+k].className="e p";f(void 0,800);setTimeout(function(){ja(la).play()},850);setTimeout(function(){Y();z||(I=0)},2E3)}}function Fa(){U=0;H||(J=null);for(p in puzzles)q[t]>=puzzles[p][5]&&q[t]<puzzles[p][5]+puzzles[p][0]&&w[t]>=puzzles[p][6]&&w[t]<puzzles[p][6]+puzzles[p][0]&&0<=E[t]&&E[t]<puzzles[p][0]&&(J=+p,U=1)}onkeydown=function(k){top["lurd************************l**r************l*d***u**u"[k.which-37]]=1;18==k.which&&(B=1);16==k.which&&(s=1);17==k.which&&(c=1);if(!I){if(49==k.which||97==k.which)-1<g&&g--,ca();if(50==k.which||98==k.which)g=0,ca();if(51==k.which||99==k.which)1>g&&g++,ca()}Fa();U?Da():Aa=0;if(82==k.which&&U){if(Aa<=t)for(var f=Aa;f<=t;f++)q.pop(),w.pop(),E.pop(),F.pop(),setTimeout(function(){sa.back()},70*(t-f));t=Aa-1;Aa=0;Y();Da();y.lossst_M=++ua}else if(116!=k.which&&82!=k.which&&17!=k.which&&123!=k.which&&k.preventDefault&&k.preventDefault(),!I){V=0;if(l)!Q&&O&&U&&q[t]==R?(Z(R+T-1,w[t],E[t]),V||(q.push(R+T-1),w.push(w[t]),E.push(E[t]),F.push(Math.PI/2),t++)):(Z(q[t]-1,w[t],E[t]),V||(q.push(q[t]-1),w.push(w[t]),E.push(E[t]),F.push(Math.PI/2),t++));else if(r)!Q&&O&&U&&q[t]==R+T-1?(Z(R,w[t],E[t]),V||(q.push(R),w.push(w[t]),E.push(E[t]),F.push(-Math.PI/2),t++)):(Z(q[t]+1,w[t],E[t]),V||(q.push(q[t]+1),w.push(w[t]),E.push(E[t]),F.push(-Math.PI/2),t++));else if(u)!Q&&O&&U&&w[t]==S?(Z(q[t],S+T-1,E[t]),V||(q.push(q[t]),w.push(S+T-1),E.push(E[t]),F.push(Math.PI),t++)):(Z(q[t],w[t]-1,E[t]),V||(q.push(q[t]),w.push(w[t]-1),E.push(E[t]),F.push(Math.PI),t++));else if(d)!Q&&O&&U&&w[t]==S+T-1?(Z(q[t],S,E[t]),V||(q.push(q[t]),w.push(S),E.push(E[t]),F.push(0),t++)):(Z(q[t],w[t]+1,E[t]),V||(q.push(q[t]),w.push(w[t]+1),E.push(E[t]),F.push(0),t++));else if((C||N)&&s){if(!U){k=G-1;for(f in cubes)cubes[f][0]==q[t]&&cubes[f][1]==w[t]&&k++;if(E[t]==k)return}!Q&&O&&U&&E[t]==T-1?(Z(q[t],w[t],0),V||(q.push(q[t]),w.push(w[t]),E.push(0),F.push(F[t]),t++)):(Z(q[t],w[t],E[t]+1),V||(q.push(q[t]),w.push(w[t]),E.push(E[t]+1),F.push(F[t]),t++))}else(C||N)&&c?!Q&&O&&U&&0==E[t]?(Z(q[t],w[t],T-1),V||(q.push(q[t]),w.push(w[t]),E.push(T-1),F.push(F[t]),t++)):0==E[t]?V=1:(Z(q[t],w[t],E[t]-1),V||(q.push(q[t]),w.push(w[t]),E.push(E[t]-1),F.push(F[t]),t++)):B&&t>G&&(F.pop(),q.pop(),w.pop(),E.pop(),t--);V&&!I&&(I=1,setTimeout(function(){z||(I=0)},150),!(-1<q[t]&&q[t]<X&&-1<w[t]&&w[t]<h)||"pI"==W&&!C&&16<q[t]||hitcube2||ja(ma).play());if(!V&&!z&&(u||r||d||l||s||c||B)){y.lossst_M=++ua;Da();Y();B?t>G&&sa.back():(C||!s&&!c&&!C)&&sa.forward();Y(1);Ea();I||(I=1,setTimeout(function(){z||(I=0)},150));if("px"==W&&(C||14<=G)&&20==q[t]&&10==w[t]){I=1;var n=0;for(f=0;f<G;f++)setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(--n);F.push(F[t]);t++;Y()},150*f);setTimeout(function(){AA("pz",1)},160*G);y.lossst_x=20;y.lossst_y=10}Fa();U&&!Aa&&(Aa=t)}}};onkeyup=function(){u=r=d=l=s=c=B=0};onload=function(){1<location.hash.length?AA("py",1):(setTimeout(function(){x=setInterval(function(){sa.forward()},500)},200),b.innerHTML="<center id=e>\ud83d\udc40</center>\n<center id=iw></center>\n<div id=iv style=perspective:30vh>\n<center id=menu>\n<h1>LOSSST</h1>\n<span onclick=newgame()>New game</span><br>\n"+(y.lossst_a&&!y.lossst_E?"<span onclick=AA(0,1)>Continue</span><br>":"")+"\n<span onclick=AA(\"pz\",1)>Puzzle editor</span><br>\n<span onclick=top.open('//goo.gl/iKqoCS')>Bonus",newgame=function(){for(i in localStorage)0==i.indexOf("lossst")&&-1==i.indexOf("e")&&delete localStorage[i];y.lossst_a=1;menu.innerHTML="<br><br><span onclick=intro(0)>Desssktop</span><br><br><span onclick=intro(1)>Mobile"},intro=function(k){clearInterval(x);_=$=0;x=setInterval(sa.forward,250);y.lossst_m=D=k;y.lossst_S=G=5;ta=y.lossst_t=0;ua=y.lossst_M=0;y.lossst_M=0;y.lossst_t=0;menu.innerHTML="";setTimeout(function(){e.style.margin=0},500);dir=1;inter=setInterval(function(){e.style.opacity=0;setTimeout(function(){e.style.opacity=1;dir=-dir;e.style.transform="scaleX("+dir+")"},150)},3E3);setTimeout(function(){iw.innerHTML="I lossst my kid !"},2E3);setTimeout(function(){iw.innerHTML=""},5E3);setTimeout(function(){clearInterval(inter);e.style.margin="-80vh 0 0"},7E3);setTimeout(AA,7500)})};AA=function(k,f){if(0===k||"pz"==k)clearInterval(x),_=$=0;"pz"==k&&(H=1,J=0);W=k||y.lossst_p||"px";b.outerHTML="<body id=b class="+W+">\n<div id=iv>\n<div id=a style=transform:translateX(-97vh)translateY(-50vh)rotateZ(90deg)translateZ(119vh);transform-origin:100vh+50vh>\n<div id=ig>"+(H?"<div class=t style=width:60vh;transform:translateX(70vh)translateY(1vh)translateZ(2vh)rotateX(-42deg)>\n<label style=width:100%;text-align:center>Create a pattern with the snake and share it !</label>\n<br style=line-height:6vh>\n<div style=text-align:left;padding-left:5vh>\n<label>Grid</label> <input id=ib type=range value=5 min=3 max=8 step=1>\n<span id=gridval>5</span>\n<br>\n<label>Snake</label> <input id=iq type=range value=5 min=5 max=40 step=1>\n<span id=it>5</span>\n</div>\n<input type=checkbox id=ik checked> <label for=ik id=im>ground</label>\n"+(y.lossst_e||y.lossst_s&&6<y.lossst_S?"<input type=checkbox id=wall> <label for=wall>wall</label>":"")+"\n"+(y.lossst_e||y.lossst_s?"<input type=checkbox id=wrap> <label for=wrap>wrap</label>":"")+"\n<br>\n<center>\n<button id=ij disabled>Share</button>\n</center>\n</div>":"")+"\n</div>\n<div id=ih></div>\n<div id=ie></div>\n<div id=ia></div>\n</div>\n</div>\n<center id=iz style='font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw'>\n<button id=kU class=h ontouchstart=TS(38) ontouchend=TE(38)>\u2191</button>\n<button id=kD class=h ontouchstart=TS(40) ontouchend=TE(40)>\u2193</button>\n<button id=kL class=h ontouchstart=TS(37) ontouchend=TE(37)>\u2190</button>\n<button id=kR class=h ontouchstart=TS(39) ontouchend=TE(39)>\u2192</button>\n<button id=kT class=h ontouchstart=TS(16) ontouchend=TE(16)>\u2b06\ufe0e</button>\n<button id=kB class=h ontouchstart=TS(17) ontouchend=TE(17)>\u2b07\ufe0e</button>\n<button id=kw class=h ontouchstart=TS(18) ontouchend=TE(18)>\u21a9</button>\n<button id=kx class=h ontouchstart=TS(82) ontouchend=TE(82)>\u00d7</button>\n<button id=ky class=h ontouchstart=TS(49) ontouchend=TE(49)>\u21bb</button>\n<button id=kz class=h ontouchstart=TS(51) ontouchend=TE(51)>\u21ba</button>\n</center>\n<center id=ii style='font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw'>";y.lossst_Apx0=1;Ba();if(D&&"py"==W||y.lossst_w)kU.className=kD.className=kL.className=kR.className="";if(D&&"py"==W||y.lossst_b)kw.className="";if(D&&"py"==W||y.lossst_r)kr.className="";if(D&&"py"==W||y.lossst_B)kT.className="",kB.className="";if(D&&"py"==W||y.lossst_c)ky.className="",kz.className="";H||(va=setInterval(function(){y.lossst_t=++ta},1E3));f&&(b.innerHTML+="<div style='position:fixed;font:8vh a;top:3vh;right:3vh'onclick=location='.'>\u00d7")}</script><style>@keyframes move{0%,100%{transform:rotateY(-10deg)}50%{transform:rotateY(10deg)}}*{margin:0;padding:0;font:2.5vh/5.5vh arial,sans-serif;vertical-align:middle;box-sizing:border-box;-webkit-touch-callout:none;-webkit-user-select:none;-webkit-tap-highlight-color:transparent;user-select:none;cursor:pointer;touch-action:manipulation}html,body{height:100%;background:#000;overflow:hidden;background:radial-gradient(#def 25%,#7ce)}a{color:#def}input,button{position:relative;z-index:2}input[type=range]::-webkit-slider-runnable-track,input[type=range]::-webkit-slider-thumb{background:#888;border:1px solid #000}input[type=range]::-moz-range-track,input[type=range]::-moz-range-thumb{background:#888;border:1px solid #000}#iv{width:0;height:0;perspective:120vh;position:absolute;top:50%;left:50%}#iv *{transform-style:preserve-3d}#a{width:0;height:0;transform-origin:18vh 0%;transition:transform 1s,transform-origin 1s}.z{position:fixed;top:0;left:0}.z>div{width:100%;height:100%;position:fixed}.z .u{transform:rotateY(90deg)translateX(-100%)rotateY(-90deg)}.z .l{transform:rotateX(-90deg)translateY(-50%)translateX(-50%)rotateY(-90deg)}.z .r{transform:rotateX(-90deg)translateY(-50%)translateX(50%)rotateY(90deg)}.z .f{transform:translateY(50%)rotateX(-90deg)translateY(-50%)}.z .b{transform:translateY(-50%)rotateX(-90deg)translateY(-50%)rotateY(180deg)}.z.q{width:32vh;height:32vh;transform:none}.z.q>div{background:transparent}.z.q .b{transition:opacity .5s;transform:translateY(-50%)rotateX(-90deg)translateY(-52%)}.z.q.w .d,.z.q .d{transition:opacity .5s;background:#0c5b0c}.sm,.sr{transform-origin:50% 50%;width:100%;height:100%;position:fixed}.sm{transition:transform .15s}.z.k{width:100%;height:100%}.z.k>div{box-shadow:0 0 0 .1vh #000 inset;text-align:center}.z.k .f{line-height:3vh}#ie .z.k>div{background:#FFA500}#ie .z.k .u{background:#dF8500}#ia .z.k>div,#a.haswall .z.k>div{background:#444}#ia .z.k .u,#a.haswall .z.k .u{background:#333}#ia .z.k .f{color:#fff}.ss{position:fixed;width:100%;height:100%;background:rgba(0,0,0,.25);transform:translateX(14%)translateY(14%)translateZ(-.25vh)}label{display:inline-block;width:22%}button{display:inline-block;width:23%;border:.2vh solid #000;margin:1vh 2% 0 0}input[type=range]{width:60%}#form{width:50vh;margin:auto}.o{float:left;outline:.4vh solid #888;opacity:0;transition:opacity .5s;background:#fff}.z.q.v{transform:translateZ(.1vh)}.z.q.v .o{opacity:1}.z.q.v .d{transform:none}.z.q.w>div{background:linear-gradient(45deg,rgba(200,200,200,.1),rgba(200,200,200,.3));box-shadow:0 0 .1vh rgba(255,255,255,.5)}.j{position:fixed;transform-origin:50% 100%;bottom:0}.m{animation:move 3s infinite}.e{color:rgba(0,0,0,.002);text-shadow:0px 0px rgba(0,0,0,.25);position:fixed;transform-origin:50% 100%;bottom:0}.tr,.h{font:11vh/12vh a}.a .tr{font:15vh/11vh a}.a .h,.c .h,.i .h,.a .p,.c .p,.i .p,.c .x.b,#iz button.h{display:none}.g,.g *,.p{font:4vh/5vh a;transition:opacity .5s .5s}.n,.n *{font:5vh/6vh a}.g.h,.p.h{opacity:0}.a .g{font:6vh/5vh a}.do{position:fixed;transform-origin:0% 100%;width:0;height:0}.do .y{position:fixed;width:15vh;height:20vh;background:radial-gradient(2vh at 90% 50%,gold 35%,transparent 40%),#a22;border-radius:1vh 1vh 0 0;transform-origin:0% 100%;transform:translateX(-7.5vh)translateY(-12.5vh)rotateX(-90deg);text-align:center;font-size:6vh;line-height:12vh;color:#fff;transition:transform 1s}.do .y.d1{background:radial-gradient(2vh at 90% 50%,gold 35%,transparent 40%),#222}.do.s .y{transform:translateX(-7.5vh)translateY(-12.5vh)rotateX(-90deg)rotateY(90deg)}.z.x div{background:linear-gradient(45deg,#640,#583808)}.z.x div.u{transform:rotateY(90deg)translateX(-5.4vh)translateZ(-.1vh)rotateY(-90deg);background:radial-gradient(#3F7D1F,#034301);background-size:280vh 140vh;width:5.3vh;height:5.3vh}.t{position:fixed;background:#fff;padding:.7vh;width:20vh;font:2vh/2.5vh arial,sans-serif;transform-origin:50% 100%;text-align:center;box-shadow:0 0 0 .2vh #000 inset;bottom:0}.t br{font:0/0 a}.t:before{content:"";width:3vh;height:3vh;background:#750;position:absolute;bottom:-3vh;left:8vh;border-left:.2vh solid;border-right:.2vh solid}.pz .t:before{left:28vh}label{text-align:left}#a{transition:transform 6s ease-in,transform-origin 6s ease-in;width:280vh;height:140vh;background:radial-gradient(#4F8D2F,#136321);border-radius:3vh}.px #a,.pI #a{background:radial-gradient(10vh at 51.3% 52%,#000 40%,transparent 50%),radial-gradient(15vh at 51.3% 52%,#640 40%,transparent 50%),radial-gradient(#4F8D2F,#136321)}#e{margin:99vh 0 0;transition:margin 1s;font:10vh/80vh a}#iw{font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw}#menu{color:#fff;width:55vh;transform:translateX(-27vh)translateY(-20vh)rotateX(-17deg)}#menu span{font:7vh/12vh arial,sans-serif}#menu h1{font:13vh/16vh arial,sans-serif;text-shadow:.1vh -.1vh #777,.2vh -.2vh #777,.3vh -.3vh #777}#menu span:hover{color:#ace;transform:rotateX(-10deg)}.pN #menu span:hover{color:#fff}#iz button{position:fixed;width:10vh;height:10vh;text-align:center;font:6vh/10vh a}#kU{right:14vh;bottom:14vh}#kD{right:14vh;bottom:2vh}#kL{right:26vh;bottom:2vh}#kR{right:2vh;bottom:2vh}#kT{left:2vh;top:2vh}#kB{left:2vh;top:14vh}#kw{bottom:2vh;left:2vh}#kx{bottom:14vh;left:2vh}#ky{top:2vh;right:18vh}#kz{top:2vh;right:6vh}#hpx0{opacity:0;transition:opacity .5s}</style></head><head></head><body id="b" class="pC">
<div id="iv">
<div id="a" style="transform: translateX(-195vh) translateY(-50vh) translateZ(45vh) rotateX(40deg) rotateZ(0rad); transform-origin: 195vh 50vh 0px; width: 200vh; height: 100vh; transition: transform 1s, transform-origin 1s;">
<div id="ig"><div id="tree0" class="j tr" style="left:175vh;transform:translateX(-7vh)translateY(44vh)rotateX(-70deg)">🌳</div><div id="treeshadow0" class="e h" style="left:175vh;transform:translateX(-7.5vh)translateY(43.5vh)rotateZ(144deg)scaleY(1.5)">🌳</div><div id="a0" class="j g h" style="left:170vh;transform:translateY(59vh)rotateX(-65deg)"><div class="m">🍎</div></div><div id="as0" class="e p h" style="left:170vh;transform:scaleX(-1)translateY(58vh)rotateZ(212deg)">🍎</div><div class="j n" style="left:144vh;transform:translateY(69vh)rotateX(-65deg)"><div class="m">🦋<br><br></div></div><div id="dpC0" class="do s" style="left:207.5vh;top:52.5vh;transform:rotateZ(1.5707963267948966rad)translateZ(0vh)"><div class="y d0" hidden="">8</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh"></div></div><div id="dpC1" class="do" style="left:112.5vh;top:-7.5vh;transform:rotateZ(0rad)translateZ(0vh)"><div class="y d0">14</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh"></div></div><div id="cube0" class="z x" style="left:145vh;top:25vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-445vh -165vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube1" class="z x" style="left:150vh;top:40vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-450vh -180vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube2" class="z x" style="left:85vh;top:30vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-385vh -170vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube3" class="z x" style="left:75vh;top:20vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-375vh -160vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube4" class="z x" style="left:75vh;top:35vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-375vh -175vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube5" class="z x" style="left:145vh;top:65vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-445vh -205vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube6" class="z x" style="left:150vh;top:65vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-450vh -205vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube7" class="z x" style="left:150vh;top:70vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-450vh -210vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube8" class="z x" style="left:90vh;top:75vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-390vh -215vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube9" class="z x" style="left:80vh;top:75vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-380vh -215vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube10" class="z x" style="left:30vh;top:65vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-330vh -205vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube11" class="z x" style="left:30vh;top:85vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-330vh -225vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube12" class="z x" style="left:35vh;top:40vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-335vh -180vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube13" class="z x" style="left:30vh;top:40vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-330vh -180vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube14" class="z x" style="left:25vh;top:40vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-325vh -180vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube15" class="z x" style="left:15vh;top:35vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-315vh -175vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube16" class="z x" style="left:15vh;top:40vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-315vh -180vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube17" class="z x" style="left:35vh;top:30vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-335vh -170vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube18" class="z x" style="left:35vh;top:25vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-335vh -165vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="hpC0" class="t" style="left:110vh;transform:translateY(60vh)translateZ(0vh)rotateX(-70deg)translateY(-4vh)">↑<br>After this room, you can try a puzzle editor and a new kind of puzzles !</div></div>
<div id="ih"><div id="puzzle0" class="z q v " style="left:10vh;top:15vh;width:35vh;height:35vh"><div id="D0" class="d"><div class="o" id="g000" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g001" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g002" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g003" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g004" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g005" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g006" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g010" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g011" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g012" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g013" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g014" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g015" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g016" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g020" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g021" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g022" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g023" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g024" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g025" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g026" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g030" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g031" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g032" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g033" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g034" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g035" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g036" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g040" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g041" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g042" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g043" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g044" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g045" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g046" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g050" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g051" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g052" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g053" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g054" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g055" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g056" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g060" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g061" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g062" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g063" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g064" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g065" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g066" style="width:5vh;height:5vh;background:#fff"></div></div><div id="B0" class="b"></div></div><div id="puzzle1" class="z q v " style="left:130vh;top:15vh;width:35vh;height:35vh"><div id="D1" class="d"><div class="o" id="g100" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g101" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g102" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g103" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g104" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g105" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g106" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g110" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g111" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g112" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g113" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g114" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g115" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g116" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g120" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g121" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g122" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g123" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g124" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g125" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g126" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g130" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g131" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g132" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g133" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g134" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g135" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g136" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g140" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g141" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g142" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g143" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g144" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g145" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g146" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g150" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g151" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g152" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g153" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g154" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g155" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g156" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g160" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g161" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g162" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g163" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g164" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g165" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g166" style="width:5vh;height:5vh;background:#fff"></div></div><div id="B1" class="b"></div></div><div id="puzzle2" class="z q v " style="left:70vh;top:15vh;width:30vh;height:30vh"><div id="D2" class="d"><div class="o" id="g200" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g201" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g202" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g203" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g204" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g205" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g210" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g211" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g212" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g213" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g214" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g215" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g220" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g221" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g222" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g223" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g224" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g225" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g230" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g231" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g232" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g233" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g234" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g235" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g240" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g241" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g242" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g243" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g244" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g245" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g250" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g251" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g252" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g253" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g254" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g255" style="width:5vh;height:5vh;background:#fff"></div></div><div id="B2" class="b"></div></div><div id="puzzle3" class="z q v " style="left:10vh;top:60vh;width:35vh;height:35vh"><div id="D3" class="d"><div class="o" id="g300" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g301" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g302" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g303" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g304" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g305" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g306" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g310" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g311" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g312" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g313" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g314" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g315" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g316" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g320" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g321" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g322" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g323" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g324" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g325" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g326" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g330" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g331" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g332" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g333" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g334" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g335" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g336" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g340" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g341" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g342" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g343" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g344" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g345" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g346" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g350" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g351" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g352" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g353" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g354" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g355" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g356" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g360" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g361" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g362" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g363" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g364" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g365" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g366" style="width:5vh;height:5vh;background:#fff"></div></div><div id="B3" class="b"></div></div><div id="puzzle4" class="z q v " style="left:70vh;top:60vh;width:35vh;height:35vh"><div id="D4" class="d"><div class="o" id="g400" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g401" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g402" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g403" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g404" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g405" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g406" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g410" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g411" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g412" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g413" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g414" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g415" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g416" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g420" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g421" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g422" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g423" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g424" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g425" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g426" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g430" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g431" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g432" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g433" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g434" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g435" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g436" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g440" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g441" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g442" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g443" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g444" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g445" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g446" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g450" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g451" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g452" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g453" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g454" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g455" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g456" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g460" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g461" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g462" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g463" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g464" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g465" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g466" style="width:5vh;height:5vh;background:#fff"></div></div><div id="B4" class="b"></div></div><div id="puzzle5" class="z q v " style="left:130vh;top:60vh;width:30vh;height:30vh"><div id="D5" class="d"><div class="o" id="g500" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g501" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g502" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g503" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g504" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g505" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g510" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g511" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g512" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g513" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g514" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g515" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g520" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g521" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g522" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g523" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g524" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g525" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g530" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g531" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g532" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g533" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g534" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g535" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g540" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g541" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g542" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g543" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g544" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g545" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g550" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g551" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g552" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g553" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g554" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g555" style="width:5vh;height:5vh;background:#fff"></div></div><div id="B5" class="b"></div></div></div>
<div id="ie"><div id="M0" class="sm" style="transform: translateX(195.25vh) translateY(50vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S0"></div><div id="R0" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T0"><div style="background:none;box-shadow:none;color:red;font-size:4vh;text-align:center;transform:rotateZ(180deg)translateY(-4vh)translateZ(1.5vh)">Y</div><div class="u" style="font:2.5vh/4vh a">👀</div><div class="f">‿</div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M1" class="sm" style="transform: translateX(200.25vh) translateY(50vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S1"></div><div id="R1" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T1"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M2" class="sm" style="transform: translateX(205.25vh) translateY(50vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S2"></div><div id="R2" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T2"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M3" class="sm" style="transform: translateX(210.25vh) translateY(50vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S3"></div><div id="R3" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T3"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M4" class="sm" style="transform: translateX(215.25vh) translateY(50vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S4"></div><div id="R4" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T4"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M5" class="sm" style="transform: translateX(220.25vh) translateY(50vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S5"></div><div id="R5" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T5"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M6" class="sm" style="transform: translateX(225.25vh) translateY(50vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S6"></div><div id="R6" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T6"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M7" class="sm" style="transform: translateX(230.25vh) translateY(50vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S7"></div><div id="R7" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T7"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M8" class="sm" style="transform: translateX(235.25vh) translateY(50vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S8"></div><div id="R8" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T8"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M9" class="sm" style="transform: translateX(240.25vh) translateY(50vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S9"></div><div id="R9" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T9"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M10" class="sm" style="transform: translateX(245.25vh) translateY(50vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S10"></div><div id="R10" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T10"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M11" class="sm" style="transform: translateX(250.25vh) translateY(50vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S11"></div><div id="R11" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T11"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M12" class="sm" style="transform: translateX(255.25vh) translateY(50vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S12"></div><div id="R12" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T12"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M13" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S13"></div><div id="R13" class="sr"><div class="z k" id="T13"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M14" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S14"></div><div id="R14" class="sr"><div class="z k" id="T14"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M15" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S15"></div><div id="R15" class="sr"><div class="z k" id="T15"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M16" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S16"></div><div id="R16" class="sr"><div class="z k" id="T16"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div></div>
<div id="ia"></div>
</div>
</div>
<center id="iz" style="font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw">
<button id="kU" class="h" ontouchstart="TS(38)" ontouchend="TE(38)">↑</button>
<button id="kD" class="h" ontouchstart="TS(40)" ontouchend="TE(40)">↓</button>
<button id="kL" class="h" ontouchstart="TS(37)" ontouchend="TE(37)">←</button>
<button id="kR" class="h" ontouchstart="TS(39)" ontouchend="TE(39)">→</button>
<button id="kT" class="h" ontouchstart="TS(16)" ontouchend="TE(16)">⬆︎</button>
<button id="kB" class="h" ontouchstart="TS(17)" ontouchend="TE(17)">⬇︎</button>
<button id="kw" class="h" ontouchstart="TS(18)" ontouchend="TE(18)">↩</button>
<button id="kx" class="h" ontouchstart="TS(82)" ontouchend="TE(82)">×</button>
<button id="ky" class="h" ontouchstart="TS(49)" ontouchend="TE(49)">↻</button>
<button id="kz" class="h" ontouchstart="TS(51)" ontouchend="TE(51)">↺</button>
</center>
<center id="ii" style="font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw"></center><div style="position:fixed;font:8vh a;top:3vh;right:3vh" onclick="location='index.html'">×</div></body></html><html><head><title>LOSSST</title><meta content="width=device-width,user-scalable=no" name="viewport"><script>u=r=d=l=s=c=B=0;trees=[];apples=[];doors=[];cubes=[];hints=[];emoji=[];puzzles=[];TS=function(k){ba[k]&&clearInterval(ba[k]);onkeydown({which:"+n+"});ba[k]=setInterval(function(){onkeydown({which:k})},150)};TE=function(k){setTimeout(function(){clearInterval(ba[k]);onkeyup()},150)};var g=0;function ca(){a.style.transform="translateX(-"+q[t]*v+"vh)translateY(-"+w[t]*v+"vh)translateZ(45vh)rotateX(40deg)rotateZ("+g+"rad)"}var x=$=_=0;function da(){var k=0;this.i=function(f){k+=f/48E3*Math.PI*2;return k%=2*Math.PI}}function fa(k){var f=new da,n=new da,m=.1;this.i=function(){if(!k)return 0;var A=k+.4*Math.sin(n.i(3));A=440*Math.pow(2,(A-57)/12);m*=.9998;A=f.i(A);return Math.pow(Math.sin(A),1)*m}}function ha(k){function f(){var f=k.length/2;for(_=$;0>_;)_+=f;_%=f;f=new fa(k[2*_+0].charCodeAt(0)-48);for(var A=new fa(k[2*_+1].charCodeAt(0)-48),P=[],aa=0;48E3>aa;aa++){var ea=f.i(),na=A.i(),za=.5*ea+na;P.push(ea+.5*na);P.push(za)}n(P).play()}function n(f){function k(f){f=m(f);return f[0]+f[1]}function m(f){for(var k=0,m="",n=0;4>n;n++,k+=8)m+=String.fromCharCode(f>>k&255);return m}var n=2*f.length;n="RIFF"+m(n+36)+"WAVEfmt "+m(16)+k(1)+k(2)+m(48E3)+m(192E3)+k(4)+k(16)+"data"+m(n);for(var ea in f)n+=k(32767*f[ea]);return new Audio("data:audio/wav;base64,"+btoa(n))}$=-1;this.forward=function(){$++;f()};this.back=function(){$--;f()}}function ja(k){function f(f){f=n(f);return f[0]+f[1]}function n(f){for(var k=0,m="",n=0;4>n;n++,k+=8)m+=String.fromCharCode(f>>k&255);return m}for(var m=[],A=0;;A++){var P=k(A);if(null===P)break;m.push(P)}k=2*m.length;k="RIFF"+n(k+36)+"WAVEfmt "+n(16)+f(1)+f(1)+n(48E3)+n(96E3)+f(2)+f(16)+"data"+n(k);for(A in m)k+=f(1E4*m[A]);return new Audio("data:audio/wav;base64,"+btoa(k))}function ka(k){return 1E4<k?null:(Math.pow(k,1.055)&128?1:-1)*Math.pow((1E4-k)/1E4,2)/2}function la(k){return 25E3<k?null:((k^k>>3^k*k*7.3^k<<4)&65535)/65536*((25E3-k)/25E3)/2}function ma(k){return 5E3<k?null:(Math.pow(k+1E3*Math.sin(.01*k),.8)&200?.5:-.5)*Math.pow((5E3-k)/5E3,1)/2}function oa(k){if(16E3<k)return null;var f=Math.pow((16E3-k)/16E3,2.1)/2;return(k<16E3/7?k+10*Math.sin(-k/900)&16:k&13)?f:-f}function pa(k){return 9E4<k?null:(Math.pow(k+1E3*Math.sin(.01*k),.8)&200?.5:-.5)*Math.pow((9E4-k)/9E4,1)/4}var qa=new ha("nbo0risiubv0uisirbs0ui0i0b0c0f0gniojrlsjuivjymvjubv0ui0i0j0m0n0rsgu0vnxnzgx0vnunsg0n0o0n0g0s0o0nrisjulvgufsjufscrbo0ni0j0b0i0j0il`n0ogqgs`u0vgxgz`0gxl0nsouqvsxuuev0u`0`0eq0slulqcs0qcs0qbs0q`s0njo0reseujv0xeveuj0v0e0q0j0i0g0e0cu0scq00bv0ufr0sgn0vbr0xiz0zjr0sgu0vbx0zgx0vbubsg{0zb{`z^{0zi{fzgv0xiu0vjs0ulr0sbn0oll0nbl0jfi0g00bxc0`zb0^{`0]z^0[z]0Zz[0]z^0`zb0]uf0bxi0f{l0izr0ozn0ixr0nrulrnbo0risiufs0r`o0nb0czf0gzi0gzf0cub0i0j0mvn0m0j0irbscrbs`rbs`sbrbo`q0sgugv`x0zg{gz`s0x`s0v`x0vcx0ues0q`l00eu00`x00ev00`u00eq00`o`"),ra=new ha("p0r0sdk0rco0pdk0p0r0sdw0rcs0pdk0p0r0sdk0rck0pdk0p0r0sdw0rcs0pd0f0g0iwg0bwgx0wgurrnspur0bufwgubs0pkrcsdk0rco0pkk0p0r0sdk0rco0pk0l0k0iwg0b0k0g0n0kzs0nxi0f|l0izr0p0n0lwk0dwg0k0p0k|s0pur0kuo0k0i0l0k0isd0krj0kpd0k0p0rsd0krl0opd0f0g0iskw0riw0pgw0nfw0u`s0rbs0pd0k"),y=localStorage,z=0,C=+y.lossst_s||0,sa=C?ra:qa,D=+y.lossst_m||0,ta=+y.lossst_t||0,ua=+y.lossst_M||0,va=0,ba=[],wa=0,v=5,t=0,q=[],w=[],E=[],F=[],G=y.lossst_S=+y.lossst_S||5,H=0,I=0,J=null,K="0",L=[],M=[],xa=0,N=0,O=0,Q=0,R=0,S=0,T=0,ya=+y.lossst_T||0,Aa=0,U=0,V=0,W="",X=h=0;function Ba(){var k;navigator.userAgent.match(/Mac/)&&(iv.className="a");navigator.userAgent.match(/Fire|Edg/)&&(iv.className+=" c",wa=4E3);D&&(iv.className+=" i");b.className=W;C&&!H&&(ie.innerHTML="");cubes=[];doors=[];trees=[];apples=[];hints=[];emoji=[];if("pz"==W)X=40,h=20,puzzles=[[5,,1,,"0000000000000000000000000",16,9]],G=5,C=0;else if("py"==W)h=X=20,puzzles=[eval("["+location.hash.slice(1).replace(/[01]{2,}/g,'"$&"')+"]")],G=puzzles[0][1],puzzles[0][5]=puzzles[0][6]=8,C=!!puzzles[0][3],hints=[["Move: arrow keys<br>"+(C?"Up/Down: "+(D?"\u2b06\ufe0e/\u2b07\ufe0e":"Shift/Ctrl")+"<br>":"")+"backtrack: "+(D?"\u21a9":"Alt")+"<br>Reset: R",1,5,1,0,C,0]],delete y.lossst_ppy0;else if("px"==W){X=40;h=20;trees=[[13,9,0],[7,13,0],[35,8,0]];apples=[[11,11,0,0,0],[2,12,0,6,0],[38,10,0,7,0]];doors=[[41,10,Math.PI/2,8,0,"pA",1,0,10,0,0],[20,-2,0,14,0,"pD",1,10,19,0,0],[-2,11,-Math.PI/2,6,0,"pJ",1,14,5,1,1],[20,21,Math.PI,14,0,"pC",1,22,1,0,0],[5,21,Math.PI,5,0,"pI",1,36,1,0,1]];puzzles=[];cubes=[];for(f=9;15>f;f++)for(m=0;5>m;m++)2==m&&14==f||2==m&&13==f||3==m&&13==f||3==m&&12==f||2==m&&12==f||cubes.push([m,f]);hints=[["Move with<br>arrow keys"+(D?"":" or WASD/ZQSD"),19,5,0,13,0],["Use the "+(D?"\u21a9":"Alt")+" key to backtrack",1,9,0,13,0,1],["Approach red doors with the right length to open them",35,14,0,13,0],["\u2191<br>New puzzles !<hr>Puzzle editor<br>\u2193",19,8,14,0,0],["\u2190<br>New puzzles !",1,9,6,7,1,1]];emoji=[["\ud83d\udc3f\ufe0f",30,7],["\ud83c\udf30\ufe0f",29,7]]}else if("pA"==W)X=40,h=20,trees=[[35,15,0]],apples=[[33,16,0,0,6],[34,17,0,0,6],[37,15,0,0,6]],cubes=[],doors=[[-2,10,-Math.PI/2,8,0,"px",0,39,11,0,0],[35,21,Math.PI,11,0,"pB",1,35,1,0,0]],puzzles=[[6,,0,,"000000001000001110001110001000000000",2,3],[6,,0,,"000000011000011100010000011000000000",14,3],[6,,0,,"000000000100001100011000011100000000",26,3],[5,,0,,"0000001110011100110000000",2,13],[6,,0,,"000000011000011000001100001100000000",14,13],[6,,0,,"000000000100001100001110001100000000",26,13]],hints=[["Cover the black patterns to solve puzzles",9,9,1,0],["Solve all the puzzles in the room to unlock a new door",21,9,1,0],["Your progress is saved automatically",34,9,1,0]],emoji=[["\ud83d\udc0c",11,10]];else if("pB"==W)D&&(kx.className="",y.lossst_r=1),X=40,h=20,trees=[[4,7,0]],apples=[[1,8,0,0,12],[2,9,0,0,12]],doors=[[35,-2,0,8,0,"pA",0,35,19,0,0],[-2,10,-Math.PI/2,13,0,"pC",1,39,10,0,0]],puzzles=[[6,,0,,"000000011110011010011110000000000000",8,2],[7,,0,,"0000000001110000111000001100000110000010000000000",18,2],[6,,0,,"000000011000011110001010001110000000",28,2],[6,,0,,"000000011100001110001110001100000000",8,12],[6,,0,,"000000001110001110001110001010000000",18,12],[6,,0,,"000000011110011110001100001000000000",28,12]],hints=[["If you get stuck, "+(D?"click \u00d7":"press R")+" to exit a puzzle",35,11,1,0]],cubes=[[11,4],[21,16]],emoji=[["\ud83d\udc08",4,14]];else if("pC"==W)X=40,h=20,trees=[[35,8,0]],apples=[[34,11,0,0,18]],doors=[[41,10,Math.PI/2,8,0,"pB",0,1,10,0,0],[22,-2,0,14,0,"px",1,20,19,0,0]],puzzles=[[7,,0,,"0000000000000001111000111100001111000100000000000",2,3],[7,,0,,"0000000001110000101000011100001110000110000000000",26,3],[6,,0,,"000000001110011110011010001110000000",14,3],[7,,0,,"0000000001100000111000011100001110000110000000000",2,12],[7,,0,,"0000000000000001111100101010011111000000000000000",14,12],[6,,0,,"000000011000011100011110011110000000",26,12]],hints=[["\u2191<br>After this room, you can try a puzzle editor and a new kind of puzzles !",22,11,13,0,0]],cubes=[[29,5],[30,8],[17,6],[15,4],[15,7],[29,13],[30,13],[30,14],[18,15],[16,15],[6,13],[6,17],[7,8],[6,8],[5,8],[3,7],[3,8],[7,6],[7,5]],emoji=[["\ud83e\udd8b<br><br>",29,13]];else if("pD"==W){h=X=20;trees=[[10,2,0]];doors=[[10,21,Math.PI,14,0,"px",0,20,0,0,0],[-2,5,-Math.PI/2,14,0,"pE",0,24,12,0,0]];puzzles=[[7,,1,,"0100010011111000000000000000000000001111100100010",7,7]];hints=[["Now you're thinking with wraps !",2,2,0,14,0]];for(f=0;20>f;f++)cubes.push([f,10]);emoji=[["\ud83d\udc10",12,2]]}else if("pE"==W)h=X=25,trees=[[5,12,0]],apples=[[4,14,0,0,23]],doors=[[26,12,Math.PI/2,14,0,"pD",0,0,5,0,0],[-2,12,-Math.PI/2,15,0,"pF",1,79,5,0,0]],puzzles=[[7,,1,,"1000001000000000000000010100011011011000111000001",3,3],[6,,1,,"110011100001000000100001100001110011",15,17],[5,,1,,"1100111001100011001110011",16,4],[6,,1,,"000011000011110001110001000011000011",3,17]],hints=[["Reminder:<br>use "+(D?"\u21a9":"Alt")+" to backtrack,<br>"+(D?"\u00d7":"R")+" to exit a puzzle.",11,14,1,0,0]],emoji=[["\ud83d\udc12",12,20]];else if("pF"==W)X=80,h=20,trees=[[35,10,0]],apples=[[38,11,0,0,35]],doors=[[81,5,Math.PI/2,15,0,"pE",0,0,12,0,0],[-2,15,-Math.PI/2,16,0,"pG",1,19,5,0,0]],puzzles=[[5,,1,,"0111101001010110100011111",59,13],[5,,1,,"1111011000111100001011110",48,13],[5,,1,,"1111101000011110111001100",37,13],[5,,1,,"1111110000111001000011111",26,13],[5,,1,,"1100101101001110011101101",15,13],[5,,1,,"1111100001110010000111111",59,2],[5,,1,,"1000110111100011000111111",48,2],[5,,1,,"1000110101101011111110001",37,2],[5,,1,,"1111110001000110000111111",26,2],[5,,1,,"0111101100011100011011110",15,2],[5,,1,,"1111101111001110001100001",4,8],[5,,1,,"1010100101111010000111111",71,8]],hints=[["This room hides a surprise !",72,2,0,15,0],["\u2190<br>Exit",38,9,16,0,0]],cubes=[],emoji=[];else if("pG"==W)X=20,h=30,trees=[[5,25,0]],apples=[[4,24,0,0,37],[7,25,0,0,37],[2,26,0,0,37],[3,28,0,0,37]],doors=[[21,5,Math.PI/2,16,0,"pF",0,1,15,0,0],[10,31,Math.PI,20,0,"pH",1,10,1,0,0]],puzzles=[[6,,1,,"001000001110111111011100011000001000",7,6],[6,,1,,"110001100001000111000111100001110001",7,18]],emoji=[["\ud83d\udc01",9,14]];else if("pH"==W)X=20,h=30,trees=[[16,22]],apples=[[18,22,0,0,39]],doors=[[10,-2,0,18,0,"pG",0,10,29,0,0],[21,25,Math.PI/2,21,0,"pI",1,1,10,0,0]],puzzles=[[6,,1,,"001000011110111111011110011110001000",7,6],[6,,1,,"110001100001000011000111001111111111",7,18]],emoji=[["\ud83e\udd86",9,14]];else if("pI"==W){X=40;h=20;apples=[[38,2,0,5,0]];doors=[[-2,10,-Math.PI/2,1,0,"pH",0,19,25,0,0],[36,-2,0,6,0,"px",1,5,19,0,1]];puzzles=[];hints=[["Guess what, you finished the first half of the game !",5,9,1,0],["You can now move up and down with "+(D?"\u2b06\ufe0e and \u2b07\ufe0e":"Shift and Ctrl keys")+", and open black doors",30,11,1,0]];for(f=0;9>f;f++)cubes.push([30,f]);for(f=30;40>f;f++)cubes.push([f,8]);emoji=[["\ud83d\udc22",13,14]];trees=[[3,1],[15,2],[36,3],[26,5],[25,15],[33,9],[10,12],[36,14],[3,15]]}else"pJ"==W?(X=15,h=70,trees=[[2,62]],apples=[[2,65,0,0,47],[1,66,0,0,47]],doors=[[16,5,Math.PI/2,6,0,"px",0,1,11,0,1],[-2,65,-Math.PI/2,8,0,"pK",1,19,65,0,1]],puzzles=[[5,,0,"0000000000000000000001110",,2,2],[4,,0,"0000000001000110",,4,11],[5,,0,"0000000000000000101001110",,6,20],[5,,0,"0000000000000000111000100",,8,29],[4,,0,"0000000001100110","0000011001100000",2,38],[4,,0,"0000010001100100","0000011001100000",4,47],[4,,0,"0000011001000100","0000010001100000",6,56],[4,,0,"0000000001100110","0100011000100000",8,65]],hints=[["You now have to match the patterns on the walls...",10,2,1,0,1],["... and on the floor too !",10,40,1,0,1]],emoji=[["\ud83e\udd89",10,14]]):"pK"==W?(D&&(ky.className=kz.className="",y.lossst_c=1),X=20,h=75,trees=[[2,2]],apples=[[1,4,0,0,59],[2,5,0,0,59],[3,6,0,0,59],[4,2,0,0,59]],doors=[[21,65,Math.PI/2,7,0,"pJ",0,1,65,0,1],[-2,5,-Math.PI/2,12,0,"pL",1,14,5,0,1]],puzzles=[[5,,0,"0000000000010000110001110",,8,69],[6,,0,"000000000000000000000100001110011000",,12,58],[5,,0,"0000000000010000111001000",,2,58],[4,,0,"0000001001100110","0000001001100000",2,45],[5,,0,"0000000000000000010001110","0000000100001100110000000",12,45],[5,,0,"0000000000000000101001110","0000001110010100000000000",2,34],[5,,0,"0000000000000000011001100","0000001110011000010000000",12,34],[4,,1,"0000011001100110","0110000000000110",2,22],[4,,1,"1001000000001001","1001000000001001",12,22],[4,,1,"0000010011110010","0000111101100000",2,12],[4,,1,"0110010000000011","0000011100110000",12,12],[4,,1,"1101000000000001","1101000000010001",12,2]],hints=[["You can rotate the camera with "+(D?"<br>\u21bb and \u21ba":"the keys 1, 2 and 3"),15,68,1,0,1],["Can you guess what's coming next?",7,54,1,0,1],["3D puzzles with wrap ! Use "+(D?"\u2b06\ufe0e and \u2b07\ufe0e":"Shift and Ctrl")+" to wrap between top and bottom",7,24,1,0,1]],emoji=[["\ud83d\udc1e",3,70]]):"pL"==W?(X=15,h=80,trees=[[2,70]],apples=[[1,73,0,0,68],[3,75,0,0,68]],doors=[[16,5,Math.PI/2,12,0,"pK",0,1,5,0,1],[-2,75,-Math.PI/2,14,0,"pM",1,14,25,0,1]],puzzles=[[5,,0,"0000000000001001111100100",,2,2],[4,,0,"0000010001100000",,5,11],[5,,0,"0000000110000110111000010",,8,20],[5,,0,"0000000000001000111011111","0000000000111001111100000",2,29],[4,,0,"1000110011101111","0000001111110000",5,38],[4,,0,"0000100011001110","1110110010000000",8,45],[4,,1,"1000100110010001","0000100110010000",2,54],[4,,1,"0000001011110100","0000110011110011",5,63],[5,,1,"0100011000010000111001000","0000001110110000100000000",8,72]],cubes=[[6,12]],emoji=[["\ud83d\udc1d",3,20]]):"pM"==W?(X=15,h=30,trees=[[10,12]],apples=[[8,11,0,0,71],[9,10,0,0,71],[10,9,0,0,71],[11,10,0,0,71],[12,11,0,0,71],[7,12,0,0,71]],doors=[[16,25,Math.PI/2,14,0,"pL",0,1,75,0,1],[-2,5,-Math.PI/2,20,0,"pN",1,14,5,0,1]],puzzles=[[5,,1,"0001100110011001100010000","0001100110011001100010000",2,24],[5,,1,"1100010001000011000111000","0000011000110010000000000",4,13],[5,,1,"1101110001000001000011000","1100010000000001000111011",6,2]],emoji=[["\ud83d\udc13",1,14]]):"pN"==W&&(X=15,h=48,trees=[[10,44]],apples=[[7,45,0,0,75]],doors=[[16,5,Math.PI/2,20,0,"pM",0,1,5,0,1]],puzzles=[[4,,1,"0000111101101111","1000111111111000",5,38],[4,,1,"1111001001001111","1111101010101111",5,28],[4,,1,"1111010101011101","0001101101101111",5,18],[4,,1,"1111000100011110","1111110110011111",5,8]],emoji=[["\ud83d\udc09",13,46]]);a.style.width=X*v+"vh";a.style.height=h*v+"vh";H||(ig.innerHTML="");ih.innerHTML="";for(var f in trees)ig.innerHTML+="<div id=tree"+f+' class="j tr"style=left:'+trees[f][0]*v+"vh;transform:translateX(-7vh)translateY("+(trees[f][1]*v+4)+"vh)rotateX(-70deg)>\ud83c\udf33</div><div id=treeshadow"+f+' class="e h"style=left:'+trees[f][0]*v+"vh;transform:translateX(-7.5vh)translateY("+(trees[f][1]*v+3.5)+"vh)rotateZ(144deg)scaleY(1.5)>\ud83c\udf33";for(f in apples)y["lossst_a"+W+f]?delete apples[f]:ig.innerHTML+="<div id=a"+f+' class="j g '+(y["lossst_A"+W+f]?"":"h")+'"style=left:'+apples[f][0]*v+"vh;transform:translateY("+(apples[f][1]*v+4)+"vh)rotateX(-65deg)>"+("pN"==W?"<div>\u26bd</div>":"<div class=m>\ud83c\udf4e</div>")+"</div><div id=as"+f+' class="e p '+(y["lossst_A"+W+f]?"":"h")+'"style=left:'+apples[f][0]*v+"vh;transform:scaleX(-1)translateY("+(apples[f][1]*v+3)+"vh)rotateZ(212deg)>"+("pN"==W?"\u26bd":"\ud83c\udf4e");for(f in emoji)ig.innerHTML+='<div class="j n"style=left:'+(emoji[f][1]*v-1)+"vh;transform:translateY("+(emoji[f][2]*v+4)+"vh)rotateX(-65deg)><div class=m>"+emoji[f][0];for(f in doors)ig.innerHTML+="<div id=d"+(""+W+f)+' class="do'+(y["lossst_d"+W+f]?" s":"")+'"style=left:'+(doors[f][0]+.5)*v+"vh;top:"+(doors[f][1]+.5)*v+"vh;transform:rotateZ("+doors[f][2]+"rad)translateZ("+doors[f][9]*v+'vh)><div class="y d'+doors[f][10]+'"'+(doors[f][6]?"":"hidden")+">"+doors[f][3]+'</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh">';for(var n in puzzles)for(var m in cubes)y["lossst_p"+W+n]&&cubes[m][0]>=puzzles[n][5]&&cubes[m][0]<puzzles[n][5]+puzzles[n][0]&&cubes[m][1]>=puzzles[n][6]&&cubes[m][1]<puzzles[n][6]+puzzles[n][0]&&delete cubes[m];for(f in cubes)ig.innerHTML+="<div id=cube"+f+' class="z x"style=left:'+cubes[f][0]*v+"vh;top:"+cubes[f][1]*v+'vh;width:5vh;height:5vh><div class=f></div><div class=u style="background-position:'+(-300-cubes[f][0]*v)+"vh "+(-140-cubes[f][1]*v)+'vh"></div><div class=r></div><div class=l></div><div class=b>';for(f in hints)C^hints[f][5]||!(hints[f][3]&&hints[f][3]<=G||hints[f][4]&&hints[f][4]>=G)||(ig.innerHTML+="<div id=h"+(""+W+f)+" class=t style=left:"+hints[f][1]*v+"vh;transform:translateY("+(hints[f][2]*v+5)+"vh)translateZ("+(hints[f][6]*v||0)+"vh)rotateX(-70deg)translateY(-4vh)>"+hints[f][0]);y.lossst_x&&top.hpx0&&(hpx0.style.opacity=1);for(n in puzzles){T=puzzles[n][0];var A=k="";ih.innerHTML+="<div id=puzzle"+n+' class="z q v '+(puzzles[n][2]&&!y["lossst_p"+W+n]?"w":"")+'"style=left:'+puzzles[n][5]*v+"vh;top:"+puzzles[n][6]*v+"vh;width:"+puzzles[n][0]*v+"vh;height:"+T*v+"vh>"+(puzzles[n][2]?"<div class=l></div><div class=r></div>":"")+"<div id=D"+n+" class=d></div><div id=B"+n+" class=b></div>"+(puzzles[n][2]?"<div class=f>":"");var P="000",aa="fff";y["lossst_p"+W+n]&&(P="44c",aa="fd0",puzzles[n][2]=0);for(f=0;f<T;f++)for(m=0;m<T;m++)puzzles[n][3]&&(k+="<div class=o id=w"+n+f+m+" style=width:"+v+"vh;height:"+v+"vh;background:#"+("1"==puzzles[n][3][f*T+m]?P:aa)+"></div>"),puzzles[n][4]&&(A+="<div class=o id=g"+n+f+m+" style=width:"+v+"vh;height:"+v+"vh;background:#"+("1"==puzzles[n][4][f*T+m]?P:aa)+"></div>");top["D"+n]&&(top["D"+n].innerHTML+=A);top["B"+n]&&(top["B"+n].innerHTML+=k)}"pN"==W&&(ig.innerHTML+="<div style='position:fixed;transform:"+(D?"rotateZ(-90deg)translateX(-87vh)translateY(22vh)translateZ(365vh)":"rotateZ(-90deg)translateX(-83vh)translateY(6vh)translateZ(208vh)")+";font: 30vh/25vh a'>THE<br><br>END");H&&(y.lossst_e||y.lossst_s&&6<y.lossst_S||(ik.style.opacity=im.style.opacity=0,ik.style.position=im.style.position="fixed",ik.style.top=im.style.top="-9vh"),J=0,Y(1),xa=1,Q=O=N=0,puzzles[0][2]=0,setTimeout(function(){(ib.onchange=ib.oninput=resetgrid=function(){Ca();Y();ij.disabled=1;gridval.innerHTML=T=+ib.value;puzzle0.style.width=puzzle0.style.height=T*v+"vh";puzzles[0][0]=T;D0.innerHTML="";A=k=B0.innerHTML="";M=[];L=[];for(f=0;f<T;f++)for(M[f]=[],L[f]=[],m=0;m<T;m++)M[f][m]=0,L[f][m]=0;for(f=0;f<T;f++)for(m=0;m<T;m++)k+="<div class=o id=w"+K+f+m+" style=width:"+v+"vh;padding-top:"+v+"vh></div>",A+="<div class=o id=g"+K+f+m+" style=width:"+v+"vh;padding-top:"+v+"vh></div>";xa&&(D0.innerHTML+=A);N&&(B0.innerHTML+=k)})();iq.onchange=iq.oninput=function(){it.innerHTML=G=+iq.value;Ca();Y()};ik.onclick=function(){ik.checked?xa=1:top.wall&&(xa=0,C=N=1,wall.checked=!0);a.className=N?"haswall":"";resetgrid()};top.wall&&(wall.onclick=function(){wall.checked?(N=1,C=puzzles[0][3]=1):(N=C=0,xa=1,ik.checked=!0,puzzles[0][3]=0);a.className=N?"haswall":"";resetgrid()});top.wrap&&(wrap.onclick=function(){O=puzzles[0][2]=wrap.checked||0;puzzle0.className="z q v "+(O?"w":"");resetgrid()});print=function(k){var n="";for(f=0;f<T;f++)for(m=0;m<T;m++)n=top[k+"0"+f+m].style.background&&top[k+"0"+f+m].style.background.match(/255/)?n+0:n+1;return n};ij.onclick=function(){var f=[];f.push(T);f.push(G);f.push(O?1:0);f.push(N?print("w"):"");f.push(ik.checked?print("g"):"");open("//twitter.com/intent/tweet?text=I%20made%20a%20level%20for%20@MaximeEuziere's%20%23js13k%20game%20LOSSST!%0APlay%20here:%20js13kgames.com%2Fentries%2Flossst%0AMy%20level:%20js13kgames.com%2Fgames%2Flossst%23"+f+"%0A%23LOSSSTlevels")}},100));"px"!=W||y.lossst_x?(a.style.transition="transform 1s,transform-origin 1s",Ca()):(I=1,setTimeout(function(){Ca();Y();M0.style.transition="transform .5s"},2E3),setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(0);F.push(F[t]);t++;Y()},5500+wa),setTimeout(function(){M0.style.transition="";R0.style.transition="transform .2s";R0.style.transform="rotateZ("+-Math.PI/4+"rad)"},6500+wa),setTimeout(function(){R0.style.transform="rotateZ("+Math.PI/4+"rad)"},7E3+wa),setTimeout(function(){R0.style.transform=""},7500+wa),setTimeout(function(){S0.style.transition=R0.style.transition=""},8E3+wa),setTimeout(function(){clearInterval(x);z||(I=0);hpx0.style.opacity=1},8400),setTimeout(function(){a.style.transition="transform 1s,transform-origin 1s";y.lossst_x=20;y.lossst_y=10;b.innerHTML+="<div style='position:fixed;font:8vh a;top:3vh;right:3vh'onclick=location='index.html'>\u00d7";D&&(kU.className=kD.className=kL.className=kR.className="",y.lossst_w=1)},9E3));Y()}function Ca(){var k=C&&!H?ia:ie;k.innerHTML="";q=[];w=[];E=[];F=[];t=G-1;if("py"==W)for(i=0;i<G;i++)q[t-i]=1-i,w[t-i]=10,E[t-i]=0,F[t-i]=-Math.PI/2;else if(H)for(i=0;i<G;i++)q[t-i]=13-i,w[t-i]=12,E[t-i]=0,F[t-i]=-Math.PI/2;else if(y.lossst_x){var f=+y.lossst_x,n=+y.lossst_y,m=+y.lossst_z;"px"==W&&2>y.lossst_x&&(m=y.lossst_z=1);if("pI"==W&&z&&1==C)for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i-1,F[t-i]=0;else if(2>f)for(i=0;i<G;i++)q[t-i]=f-i,w[t-i]=n,E[t-i]=m,F[t-i]=-Math.PI/2;else if(f>X-2)for(i=0;i<G;i++)q[t-i]=f+i,w[t-i]=n,E[t-i]=m,F[t-i]=Math.PI/2;else if(2>n)for(i=0;i<G;i++)q[t-i]=f,w[t-i]=n-i,E[t-i]=m,F[t-i]=0;else if(n>h-2)for(i=0;i<G;i++)q[t-i]=f,w[t-i]=n+i,E[t-i]=m,F[t-i]=0;else for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i,F[t-i]=0}else if("px"==W)for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i-1,F[t-i]=0;for(i=0;i<Math.max(G+4,16);i++)k.innerHTML+="<div id=M"+i+" class=sm style=transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:"+(v-.7)+"vh;height:"+(v-.7)+"vh><div class=ss id=S"+i+"></div><div id=R"+i+' class=sr><div class="z k"id=T'+i+">"+(1>i?"<div style=background:none;box-shadow:none;color:red;font-size:4vh;text-align:center;transform:rotateZ(180deg)translateY(-4vh)translateZ(1.5vh)>Y</div>":"")+'<div class=u style="font:'+.5*v+"vh/"+.8*v+'vh a">'+(1>i?"\ud83d\udc40":"")+"</div><div class=f>"+(1>i?"\u203f":"")+"</div><div class=r></div><div class=l></div><div class=b>"}function Y(k){for(var f={a:0};f.a<G;f={a:f.a,j:f.j,m:f.m,o:f.o},f.a++)if(!k){var n=oldx=oldy=oldz=newx=newy=newz=0;O&&T&&(q[t-f.a-1]==R&&q[t-f.a]==R+T-1?(n=1,oldx=R-1,newx=R+T,oldy=newy=w[t-f.a],oldz=newz=E[t-f.a]):q[t-f.a-1]==R+T-1&&q[t-f.a]==R?(n=1,oldx=R+T,newx=R-1,oldy=newy=w[t-f.a],oldz=newz=E[t-f.a]):w[t-f.a-1]==S&&w[t-f.a]==S+T-1?(n=1,oldy=S-1,newy=S+T,oldx=newx=q[t-f.a],oldz=newz=E[t-f.a]):w[t-f.a-1]==S+T-1&&w[t-f.a]==S?(n=1,oldy=S+T,newy=S-1,oldx=newx=q[t-f.a],oldz=newz=E[t-f.a]):0==E[t-f.a-1]&&E[t-f.a]==T-1?(n=1,oldz=-1,newz=T,oldx=newx=q[t-f.a],oldy=newy=w[t-f.a]):E[t-f.a-1]==T-1&&0==E[t-f.a]&&(n=1,oldz=T,newz=-1,oldx=newx=q[t-f.a],oldy=newy=w[t-f.a]));if(n)top["R"+f.a].style.transform="rotateZ("+F[t-f.a]+"rad)",top["M"+f.a].style.transform="translateX("+(oldx*v+.5)+"vh)translateY("+(oldy*v+.5)+"vh)translateZ("+(oldz*v+.5)+"vh)scale(.01)scaleZ(.01)",setTimeout(function(f){return function(){top["M"+f.a].style.transition="none"}}(f),90),f.j=newx,f.m=newy,f.o=newz,setTimeout(function(f){return function(){top["M"+f.a].style.transform="translateX("+(f.j*v+.5)+"vh)translateY("+(f.m*v+.5)+"vh)translateZ("+(f.o*v+.5)+"vh)scale(.01)"}}(f),100),setTimeout(function(f){return function(){top["M"+f.a].style.transition="";top["M"+f.a].style.transform="translateX("+(q[t-f.a]*v+.25)+"vh)translateY("+w[t-f.a]*v+"vh)translateZ("+(E[t-f.a]*v+.5)+"vh)"}}(f),150);else try{top["M"+f.a].style.transform="translateX("+(q[t-f.a]*v+.25)+"vh)translateY("+w[t-f.a]*v+"vh)translateZ("+(E[t-f.a]*v+.5)+"vh)",top["R"+f.a].style.transform="rotateZ("+F[t-f.a]+"rad)"}catch(A){}try{top["S"+f.a].style.display=0==E[t-f.a]?"":"none"}catch(A){}}H?a.style.transform="translateX(-100vh)translateY(-37vh)translateZ(-5vh)rotateX(33deg)":null===J||y["lossst_p"+W+J]?(a.style.transform="translateX("+-q[t]*v+"vh)translateY("+-w[t]*v+"vh)translateZ(45vh)rotateX(40deg)rotateZ("+g+"rad)",a.style.transformOrigin=""+q[t]*v+"vh "+w[t]*v+"vh"):(a.style.transform="translateX("+(-(R+puzzles[J][0]/2)*v+5)+"vh)translateY("+(-(S+puzzles[J][0]/2)*v+8)+"vh)translateZ("+(90-puzzles[J][0]*(v+3))+"vh)rotateX(30deg)rotateZ("+g+"rad)",a.style.transformOrigin=""+((R+puzzles[J][0]/2)*v+5)+"vh "+((S+puzzles[J][0]/2-1)*v+8)+"vh");f=C?1:0;for(k=0;k<G;k++){if(0>=E[t-k]){f=0;break}for(m in cubes)cubes[m][0]==q[t-k]&&cubes[m][1]==w[t-k]&&1==E[t-k]&&(f=0)}if(f){for(k=0;k<G;k++)E[t-k]--;try{Y()}catch(A){for(var m=2*G;m--;)q.pop(),w.pop(),E.pop(),F.pop(),t--;Aa=0;Y()}}f=q[t];n=w[t];for(k in doors)(doors[k][10]&&C||!doors[k][10]&&!C)&&top["d"+W+k]&&0<doors[k][3]&&G>=doors[k][3]&&4>Math.hypot(f-doors[k][0],n-doors[k][1])&&!y["lossst_d"+W+k]&&(top["d"+W+k].className="do s",!doors[k][6]||"px"==W&&2<k||ja(pa).play(),y["lossst_d"+W+k]=1),top["d"+W+k]&&"do s"==top["d"+W+k].className&&2>Math.hypot(f-doors[k][0],n-doors[k][1])&&(y.lossst_p=W=doors[k][5],setTimeout(Ba,600),y.lossst_x=doors[k][7],y.lossst_y=doors[k][8],y.lossst_z=0);null!==J&&Da();H||(J=null);H||(L=[],M=[]);for(p in puzzles)if(f>=puzzles[p][5]&&f<puzzles[p][5]+puzzles[p][0]&&n>=puzzles[p][6]&&n<puzzles[p][6]+puzzles[p][0]){J=+p;Q=0;y["lossst_p"+W+p]&&(Q=1);K=p;xa=!!puzzles[p][4];N=!!puzzles[p][3];O=!!puzzles[p][2];R=puzzles[p][5];S=puzzles[p][6];T=puzzles[p][0];for(k=0;k<T;k++)for(L[k]=[],M[k]=[],m=0;m<T;m++)puzzles[p][3]&&(M[k][m]=+puzzles[p][3][k*puzzles[p][0]+m]),puzzles[p][4]&&(L[k][m]=+puzzles[p][4][k*puzzles[p][0]+m]);Da()}}function Z(k,f,n){V=0;if(0>k||k>=X||0>f||f>=h)V=1;for(var m in trees)k>=trees[m][0]-1&&k<=trees[m][0]&&f==trees[m][1]&&3>E[t]&&(V=1);for(m in hints)k>=hints[m][1]&&k<=hints[m][1]+3&&f==hints[m][2]&&G>=hints[m][3]&&(!hints[m][4]||G<=hints[m][4])&&(C&&hints[m][5]||!C&&!hints[m][5])&&(V=1);for(m in apples)if(y["lossst_A"+W+m]&&k==apples[m][0]&&f==apples[m][1]&&0==E[t])if(ja(ka).play(),"pN"==W){x=setInterval(sa.forward,150);y.lossst_E=1;setTimeout(function(){I=1;as0.remove();a0.style.transform="translateY(319vh)translateZ(2vh)rotateX(-65deg)rotateY(90deg)";a0.style.transition=a.style.transition="10s";a0.style.transform="translateY(15vh)translateZ(2vh)rotateX(-65deg)";a.style.transform=D?"translateX(-133vh)translateY(-249vh)translateZ(-373vh)rotateZ(90deg)":"translateX(-141vh)translateY(-227vh)translateZ(-185vh)rotateZ(90deg)"},200);var A={},P;for(P in puzzles)A.g=P,setTimeout(function(f){return function(){top["B"+f.g].style.transition=".5s";top["B"+f.g].style.transform="translateY(-125%)"}}(A),[1450,2500,3800,5400][A.g]),A={g:A.g};setTimeout(function(){clearInterval(va);y.lossst_E=1;y.lossst_e=1;b.style.background="#000";y.lossst_s=0;b.innerHTML="<div id=iv style=perspective:90vh><center id=menu style=width:75vh;transform:translateX(-38vh)translateY(-35vh)rotateX(-28deg)><span style=font-size:4vh;line-height:5vh><h1>Congrats!</h1><br>You completed the game in<br>"+ta+" seconds and "+ua+" moves!<br><br><a href=//twitter.com/intent/tweet?text=I%20played%20LOSSST,%20a%20%23js13k%20game%20by%20by%20@MaximeEuziere%0Amy%20score:%20"+ta+"%20seconds%20and%20"+ua+"%20moves!%0Ajs13kgames.com%2Fentries%2Flossst target=_blank style=color:#def;font-size:4vh>TWEET YOUR SCORE</a><br><br>Dev record:<br>854 seconds, 2452 moves<br><br>3D puzzle editor unlocked!<br><br><a href=. style=font-size:4vh>MAIN MENU"},15E3);n=document.querySelectorAll(".o");A={};for(var aa in n){A.h=aa;try{2==n[A.h].style.backgroundColor.match(/68/g).length&&setTimeout(function(f){return function(){top[n[f.h].id].style.background="#a00"}}(A),8E3+10*A.h)}catch(na){}A={h:A.h}}}else if(delete apples[m],top["a"+m].remove(),top["as"+m].remove(),G++,y.lossst_S=G,y["lossst_a"+W+m]=1,"pF"==W&&16==G){I=1;x=setInterval(sa.forward,150);z=1;a.style.transition="5s";a.style.transform="translateX(-180vh)translateY(-53vh)translateZ("+(D?-422:-180)+"vh)rotateZ(180deg)";setTimeout(function(){a.style.transition="1s";I=z=0;Y();ig.innerHTML+="<div class=t style=left:190vh;transform:translateY(50vh)rotateX(-55deg)translateY(-4vh)>\u2190<br>Exit";clearInterval(x)},1E4);n=document.querySelectorAll(".o");A={};for(var ea in n){A.f=ea;try{n[A.f].id.match(/g\d\d\d$/)&&2==n[A.f].style.backgroundColor.match(/68/g).length&&setTimeout(function(f){return function(){top[n[f.f].id].style.background="#a00"}}(A),5500+10*A.f)}catch(na){}A={f:A.f}}}for(m in cubes)k==cubes[m][0]&&f==cubes[m][1]&&0==n&&(V=1);for(m in emoji)"pC"!=W&&k==emoji[m][1]&&f==emoji[m][2]&&0==n&&(V=1);for(m in doors)top["d"+W+m]&&"do s"==top["d"+W+m].className&&2>=Math.hypot(k-doors[m][0],f-doors[m][1])&&(V=0);hitcube2=0;for(m=G-2;0<m;m--)q[t-m]==k&&w[t-m]==f&&E[t-m]==n&&(V=1,1==m&&(hitcube2=1));for(p in puzzles)puzzles[p][3]&&k>=puzzles[p][5]&&k<puzzles[p][5]+puzzles[p][0]&&(f==puzzles[p][6]-1&&w[t]==puzzles[p][6]&&!puzzles[p][2]||f==puzzles[p][6]&&w[t]==puzzles[p][6]-1)&&(V=1);if("pI"==W&&18==k&&!C){z=C=V=I=1;clearInterval(x);sa=ra;_=$=0;x=setInterval(ra.forward,250);y.lossst_s=1;y.lossst_S=G=5;for(k=0;21>k;k++)cubes.push([q[t-k],w[t-k]]),top["M"+k].id="",top["R"+k].id="",top["S"+k].id="",top["T"+k].id="";a.style.transition="2s";Ca();Y();a.style.transform="translateX(-105vh)translateY(-51vh)translateZ(80vh)rotateX(45deg)";a.style.transformOrigin="140vh 70vh";setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(0);F.push(F[t]);t++;Y()},3E3);setTimeout(function(){ii.innerHTML="Daddy!"},4E3);setTimeout(function(){ii.innerHTML=""},6E3);setTimeout(function(){ii.innerHTML="I lossst my soccer ball!"},7E3);setTimeout(function(){ii.innerHTML=""},9E3);setTimeout(function(){ii.innerHTML="But I found new moves!"},1E4);setTimeout(function(){ii.innerHTML="";z=I=0;clearInterval(x);a.style.transition="1s";Y();Ea();D&&(kT.className=kB.className="",y.lossst_B=1)},13500)}}function Da(){if(!Q&&null!==J){solved=1;H&&(ij.disabled=0);for(i=0;i<T;i++)for(j=0;j<T;j++)try{top["g"+K+i+j]&&(top["g"+K+i+j].style.background=L[i][j]?"#000":"#fff"),top["w"+K+i+j]&&(top["w"+K+i+j].style.background=M[i][j]?"#000":"#fff")}catch(m){}if(q[t]<R||q[t]>R+T-1||w[t]<S||w[t]>S+T-1||0>E[t]||E[t]>T-1)H&&(ij.disabled=1);else{for(i=0;i<G;i++){top["g"+K+(w[t-i]-S)+(q[t-i]-R)]&&(top["g"+K+(w[t-i]-S)+(q[t-i]-R)].style.background=L[w[t-i]-S][q[t-i]-R]?"#080":H?"#44c":"#f00");w[t-i]>=S&&w[t-i]<S+T&&top["w"+K+(T-1-E[t-i])+(q[t-i]-R)]&&(top["w"+K+(T-1-E[t-i])+(q[t-i]-R)].style.background=M[T-1-E[t-i]][q[t-i]-R]?"#080":H?"#44c":"#f00");if(q[t-i]<R||q[t-i]>R+T-1||w[t-i]<S||w[t-i]>S+T-1||E[t-i]>T-1)H&&(ij.disabled=1),solved=0;xa&&L[w[t-i]-S]&&!L[w[t-i]-S][q[t-i]-R]&&(solved=0);N&&M[T-1-E[t-i]]&&!M[T-1-E[t-i]][q[t-i]-R]&&(solved=0)}for(i=0;i<T;i++)for(j=0;j<T;j++){try{xa&&3==top["g"+K+i+j].style.backgroundColor.match(/0/g).length&&(solved=0)}catch(m){}try{N&&3==top["w"+K+i+j].style.backgroundColor.match(/0/g).length&&(solved=0)}catch(m){}}if(solved){Q=H?0:1;puzzles[J][2]=0;top["puzzle"+J].classList.remove("w");H||(y["lossst_p"+W+J]=1);for(i=0;i<T;i++)for(j=0;j<T;j++){try{top["g"+K+i+j].style.background=L[i][j]?"#44c":"#fd0"}catch(m){}try{top["w"+K+i+j].style.background=M[i][j]?"#44c":"#fd0"}catch(m){}}H||(ja(oa).play(),ya++,y.lossst_T=ya);var k=1,f={},n;for(n in cubes)f.b=n,cubes[f.b][0]>=puzzles[J][5]&&cubes[f.b][0]<puzzles[J][5]+puzzles[J][0]&&cubes[f.b][1]>=puzzles[J][6]&&cubes[f.b][1]<puzzles[J][6]+puzzles[J][0]&&(delete cubes[f.b],k++,setTimeout(function(f){return function(){top["cube"+f.b].remove()}}(f),200*k)),f={b:f.b}}}}}function Ea(){for(var k in apples)if(!y["lossst_A"+W+k]&&(0<apples[k][3]&&apples[k][3]==G||0<apples[k][4]&&apples[k][4]==ya)){I=1;D&&"px"==W&&1==k&&(kw.className="",y.lossst_b=1);var f=setTimeout;a.style.transform="translateX("+-apples[k][0]*v+"vh)translateY("+-apples[k][1]*v+"vh)translateZ(50vh)rotateX(35deg)";y["lossst_A"+W+k]=1;a.style.transformOrigin=""+apples[k][0]*v+"vh "+apples[k][1]*v+"vh";f(void 0,250);f=setTimeout;top["a"+k].className="j g";top["as"+k].className="e p";f(void 0,800);setTimeout(function(){ja(la).play()},850);setTimeout(function(){Y();z||(I=0)},2E3)}}function Fa(){U=0;H||(J=null);for(p in puzzles)q[t]>=puzzles[p][5]&&q[t]<puzzles[p][5]+puzzles[p][0]&&w[t]>=puzzles[p][6]&&w[t]<puzzles[p][6]+puzzles[p][0]&&0<=E[t]&&E[t]<puzzles[p][0]&&(J=+p,U=1)}onkeydown=function(k){top["lurd************************l**r************l*d***u**u"[k.which-37]]=1;18==k.which&&(B=1);16==k.which&&(s=1);17==k.which&&(c=1);if(!I){if(49==k.which||97==k.which)-1<g&&g--,ca();if(50==k.which||98==k.which)g=0,ca();if(51==k.which||99==k.which)1>g&&g++,ca()}Fa();U?Da():Aa=0;if(82==k.which&&U){if(Aa<=t)for(var f=Aa;f<=t;f++)q.pop(),w.pop(),E.pop(),F.pop(),setTimeout(function(){sa.back()},70*(t-f));t=Aa-1;Aa=0;Y();Da();y.lossst_M=++ua}else if(116!=k.which&&82!=k.which&&17!=k.which&&123!=k.which&&k.preventDefault&&k.preventDefault(),!I){V=0;if(l)!Q&&O&&U&&q[t]==R?(Z(R+T-1,w[t],E[t]),V||(q.push(R+T-1),w.push(w[t]),E.push(E[t]),F.push(Math.PI/2),t++)):(Z(q[t]-1,w[t],E[t]),V||(q.push(q[t]-1),w.push(w[t]),E.push(E[t]),F.push(Math.PI/2),t++));else if(r)!Q&&O&&U&&q[t]==R+T-1?(Z(R,w[t],E[t]),V||(q.push(R),w.push(w[t]),E.push(E[t]),F.push(-Math.PI/2),t++)):(Z(q[t]+1,w[t],E[t]),V||(q.push(q[t]+1),w.push(w[t]),E.push(E[t]),F.push(-Math.PI/2),t++));else if(u)!Q&&O&&U&&w[t]==S?(Z(q[t],S+T-1,E[t]),V||(q.push(q[t]),w.push(S+T-1),E.push(E[t]),F.push(Math.PI),t++)):(Z(q[t],w[t]-1,E[t]),V||(q.push(q[t]),w.push(w[t]-1),E.push(E[t]),F.push(Math.PI),t++));else if(d)!Q&&O&&U&&w[t]==S+T-1?(Z(q[t],S,E[t]),V||(q.push(q[t]),w.push(S),E.push(E[t]),F.push(0),t++)):(Z(q[t],w[t]+1,E[t]),V||(q.push(q[t]),w.push(w[t]+1),E.push(E[t]),F.push(0),t++));else if((C||N)&&s){if(!U){k=G-1;for(f in cubes)cubes[f][0]==q[t]&&cubes[f][1]==w[t]&&k++;if(E[t]==k)return}!Q&&O&&U&&E[t]==T-1?(Z(q[t],w[t],0),V||(q.push(q[t]),w.push(w[t]),E.push(0),F.push(F[t]),t++)):(Z(q[t],w[t],E[t]+1),V||(q.push(q[t]),w.push(w[t]),E.push(E[t]+1),F.push(F[t]),t++))}else(C||N)&&c?!Q&&O&&U&&0==E[t]?(Z(q[t],w[t],T-1),V||(q.push(q[t]),w.push(w[t]),E.push(T-1),F.push(F[t]),t++)):0==E[t]?V=1:(Z(q[t],w[t],E[t]-1),V||(q.push(q[t]),w.push(w[t]),E.push(E[t]-1),F.push(F[t]),t++)):B&&t>G&&(F.pop(),q.pop(),w.pop(),E.pop(),t--);V&&!I&&(I=1,setTimeout(function(){z||(I=0)},150),!(-1<q[t]&&q[t]<X&&-1<w[t]&&w[t]<h)||"pI"==W&&!C&&16<q[t]||hitcube2||ja(ma).play());if(!V&&!z&&(u||r||d||l||s||c||B)){y.lossst_M=++ua;Da();Y();B?t>G&&sa.back():(C||!s&&!c&&!C)&&sa.forward();Y(1);Ea();I||(I=1,setTimeout(function(){z||(I=0)},150));if("px"==W&&(C||14<=G)&&20==q[t]&&10==w[t]){I=1;var n=0;for(f=0;f<G;f++)setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(--n);F.push(F[t]);t++;Y()},150*f);setTimeout(function(){AA("pz",1)},160*G);y.lossst_x=20;y.lossst_y=10}Fa();U&&!Aa&&(Aa=t)}}};onkeyup=function(){u=r=d=l=s=c=B=0};onload=function(){1<location.hash.length?AA("py",1):(setTimeout(function(){x=setInterval(function(){sa.forward()},500)},200),b.innerHTML="<center id=e>\ud83d\udc40</center>\n<center id=iw></center>\n<div id=iv style=perspective:30vh>\n<center id=menu>\n<h1>LOSSST</h1>\n<span onclick=newgame()>New game</span><br>\n"+(y.lossst_a&&!y.lossst_E?"<span onclick=AA(0,1)>Continue</span><br>":"")+"\n<span onclick=AA(\"pz\",1)>Puzzle editor</span><br>\n<span onclick=top.open('//goo.gl/iKqoCS')>Bonus",newgame=function(){for(i in localStorage)0==i.indexOf("lossst")&&-1==i.indexOf("e")&&delete localStorage[i];y.lossst_a=1;menu.innerHTML="<br><br><span onclick=intro(0)>Desssktop</span><br><br><span onclick=intro(1)>Mobile"},intro=function(k){clearInterval(x);_=$=0;x=setInterval(sa.forward,250);y.lossst_m=D=k;y.lossst_S=G=5;ta=y.lossst_t=0;ua=y.lossst_M=0;y.lossst_M=0;y.lossst_t=0;menu.innerHTML="";setTimeout(function(){e.style.margin=0},500);dir=1;inter=setInterval(function(){e.style.opacity=0;setTimeout(function(){e.style.opacity=1;dir=-dir;e.style.transform="scaleX("+dir+")"},150)},3E3);setTimeout(function(){iw.innerHTML="I lossst my kid !"},2E3);setTimeout(function(){iw.innerHTML=""},5E3);setTimeout(function(){clearInterval(inter);e.style.margin="-80vh 0 0"},7E3);setTimeout(AA,7500)})};AA=function(k,f){if(0===k||"pz"==k)clearInterval(x),_=$=0;"pz"==k&&(H=1,J=0);W=k||y.lossst_p||"px";b.outerHTML="<body id=b class="+W+">\n<div id=iv>\n<div id=a style=transform:translateX(-97vh)translateY(-50vh)rotateZ(90deg)translateZ(119vh);transform-origin:100vh+50vh>\n<div id=ig>"+(H?"<div class=t style=width:60vh;transform:translateX(70vh)translateY(1vh)translateZ(2vh)rotateX(-42deg)>\n<label style=width:100%;text-align:center>Create a pattern with the snake and share it !</label>\n<br style=line-height:6vh>\n<div style=text-align:left;padding-left:5vh>\n<label>Grid</label> <input id=ib type=range value=5 min=3 max=8 step=1>\n<span id=gridval>5</span>\n<br>\n<label>Snake</label> <input id=iq type=range value=5 min=5 max=40 step=1>\n<span id=it>5</span>\n</div>\n<input type=checkbox id=ik checked> <label for=ik id=im>ground</label>\n"+(y.lossst_e||y.lossst_s&&6<y.lossst_S?"<input type=checkbox id=wall> <label for=wall>wall</label>":"")+"\n"+(y.lossst_e||y.lossst_s?"<input type=checkbox id=wrap> <label for=wrap>wrap</label>":"")+"\n<br>\n<center>\n<button id=ij disabled>Share</button>\n</center>\n</div>":"")+"\n</div>\n<div id=ih></div>\n<div id=ie></div>\n<div id=ia></div>\n</div>\n</div>\n<center id=iz style='font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw'>\n<button id=kU class=h ontouchstart=TS(38) ontouchend=TE(38)>\u2191</button>\n<button id=kD class=h ontouchstart=TS(40) ontouchend=TE(40)>\u2193</button>\n<button id=kL class=h ontouchstart=TS(37) ontouchend=TE(37)>\u2190</button>\n<button id=kR class=h ontouchstart=TS(39) ontouchend=TE(39)>\u2192</button>\n<button id=kT class=h ontouchstart=TS(16) ontouchend=TE(16)>\u2b06\ufe0e</button>\n<button id=kB class=h ontouchstart=TS(17) ontouchend=TE(17)>\u2b07\ufe0e</button>\n<button id=kw class=h ontouchstart=TS(18) ontouchend=TE(18)>\u21a9</button>\n<button id=kx class=h ontouchstart=TS(82) ontouchend=TE(82)>\u00d7</button>\n<button id=ky class=h ontouchstart=TS(49) ontouchend=TE(49)>\u21bb</button>\n<button id=kz class=h ontouchstart=TS(51) ontouchend=TE(51)>\u21ba</button>\n</center>\n<center id=ii style='font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw'>";y.lossst_Apx0=1;Ba();if(D&&"py"==W||y.lossst_w)kU.className=kD.className=kL.className=kR.className="";if(D&&"py"==W||y.lossst_b)kw.className="";if(D&&"py"==W||y.lossst_r)kr.className="";if(D&&"py"==W||y.lossst_B)kT.className="",kB.className="";if(D&&"py"==W||y.lossst_c)ky.className="",kz.className="";H||(va=setInterval(function(){y.lossst_t=++ta},1E3));f&&(b.innerHTML+="<div style='position:fixed;font:8vh a;top:3vh;right:3vh'onclick=location='.'>\u00d7")}</script><style>@keyframes move{0%,100%{transform:rotateY(-10deg)}50%{transform:rotateY(10deg)}}*{margin:0;padding:0;font:2.5vh/5.5vh arial,sans-serif;vertical-align:middle;box-sizing:border-box;-webkit-touch-callout:none;-webkit-user-select:none;-webkit-tap-highlight-color:transparent;user-select:none;cursor:pointer;touch-action:manipulation}html,body{height:100%;background:#000;overflow:hidden;background:radial-gradient(#def 25%,#7ce)}a{color:#def}input,button{position:relative;z-index:2}input[type=range]::-webkit-slider-runnable-track,input[type=range]::-webkit-slider-thumb{background:#888;border:1px solid #000}input[type=range]::-moz-range-track,input[type=range]::-moz-range-thumb{background:#888;border:1px solid #000}#iv{width:0;height:0;perspective:120vh;position:absolute;top:50%;left:50%}#iv *{transform-style:preserve-3d}#a{width:0;height:0;transform-origin:18vh 0%;transition:transform 1s,transform-origin 1s}.z{position:fixed;top:0;left:0}.z>div{width:100%;height:100%;position:fixed}.z .u{transform:rotateY(90deg)translateX(-100%)rotateY(-90deg)}.z .l{transform:rotateX(-90deg)translateY(-50%)translateX(-50%)rotateY(-90deg)}.z .r{transform:rotateX(-90deg)translateY(-50%)translateX(50%)rotateY(90deg)}.z .f{transform:translateY(50%)rotateX(-90deg)translateY(-50%)}.z .b{transform:translateY(-50%)rotateX(-90deg)translateY(-50%)rotateY(180deg)}.z.q{width:32vh;height:32vh;transform:none}.z.q>div{background:transparent}.z.q .b{transition:opacity .5s;transform:translateY(-50%)rotateX(-90deg)translateY(-52%)}.z.q.w .d,.z.q .d{transition:opacity .5s;background:#0c5b0c}.sm,.sr{transform-origin:50% 50%;width:100%;height:100%;position:fixed}.sm{transition:transform .15s}.z.k{width:100%;height:100%}.z.k>div{box-shadow:0 0 0 .1vh #000 inset;text-align:center}.z.k .f{line-height:3vh}#ie .z.k>div{background:#FFA500}#ie .z.k .u{background:#dF8500}#ia .z.k>div,#a.haswall .z.k>div{background:#444}#ia .z.k .u,#a.haswall .z.k .u{background:#333}#ia .z.k .f{color:#fff}.ss{position:fixed;width:100%;height:100%;background:rgba(0,0,0,.25);transform:translateX(14%)translateY(14%)translateZ(-.25vh)}label{display:inline-block;width:22%}button{display:inline-block;width:23%;border:.2vh solid #000;margin:1vh 2% 0 0}input[type=range]{width:60%}#form{width:50vh;margin:auto}.o{float:left;outline:.4vh solid #888;opacity:0;transition:opacity .5s;background:#fff}.z.q.v{transform:translateZ(.1vh)}.z.q.v .o{opacity:1}.z.q.v .d{transform:none}.z.q.w>div{background:linear-gradient(45deg,rgba(200,200,200,.1),rgba(200,200,200,.3));box-shadow:0 0 .1vh rgba(255,255,255,.5)}.j{position:fixed;transform-origin:50% 100%;bottom:0}.m{animation:move 3s infinite}.e{color:rgba(0,0,0,.002);text-shadow:0px 0px rgba(0,0,0,.25);position:fixed;transform-origin:50% 100%;bottom:0}.tr,.h{font:11vh/12vh a}.a .tr{font:15vh/11vh a}.a .h,.c .h,.i .h,.a .p,.c .p,.i .p,.c .x.b,#iz button.h{display:none}.g,.g *,.p{font:4vh/5vh a;transition:opacity .5s .5s}.n,.n *{font:5vh/6vh a}.g.h,.p.h{opacity:0}.a .g{font:6vh/5vh a}.do{position:fixed;transform-origin:0% 100%;width:0;height:0}.do .y{position:fixed;width:15vh;height:20vh;background:radial-gradient(2vh at 90% 50%,gold 35%,transparent 40%),#a22;border-radius:1vh 1vh 0 0;transform-origin:0% 100%;transform:translateX(-7.5vh)translateY(-12.5vh)rotateX(-90deg);text-align:center;font-size:6vh;line-height:12vh;color:#fff;transition:transform 1s}.do .y.d1{background:radial-gradient(2vh at 90% 50%,gold 35%,transparent 40%),#222}.do.s .y{transform:translateX(-7.5vh)translateY(-12.5vh)rotateX(-90deg)rotateY(90deg)}.z.x div{background:linear-gradient(45deg,#640,#583808)}.z.x div.u{transform:rotateY(90deg)translateX(-5.4vh)translateZ(-.1vh)rotateY(-90deg);background:radial-gradient(#3F7D1F,#034301);background-size:280vh 140vh;width:5.3vh;height:5.3vh}.t{position:fixed;background:#fff;padding:.7vh;width:20vh;font:2vh/2.5vh arial,sans-serif;transform-origin:50% 100%;text-align:center;box-shadow:0 0 0 .2vh #000 inset;bottom:0}.t br{font:0/0 a}.t:before{content:"";width:3vh;height:3vh;background:#750;position:absolute;bottom:-3vh;left:8vh;border-left:.2vh solid;border-right:.2vh solid}.pz .t:before{left:28vh}label{text-align:left}#a{transition:transform 6s ease-in,transform-origin 6s ease-in;width:280vh;height:140vh;background:radial-gradient(#4F8D2F,#136321);border-radius:3vh}.px #a,.pI #a{background:radial-gradient(10vh at 51.3% 52%,#000 40%,transparent 50%),radial-gradient(15vh at 51.3% 52%,#640 40%,transparent 50%),radial-gradient(#4F8D2F,#136321)}#e{margin:99vh 0 0;transition:margin 1s;font:10vh/80vh a}#iw{font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw}#menu{color:#fff;width:55vh;transform:translateX(-27vh)translateY(-20vh)rotateX(-17deg)}#menu span{font:7vh/12vh arial,sans-serif}#menu h1{font:13vh/16vh arial,sans-serif;text-shadow:.1vh -.1vh #777,.2vh -.2vh #777,.3vh -.3vh #777}#menu span:hover{color:#ace;transform:rotateX(-10deg)}.pN #menu span:hover{color:#fff}#iz button{position:fixed;width:10vh;height:10vh;text-align:center;font:6vh/10vh a}#kU{right:14vh;bottom:14vh}#kD{right:14vh;bottom:2vh}#kL{right:26vh;bottom:2vh}#kR{right:2vh;bottom:2vh}#kT{left:2vh;top:2vh}#kB{left:2vh;top:14vh}#kw{bottom:2vh;left:2vh}#kx{bottom:14vh;left:2vh}#ky{top:2vh;right:18vh}#kz{top:2vh;right:6vh}#hpx0{opacity:0;transition:opacity .5s}</style></head><head></head><body id="b" class="px">
<div id="iv">
<div id="a" style="transform: translateX(-100vh) translateY(-90vh) translateZ(45vh) rotateX(40deg) rotateZ(0rad); transform-origin: 100vh 90vh 0px; width: 200vh; height: 100vh; transition: transform 1s, transform-origin 1s;">
<div id="ig"><div id="tree0" class="j tr" style="left:65vh;transform:translateX(-7vh)translateY(49vh)rotateX(-70deg)">🌳</div><div id="treeshadow0" class="e h" style="left:65vh;transform:translateX(-7.5vh)translateY(48.5vh)rotateZ(144deg)scaleY(1.5)">🌳</div><div id="tree1" class="j tr" style="left:35vh;transform:translateX(-7vh)translateY(69vh)rotateX(-70deg)">🌳</div><div id="treeshadow1" class="e h" style="left:35vh;transform:translateX(-7.5vh)translateY(68.5vh)rotateZ(144deg)scaleY(1.5)">🌳</div><div id="tree2" class="j tr" style="left:175vh;transform:translateX(-7vh)translateY(44vh)rotateX(-70deg)">🌳</div><div id="treeshadow2" class="e h" style="left:175vh;transform:translateX(-7.5vh)translateY(43.5vh)rotateZ(144deg)scaleY(1.5)">🌳</div><div class="j n" style="left:149vh;transform:translateY(39vh)rotateX(-65deg)"><div class="m">🐿️</div></div><div class="j n" style="left:144vh;transform:translateY(39vh)rotateX(-65deg)"><div class="m">🌰️</div></div><div id="dpx0" class="do s" style="left:207.5vh;top:52.5vh;transform:rotateZ(1.5707963267948966rad)translateZ(0vh)"><div class="y d0">8</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh"></div></div><div id="dpx1" class="do" style="left:102.5vh;top:-7.5vh;transform:rotateZ(0rad)translateZ(0vh)"><div class="y d0">14</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh"></div></div><div id="dpx2" class="do" style="left:-7.5vh;top:57.5vh;transform:rotateZ(-1.5707963267948966rad)translateZ(5vh)"><div class="y d1">6</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh"></div></div><div id="dpx3" class="do s" style="left:102.5vh;top:107.5vh;transform:rotateZ(3.141592653589793rad)translateZ(0vh)"><div class="y d0">14</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh"></div></div><div id="dpx4" class="do" style="left:27.5vh;top:107.5vh;transform:rotateZ(3.141592653589793rad)translateZ(0vh)"><div class="y d1">5</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh"></div></div><div id="cube0" class="z x" style="left:0vh;top:45vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-300vh -185vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube1" class="z x" style="left:5vh;top:45vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-305vh -185vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube2" class="z x" style="left:10vh;top:45vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-310vh -185vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube3" class="z x" style="left:15vh;top:45vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-315vh -185vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube4" class="z x" style="left:20vh;top:45vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-320vh -185vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube5" class="z x" style="left:0vh;top:50vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-300vh -190vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube6" class="z x" style="left:5vh;top:50vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-305vh -190vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube7" class="z x" style="left:10vh;top:50vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-310vh -190vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube8" class="z x" style="left:15vh;top:50vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-315vh -190vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube9" class="z x" style="left:20vh;top:50vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-320vh -190vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube10" class="z x" style="left:0vh;top:55vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-300vh -195vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube11" class="z x" style="left:5vh;top:55vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-305vh -195vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube12" class="z x" style="left:10vh;top:55vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-310vh -195vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube13" class="z x" style="left:15vh;top:55vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-315vh -195vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube14" class="z x" style="left:20vh;top:55vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-320vh -195vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube15" class="z x" style="left:0vh;top:60vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-300vh -200vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube16" class="z x" style="left:5vh;top:60vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-305vh -200vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube17" class="z x" style="left:20vh;top:60vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-320vh -200vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube18" class="z x" style="left:0vh;top:65vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-300vh -205vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube19" class="z x" style="left:5vh;top:65vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-305vh -205vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube20" class="z x" style="left:20vh;top:65vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-320vh -205vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube21" class="z x" style="left:0vh;top:70vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-300vh -210vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube22" class="z x" style="left:5vh;top:70vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-305vh -210vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube23" class="z x" style="left:15vh;top:70vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-315vh -210vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube24" class="z x" style="left:20vh;top:70vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-320vh -210vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="hpx3" class="t" style="left:95vh;transform:translateY(45vh)translateZ(0vh)rotateX(-70deg)translateY(-4vh)">↑<br>New puzzles !<hr>Puzzle editor<br>↓</div></div>
<div id="ih"></div>
<div id="ie"><div id="M0" class="sm" style="transform: translateX(100.25vh) translateY(90vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S0"></div><div id="R0" class="sr" style="transform: rotateZ(3.14159rad);"><div class="z k" id="T0"><div style="background:none;box-shadow:none;color:red;font-size:4vh;text-align:center;transform:rotateZ(180deg)translateY(-4vh)translateZ(1.5vh)">Y</div><div class="u" style="font:2.5vh/4vh a">👀</div><div class="f">‿</div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M1" class="sm" style="transform: translateX(100.25vh) translateY(95vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S1"></div><div id="R1" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T1"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M2" class="sm" style="transform: translateX(100.25vh) translateY(100vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S2"></div><div id="R2" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T2"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M3" class="sm" style="transform: translateX(100.25vh) translateY(105vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S3"></div><div id="R3" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T3"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M4" class="sm" style="transform: translateX(100.25vh) translateY(110vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S4"></div><div id="R4" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T4"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M5" class="sm" style="transform: translateX(100.25vh) translateY(115vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S5"></div><div id="R5" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T5"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M6" class="sm" style="transform: translateX(100.25vh) translateY(120vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S6"></div><div id="R6" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T6"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M7" class="sm" style="transform: translateX(100.25vh) translateY(125vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S7"></div><div id="R7" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T7"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M8" class="sm" style="transform: translateX(100.25vh) translateY(130vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S8"></div><div id="R8" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T8"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M9" class="sm" style="transform: translateX(100.25vh) translateY(135vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S9"></div><div id="R9" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T9"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M10" class="sm" style="transform: translateX(100.25vh) translateY(140vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S10"></div><div id="R10" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T10"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M11" class="sm" style="transform: translateX(100.25vh) translateY(145vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S11"></div><div id="R11" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T11"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M12" class="sm" style="transform: translateX(100.25vh) translateY(150vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S12"></div><div id="R12" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T12"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M13" class="sm" style="transform: translateX(100.25vh) translateY(155vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S13"></div><div id="R13" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T13"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M14" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S14"></div><div id="R14" class="sr"><div class="z k" id="T14"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M15" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S15"></div><div id="R15" class="sr"><div class="z k" id="T15"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M16" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S16"></div><div id="R16" class="sr"><div class="z k" id="T16"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M17" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S17"></div><div id="R17" class="sr"><div class="z k" id="T17"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div></div>
<div id="ia"></div>
</div>
</div>
<center id="iz" style="font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw">
<button id="kU" class="h" ontouchstart="TS(38)" ontouchend="TE(38)">↑</button>
<button id="kD" class="h" ontouchstart="TS(40)" ontouchend="TE(40)">↓</button>
<button id="kL" class="h" ontouchstart="TS(37)" ontouchend="TE(37)">←</button>
<button id="kR" class="h" ontouchstart="TS(39)" ontouchend="TE(39)">→</button>
<button id="kT" class="h" ontouchstart="TS(16)" ontouchend="TE(16)">⬆︎</button>
<button id="kB" class="h" ontouchstart="TS(17)" ontouchend="TE(17)">⬇︎</button>
<button id="kw" class="h" ontouchstart="TS(18)" ontouchend="TE(18)">↩</button>
<button id="kx" class="h" ontouchstart="TS(82)" ontouchend="TE(82)">×</button>
<button id="ky" class="h" ontouchstart="TS(49)" ontouchend="TE(49)">↻</button>
<button id="kz" class="h" ontouchstart="TS(51)" ontouchend="TE(51)">↺</button>
</center>
<center id="ii" style="font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw"></center><div style="position:fixed;font:8vh a;top:3vh;right:3vh" onclick="location='index.html'">×</div></body></html><html><head><title>LOSSST</title><meta content="width=device-width,user-scalable=no" name="viewport"><script>u=r=d=l=s=c=B=0;trees=[];apples=[];doors=[];cubes=[];hints=[];emoji=[];puzzles=[];TS=function(k){ba[k]&&clearInterval(ba[k]);onkeydown({which:"+n+"});ba[k]=setInterval(function(){onkeydown({which:k})},150)};TE=function(k){setTimeout(function(){clearInterval(ba[k]);onkeyup()},150)};var g=0;function ca(){a.style.transform="translateX(-"+q[t]*v+"vh)translateY(-"+w[t]*v+"vh)translateZ(45vh)rotateX(40deg)rotateZ("+g+"rad)"}var x=$=_=0;function da(){var k=0;this.i=function(f){k+=f/48E3*Math.PI*2;return k%=2*Math.PI}}function fa(k){var f=new da,n=new da,m=.1;this.i=function(){if(!k)return 0;var A=k+.4*Math.sin(n.i(3));A=440*Math.pow(2,(A-57)/12);m*=.9998;A=f.i(A);return Math.pow(Math.sin(A),1)*m}}function ha(k){function f(){var f=k.length/2;for(_=$;0>_;)_+=f;_%=f;f=new fa(k[2*_+0].charCodeAt(0)-48);for(var A=new fa(k[2*_+1].charCodeAt(0)-48),P=[],aa=0;48E3>aa;aa++){var ea=f.i(),na=A.i(),za=.5*ea+na;P.push(ea+.5*na);P.push(za)}n(P).play()}function n(f){function k(f){f=m(f);return f[0]+f[1]}function m(f){for(var k=0,m="",n=0;4>n;n++,k+=8)m+=String.fromCharCode(f>>k&255);return m}var n=2*f.length;n="RIFF"+m(n+36)+"WAVEfmt "+m(16)+k(1)+k(2)+m(48E3)+m(192E3)+k(4)+k(16)+"data"+m(n);for(var ea in f)n+=k(32767*f[ea]);return new Audio("data:audio/wav;base64,"+btoa(n))}$=-1;this.forward=function(){$++;f()};this.back=function(){$--;f()}}function ja(k){function f(f){f=n(f);return f[0]+f[1]}function n(f){for(var k=0,m="",n=0;4>n;n++,k+=8)m+=String.fromCharCode(f>>k&255);return m}for(var m=[],A=0;;A++){var P=k(A);if(null===P)break;m.push(P)}k=2*m.length;k="RIFF"+n(k+36)+"WAVEfmt "+n(16)+f(1)+f(1)+n(48E3)+n(96E3)+f(2)+f(16)+"data"+n(k);for(A in m)k+=f(1E4*m[A]);return new Audio("data:audio/wav;base64,"+btoa(k))}function ka(k){return 1E4<k?null:(Math.pow(k,1.055)&128?1:-1)*Math.pow((1E4-k)/1E4,2)/2}function la(k){return 25E3<k?null:((k^k>>3^k*k*7.3^k<<4)&65535)/65536*((25E3-k)/25E3)/2}function ma(k){return 5E3<k?null:(Math.pow(k+1E3*Math.sin(.01*k),.8)&200?.5:-.5)*Math.pow((5E3-k)/5E3,1)/2}function oa(k){if(16E3<k)return null;var f=Math.pow((16E3-k)/16E3,2.1)/2;return(k<16E3/7?k+10*Math.sin(-k/900)&16:k&13)?f:-f}function pa(k){return 9E4<k?null:(Math.pow(k+1E3*Math.sin(.01*k),.8)&200?.5:-.5)*Math.pow((9E4-k)/9E4,1)/4}var qa=new ha("nbo0risiubv0uisirbs0ui0i0b0c0f0gniojrlsjuivjymvjubv0ui0i0j0m0n0rsgu0vnxnzgx0vnunsg0n0o0n0g0s0o0nrisjulvgufsjufscrbo0ni0j0b0i0j0il`n0ogqgs`u0vgxgz`0gxl0nsouqvsxuuev0u`0`0eq0slulqcs0qcs0qbs0q`s0njo0reseujv0xeveuj0v0e0q0j0i0g0e0cu0scq00bv0ufr0sgn0vbr0xiz0zjr0sgu0vbx0zgx0vbubsg{0zb{`z^{0zi{fzgv0xiu0vjs0ulr0sbn0oll0nbl0jfi0g00bxc0`zb0^{`0]z^0[z]0Zz[0]z^0`zb0]uf0bxi0f{l0izr0ozn0ixr0nrulrnbo0risiufs0r`o0nb0czf0gzi0gzf0cub0i0j0mvn0m0j0irbscrbs`rbs`sbrbo`q0sgugv`x0zg{gz`s0x`s0v`x0vcx0ues0q`l00eu00`x00ev00`u00eq00`o`"),ra=new ha("p0r0sdk0rco0pdk0p0r0sdw0rcs0pdk0p0r0sdk0rck0pdk0p0r0sdw0rcs0pd0f0g0iwg0bwgx0wgurrnspur0bufwgubs0pkrcsdk0rco0pkk0p0r0sdk0rco0pk0l0k0iwg0b0k0g0n0kzs0nxi0f|l0izr0p0n0lwk0dwg0k0p0k|s0pur0kuo0k0i0l0k0isd0krj0kpd0k0p0rsd0krl0opd0f0g0iskw0riw0pgw0nfw0u`s0rbs0pd0k"),y=localStorage,z=0,C=+y.lossst_s||0,sa=C?ra:qa,D=+y.lossst_m||0,ta=+y.lossst_t||0,ua=+y.lossst_M||0,va=0,ba=[],wa=0,v=5,t=0,q=[],w=[],E=[],F=[],G=y.lossst_S=+y.lossst_S||5,H=0,I=0,J=null,K="0",L=[],M=[],xa=0,N=0,O=0,Q=0,R=0,S=0,T=0,ya=+y.lossst_T||0,Aa=0,U=0,V=0,W="",X=h=0;function Ba(){var k;navigator.userAgent.match(/Mac/)&&(iv.className="a");navigator.userAgent.match(/Fire|Edg/)&&(iv.className+=" c",wa=4E3);D&&(iv.className+=" i");b.className=W;C&&!H&&(ie.innerHTML="");cubes=[];doors=[];trees=[];apples=[];hints=[];emoji=[];if("pz"==W)X=40,h=20,puzzles=[[5,,1,,"0000000000000000000000000",16,9]],G=5,C=0;else if("py"==W)h=X=20,puzzles=[eval("["+location.hash.slice(1).replace(/[01]{2,}/g,'"$&"')+"]")],G=puzzles[0][1],puzzles[0][5]=puzzles[0][6]=8,C=!!puzzles[0][3],hints=[["Move: arrow keys<br>"+(C?"Up/Down: "+(D?"\u2b06\ufe0e/\u2b07\ufe0e":"Shift/Ctrl")+"<br>":"")+"backtrack: "+(D?"\u21a9":"Alt")+"<br>Reset: R",1,5,1,0,C,0]],delete y.lossst_ppy0;else if("px"==W){X=40;h=20;trees=[[13,9,0],[7,13,0],[35,8,0]];apples=[[11,11,0,0,0],[2,12,0,6,0],[38,10,0,7,0]];doors=[[41,10,Math.PI/2,8,0,"pA",1,0,10,0,0],[20,-2,0,14,0,"pD",1,10,19,0,0],[-2,11,-Math.PI/2,6,0,"pJ",1,14,5,1,1],[20,21,Math.PI,14,0,"pC",1,22,1,0,0],[5,21,Math.PI,5,0,"pI",1,36,1,0,1]];puzzles=[];cubes=[];for(f=9;15>f;f++)for(m=0;5>m;m++)2==m&&14==f||2==m&&13==f||3==m&&13==f||3==m&&12==f||2==m&&12==f||cubes.push([m,f]);hints=[["Move with<br>arrow keys"+(D?"":" or WASD/ZQSD"),19,5,0,13,0],["Use the "+(D?"\u21a9":"Alt")+" key to backtrack",1,9,0,13,0,1],["Approach red doors with the right length to open them",35,14,0,13,0],["\u2191<br>New puzzles !<hr>Puzzle editor<br>\u2193",19,8,14,0,0],["\u2190<br>New puzzles !",1,9,6,7,1,1]];emoji=[["\ud83d\udc3f\ufe0f",30,7],["\ud83c\udf30\ufe0f",29,7]]}else if("pA"==W)X=40,h=20,trees=[[35,15,0]],apples=[[33,16,0,0,6],[34,17,0,0,6],[37,15,0,0,6]],cubes=[],doors=[[-2,10,-Math.PI/2,8,0,"px",0,39,11,0,0],[35,21,Math.PI,11,0,"pB",1,35,1,0,0]],puzzles=[[6,,0,,"000000001000001110001110001000000000",2,3],[6,,0,,"000000011000011100010000011000000000",14,3],[6,,0,,"000000000100001100011000011100000000",26,3],[5,,0,,"0000001110011100110000000",2,13],[6,,0,,"000000011000011000001100001100000000",14,13],[6,,0,,"000000000100001100001110001100000000",26,13]],hints=[["Cover the black patterns to solve puzzles",9,9,1,0],["Solve all the puzzles in the room to unlock a new door",21,9,1,0],["Your progress is saved automatically",34,9,1,0]],emoji=[["\ud83d\udc0c",11,10]];else if("pB"==W)D&&(kx.className="",y.lossst_r=1),X=40,h=20,trees=[[4,7,0]],apples=[[1,8,0,0,12],[2,9,0,0,12]],doors=[[35,-2,0,8,0,"pA",0,35,19,0,0],[-2,10,-Math.PI/2,13,0,"pC",1,39,10,0,0]],puzzles=[[6,,0,,"000000011110011010011110000000000000",8,2],[7,,0,,"0000000001110000111000001100000110000010000000000",18,2],[6,,0,,"000000011000011110001010001110000000",28,2],[6,,0,,"000000011100001110001110001100000000",8,12],[6,,0,,"000000001110001110001110001010000000",18,12],[6,,0,,"000000011110011110001100001000000000",28,12]],hints=[["If you get stuck, "+(D?"click \u00d7":"press R")+" to exit a puzzle",35,11,1,0]],cubes=[[11,4],[21,16]],emoji=[["\ud83d\udc08",4,14]];else if("pC"==W)X=40,h=20,trees=[[35,8,0]],apples=[[34,11,0,0,18]],doors=[[41,10,Math.PI/2,8,0,"pB",0,1,10,0,0],[22,-2,0,14,0,"px",1,20,19,0,0]],puzzles=[[7,,0,,"0000000000000001111000111100001111000100000000000",2,3],[7,,0,,"0000000001110000101000011100001110000110000000000",26,3],[6,,0,,"000000001110011110011010001110000000",14,3],[7,,0,,"0000000001100000111000011100001110000110000000000",2,12],[7,,0,,"0000000000000001111100101010011111000000000000000",14,12],[6,,0,,"000000011000011100011110011110000000",26,12]],hints=[["\u2191<br>After this room, you can try a puzzle editor and a new kind of puzzles !",22,11,13,0,0]],cubes=[[29,5],[30,8],[17,6],[15,4],[15,7],[29,13],[30,13],[30,14],[18,15],[16,15],[6,13],[6,17],[7,8],[6,8],[5,8],[3,7],[3,8],[7,6],[7,5]],emoji=[["\ud83e\udd8b<br><br>",29,13]];else if("pD"==W){h=X=20;trees=[[10,2,0]];doors=[[10,21,Math.PI,14,0,"px",0,20,0,0,0],[-2,5,-Math.PI/2,14,0,"pE",0,24,12,0,0]];puzzles=[[7,,1,,"0100010011111000000000000000000000001111100100010",7,7]];hints=[["Now you're thinking with wraps !",2,2,0,14,0]];for(f=0;20>f;f++)cubes.push([f,10]);emoji=[["\ud83d\udc10",12,2]]}else if("pE"==W)h=X=25,trees=[[5,12,0]],apples=[[4,14,0,0,23]],doors=[[26,12,Math.PI/2,14,0,"pD",0,0,5,0,0],[-2,12,-Math.PI/2,15,0,"pF",1,79,5,0,0]],puzzles=[[7,,1,,"1000001000000000000000010100011011011000111000001",3,3],[6,,1,,"110011100001000000100001100001110011",15,17],[5,,1,,"1100111001100011001110011",16,4],[6,,1,,"000011000011110001110001000011000011",3,17]],hints=[["Reminder:<br>use "+(D?"\u21a9":"Alt")+" to backtrack,<br>"+(D?"\u00d7":"R")+" to exit a puzzle.",11,14,1,0,0]],emoji=[["\ud83d\udc12",12,20]];else if("pF"==W)X=80,h=20,trees=[[35,10,0]],apples=[[38,11,0,0,35]],doors=[[81,5,Math.PI/2,15,0,"pE",0,0,12,0,0],[-2,15,-Math.PI/2,16,0,"pG",1,19,5,0,0]],puzzles=[[5,,1,,"0111101001010110100011111",59,13],[5,,1,,"1111011000111100001011110",48,13],[5,,1,,"1111101000011110111001100",37,13],[5,,1,,"1111110000111001000011111",26,13],[5,,1,,"1100101101001110011101101",15,13],[5,,1,,"1111100001110010000111111",59,2],[5,,1,,"1000110111100011000111111",48,2],[5,,1,,"1000110101101011111110001",37,2],[5,,1,,"1111110001000110000111111",26,2],[5,,1,,"0111101100011100011011110",15,2],[5,,1,,"1111101111001110001100001",4,8],[5,,1,,"1010100101111010000111111",71,8]],hints=[["This room hides a surprise !",72,2,0,15,0],["\u2190<br>Exit",38,9,16,0,0]],cubes=[],emoji=[];else if("pG"==W)X=20,h=30,trees=[[5,25,0]],apples=[[4,24,0,0,37],[7,25,0,0,37],[2,26,0,0,37],[3,28,0,0,37]],doors=[[21,5,Math.PI/2,16,0,"pF",0,1,15,0,0],[10,31,Math.PI,20,0,"pH",1,10,1,0,0]],puzzles=[[6,,1,,"001000001110111111011100011000001000",7,6],[6,,1,,"110001100001000111000111100001110001",7,18]],emoji=[["\ud83d\udc01",9,14]];else if("pH"==W)X=20,h=30,trees=[[16,22]],apples=[[18,22,0,0,39]],doors=[[10,-2,0,18,0,"pG",0,10,29,0,0],[21,25,Math.PI/2,21,0,"pI",1,1,10,0,0]],puzzles=[[6,,1,,"001000011110111111011110011110001000",7,6],[6,,1,,"110001100001000011000111001111111111",7,18]],emoji=[["\ud83e\udd86",9,14]];else if("pI"==W){X=40;h=20;apples=[[38,2,0,5,0]];doors=[[-2,10,-Math.PI/2,1,0,"pH",0,19,25,0,0],[36,-2,0,6,0,"px",1,5,19,0,1]];puzzles=[];hints=[["Guess what, you finished the first half of the game !",5,9,1,0],["You can now move up and down with "+(D?"\u2b06\ufe0e and \u2b07\ufe0e":"Shift and Ctrl keys")+", and open black doors",30,11,1,0]];for(f=0;9>f;f++)cubes.push([30,f]);for(f=30;40>f;f++)cubes.push([f,8]);emoji=[["\ud83d\udc22",13,14]];trees=[[3,1],[15,2],[36,3],[26,5],[25,15],[33,9],[10,12],[36,14],[3,15]]}else"pJ"==W?(X=15,h=70,trees=[[2,62]],apples=[[2,65,0,0,47],[1,66,0,0,47]],doors=[[16,5,Math.PI/2,6,0,"px",0,1,11,0,1],[-2,65,-Math.PI/2,8,0,"pK",1,19,65,0,1]],puzzles=[[5,,0,"0000000000000000000001110",,2,2],[4,,0,"0000000001000110",,4,11],[5,,0,"0000000000000000101001110",,6,20],[5,,0,"0000000000000000111000100",,8,29],[4,,0,"0000000001100110","0000011001100000",2,38],[4,,0,"0000010001100100","0000011001100000",4,47],[4,,0,"0000011001000100","0000010001100000",6,56],[4,,0,"0000000001100110","0100011000100000",8,65]],hints=[["You now have to match the patterns on the walls...",10,2,1,0,1],["... and on the floor too !",10,40,1,0,1]],emoji=[["\ud83e\udd89",10,14]]):"pK"==W?(D&&(ky.className=kz.className="",y.lossst_c=1),X=20,h=75,trees=[[2,2]],apples=[[1,4,0,0,59],[2,5,0,0,59],[3,6,0,0,59],[4,2,0,0,59]],doors=[[21,65,Math.PI/2,7,0,"pJ",0,1,65,0,1],[-2,5,-Math.PI/2,12,0,"pL",1,14,5,0,1]],puzzles=[[5,,0,"0000000000010000110001110",,8,69],[6,,0,"000000000000000000000100001110011000",,12,58],[5,,0,"0000000000010000111001000",,2,58],[4,,0,"0000001001100110","0000001001100000",2,45],[5,,0,"0000000000000000010001110","0000000100001100110000000",12,45],[5,,0,"0000000000000000101001110","0000001110010100000000000",2,34],[5,,0,"0000000000000000011001100","0000001110011000010000000",12,34],[4,,1,"0000011001100110","0110000000000110",2,22],[4,,1,"1001000000001001","1001000000001001",12,22],[4,,1,"0000010011110010","0000111101100000",2,12],[4,,1,"0110010000000011","0000011100110000",12,12],[4,,1,"1101000000000001","1101000000010001",12,2]],hints=[["You can rotate the camera with "+(D?"<br>\u21bb and \u21ba":"the keys 1, 2 and 3"),15,68,1,0,1],["Can you guess what's coming next?",7,54,1,0,1],["3D puzzles with wrap ! Use "+(D?"\u2b06\ufe0e and \u2b07\ufe0e":"Shift and Ctrl")+" to wrap between top and bottom",7,24,1,0,1]],emoji=[["\ud83d\udc1e",3,70]]):"pL"==W?(X=15,h=80,trees=[[2,70]],apples=[[1,73,0,0,68],[3,75,0,0,68]],doors=[[16,5,Math.PI/2,12,0,"pK",0,1,5,0,1],[-2,75,-Math.PI/2,14,0,"pM",1,14,25,0,1]],puzzles=[[5,,0,"0000000000001001111100100",,2,2],[4,,0,"0000010001100000",,5,11],[5,,0,"0000000110000110111000010",,8,20],[5,,0,"0000000000001000111011111","0000000000111001111100000",2,29],[4,,0,"1000110011101111","0000001111110000",5,38],[4,,0,"0000100011001110","1110110010000000",8,45],[4,,1,"1000100110010001","0000100110010000",2,54],[4,,1,"0000001011110100","0000110011110011",5,63],[5,,1,"0100011000010000111001000","0000001110110000100000000",8,72]],cubes=[[6,12]],emoji=[["\ud83d\udc1d",3,20]]):"pM"==W?(X=15,h=30,trees=[[10,12]],apples=[[8,11,0,0,71],[9,10,0,0,71],[10,9,0,0,71],[11,10,0,0,71],[12,11,0,0,71],[7,12,0,0,71]],doors=[[16,25,Math.PI/2,14,0,"pL",0,1,75,0,1],[-2,5,-Math.PI/2,20,0,"pN",1,14,5,0,1]],puzzles=[[5,,1,"0001100110011001100010000","0001100110011001100010000",2,24],[5,,1,"1100010001000011000111000","0000011000110010000000000",4,13],[5,,1,"1101110001000001000011000","1100010000000001000111011",6,2]],emoji=[["\ud83d\udc13",1,14]]):"pN"==W&&(X=15,h=48,trees=[[10,44]],apples=[[7,45,0,0,75]],doors=[[16,5,Math.PI/2,20,0,"pM",0,1,5,0,1]],puzzles=[[4,,1,"0000111101101111","1000111111111000",5,38],[4,,1,"1111001001001111","1111101010101111",5,28],[4,,1,"1111010101011101","0001101101101111",5,18],[4,,1,"1111000100011110","1111110110011111",5,8]],emoji=[["\ud83d\udc09",13,46]]);a.style.width=X*v+"vh";a.style.height=h*v+"vh";H||(ig.innerHTML="");ih.innerHTML="";for(var f in trees)ig.innerHTML+="<div id=tree"+f+' class="j tr"style=left:'+trees[f][0]*v+"vh;transform:translateX(-7vh)translateY("+(trees[f][1]*v+4)+"vh)rotateX(-70deg)>\ud83c\udf33</div><div id=treeshadow"+f+' class="e h"style=left:'+trees[f][0]*v+"vh;transform:translateX(-7.5vh)translateY("+(trees[f][1]*v+3.5)+"vh)rotateZ(144deg)scaleY(1.5)>\ud83c\udf33";for(f in apples)y["lossst_a"+W+f]?delete apples[f]:ig.innerHTML+="<div id=a"+f+' class="j g '+(y["lossst_A"+W+f]?"":"h")+'"style=left:'+apples[f][0]*v+"vh;transform:translateY("+(apples[f][1]*v+4)+"vh)rotateX(-65deg)>"+("pN"==W?"<div>\u26bd</div>":"<div class=m>\ud83c\udf4e</div>")+"</div><div id=as"+f+' class="e p '+(y["lossst_A"+W+f]?"":"h")+'"style=left:'+apples[f][0]*v+"vh;transform:scaleX(-1)translateY("+(apples[f][1]*v+3)+"vh)rotateZ(212deg)>"+("pN"==W?"\u26bd":"\ud83c\udf4e");for(f in emoji)ig.innerHTML+='<div class="j n"style=left:'+(emoji[f][1]*v-1)+"vh;transform:translateY("+(emoji[f][2]*v+4)+"vh)rotateX(-65deg)><div class=m>"+emoji[f][0];for(f in doors)ig.innerHTML+="<div id=d"+(""+W+f)+' class="do'+(y["lossst_d"+W+f]?" s":"")+'"style=left:'+(doors[f][0]+.5)*v+"vh;top:"+(doors[f][1]+.5)*v+"vh;transform:rotateZ("+doors[f][2]+"rad)translateZ("+doors[f][9]*v+'vh)><div class="y d'+doors[f][10]+'"'+(doors[f][6]?"":"hidden")+">"+doors[f][3]+'</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh">';for(var n in puzzles)for(var m in cubes)y["lossst_p"+W+n]&&cubes[m][0]>=puzzles[n][5]&&cubes[m][0]<puzzles[n][5]+puzzles[n][0]&&cubes[m][1]>=puzzles[n][6]&&cubes[m][1]<puzzles[n][6]+puzzles[n][0]&&delete cubes[m];for(f in cubes)ig.innerHTML+="<div id=cube"+f+' class="z x"style=left:'+cubes[f][0]*v+"vh;top:"+cubes[f][1]*v+'vh;width:5vh;height:5vh><div class=f></div><div class=u style="background-position:'+(-300-cubes[f][0]*v)+"vh "+(-140-cubes[f][1]*v)+'vh"></div><div class=r></div><div class=l></div><div class=b>';for(f in hints)C^hints[f][5]||!(hints[f][3]&&hints[f][3]<=G||hints[f][4]&&hints[f][4]>=G)||(ig.innerHTML+="<div id=h"+(""+W+f)+" class=t style=left:"+hints[f][1]*v+"vh;transform:translateY("+(hints[f][2]*v+5)+"vh)translateZ("+(hints[f][6]*v||0)+"vh)rotateX(-70deg)translateY(-4vh)>"+hints[f][0]);y.lossst_x&&top.hpx0&&(hpx0.style.opacity=1);for(n in puzzles){T=puzzles[n][0];var A=k="";ih.innerHTML+="<div id=puzzle"+n+' class="z q v '+(puzzles[n][2]&&!y["lossst_p"+W+n]?"w":"")+'"style=left:'+puzzles[n][5]*v+"vh;top:"+puzzles[n][6]*v+"vh;width:"+puzzles[n][0]*v+"vh;height:"+T*v+"vh>"+(puzzles[n][2]?"<div class=l></div><div class=r></div>":"")+"<div id=D"+n+" class=d></div><div id=B"+n+" class=b></div>"+(puzzles[n][2]?"<div class=f>":"");var P="000",aa="fff";y["lossst_p"+W+n]&&(P="44c",aa="fd0",puzzles[n][2]=0);for(f=0;f<T;f++)for(m=0;m<T;m++)puzzles[n][3]&&(k+="<div class=o id=w"+n+f+m+" style=width:"+v+"vh;height:"+v+"vh;background:#"+("1"==puzzles[n][3][f*T+m]?P:aa)+"></div>"),puzzles[n][4]&&(A+="<div class=o id=g"+n+f+m+" style=width:"+v+"vh;height:"+v+"vh;background:#"+("1"==puzzles[n][4][f*T+m]?P:aa)+"></div>");top["D"+n]&&(top["D"+n].innerHTML+=A);top["B"+n]&&(top["B"+n].innerHTML+=k)}"pN"==W&&(ig.innerHTML+="<div style='position:fixed;transform:"+(D?"rotateZ(-90deg)translateX(-87vh)translateY(22vh)translateZ(365vh)":"rotateZ(-90deg)translateX(-83vh)translateY(6vh)translateZ(208vh)")+";font: 30vh/25vh a'>THE<br><br>END");H&&(y.lossst_e||y.lossst_s&&6<y.lossst_S||(ik.style.opacity=im.style.opacity=0,ik.style.position=im.style.position="fixed",ik.style.top=im.style.top="-9vh"),J=0,Y(1),xa=1,Q=O=N=0,puzzles[0][2]=0,setTimeout(function(){(ib.onchange=ib.oninput=resetgrid=function(){Ca();Y();ij.disabled=1;gridval.innerHTML=T=+ib.value;puzzle0.style.width=puzzle0.style.height=T*v+"vh";puzzles[0][0]=T;D0.innerHTML="";A=k=B0.innerHTML="";M=[];L=[];for(f=0;f<T;f++)for(M[f]=[],L[f]=[],m=0;m<T;m++)M[f][m]=0,L[f][m]=0;for(f=0;f<T;f++)for(m=0;m<T;m++)k+="<div class=o id=w"+K+f+m+" style=width:"+v+"vh;padding-top:"+v+"vh></div>",A+="<div class=o id=g"+K+f+m+" style=width:"+v+"vh;padding-top:"+v+"vh></div>";xa&&(D0.innerHTML+=A);N&&(B0.innerHTML+=k)})();iq.onchange=iq.oninput=function(){it.innerHTML=G=+iq.value;Ca();Y()};ik.onclick=function(){ik.checked?xa=1:top.wall&&(xa=0,C=N=1,wall.checked=!0);a.className=N?"haswall":"";resetgrid()};top.wall&&(wall.onclick=function(){wall.checked?(N=1,C=puzzles[0][3]=1):(N=C=0,xa=1,ik.checked=!0,puzzles[0][3]=0);a.className=N?"haswall":"";resetgrid()});top.wrap&&(wrap.onclick=function(){O=puzzles[0][2]=wrap.checked||0;puzzle0.className="z q v "+(O?"w":"");resetgrid()});print=function(k){var n="";for(f=0;f<T;f++)for(m=0;m<T;m++)n=top[k+"0"+f+m].style.background&&top[k+"0"+f+m].style.background.match(/255/)?n+0:n+1;return n};ij.onclick=function(){var f=[];f.push(T);f.push(G);f.push(O?1:0);f.push(N?print("w"):"");f.push(ik.checked?print("g"):"");open("//twitter.com/intent/tweet?text=I%20made%20a%20level%20for%20@MaximeEuziere's%20%23js13k%20game%20LOSSST!%0APlay%20here:%20js13kgames.com%2Fentries%2Flossst%0AMy%20level:%20js13kgames.com%2Fgames%2Flossst%23"+f+"%0A%23LOSSSTlevels")}},100));"px"!=W||y.lossst_x?(a.style.transition="transform 1s,transform-origin 1s",Ca()):(I=1,setTimeout(function(){Ca();Y();M0.style.transition="transform .5s"},2E3),setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(0);F.push(F[t]);t++;Y()},5500+wa),setTimeout(function(){M0.style.transition="";R0.style.transition="transform .2s";R0.style.transform="rotateZ("+-Math.PI/4+"rad)"},6500+wa),setTimeout(function(){R0.style.transform="rotateZ("+Math.PI/4+"rad)"},7E3+wa),setTimeout(function(){R0.style.transform=""},7500+wa),setTimeout(function(){S0.style.transition=R0.style.transition=""},8E3+wa),setTimeout(function(){clearInterval(x);z||(I=0);hpx0.style.opacity=1},8400),setTimeout(function(){a.style.transition="transform 1s,transform-origin 1s";y.lossst_x=20;y.lossst_y=10;b.innerHTML+="<div style='position:fixed;font:8vh a;top:3vh;right:3vh'onclick=location='index.html'>\u00d7";D&&(kU.className=kD.className=kL.className=kR.className="",y.lossst_w=1)},9E3));Y()}function Ca(){var k=C&&!H?ia:ie;k.innerHTML="";q=[];w=[];E=[];F=[];t=G-1;if("py"==W)for(i=0;i<G;i++)q[t-i]=1-i,w[t-i]=10,E[t-i]=0,F[t-i]=-Math.PI/2;else if(H)for(i=0;i<G;i++)q[t-i]=13-i,w[t-i]=12,E[t-i]=0,F[t-i]=-Math.PI/2;else if(y.lossst_x){var f=+y.lossst_x,n=+y.lossst_y,m=+y.lossst_z;"px"==W&&2>y.lossst_x&&(m=y.lossst_z=1);if("pI"==W&&z&&1==C)for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i-1,F[t-i]=0;else if(2>f)for(i=0;i<G;i++)q[t-i]=f-i,w[t-i]=n,E[t-i]=m,F[t-i]=-Math.PI/2;else if(f>X-2)for(i=0;i<G;i++)q[t-i]=f+i,w[t-i]=n,E[t-i]=m,F[t-i]=Math.PI/2;else if(2>n)for(i=0;i<G;i++)q[t-i]=f,w[t-i]=n-i,E[t-i]=m,F[t-i]=0;else if(n>h-2)for(i=0;i<G;i++)q[t-i]=f,w[t-i]=n+i,E[t-i]=m,F[t-i]=0;else for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i,F[t-i]=0}else if("px"==W)for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i-1,F[t-i]=0;for(i=0;i<Math.max(G+4,16);i++)k.innerHTML+="<div id=M"+i+" class=sm style=transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:"+(v-.7)+"vh;height:"+(v-.7)+"vh><div class=ss id=S"+i+"></div><div id=R"+i+' class=sr><div class="z k"id=T'+i+">"+(1>i?"<div style=background:none;box-shadow:none;color:red;font-size:4vh;text-align:center;transform:rotateZ(180deg)translateY(-4vh)translateZ(1.5vh)>Y</div>":"")+'<div class=u style="font:'+.5*v+"vh/"+.8*v+'vh a">'+(1>i?"\ud83d\udc40":"")+"</div><div class=f>"+(1>i?"\u203f":"")+"</div><div class=r></div><div class=l></div><div class=b>"}function Y(k){for(var f={a:0};f.a<G;f={a:f.a,j:f.j,m:f.m,o:f.o},f.a++)if(!k){var n=oldx=oldy=oldz=newx=newy=newz=0;O&&T&&(q[t-f.a-1]==R&&q[t-f.a]==R+T-1?(n=1,oldx=R-1,newx=R+T,oldy=newy=w[t-f.a],oldz=newz=E[t-f.a]):q[t-f.a-1]==R+T-1&&q[t-f.a]==R?(n=1,oldx=R+T,newx=R-1,oldy=newy=w[t-f.a],oldz=newz=E[t-f.a]):w[t-f.a-1]==S&&w[t-f.a]==S+T-1?(n=1,oldy=S-1,newy=S+T,oldx=newx=q[t-f.a],oldz=newz=E[t-f.a]):w[t-f.a-1]==S+T-1&&w[t-f.a]==S?(n=1,oldy=S+T,newy=S-1,oldx=newx=q[t-f.a],oldz=newz=E[t-f.a]):0==E[t-f.a-1]&&E[t-f.a]==T-1?(n=1,oldz=-1,newz=T,oldx=newx=q[t-f.a],oldy=newy=w[t-f.a]):E[t-f.a-1]==T-1&&0==E[t-f.a]&&(n=1,oldz=T,newz=-1,oldx=newx=q[t-f.a],oldy=newy=w[t-f.a]));if(n)top["R"+f.a].style.transform="rotateZ("+F[t-f.a]+"rad)",top["M"+f.a].style.transform="translateX("+(oldx*v+.5)+"vh)translateY("+(oldy*v+.5)+"vh)translateZ("+(oldz*v+.5)+"vh)scale(.01)scaleZ(.01)",setTimeout(function(f){return function(){top["M"+f.a].style.transition="none"}}(f),90),f.j=newx,f.m=newy,f.o=newz,setTimeout(function(f){return function(){top["M"+f.a].style.transform="translateX("+(f.j*v+.5)+"vh)translateY("+(f.m*v+.5)+"vh)translateZ("+(f.o*v+.5)+"vh)scale(.01)"}}(f),100),setTimeout(function(f){return function(){top["M"+f.a].style.transition="";top["M"+f.a].style.transform="translateX("+(q[t-f.a]*v+.25)+"vh)translateY("+w[t-f.a]*v+"vh)translateZ("+(E[t-f.a]*v+.5)+"vh)"}}(f),150);else try{top["M"+f.a].style.transform="translateX("+(q[t-f.a]*v+.25)+"vh)translateY("+w[t-f.a]*v+"vh)translateZ("+(E[t-f.a]*v+.5)+"vh)",top["R"+f.a].style.transform="rotateZ("+F[t-f.a]+"rad)"}catch(A){}try{top["S"+f.a].style.display=0==E[t-f.a]?"":"none"}catch(A){}}H?a.style.transform="translateX(-100vh)translateY(-37vh)translateZ(-5vh)rotateX(33deg)":null===J||y["lossst_p"+W+J]?(a.style.transform="translateX("+-q[t]*v+"vh)translateY("+-w[t]*v+"vh)translateZ(45vh)rotateX(40deg)rotateZ("+g+"rad)",a.style.transformOrigin=""+q[t]*v+"vh "+w[t]*v+"vh"):(a.style.transform="translateX("+(-(R+puzzles[J][0]/2)*v+5)+"vh)translateY("+(-(S+puzzles[J][0]/2)*v+8)+"vh)translateZ("+(90-puzzles[J][0]*(v+3))+"vh)rotateX(30deg)rotateZ("+g+"rad)",a.style.transformOrigin=""+((R+puzzles[J][0]/2)*v+5)+"vh "+((S+puzzles[J][0]/2-1)*v+8)+"vh");f=C?1:0;for(k=0;k<G;k++){if(0>=E[t-k]){f=0;break}for(m in cubes)cubes[m][0]==q[t-k]&&cubes[m][1]==w[t-k]&&1==E[t-k]&&(f=0)}if(f){for(k=0;k<G;k++)E[t-k]--;try{Y()}catch(A){for(var m=2*G;m--;)q.pop(),w.pop(),E.pop(),F.pop(),t--;Aa=0;Y()}}f=q[t];n=w[t];for(k in doors)(doors[k][10]&&C||!doors[k][10]&&!C)&&top["d"+W+k]&&0<doors[k][3]&&G>=doors[k][3]&&4>Math.hypot(f-doors[k][0],n-doors[k][1])&&!y["lossst_d"+W+k]&&(top["d"+W+k].className="do s",!doors[k][6]||"px"==W&&2<k||ja(pa).play(),y["lossst_d"+W+k]=1),top["d"+W+k]&&"do s"==top["d"+W+k].className&&2>Math.hypot(f-doors[k][0],n-doors[k][1])&&(y.lossst_p=W=doors[k][5],setTimeout(Ba,600),y.lossst_x=doors[k][7],y.lossst_y=doors[k][8],y.lossst_z=0);null!==J&&Da();H||(J=null);H||(L=[],M=[]);for(p in puzzles)if(f>=puzzles[p][5]&&f<puzzles[p][5]+puzzles[p][0]&&n>=puzzles[p][6]&&n<puzzles[p][6]+puzzles[p][0]){J=+p;Q=0;y["lossst_p"+W+p]&&(Q=1);K=p;xa=!!puzzles[p][4];N=!!puzzles[p][3];O=!!puzzles[p][2];R=puzzles[p][5];S=puzzles[p][6];T=puzzles[p][0];for(k=0;k<T;k++)for(L[k]=[],M[k]=[],m=0;m<T;m++)puzzles[p][3]&&(M[k][m]=+puzzles[p][3][k*puzzles[p][0]+m]),puzzles[p][4]&&(L[k][m]=+puzzles[p][4][k*puzzles[p][0]+m]);Da()}}function Z(k,f,n){V=0;if(0>k||k>=X||0>f||f>=h)V=1;for(var m in trees)k>=trees[m][0]-1&&k<=trees[m][0]&&f==trees[m][1]&&3>E[t]&&(V=1);for(m in hints)k>=hints[m][1]&&k<=hints[m][1]+3&&f==hints[m][2]&&G>=hints[m][3]&&(!hints[m][4]||G<=hints[m][4])&&(C&&hints[m][5]||!C&&!hints[m][5])&&(V=1);for(m in apples)if(y["lossst_A"+W+m]&&k==apples[m][0]&&f==apples[m][1]&&0==E[t])if(ja(ka).play(),"pN"==W){x=setInterval(sa.forward,150);y.lossst_E=1;setTimeout(function(){I=1;as0.remove();a0.style.transform="translateY(319vh)translateZ(2vh)rotateX(-65deg)rotateY(90deg)";a0.style.transition=a.style.transition="10s";a0.style.transform="translateY(15vh)translateZ(2vh)rotateX(-65deg)";a.style.transform=D?"translateX(-133vh)translateY(-249vh)translateZ(-373vh)rotateZ(90deg)":"translateX(-141vh)translateY(-227vh)translateZ(-185vh)rotateZ(90deg)"},200);var A={},P;for(P in puzzles)A.g=P,setTimeout(function(f){return function(){top["B"+f.g].style.transition=".5s";top["B"+f.g].style.transform="translateY(-125%)"}}(A),[1450,2500,3800,5400][A.g]),A={g:A.g};setTimeout(function(){clearInterval(va);y.lossst_E=1;y.lossst_e=1;b.style.background="#000";y.lossst_s=0;b.innerHTML="<div id=iv style=perspective:90vh><center id=menu style=width:75vh;transform:translateX(-38vh)translateY(-35vh)rotateX(-28deg)><span style=font-size:4vh;line-height:5vh><h1>Congrats!</h1><br>You completed the game in<br>"+ta+" seconds and "+ua+" moves!<br><br><a href=//twitter.com/intent/tweet?text=I%20played%20LOSSST,%20a%20%23js13k%20game%20by%20by%20@MaximeEuziere%0Amy%20score:%20"+ta+"%20seconds%20and%20"+ua+"%20moves!%0Ajs13kgames.com%2Fentries%2Flossst target=_blank style=color:#def;font-size:4vh>TWEET YOUR SCORE</a><br><br>Dev record:<br>854 seconds, 2452 moves<br><br>3D puzzle editor unlocked!<br><br><a href=. style=font-size:4vh>MAIN MENU"},15E3);n=document.querySelectorAll(".o");A={};for(var aa in n){A.h=aa;try{2==n[A.h].style.backgroundColor.match(/68/g).length&&setTimeout(function(f){return function(){top[n[f.h].id].style.background="#a00"}}(A),8E3+10*A.h)}catch(na){}A={h:A.h}}}else if(delete apples[m],top["a"+m].remove(),top["as"+m].remove(),G++,y.lossst_S=G,y["lossst_a"+W+m]=1,"pF"==W&&16==G){I=1;x=setInterval(sa.forward,150);z=1;a.style.transition="5s";a.style.transform="translateX(-180vh)translateY(-53vh)translateZ("+(D?-422:-180)+"vh)rotateZ(180deg)";setTimeout(function(){a.style.transition="1s";I=z=0;Y();ig.innerHTML+="<div class=t style=left:190vh;transform:translateY(50vh)rotateX(-55deg)translateY(-4vh)>\u2190<br>Exit";clearInterval(x)},1E4);n=document.querySelectorAll(".o");A={};for(var ea in n){A.f=ea;try{n[A.f].id.match(/g\d\d\d$/)&&2==n[A.f].style.backgroundColor.match(/68/g).length&&setTimeout(function(f){return function(){top[n[f.f].id].style.background="#a00"}}(A),5500+10*A.f)}catch(na){}A={f:A.f}}}for(m in cubes)k==cubes[m][0]&&f==cubes[m][1]&&0==n&&(V=1);for(m in emoji)"pC"!=W&&k==emoji[m][1]&&f==emoji[m][2]&&0==n&&(V=1);for(m in doors)top["d"+W+m]&&"do s"==top["d"+W+m].className&&2>=Math.hypot(k-doors[m][0],f-doors[m][1])&&(V=0);hitcube2=0;for(m=G-2;0<m;m--)q[t-m]==k&&w[t-m]==f&&E[t-m]==n&&(V=1,1==m&&(hitcube2=1));for(p in puzzles)puzzles[p][3]&&k>=puzzles[p][5]&&k<puzzles[p][5]+puzzles[p][0]&&(f==puzzles[p][6]-1&&w[t]==puzzles[p][6]&&!puzzles[p][2]||f==puzzles[p][6]&&w[t]==puzzles[p][6]-1)&&(V=1);if("pI"==W&&18==k&&!C){z=C=V=I=1;clearInterval(x);sa=ra;_=$=0;x=setInterval(ra.forward,250);y.lossst_s=1;y.lossst_S=G=5;for(k=0;21>k;k++)cubes.push([q[t-k],w[t-k]]),top["M"+k].id="",top["R"+k].id="",top["S"+k].id="",top["T"+k].id="";a.style.transition="2s";Ca();Y();a.style.transform="translateX(-105vh)translateY(-51vh)translateZ(80vh)rotateX(45deg)";a.style.transformOrigin="140vh 70vh";setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(0);F.push(F[t]);t++;Y()},3E3);setTimeout(function(){ii.innerHTML="Daddy!"},4E3);setTimeout(function(){ii.innerHTML=""},6E3);setTimeout(function(){ii.innerHTML="I lossst my soccer ball!"},7E3);setTimeout(function(){ii.innerHTML=""},9E3);setTimeout(function(){ii.innerHTML="But I found new moves!"},1E4);setTimeout(function(){ii.innerHTML="";z=I=0;clearInterval(x);a.style.transition="1s";Y();Ea();D&&(kT.className=kB.className="",y.lossst_B=1)},13500)}}function Da(){if(!Q&&null!==J){solved=1;H&&(ij.disabled=0);for(i=0;i<T;i++)for(j=0;j<T;j++)try{top["g"+K+i+j]&&(top["g"+K+i+j].style.background=L[i][j]?"#000":"#fff"),top["w"+K+i+j]&&(top["w"+K+i+j].style.background=M[i][j]?"#000":"#fff")}catch(m){}if(q[t]<R||q[t]>R+T-1||w[t]<S||w[t]>S+T-1||0>E[t]||E[t]>T-1)H&&(ij.disabled=1);else{for(i=0;i<G;i++){top["g"+K+(w[t-i]-S)+(q[t-i]-R)]&&(top["g"+K+(w[t-i]-S)+(q[t-i]-R)].style.background=L[w[t-i]-S][q[t-i]-R]?"#080":H?"#44c":"#f00");w[t-i]>=S&&w[t-i]<S+T&&top["w"+K+(T-1-E[t-i])+(q[t-i]-R)]&&(top["w"+K+(T-1-E[t-i])+(q[t-i]-R)].style.background=M[T-1-E[t-i]][q[t-i]-R]?"#080":H?"#44c":"#f00");if(q[t-i]<R||q[t-i]>R+T-1||w[t-i]<S||w[t-i]>S+T-1||E[t-i]>T-1)H&&(ij.disabled=1),solved=0;xa&&L[w[t-i]-S]&&!L[w[t-i]-S][q[t-i]-R]&&(solved=0);N&&M[T-1-E[t-i]]&&!M[T-1-E[t-i]][q[t-i]-R]&&(solved=0)}for(i=0;i<T;i++)for(j=0;j<T;j++){try{xa&&3==top["g"+K+i+j].style.backgroundColor.match(/0/g).length&&(solved=0)}catch(m){}try{N&&3==top["w"+K+i+j].style.backgroundColor.match(/0/g).length&&(solved=0)}catch(m){}}if(solved){Q=H?0:1;puzzles[J][2]=0;top["puzzle"+J].classList.remove("w");H||(y["lossst_p"+W+J]=1);for(i=0;i<T;i++)for(j=0;j<T;j++){try{top["g"+K+i+j].style.background=L[i][j]?"#44c":"#fd0"}catch(m){}try{top["w"+K+i+j].style.background=M[i][j]?"#44c":"#fd0"}catch(m){}}H||(ja(oa).play(),ya++,y.lossst_T=ya);var k=1,f={},n;for(n in cubes)f.b=n,cubes[f.b][0]>=puzzles[J][5]&&cubes[f.b][0]<puzzles[J][5]+puzzles[J][0]&&cubes[f.b][1]>=puzzles[J][6]&&cubes[f.b][1]<puzzles[J][6]+puzzles[J][0]&&(delete cubes[f.b],k++,setTimeout(function(f){return function(){top["cube"+f.b].remove()}}(f),200*k)),f={b:f.b}}}}}function Ea(){for(var k in apples)if(!y["lossst_A"+W+k]&&(0<apples[k][3]&&apples[k][3]==G||0<apples[k][4]&&apples[k][4]==ya)){I=1;D&&"px"==W&&1==k&&(kw.className="",y.lossst_b=1);var f=setTimeout;a.style.transform="translateX("+-apples[k][0]*v+"vh)translateY("+-apples[k][1]*v+"vh)translateZ(50vh)rotateX(35deg)";y["lossst_A"+W+k]=1;a.style.transformOrigin=""+apples[k][0]*v+"vh "+apples[k][1]*v+"vh";f(void 0,250);f=setTimeout;top["a"+k].className="j g";top["as"+k].className="e p";f(void 0,800);setTimeout(function(){ja(la).play()},850);setTimeout(function(){Y();z||(I=0)},2E3)}}function Fa(){U=0;H||(J=null);for(p in puzzles)q[t]>=puzzles[p][5]&&q[t]<puzzles[p][5]+puzzles[p][0]&&w[t]>=puzzles[p][6]&&w[t]<puzzles[p][6]+puzzles[p][0]&&0<=E[t]&&E[t]<puzzles[p][0]&&(J=+p,U=1)}onkeydown=function(k){top["lurd************************l**r************l*d***u**u"[k.which-37]]=1;18==k.which&&(B=1);16==k.which&&(s=1);17==k.which&&(c=1);if(!I){if(49==k.which||97==k.which)-1<g&&g--,ca();if(50==k.which||98==k.which)g=0,ca();if(51==k.which||99==k.which)1>g&&g++,ca()}Fa();U?Da():Aa=0;if(82==k.which&&U){if(Aa<=t)for(var f=Aa;f<=t;f++)q.pop(),w.pop(),E.pop(),F.pop(),setTimeout(function(){sa.back()},70*(t-f));t=Aa-1;Aa=0;Y();Da();y.lossst_M=++ua}else if(116!=k.which&&82!=k.which&&17!=k.which&&123!=k.which&&k.preventDefault&&k.preventDefault(),!I){V=0;if(l)!Q&&O&&U&&q[t]==R?(Z(R+T-1,w[t],E[t]),V||(q.push(R+T-1),w.push(w[t]),E.push(E[t]),F.push(Math.PI/2),t++)):(Z(q[t]-1,w[t],E[t]),V||(q.push(q[t]-1),w.push(w[t]),E.push(E[t]),F.push(Math.PI/2),t++));else if(r)!Q&&O&&U&&q[t]==R+T-1?(Z(R,w[t],E[t]),V||(q.push(R),w.push(w[t]),E.push(E[t]),F.push(-Math.PI/2),t++)):(Z(q[t]+1,w[t],E[t]),V||(q.push(q[t]+1),w.push(w[t]),E.push(E[t]),F.push(-Math.PI/2),t++));else if(u)!Q&&O&&U&&w[t]==S?(Z(q[t],S+T-1,E[t]),V||(q.push(q[t]),w.push(S+T-1),E.push(E[t]),F.push(Math.PI),t++)):(Z(q[t],w[t]-1,E[t]),V||(q.push(q[t]),w.push(w[t]-1),E.push(E[t]),F.push(Math.PI),t++));else if(d)!Q&&O&&U&&w[t]==S+T-1?(Z(q[t],S,E[t]),V||(q.push(q[t]),w.push(S),E.push(E[t]),F.push(0),t++)):(Z(q[t],w[t]+1,E[t]),V||(q.push(q[t]),w.push(w[t]+1),E.push(E[t]),F.push(0),t++));else if((C||N)&&s){if(!U){k=G-1;for(f in cubes)cubes[f][0]==q[t]&&cubes[f][1]==w[t]&&k++;if(E[t]==k)return}!Q&&O&&U&&E[t]==T-1?(Z(q[t],w[t],0),V||(q.push(q[t]),w.push(w[t]),E.push(0),F.push(F[t]),t++)):(Z(q[t],w[t],E[t]+1),V||(q.push(q[t]),w.push(w[t]),E.push(E[t]+1),F.push(F[t]),t++))}else(C||N)&&c?!Q&&O&&U&&0==E[t]?(Z(q[t],w[t],T-1),V||(q.push(q[t]),w.push(w[t]),E.push(T-1),F.push(F[t]),t++)):0==E[t]?V=1:(Z(q[t],w[t],E[t]-1),V||(q.push(q[t]),w.push(w[t]),E.push(E[t]-1),F.push(F[t]),t++)):B&&t>G&&(F.pop(),q.pop(),w.pop(),E.pop(),t--);V&&!I&&(I=1,setTimeout(function(){z||(I=0)},150),!(-1<q[t]&&q[t]<X&&-1<w[t]&&w[t]<h)||"pI"==W&&!C&&16<q[t]||hitcube2||ja(ma).play());if(!V&&!z&&(u||r||d||l||s||c||B)){y.lossst_M=++ua;Da();Y();B?t>G&&sa.back():(C||!s&&!c&&!C)&&sa.forward();Y(1);Ea();I||(I=1,setTimeout(function(){z||(I=0)},150));if("px"==W&&(C||14<=G)&&20==q[t]&&10==w[t]){I=1;var n=0;for(f=0;f<G;f++)setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(--n);F.push(F[t]);t++;Y()},150*f);setTimeout(function(){AA("pz",1)},160*G);y.lossst_x=20;y.lossst_y=10}Fa();U&&!Aa&&(Aa=t)}}};onkeyup=function(){u=r=d=l=s=c=B=0};onload=function(){1<location.hash.length?AA("py",1):(setTimeout(function(){x=setInterval(function(){sa.forward()},500)},200),b.innerHTML="<center id=e>\ud83d\udc40</center>\n<center id=iw></center>\n<div id=iv style=perspective:30vh>\n<center id=menu>\n<h1>LOSSST</h1>\n<span onclick=newgame()>New game</span><br>\n"+(y.lossst_a&&!y.lossst_E?"<span onclick=AA(0,1)>Continue</span><br>":"")+"\n<span onclick=AA(\"pz\",1)>Puzzle editor</span><br>\n<span onclick=top.open('//goo.gl/iKqoCS')>Bonus",newgame=function(){for(i in localStorage)0==i.indexOf("lossst")&&-1==i.indexOf("e")&&delete localStorage[i];y.lossst_a=1;menu.innerHTML="<br><br><span onclick=intro(0)>Desssktop</span><br><br><span onclick=intro(1)>Mobile"},intro=function(k){clearInterval(x);_=$=0;x=setInterval(sa.forward,250);y.lossst_m=D=k;y.lossst_S=G=5;ta=y.lossst_t=0;ua=y.lossst_M=0;y.lossst_M=0;y.lossst_t=0;menu.innerHTML="";setTimeout(function(){e.style.margin=0},500);dir=1;inter=setInterval(function(){e.style.opacity=0;setTimeout(function(){e.style.opacity=1;dir=-dir;e.style.transform="scaleX("+dir+")"},150)},3E3);setTimeout(function(){iw.innerHTML="I lossst my kid !"},2E3);setTimeout(function(){iw.innerHTML=""},5E3);setTimeout(function(){clearInterval(inter);e.style.margin="-80vh 0 0"},7E3);setTimeout(AA,7500)})};AA=function(k,f){if(0===k||"pz"==k)clearInterval(x),_=$=0;"pz"==k&&(H=1,J=0);W=k||y.lossst_p||"px";b.outerHTML="<body id=b class="+W+">\n<div id=iv>\n<div id=a style=transform:translateX(-97vh)translateY(-50vh)rotateZ(90deg)translateZ(119vh);transform-origin:100vh+50vh>\n<div id=ig>"+(H?"<div class=t style=width:60vh;transform:translateX(70vh)translateY(1vh)translateZ(2vh)rotateX(-42deg)>\n<label style=width:100%;text-align:center>Create a pattern with the snake and share it !</label>\n<br style=line-height:6vh>\n<div style=text-align:left;padding-left:5vh>\n<label>Grid</label> <input id=ib type=range value=5 min=3 max=8 step=1>\n<span id=gridval>5</span>\n<br>\n<label>Snake</label> <input id=iq type=range value=5 min=5 max=40 step=1>\n<span id=it>5</span>\n</div>\n<input type=checkbox id=ik checked> <label for=ik id=im>ground</label>\n"+(y.lossst_e||y.lossst_s&&6<y.lossst_S?"<input type=checkbox id=wall> <label for=wall>wall</label>":"")+"\n"+(y.lossst_e||y.lossst_s?"<input type=checkbox id=wrap> <label for=wrap>wrap</label>":"")+"\n<br>\n<center>\n<button id=ij disabled>Share</button>\n</center>\n</div>":"")+"\n</div>\n<div id=ih></div>\n<div id=ie></div>\n<div id=ia></div>\n</div>\n</div>\n<center id=iz style='font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw'>\n<button id=kU class=h ontouchstart=TS(38) ontouchend=TE(38)>\u2191</button>\n<button id=kD class=h ontouchstart=TS(40) ontouchend=TE(40)>\u2193</button>\n<button id=kL class=h ontouchstart=TS(37) ontouchend=TE(37)>\u2190</button>\n<button id=kR class=h ontouchstart=TS(39) ontouchend=TE(39)>\u2192</button>\n<button id=kT class=h ontouchstart=TS(16) ontouchend=TE(16)>\u2b06\ufe0e</button>\n<button id=kB class=h ontouchstart=TS(17) ontouchend=TE(17)>\u2b07\ufe0e</button>\n<button id=kw class=h ontouchstart=TS(18) ontouchend=TE(18)>\u21a9</button>\n<button id=kx class=h ontouchstart=TS(82) ontouchend=TE(82)>\u00d7</button>\n<button id=ky class=h ontouchstart=TS(49) ontouchend=TE(49)>\u21bb</button>\n<button id=kz class=h ontouchstart=TS(51) ontouchend=TE(51)>\u21ba</button>\n</center>\n<center id=ii style='font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw'>";y.lossst_Apx0=1;Ba();if(D&&"py"==W||y.lossst_w)kU.className=kD.className=kL.className=kR.className="";if(D&&"py"==W||y.lossst_b)kw.className="";if(D&&"py"==W||y.lossst_r)kr.className="";if(D&&"py"==W||y.lossst_B)kT.className="",kB.className="";if(D&&"py"==W||y.lossst_c)ky.className="",kz.className="";H||(va=setInterval(function(){y.lossst_t=++ta},1E3));f&&(b.innerHTML+="<div style='position:fixed;font:8vh a;top:3vh;right:3vh'onclick=location='.'>\u00d7")}</script><style>@keyframes move{0%,100%{transform:rotateY(-10deg)}50%{transform:rotateY(10deg)}}*{margin:0;padding:0;font:2.5vh/5.5vh arial,sans-serif;vertical-align:middle;box-sizing:border-box;-webkit-touch-callout:none;-webkit-user-select:none;-webkit-tap-highlight-color:transparent;user-select:none;cursor:pointer;touch-action:manipulation}html,body{height:100%;background:#000;overflow:hidden;background:radial-gradient(#def 25%,#7ce)}a{color:#def}input,button{position:relative;z-index:2}input[type=range]::-webkit-slider-runnable-track,input[type=range]::-webkit-slider-thumb{background:#888;border:1px solid #000}input[type=range]::-moz-range-track,input[type=range]::-moz-range-thumb{background:#888;border:1px solid #000}#iv{width:0;height:0;perspective:120vh;position:absolute;top:50%;left:50%}#iv *{transform-style:preserve-3d}#a{width:0;height:0;transform-origin:18vh 0%;transition:transform 1s,transform-origin 1s}.z{position:fixed;top:0;left:0}.z>div{width:100%;height:100%;position:fixed}.z .u{transform:rotateY(90deg)translateX(-100%)rotateY(-90deg)}.z .l{transform:rotateX(-90deg)translateY(-50%)translateX(-50%)rotateY(-90deg)}.z .r{transform:rotateX(-90deg)translateY(-50%)translateX(50%)rotateY(90deg)}.z .f{transform:translateY(50%)rotateX(-90deg)translateY(-50%)}.z .b{transform:translateY(-50%)rotateX(-90deg)translateY(-50%)rotateY(180deg)}.z.q{width:32vh;height:32vh;transform:none}.z.q>div{background:transparent}.z.q .b{transition:opacity .5s;transform:translateY(-50%)rotateX(-90deg)translateY(-52%)}.z.q.w .d,.z.q .d{transition:opacity .5s;background:#0c5b0c}.sm,.sr{transform-origin:50% 50%;width:100%;height:100%;position:fixed}.sm{transition:transform .15s}.z.k{width:100%;height:100%}.z.k>div{box-shadow:0 0 0 .1vh #000 inset;text-align:center}.z.k .f{line-height:3vh}#ie .z.k>div{background:#FFA500}#ie .z.k .u{background:#dF8500}#ia .z.k>div,#a.haswall .z.k>div{background:#444}#ia .z.k .u,#a.haswall .z.k .u{background:#333}#ia .z.k .f{color:#fff}.ss{position:fixed;width:100%;height:100%;background:rgba(0,0,0,.25);transform:translateX(14%)translateY(14%)translateZ(-.25vh)}label{display:inline-block;width:22%}button{display:inline-block;width:23%;border:.2vh solid #000;margin:1vh 2% 0 0}input[type=range]{width:60%}#form{width:50vh;margin:auto}.o{float:left;outline:.4vh solid #888;opacity:0;transition:opacity .5s;background:#fff}.z.q.v{transform:translateZ(.1vh)}.z.q.v .o{opacity:1}.z.q.v .d{transform:none}.z.q.w>div{background:linear-gradient(45deg,rgba(200,200,200,.1),rgba(200,200,200,.3));box-shadow:0 0 .1vh rgba(255,255,255,.5)}.j{position:fixed;transform-origin:50% 100%;bottom:0}.m{animation:move 3s infinite}.e{color:rgba(0,0,0,.002);text-shadow:0px 0px rgba(0,0,0,.25);position:fixed;transform-origin:50% 100%;bottom:0}.tr,.h{font:11vh/12vh a}.a .tr{font:15vh/11vh a}.a .h,.c .h,.i .h,.a .p,.c .p,.i .p,.c .x.b,#iz button.h{display:none}.g,.g *,.p{font:4vh/5vh a;transition:opacity .5s .5s}.n,.n *{font:5vh/6vh a}.g.h,.p.h{opacity:0}.a .g{font:6vh/5vh a}.do{position:fixed;transform-origin:0% 100%;width:0;height:0}.do .y{position:fixed;width:15vh;height:20vh;background:radial-gradient(2vh at 90% 50%,gold 35%,transparent 40%),#a22;border-radius:1vh 1vh 0 0;transform-origin:0% 100%;transform:translateX(-7.5vh)translateY(-12.5vh)rotateX(-90deg);text-align:center;font-size:6vh;line-height:12vh;color:#fff;transition:transform 1s}.do .y.d1{background:radial-gradient(2vh at 90% 50%,gold 35%,transparent 40%),#222}.do.s .y{transform:translateX(-7.5vh)translateY(-12.5vh)rotateX(-90deg)rotateY(90deg)}.z.x div{background:linear-gradient(45deg,#640,#583808)}.z.x div.u{transform:rotateY(90deg)translateX(-5.4vh)translateZ(-.1vh)rotateY(-90deg);background:radial-gradient(#3F7D1F,#034301);background-size:280vh 140vh;width:5.3vh;height:5.3vh}.t{position:fixed;background:#fff;padding:.7vh;width:20vh;font:2vh/2.5vh arial,sans-serif;transform-origin:50% 100%;text-align:center;box-shadow:0 0 0 .2vh #000 inset;bottom:0}.t br{font:0/0 a}.t:before{content:"";width:3vh;height:3vh;background:#750;position:absolute;bottom:-3vh;left:8vh;border-left:.2vh solid;border-right:.2vh solid}.pz .t:before{left:28vh}label{text-align:left}#a{transition:transform 6s ease-in,transform-origin 6s ease-in;width:280vh;height:140vh;background:radial-gradient(#4F8D2F,#136321);border-radius:3vh}.px #a,.pI #a{background:radial-gradient(10vh at 51.3% 52%,#000 40%,transparent 50%),radial-gradient(15vh at 51.3% 52%,#640 40%,transparent 50%),radial-gradient(#4F8D2F,#136321)}#e{margin:99vh 0 0;transition:margin 1s;font:10vh/80vh a}#iw{font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw}#menu{color:#fff;width:55vh;transform:translateX(-27vh)translateY(-20vh)rotateX(-17deg)}#menu span{font:7vh/12vh arial,sans-serif}#menu h1{font:13vh/16vh arial,sans-serif;text-shadow:.1vh -.1vh #777,.2vh -.2vh #777,.3vh -.3vh #777}#menu span:hover{color:#ace;transform:rotateX(-10deg)}.pN #menu span:hover{color:#fff}#iz button{position:fixed;width:10vh;height:10vh;text-align:center;font:6vh/10vh a}#kU{right:14vh;bottom:14vh}#kD{right:14vh;bottom:2vh}#kL{right:26vh;bottom:2vh}#kR{right:2vh;bottom:2vh}#kT{left:2vh;top:2vh}#kB{left:2vh;top:14vh}#kw{bottom:2vh;left:2vh}#kx{bottom:14vh;left:2vh}#ky{top:2vh;right:18vh}#kz{top:2vh;right:6vh}#hpx0{opacity:0;transition:opacity .5s}</style></head><head></head><body id="b" class="pE">
<div id="iv">
<div id="a" style="transform: translateX(-80vh) translateY(-40vh) translateZ(45vh) rotateX(40deg) rotateZ(0rad); transform-origin: 80vh 40vh 0px; width: 125vh; height: 125vh; transition: transform 1s, transform-origin 1s;">
<div id="ig"><div id="tree0" class="j tr" style="left:25vh;transform:translateX(-7vh)translateY(64vh)rotateX(-70deg)">🌳</div><div id="treeshadow0" class="e h" style="left:25vh;transform:translateX(-7.5vh)translateY(63.5vh)rotateZ(144deg)scaleY(1.5)">🌳</div><div id="a0" class="j g h" style="left:20vh;transform:translateY(74vh)rotateX(-65deg)"><div class="m">🍎</div></div><div id="as0" class="e p h" style="left:20vh;transform:scaleX(-1)translateY(73vh)rotateZ(212deg)">🍎</div><div class="j n" style="left:59vh;transform:translateY(104vh)rotateX(-65deg)"><div class="m">🐒</div></div><div id="dpE0" class="do s" style="left:132.5vh;top:62.5vh;transform:rotateZ(1.5707963267948966rad)translateZ(0vh)"><div class="y d0" hidden="">14</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh"></div></div><div id="dpE1" class="do" style="left:-7.5vh;top:62.5vh;transform:rotateZ(-1.5707963267948966rad)translateZ(0vh)"><div class="y d0">15</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh"></div></div><div id="hpE0" class="t" style="left:55vh;transform:translateY(75vh)translateZ(0vh)rotateX(-70deg)translateY(-4vh)">Reminder:<br>use Alt to backtrack,<br>R to exit a puzzle.</div></div>
<div id="ih"><div id="puzzle0" class="z q v w" style="left:15vh;top:15vh;width:35vh;height:35vh"><div class="l"></div><div class="r"></div><div id="D0" class="d"><div class="o" id="g000" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g001" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g002" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g003" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g004" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g005" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g006" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g010" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g011" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g012" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g013" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g014" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g015" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g016" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g020" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g021" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g022" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g023" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g024" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g025" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g026" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g030" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g031" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g032" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g033" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g034" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g035" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g036" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g040" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g041" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g042" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g043" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g044" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g045" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g046" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g050" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g051" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g052" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g053" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g054" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g055" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g056" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g060" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g061" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g062" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g063" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g064" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g065" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g066" style="width:5vh;height:5vh;background:#000"></div></div><div id="B0" class="b"></div><div class="f"></div></div><div id="puzzle1" class="z q v w" style="left:75vh;top:85vh;width:30vh;height:30vh"><div class="l"></div><div class="r"></div><div id="D1" class="d"><div class="o" id="g100" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g101" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g102" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g103" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g104" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g105" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g110" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g111" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g112" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g113" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g114" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g115" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g120" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g121" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g122" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g123" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g124" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g125" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g130" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g131" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g132" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g133" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g134" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g135" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g140" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g141" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g142" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g143" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g144" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g145" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g150" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g151" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g152" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g153" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g154" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g155" style="width:5vh;height:5vh;background:#000"></div></div><div id="B1" class="b"></div><div class="f"></div></div><div id="puzzle2" class="z q v" style="left:80vh;top:20vh;width:25vh;height:25vh"><div class="l"></div><div class="r"></div><div id="D2" class="d"><div class="o" id="g200" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g201" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g202" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g203" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g204" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g210" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g211" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g212" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g213" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g214" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g220" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g221" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g222" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g223" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g224" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g230" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g231" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g232" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g233" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g234" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g240" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g241" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g242" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g243" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g244" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div></div><div id="B2" class="b"></div><div class="f"></div></div><div id="puzzle3" class="z q v w" style="left:15vh;top:85vh;width:30vh;height:30vh"><div class="l"></div><div class="r"></div><div id="D3" class="d"><div class="o" id="g300" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g301" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g302" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g303" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g304" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g305" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g310" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g311" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g312" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g313" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g314" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g315" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g320" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g321" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g322" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g323" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g324" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g325" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g330" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g331" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g332" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g333" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g334" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g335" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g340" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g341" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g342" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g343" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g344" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g345" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g350" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g351" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g352" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g353" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g354" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g355" style="width:5vh;height:5vh;background:#000"></div></div><div id="B3" class="b"></div><div class="f"></div></div></div>
<div id="ie"><div id="M0" class="sm" style="transform: translateX(80.25vh) translateY(40vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S0"></div><div id="R0" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T0"><div style="background:none;box-shadow:none;color:red;font-size:4vh;text-align:center;transform:rotateZ(180deg)translateY(-4vh)translateZ(1.5vh)">Y</div><div class="u" style="font:2.5vh/4vh a">👀</div><div class="f">‿</div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M1" class="sm" style="transform: translateX(80.25vh) translateY(35vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S1"></div><div id="R1" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T1"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M2" class="sm" style="transform: translateX(80.25vh) translateY(30vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S2"></div><div id="R2" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T2"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M3" class="sm" style="transform: translateX(80.25vh) translateY(25vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S3"></div><div id="R3" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T3"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M4" class="sm" style="transform: translateX(85.25vh) translateY(25vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S4"></div><div id="R4" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T4"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M5" class="sm" style="transform: translateX(85.25vh) translateY(20vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S5"></div><div id="R5" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id="T5"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M6" class="sm" style="transform: translateX(80.25vh) translateY(20vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S6"></div><div id="R6" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id="T6"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M7" class="sm" style="transform: translateX(100.25vh) translateY(20vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S7"></div><div id="R7" class="sr" style="transform: rotateZ(3.14159rad);"><div class="z k" id="T7"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M8" class="sm" style="transform: translateX(100.25vh) translateY(25vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S8"></div><div id="R8" class="sr" style="transform: rotateZ(3.14159rad);"><div class="z k" id="T8"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M9" class="sm" style="transform: translateX(100.25vh) translateY(30vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S9"></div><div id="R9" class="sr" style="transform: rotateZ(3.14159rad);"><div class="z k" id="T9"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M10" class="sm" style="transform: translateX(100.25vh) translateY(35vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S10"></div><div id="R10" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id="T10"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M11" class="sm" style="transform: translateX(95.25vh) translateY(35vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S11"></div><div id="R11" class="sr" style="transform: rotateZ(3.14159rad);"><div class="z k" id="T11"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M12" class="sm" style="transform: translateX(95.25vh) translateY(40vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S12"></div><div id="R12" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T12"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M13" class="sm" style="transform: translateX(100.25vh) translateY(40vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S13"></div><div id="R13" class="sr" style="transform: rotateZ(3.14159rad);"><div class="z k" id="T13"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M14" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S14"></div><div id="R14" class="sr"><div class="z k" id="T14"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M15" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S15"></div><div id="R15" class="sr"><div class="z k" id="T15"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M16" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S16"></div><div id="R16" class="sr"><div class="z k" id="T16"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M17" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S17"></div><div id="R17" class="sr"><div class="z k" id="T17"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div></div>
<div id="ia"></div>
</div>
</div>
<center id="iz" style="font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw">
<button id="kU" class="h" ontouchstart="TS(38)" ontouchend="TE(38)">↑</button>
<button id="kD" class="h" ontouchstart="TS(40)" ontouchend="TE(40)">↓</button>
<button id="kL" class="h" ontouchstart="TS(37)" ontouchend="TE(37)">←</button>
<button id="kR" class="h" ontouchstart="TS(39)" ontouchend="TE(39)">→</button>
<button id="kT" class="h" ontouchstart="TS(16)" ontouchend="TE(16)">⬆︎</button>
<button id="kB" class="h" ontouchstart="TS(17)" ontouchend="TE(17)">⬇︎</button>
<button id="kw" class="h" ontouchstart="TS(18)" ontouchend="TE(18)">↩</button>
<button id="kx" class="h" ontouchstart="TS(82)" ontouchend="TE(82)">×</button>
<button id="ky" class="h" ontouchstart="TS(49)" ontouchend="TE(49)">↻</button>
<button id="kz" class="h" ontouchstart="TS(51)" ontouchend="TE(51)">↺</button>
</center>
<center id="ii" style="font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw"></center><div style="position:fixed;font:8vh a;top:3vh;right:3vh" onclick="location='index.html'">×</div></body></html><html><head><title>LOSSST</title><meta content="width=device-width,user-scalable=no" name="viewport"><script>u=r=d=l=s=c=B=0;trees=[];apples=[];doors=[];cubes=[];hints=[];emoji=[];puzzles=[];TS=function(k){ba[k]&&clearInterval(ba[k]);onkeydown({which:"+n+"});ba[k]=setInterval(function(){onkeydown({which:k})},150)};TE=function(k){setTimeout(function(){clearInterval(ba[k]);onkeyup()},150)};var g=0;function ca(){a.style.transform="translateX(-"+q[t]*v+"vh)translateY(-"+w[t]*v+"vh)translateZ(45vh)rotateX(40deg)rotateZ("+g+"rad)"}var x=$=_=0;function da(){var k=0;this.i=function(f){k+=f/48E3*Math.PI*2;return k%=2*Math.PI}}function fa(k){var f=new da,n=new da,m=.1;this.i=function(){if(!k)return 0;var A=k+.4*Math.sin(n.i(3));A=440*Math.pow(2,(A-57)/12);m*=.9998;A=f.i(A);return Math.pow(Math.sin(A),1)*m}}function ha(k){function f(){var f=k.length/2;for(_=$;0>_;)_+=f;_%=f;f=new fa(k[2*_+0].charCodeAt(0)-48);for(var A=new fa(k[2*_+1].charCodeAt(0)-48),P=[],aa=0;48E3>aa;aa++){var ea=f.i(),na=A.i(),za=.5*ea+na;P.push(ea+.5*na);P.push(za)}n(P).play()}function n(f){function k(f){f=m(f);return f[0]+f[1]}function m(f){for(var k=0,m="",n=0;4>n;n++,k+=8)m+=String.fromCharCode(f>>k&255);return m}var n=2*f.length;n="RIFF"+m(n+36)+"WAVEfmt "+m(16)+k(1)+k(2)+m(48E3)+m(192E3)+k(4)+k(16)+"data"+m(n);for(var ea in f)n+=k(32767*f[ea]);return new Audio("data:audio/wav;base64,"+btoa(n))}$=-1;this.forward=function(){$++;f()};this.back=function(){$--;f()}}function ja(k){function f(f){f=n(f);return f[0]+f[1]}function n(f){for(var k=0,m="",n=0;4>n;n++,k+=8)m+=String.fromCharCode(f>>k&255);return m}for(var m=[],A=0;;A++){var P=k(A);if(null===P)break;m.push(P)}k=2*m.length;k="RIFF"+n(k+36)+"WAVEfmt "+n(16)+f(1)+f(1)+n(48E3)+n(96E3)+f(2)+f(16)+"data"+n(k);for(A in m)k+=f(1E4*m[A]);return new Audio("data:audio/wav;base64,"+btoa(k))}function ka(k){return 1E4<k?null:(Math.pow(k,1.055)&128?1:-1)*Math.pow((1E4-k)/1E4,2)/2}function la(k){return 25E3<k?null:((k^k>>3^k*k*7.3^k<<4)&65535)/65536*((25E3-k)/25E3)/2}function ma(k){return 5E3<k?null:(Math.pow(k+1E3*Math.sin(.01*k),.8)&200?.5:-.5)*Math.pow((5E3-k)/5E3,1)/2}function oa(k){if(16E3<k)return null;var f=Math.pow((16E3-k)/16E3,2.1)/2;return(k<16E3/7?k+10*Math.sin(-k/900)&16:k&13)?f:-f}function pa(k){return 9E4<k?null:(Math.pow(k+1E3*Math.sin(.01*k),.8)&200?.5:-.5)*Math.pow((9E4-k)/9E4,1)/4}var qa=new ha("nbo0risiubv0uisirbs0ui0i0b0c0f0gniojrlsjuivjymvjubv0ui0i0j0m0n0rsgu0vnxnzgx0vnunsg0n0o0n0g0s0o0nrisjulvgufsjufscrbo0ni0j0b0i0j0il`n0ogqgs`u0vgxgz`0gxl0nsouqvsxuuev0u`0`0eq0slulqcs0qcs0qbs0q`s0njo0reseujv0xeveuj0v0e0q0j0i0g0e0cu0scq00bv0ufr0sgn0vbr0xiz0zjr0sgu0vbx0zgx0vbubsg{0zb{`z^{0zi{fzgv0xiu0vjs0ulr0sbn0oll0nbl0jfi0g00bxc0`zb0^{`0]z^0[z]0Zz[0]z^0`zb0]uf0bxi0f{l0izr0ozn0ixr0nrulrnbo0risiufs0r`o0nb0czf0gzi0gzf0cub0i0j0mvn0m0j0irbscrbs`rbs`sbrbo`q0sgugv`x0zg{gz`s0x`s0v`x0vcx0ues0q`l00eu00`x00ev00`u00eq00`o`"),ra=new ha("p0r0sdk0rco0pdk0p0r0sdw0rcs0pdk0p0r0sdk0rck0pdk0p0r0sdw0rcs0pd0f0g0iwg0bwgx0wgurrnspur0bufwgubs0pkrcsdk0rco0pkk0p0r0sdk0rco0pk0l0k0iwg0b0k0g0n0kzs0nxi0f|l0izr0p0n0lwk0dwg0k0p0k|s0pur0kuo0k0i0l0k0isd0krj0kpd0k0p0rsd0krl0opd0f0g0iskw0riw0pgw0nfw0u`s0rbs0pd0k"),y=localStorage,z=0,C=+y.lossst_s||0,sa=C?ra:qa,D=+y.lossst_m||0,ta=+y.lossst_t||0,ua=+y.lossst_M||0,va=0,ba=[],wa=0,v=5,t=0,q=[],w=[],E=[],F=[],G=y.lossst_S=+y.lossst_S||5,H=0,I=0,J=null,K="0",L=[],M=[],xa=0,N=0,O=0,Q=0,R=0,S=0,T=0,ya=+y.lossst_T||0,Aa=0,U=0,V=0,W="",X=h=0;function Ba(){var k;navigator.userAgent.match(/Mac/)&&(iv.className="a");navigator.userAgent.match(/Fire|Edg/)&&(iv.className+=" c",wa=4E3);D&&(iv.className+=" i");b.className=W;C&&!H&&(ie.innerHTML="");cubes=[];doors=[];trees=[];apples=[];hints=[];emoji=[];if("pz"==W)X=40,h=20,puzzles=[[5,,1,,"0000000000000000000000000",16,9]],G=5,C=0;else if("py"==W)h=X=20,puzzles=[eval("["+location.hash.slice(1).replace(/[01]{2,}/g,'"$&"')+"]")],G=puzzles[0][1],puzzles[0][5]=puzzles[0][6]=8,C=!!puzzles[0][3],hints=[["Move: arrow keys<br>"+(C?"Up/Down: "+(D?"\u2b06\ufe0e/\u2b07\ufe0e":"Shift/Ctrl")+"<br>":"")+"backtrack: "+(D?"\u21a9":"Alt")+"<br>Reset: R",1,5,1,0,C,0]],delete y.lossst_ppy0;else if("px"==W){X=40;h=20;trees=[[13,9,0],[7,13,0],[35,8,0]];apples=[[11,11,0,0,0],[2,12,0,6,0],[38,10,0,7,0]];doors=[[41,10,Math.PI/2,8,0,"pA",1,0,10,0,0],[20,-2,0,14,0,"pD",1,10,19,0,0],[-2,11,-Math.PI/2,6,0,"pJ",1,14,5,1,1],[20,21,Math.PI,14,0,"pC",1,22,1,0,0],[5,21,Math.PI,5,0,"pI",1,36,1,0,1]];puzzles=[];cubes=[];for(f=9;15>f;f++)for(m=0;5>m;m++)2==m&&14==f||2==m&&13==f||3==m&&13==f||3==m&&12==f||2==m&&12==f||cubes.push([m,f]);hints=[["Move with<br>arrow keys"+(D?"":" or WASD/ZQSD"),19,5,0,13,0],["Use the "+(D?"\u21a9":"Alt")+" key to backtrack",1,9,0,13,0,1],["Approach red doors with the right length to open them",35,14,0,13,0],["\u2191<br>New puzzles !<hr>Puzzle editor<br>\u2193",19,8,14,0,0],["\u2190<br>New puzzles !",1,9,6,7,1,1]];emoji=[["\ud83d\udc3f\ufe0f",30,7],["\ud83c\udf30\ufe0f",29,7]]}else if("pA"==W)X=40,h=20,trees=[[35,15,0]],apples=[[33,16,0,0,6],[34,17,0,0,6],[37,15,0,0,6]],cubes=[],doors=[[-2,10,-Math.PI/2,8,0,"px",0,39,11,0,0],[35,21,Math.PI,11,0,"pB",1,35,1,0,0]],puzzles=[[6,,0,,"000000001000001110001110001000000000",2,3],[6,,0,,"000000011000011100010000011000000000",14,3],[6,,0,,"000000000100001100011000011100000000",26,3],[5,,0,,"0000001110011100110000000",2,13],[6,,0,,"000000011000011000001100001100000000",14,13],[6,,0,,"000000000100001100001110001100000000",26,13]],hints=[["Cover the black patterns to solve puzzles",9,9,1,0],["Solve all the puzzles in the room to unlock a new door",21,9,1,0],["Your progress is saved automatically",34,9,1,0]],emoji=[["\ud83d\udc0c",11,10]];else if("pB"==W)D&&(kx.className="",y.lossst_r=1),X=40,h=20,trees=[[4,7,0]],apples=[[1,8,0,0,12],[2,9,0,0,12]],doors=[[35,-2,0,8,0,"pA",0,35,19,0,0],[-2,10,-Math.PI/2,13,0,"pC",1,39,10,0,0]],puzzles=[[6,,0,,"000000011110011010011110000000000000",8,2],[7,,0,,"0000000001110000111000001100000110000010000000000",18,2],[6,,0,,"000000011000011110001010001110000000",28,2],[6,,0,,"000000011100001110001110001100000000",8,12],[6,,0,,"000000001110001110001110001010000000",18,12],[6,,0,,"000000011110011110001100001000000000",28,12]],hints=[["If you get stuck, "+(D?"click \u00d7":"press R")+" to exit a puzzle",35,11,1,0]],cubes=[[11,4],[21,16]],emoji=[["\ud83d\udc08",4,14]];else if("pC"==W)X=40,h=20,trees=[[35,8,0]],apples=[[34,11,0,0,18]],doors=[[41,10,Math.PI/2,8,0,"pB",0,1,10,0,0],[22,-2,0,14,0,"px",1,20,19,0,0]],puzzles=[[7,,0,,"0000000000000001111000111100001111000100000000000",2,3],[7,,0,,"0000000001110000101000011100001110000110000000000",26,3],[6,,0,,"000000001110011110011010001110000000",14,3],[7,,0,,"0000000001100000111000011100001110000110000000000",2,12],[7,,0,,"0000000000000001111100101010011111000000000000000",14,12],[6,,0,,"000000011000011100011110011110000000",26,12]],hints=[["\u2191<br>After this room, you can try a puzzle editor and a new kind of puzzles !",22,11,13,0,0]],cubes=[[29,5],[30,8],[17,6],[15,4],[15,7],[29,13],[30,13],[30,14],[18,15],[16,15],[6,13],[6,17],[7,8],[6,8],[5,8],[3,7],[3,8],[7,6],[7,5]],emoji=[["\ud83e\udd8b<br><br>",29,13]];else if("pD"==W){h=X=20;trees=[[10,2,0]];doors=[[10,21,Math.PI,14,0,"px",0,20,0,0,0],[-2,5,-Math.PI/2,14,0,"pE",0,24,12,0,0]];puzzles=[[7,,1,,"0100010011111000000000000000000000001111100100010",7,7]];hints=[["Now you're thinking with wraps !",2,2,0,14,0]];for(f=0;20>f;f++)cubes.push([f,10]);emoji=[["\ud83d\udc10",12,2]]}else if("pE"==W)h=X=25,trees=[[5,12,0]],apples=[[4,14,0,0,23]],doors=[[26,12,Math.PI/2,14,0,"pD",0,0,5,0,0],[-2,12,-Math.PI/2,15,0,"pF",1,79,5,0,0]],puzzles=[[7,,1,,"1000001000000000000000010100011011011000111000001",3,3],[6,,1,,"110011100001000000100001100001110011",15,17],[5,,1,,"1100111001100011001110011",16,4],[6,,1,,"000011000011110001110001000011000011",3,17]],hints=[["Reminder:<br>use "+(D?"\u21a9":"Alt")+" to backtrack,<br>"+(D?"\u00d7":"R")+" to exit a puzzle.",11,14,1,0,0]],emoji=[["\ud83d\udc12",12,20]];else if("pF"==W)X=80,h=20,trees=[[35,10,0]],apples=[[38,11,0,0,35]],doors=[[81,5,Math.PI/2,15,0,"pE",0,0,12,0,0],[-2,15,-Math.PI/2,16,0,"pG",1,19,5,0,0]],puzzles=[[5,,1,,"0111101001010110100011111",59,13],[5,,1,,"1111011000111100001011110",48,13],[5,,1,,"1111101000011110111001100",37,13],[5,,1,,"1111110000111001000011111",26,13],[5,,1,,"1100101101001110011101101",15,13],[5,,1,,"1111100001110010000111111",59,2],[5,,1,,"1000110111100011000111111",48,2],[5,,1,,"1000110101101011111110001",37,2],[5,,1,,"1111110001000110000111111",26,2],[5,,1,,"0111101100011100011011110",15,2],[5,,1,,"1111101111001110001100001",4,8],[5,,1,,"1010100101111010000111111",71,8]],hints=[["This room hides a surprise !",72,2,0,15,0],["\u2190<br>Exit",38,9,16,0,0]],cubes=[],emoji=[];else if("pG"==W)X=20,h=30,trees=[[5,25,0]],apples=[[4,24,0,0,37],[7,25,0,0,37],[2,26,0,0,37],[3,28,0,0,37]],doors=[[21,5,Math.PI/2,16,0,"pF",0,1,15,0,0],[10,31,Math.PI,20,0,"pH",1,10,1,0,0]],puzzles=[[6,,1,,"001000001110111111011100011000001000",7,6],[6,,1,,"110001100001000111000111100001110001",7,18]],emoji=[["\ud83d\udc01",9,14]];else if("pH"==W)X=20,h=30,trees=[[16,22]],apples=[[18,22,0,0,39]],doors=[[10,-2,0,18,0,"pG",0,10,29,0,0],[21,25,Math.PI/2,21,0,"pI",1,1,10,0,0]],puzzles=[[6,,1,,"001000011110111111011110011110001000",7,6],[6,,1,,"110001100001000011000111001111111111",7,18]],emoji=[["\ud83e\udd86",9,14]];else if("pI"==W){X=40;h=20;apples=[[38,2,0,5,0]];doors=[[-2,10,-Math.PI/2,1,0,"pH",0,19,25,0,0],[36,-2,0,6,0,"px",1,5,19,0,1]];puzzles=[];hints=[["Guess what, you finished the first half of the game !",5,9,1,0],["You can now move up and down with "+(D?"\u2b06\ufe0e and \u2b07\ufe0e":"Shift and Ctrl keys")+", and open black doors",30,11,1,0]];for(f=0;9>f;f++)cubes.push([30,f]);for(f=30;40>f;f++)cubes.push([f,8]);emoji=[["\ud83d\udc22",13,14]];trees=[[3,1],[15,2],[36,3],[26,5],[25,15],[33,9],[10,12],[36,14],[3,15]]}else"pJ"==W?(X=15,h=70,trees=[[2,62]],apples=[[2,65,0,0,47],[1,66,0,0,47]],doors=[[16,5,Math.PI/2,6,0,"px",0,1,11,0,1],[-2,65,-Math.PI/2,8,0,"pK",1,19,65,0,1]],puzzles=[[5,,0,"0000000000000000000001110",,2,2],[4,,0,"0000000001000110",,4,11],[5,,0,"0000000000000000101001110",,6,20],[5,,0,"0000000000000000111000100",,8,29],[4,,0,"0000000001100110","0000011001100000",2,38],[4,,0,"0000010001100100","0000011001100000",4,47],[4,,0,"0000011001000100","0000010001100000",6,56],[4,,0,"0000000001100110","0100011000100000",8,65]],hints=[["You now have to match the patterns on the walls...",10,2,1,0,1],["... and on the floor too !",10,40,1,0,1]],emoji=[["\ud83e\udd89",10,14]]):"pK"==W?(D&&(ky.className=kz.className="",y.lossst_c=1),X=20,h=75,trees=[[2,2]],apples=[[1,4,0,0,59],[2,5,0,0,59],[3,6,0,0,59],[4,2,0,0,59]],doors=[[21,65,Math.PI/2,7,0,"pJ",0,1,65,0,1],[-2,5,-Math.PI/2,12,0,"pL",1,14,5,0,1]],puzzles=[[5,,0,"0000000000010000110001110",,8,69],[6,,0,"000000000000000000000100001110011000",,12,58],[5,,0,"0000000000010000111001000",,2,58],[4,,0,"0000001001100110","0000001001100000",2,45],[5,,0,"0000000000000000010001110","0000000100001100110000000",12,45],[5,,0,"0000000000000000101001110","0000001110010100000000000",2,34],[5,,0,"0000000000000000011001100","0000001110011000010000000",12,34],[4,,1,"0000011001100110","0110000000000110",2,22],[4,,1,"1001000000001001","1001000000001001",12,22],[4,,1,"0000010011110010","0000111101100000",2,12],[4,,1,"0110010000000011","0000011100110000",12,12],[4,,1,"1101000000000001","1101000000010001",12,2]],hints=[["You can rotate the camera with "+(D?"<br>\u21bb and \u21ba":"the keys 1, 2 and 3"),15,68,1,0,1],["Can you guess what's coming next?",7,54,1,0,1],["3D puzzles with wrap ! Use "+(D?"\u2b06\ufe0e and \u2b07\ufe0e":"Shift and Ctrl")+" to wrap between top and bottom",7,24,1,0,1]],emoji=[["\ud83d\udc1e",3,70]]):"pL"==W?(X=15,h=80,trees=[[2,70]],apples=[[1,73,0,0,68],[3,75,0,0,68]],doors=[[16,5,Math.PI/2,12,0,"pK",0,1,5,0,1],[-2,75,-Math.PI/2,14,0,"pM",1,14,25,0,1]],puzzles=[[5,,0,"0000000000001001111100100",,2,2],[4,,0,"0000010001100000",,5,11],[5,,0,"0000000110000110111000010",,8,20],[5,,0,"0000000000001000111011111","0000000000111001111100000",2,29],[4,,0,"1000110011101111","0000001111110000",5,38],[4,,0,"0000100011001110","1110110010000000",8,45],[4,,1,"1000100110010001","0000100110010000",2,54],[4,,1,"0000001011110100","0000110011110011",5,63],[5,,1,"0100011000010000111001000","0000001110110000100000000",8,72]],cubes=[[6,12]],emoji=[["\ud83d\udc1d",3,20]]):"pM"==W?(X=15,h=30,trees=[[10,12]],apples=[[8,11,0,0,71],[9,10,0,0,71],[10,9,0,0,71],[11,10,0,0,71],[12,11,0,0,71],[7,12,0,0,71]],doors=[[16,25,Math.PI/2,14,0,"pL",0,1,75,0,1],[-2,5,-Math.PI/2,20,0,"pN",1,14,5,0,1]],puzzles=[[5,,1,"0001100110011001100010000","0001100110011001100010000",2,24],[5,,1,"1100010001000011000111000","0000011000110010000000000",4,13],[5,,1,"1101110001000001000011000","1100010000000001000111011",6,2]],emoji=[["\ud83d\udc13",1,14]]):"pN"==W&&(X=15,h=48,trees=[[10,44]],apples=[[7,45,0,0,75]],doors=[[16,5,Math.PI/2,20,0,"pM",0,1,5,0,1]],puzzles=[[4,,1,"0000111101101111","1000111111111000",5,38],[4,,1,"1111001001001111","1111101010101111",5,28],[4,,1,"1111010101011101","0001101101101111",5,18],[4,,1,"1111000100011110","1111110110011111",5,8]],emoji=[["\ud83d\udc09",13,46]]);a.style.width=X*v+"vh";a.style.height=h*v+"vh";H||(ig.innerHTML="");ih.innerHTML="";for(var f in trees)ig.innerHTML+="<div id=tree"+f+' class="j tr"style=left:'+trees[f][0]*v+"vh;transform:translateX(-7vh)translateY("+(trees[f][1]*v+4)+"vh)rotateX(-70deg)>\ud83c\udf33</div><div id=treeshadow"+f+' class="e h"style=left:'+trees[f][0]*v+"vh;transform:translateX(-7.5vh)translateY("+(trees[f][1]*v+3.5)+"vh)rotateZ(144deg)scaleY(1.5)>\ud83c\udf33";for(f in apples)y["lossst_a"+W+f]?delete apples[f]:ig.innerHTML+="<div id=a"+f+' class="j g '+(y["lossst_A"+W+f]?"":"h")+'"style=left:'+apples[f][0]*v+"vh;transform:translateY("+(apples[f][1]*v+4)+"vh)rotateX(-65deg)>"+("pN"==W?"<div>\u26bd</div>":"<div class=m>\ud83c\udf4e</div>")+"</div><div id=as"+f+' class="e p '+(y["lossst_A"+W+f]?"":"h")+'"style=left:'+apples[f][0]*v+"vh;transform:scaleX(-1)translateY("+(apples[f][1]*v+3)+"vh)rotateZ(212deg)>"+("pN"==W?"\u26bd":"\ud83c\udf4e");for(f in emoji)ig.innerHTML+='<div class="j n"style=left:'+(emoji[f][1]*v-1)+"vh;transform:translateY("+(emoji[f][2]*v+4)+"vh)rotateX(-65deg)><div class=m>"+emoji[f][0];for(f in doors)ig.innerHTML+="<div id=d"+(""+W+f)+' class="do'+(y["lossst_d"+W+f]?" s":"")+'"style=left:'+(doors[f][0]+.5)*v+"vh;top:"+(doors[f][1]+.5)*v+"vh;transform:rotateZ("+doors[f][2]+"rad)translateZ("+doors[f][9]*v+'vh)><div class="y d'+doors[f][10]+'"'+(doors[f][6]?"":"hidden")+">"+doors[f][3]+'</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh">';for(var n in puzzles)for(var m in cubes)y["lossst_p"+W+n]&&cubes[m][0]>=puzzles[n][5]&&cubes[m][0]<puzzles[n][5]+puzzles[n][0]&&cubes[m][1]>=puzzles[n][6]&&cubes[m][1]<puzzles[n][6]+puzzles[n][0]&&delete cubes[m];for(f in cubes)ig.innerHTML+="<div id=cube"+f+' class="z x"style=left:'+cubes[f][0]*v+"vh;top:"+cubes[f][1]*v+'vh;width:5vh;height:5vh><div class=f></div><div class=u style="background-position:'+(-300-cubes[f][0]*v)+"vh "+(-140-cubes[f][1]*v)+'vh"></div><div class=r></div><div class=l></div><div class=b>';for(f in hints)C^hints[f][5]||!(hints[f][3]&&hints[f][3]<=G||hints[f][4]&&hints[f][4]>=G)||(ig.innerHTML+="<div id=h"+(""+W+f)+" class=t style=left:"+hints[f][1]*v+"vh;transform:translateY("+(hints[f][2]*v+5)+"vh)translateZ("+(hints[f][6]*v||0)+"vh)rotateX(-70deg)translateY(-4vh)>"+hints[f][0]);y.lossst_x&&top.hpx0&&(hpx0.style.opacity=1);for(n in puzzles){T=puzzles[n][0];var A=k="";ih.innerHTML+="<div id=puzzle"+n+' class="z q v '+(puzzles[n][2]&&!y["lossst_p"+W+n]?"w":"")+'"style=left:'+puzzles[n][5]*v+"vh;top:"+puzzles[n][6]*v+"vh;width:"+puzzles[n][0]*v+"vh;height:"+T*v+"vh>"+(puzzles[n][2]?"<div class=l></div><div class=r></div>":"")+"<div id=D"+n+" class=d></div><div id=B"+n+" class=b></div>"+(puzzles[n][2]?"<div class=f>":"");var P="000",aa="fff";y["lossst_p"+W+n]&&(P="44c",aa="fd0",puzzles[n][2]=0);for(f=0;f<T;f++)for(m=0;m<T;m++)puzzles[n][3]&&(k+="<div class=o id=w"+n+f+m+" style=width:"+v+"vh;height:"+v+"vh;background:#"+("1"==puzzles[n][3][f*T+m]?P:aa)+"></div>"),puzzles[n][4]&&(A+="<div class=o id=g"+n+f+m+" style=width:"+v+"vh;height:"+v+"vh;background:#"+("1"==puzzles[n][4][f*T+m]?P:aa)+"></div>");top["D"+n]&&(top["D"+n].innerHTML+=A);top["B"+n]&&(top["B"+n].innerHTML+=k)}"pN"==W&&(ig.innerHTML+="<div style='position:fixed;transform:"+(D?"rotateZ(-90deg)translateX(-87vh)translateY(22vh)translateZ(365vh)":"rotateZ(-90deg)translateX(-83vh)translateY(6vh)translateZ(208vh)")+";font: 30vh/25vh a'>THE<br><br>END");H&&(y.lossst_e||y.lossst_s&&6<y.lossst_S||(ik.style.opacity=im.style.opacity=0,ik.style.position=im.style.position="fixed",ik.style.top=im.style.top="-9vh"),J=0,Y(1),xa=1,Q=O=N=0,puzzles[0][2]=0,setTimeout(function(){(ib.onchange=ib.oninput=resetgrid=function(){Ca();Y();ij.disabled=1;gridval.innerHTML=T=+ib.value;puzzle0.style.width=puzzle0.style.height=T*v+"vh";puzzles[0][0]=T;D0.innerHTML="";A=k=B0.innerHTML="";M=[];L=[];for(f=0;f<T;f++)for(M[f]=[],L[f]=[],m=0;m<T;m++)M[f][m]=0,L[f][m]=0;for(f=0;f<T;f++)for(m=0;m<T;m++)k+="<div class=o id=w"+K+f+m+" style=width:"+v+"vh;padding-top:"+v+"vh></div>",A+="<div class=o id=g"+K+f+m+" style=width:"+v+"vh;padding-top:"+v+"vh></div>";xa&&(D0.innerHTML+=A);N&&(B0.innerHTML+=k)})();iq.onchange=iq.oninput=function(){it.innerHTML=G=+iq.value;Ca();Y()};ik.onclick=function(){ik.checked?xa=1:top.wall&&(xa=0,C=N=1,wall.checked=!0);a.className=N?"haswall":"";resetgrid()};top.wall&&(wall.onclick=function(){wall.checked?(N=1,C=puzzles[0][3]=1):(N=C=0,xa=1,ik.checked=!0,puzzles[0][3]=0);a.className=N?"haswall":"";resetgrid()});top.wrap&&(wrap.onclick=function(){O=puzzles[0][2]=wrap.checked||0;puzzle0.className="z q v "+(O?"w":"");resetgrid()});print=function(k){var n="";for(f=0;f<T;f++)for(m=0;m<T;m++)n=top[k+"0"+f+m].style.background&&top[k+"0"+f+m].style.background.match(/255/)?n+0:n+1;return n};ij.onclick=function(){var f=[];f.push(T);f.push(G);f.push(O?1:0);f.push(N?print("w"):"");f.push(ik.checked?print("g"):"");open("//twitter.com/intent/tweet?text=I%20made%20a%20level%20for%20@MaximeEuziere's%20%23js13k%20game%20LOSSST!%0APlay%20here:%20js13kgames.com%2Fentries%2Flossst%0AMy%20level:%20js13kgames.com%2Fgames%2Flossst%23"+f+"%0A%23LOSSSTlevels")}},100));"px"!=W||y.lossst_x?(a.style.transition="transform 1s,transform-origin 1s",Ca()):(I=1,setTimeout(function(){Ca();Y();M0.style.transition="transform .5s"},2E3),setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(0);F.push(F[t]);t++;Y()},5500+wa),setTimeout(function(){M0.style.transition="";R0.style.transition="transform .2s";R0.style.transform="rotateZ("+-Math.PI/4+"rad)"},6500+wa),setTimeout(function(){R0.style.transform="rotateZ("+Math.PI/4+"rad)"},7E3+wa),setTimeout(function(){R0.style.transform=""},7500+wa),setTimeout(function(){S0.style.transition=R0.style.transition=""},8E3+wa),setTimeout(function(){clearInterval(x);z||(I=0);hpx0.style.opacity=1},8400),setTimeout(function(){a.style.transition="transform 1s,transform-origin 1s";y.lossst_x=20;y.lossst_y=10;b.innerHTML+="<div style='position:fixed;font:8vh a;top:3vh;right:3vh'onclick=location='index.html'>\u00d7";D&&(kU.className=kD.className=kL.className=kR.className="",y.lossst_w=1)},9E3));Y()}function Ca(){var k=C&&!H?ia:ie;k.innerHTML="";q=[];w=[];E=[];F=[];t=G-1;if("py"==W)for(i=0;i<G;i++)q[t-i]=1-i,w[t-i]=10,E[t-i]=0,F[t-i]=-Math.PI/2;else if(H)for(i=0;i<G;i++)q[t-i]=13-i,w[t-i]=12,E[t-i]=0,F[t-i]=-Math.PI/2;else if(y.lossst_x){var f=+y.lossst_x,n=+y.lossst_y,m=+y.lossst_z;"px"==W&&2>y.lossst_x&&(m=y.lossst_z=1);if("pI"==W&&z&&1==C)for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i-1,F[t-i]=0;else if(2>f)for(i=0;i<G;i++)q[t-i]=f-i,w[t-i]=n,E[t-i]=m,F[t-i]=-Math.PI/2;else if(f>X-2)for(i=0;i<G;i++)q[t-i]=f+i,w[t-i]=n,E[t-i]=m,F[t-i]=Math.PI/2;else if(2>n)for(i=0;i<G;i++)q[t-i]=f,w[t-i]=n-i,E[t-i]=m,F[t-i]=0;else if(n>h-2)for(i=0;i<G;i++)q[t-i]=f,w[t-i]=n+i,E[t-i]=m,F[t-i]=0;else for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i,F[t-i]=0}else if("px"==W)for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i-1,F[t-i]=0;for(i=0;i<Math.max(G+4,16);i++)k.innerHTML+="<div id=M"+i+" class=sm style=transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:"+(v-.7)+"vh;height:"+(v-.7)+"vh><div class=ss id=S"+i+"></div><div id=R"+i+' class=sr><div class="z k"id=T'+i+">"+(1>i?"<div style=background:none;box-shadow:none;color:red;font-size:4vh;text-align:center;transform:rotateZ(180deg)translateY(-4vh)translateZ(1.5vh)>Y</div>":"")+'<div class=u style="font:'+.5*v+"vh/"+.8*v+'vh a">'+(1>i?"\ud83d\udc40":"")+"</div><div class=f>"+(1>i?"\u203f":"")+"</div><div class=r></div><div class=l></div><div class=b>"}function Y(k){for(var f={a:0};f.a<G;f={a:f.a,j:f.j,m:f.m,o:f.o},f.a++)if(!k){var n=oldx=oldy=oldz=newx=newy=newz=0;O&&T&&(q[t-f.a-1]==R&&q[t-f.a]==R+T-1?(n=1,oldx=R-1,newx=R+T,oldy=newy=w[t-f.a],oldz=newz=E[t-f.a]):q[t-f.a-1]==R+T-1&&q[t-f.a]==R?(n=1,oldx=R+T,newx=R-1,oldy=newy=w[t-f.a],oldz=newz=E[t-f.a]):w[t-f.a-1]==S&&w[t-f.a]==S+T-1?(n=1,oldy=S-1,newy=S+T,oldx=newx=q[t-f.a],oldz=newz=E[t-f.a]):w[t-f.a-1]==S+T-1&&w[t-f.a]==S?(n=1,oldy=S+T,newy=S-1,oldx=newx=q[t-f.a],oldz=newz=E[t-f.a]):0==E[t-f.a-1]&&E[t-f.a]==T-1?(n=1,oldz=-1,newz=T,oldx=newx=q[t-f.a],oldy=newy=w[t-f.a]):E[t-f.a-1]==T-1&&0==E[t-f.a]&&(n=1,oldz=T,newz=-1,oldx=newx=q[t-f.a],oldy=newy=w[t-f.a]));if(n)top["R"+f.a].style.transform="rotateZ("+F[t-f.a]+"rad)",top["M"+f.a].style.transform="translateX("+(oldx*v+.5)+"vh)translateY("+(oldy*v+.5)+"vh)translateZ("+(oldz*v+.5)+"vh)scale(.01)scaleZ(.01)",setTimeout(function(f){return function(){top["M"+f.a].style.transition="none"}}(f),90),f.j=newx,f.m=newy,f.o=newz,setTimeout(function(f){return function(){top["M"+f.a].style.transform="translateX("+(f.j*v+.5)+"vh)translateY("+(f.m*v+.5)+"vh)translateZ("+(f.o*v+.5)+"vh)scale(.01)"}}(f),100),setTimeout(function(f){return function(){top["M"+f.a].style.transition="";top["M"+f.a].style.transform="translateX("+(q[t-f.a]*v+.25)+"vh)translateY("+w[t-f.a]*v+"vh)translateZ("+(E[t-f.a]*v+.5)+"vh)"}}(f),150);else try{top["M"+f.a].style.transform="translateX("+(q[t-f.a]*v+.25)+"vh)translateY("+w[t-f.a]*v+"vh)translateZ("+(E[t-f.a]*v+.5)+"vh)",top["R"+f.a].style.transform="rotateZ("+F[t-f.a]+"rad)"}catch(A){}try{top["S"+f.a].style.display=0==E[t-f.a]?"":"none"}catch(A){}}H?a.style.transform="translateX(-100vh)translateY(-37vh)translateZ(-5vh)rotateX(33deg)":null===J||y["lossst_p"+W+J]?(a.style.transform="translateX("+-q[t]*v+"vh)translateY("+-w[t]*v+"vh)translateZ(45vh)rotateX(40deg)rotateZ("+g+"rad)",a.style.transformOrigin=""+q[t]*v+"vh "+w[t]*v+"vh"):(a.style.transform="translateX("+(-(R+puzzles[J][0]/2)*v+5)+"vh)translateY("+(-(S+puzzles[J][0]/2)*v+8)+"vh)translateZ("+(90-puzzles[J][0]*(v+3))+"vh)rotateX(30deg)rotateZ("+g+"rad)",a.style.transformOrigin=""+((R+puzzles[J][0]/2)*v+5)+"vh "+((S+puzzles[J][0]/2-1)*v+8)+"vh");f=C?1:0;for(k=0;k<G;k++){if(0>=E[t-k]){f=0;break}for(m in cubes)cubes[m][0]==q[t-k]&&cubes[m][1]==w[t-k]&&1==E[t-k]&&(f=0)}if(f){for(k=0;k<G;k++)E[t-k]--;try{Y()}catch(A){for(var m=2*G;m--;)q.pop(),w.pop(),E.pop(),F.pop(),t--;Aa=0;Y()}}f=q[t];n=w[t];for(k in doors)(doors[k][10]&&C||!doors[k][10]&&!C)&&top["d"+W+k]&&0<doors[k][3]&&G>=doors[k][3]&&4>Math.hypot(f-doors[k][0],n-doors[k][1])&&!y["lossst_d"+W+k]&&(top["d"+W+k].className="do s",!doors[k][6]||"px"==W&&2<k||ja(pa).play(),y["lossst_d"+W+k]=1),top["d"+W+k]&&"do s"==top["d"+W+k].className&&2>Math.hypot(f-doors[k][0],n-doors[k][1])&&(y.lossst_p=W=doors[k][5],setTimeout(Ba,600),y.lossst_x=doors[k][7],y.lossst_y=doors[k][8],y.lossst_z=0);null!==J&&Da();H||(J=null);H||(L=[],M=[]);for(p in puzzles)if(f>=puzzles[p][5]&&f<puzzles[p][5]+puzzles[p][0]&&n>=puzzles[p][6]&&n<puzzles[p][6]+puzzles[p][0]){J=+p;Q=0;y["lossst_p"+W+p]&&(Q=1);K=p;xa=!!puzzles[p][4];N=!!puzzles[p][3];O=!!puzzles[p][2];R=puzzles[p][5];S=puzzles[p][6];T=puzzles[p][0];for(k=0;k<T;k++)for(L[k]=[],M[k]=[],m=0;m<T;m++)puzzles[p][3]&&(M[k][m]=+puzzles[p][3][k*puzzles[p][0]+m]),puzzles[p][4]&&(L[k][m]=+puzzles[p][4][k*puzzles[p][0]+m]);Da()}}function Z(k,f,n){V=0;if(0>k||k>=X||0>f||f>=h)V=1;for(var m in trees)k>=trees[m][0]-1&&k<=trees[m][0]&&f==trees[m][1]&&3>E[t]&&(V=1);for(m in hints)k>=hints[m][1]&&k<=hints[m][1]+3&&f==hints[m][2]&&G>=hints[m][3]&&(!hints[m][4]||G<=hints[m][4])&&(C&&hints[m][5]||!C&&!hints[m][5])&&(V=1);for(m in apples)if(y["lossst_A"+W+m]&&k==apples[m][0]&&f==apples[m][1]&&0==E[t])if(ja(ka).play(),"pN"==W){x=setInterval(sa.forward,150);y.lossst_E=1;setTimeout(function(){I=1;as0.remove();a0.style.transform="translateY(319vh)translateZ(2vh)rotateX(-65deg)rotateY(90deg)";a0.style.transition=a.style.transition="10s";a0.style.transform="translateY(15vh)translateZ(2vh)rotateX(-65deg)";a.style.transform=D?"translateX(-133vh)translateY(-249vh)translateZ(-373vh)rotateZ(90deg)":"translateX(-141vh)translateY(-227vh)translateZ(-185vh)rotateZ(90deg)"},200);var A={},P;for(P in puzzles)A.g=P,setTimeout(function(f){return function(){top["B"+f.g].style.transition=".5s";top["B"+f.g].style.transform="translateY(-125%)"}}(A),[1450,2500,3800,5400][A.g]),A={g:A.g};setTimeout(function(){clearInterval(va);y.lossst_E=1;y.lossst_e=1;b.style.background="#000";y.lossst_s=0;b.innerHTML="<div id=iv style=perspective:90vh><center id=menu style=width:75vh;transform:translateX(-38vh)translateY(-35vh)rotateX(-28deg)><span style=font-size:4vh;line-height:5vh><h1>Congrats!</h1><br>You completed the game in<br>"+ta+" seconds and "+ua+" moves!<br><br><a href=//twitter.com/intent/tweet?text=I%20played%20LOSSST,%20a%20%23js13k%20game%20by%20by%20@MaximeEuziere%0Amy%20score:%20"+ta+"%20seconds%20and%20"+ua+"%20moves!%0Ajs13kgames.com%2Fentries%2Flossst target=_blank style=color:#def;font-size:4vh>TWEET YOUR SCORE</a><br><br>Dev record:<br>854 seconds, 2452 moves<br><br>3D puzzle editor unlocked!<br><br><a href=. style=font-size:4vh>MAIN MENU"},15E3);n=document.querySelectorAll(".o");A={};for(var aa in n){A.h=aa;try{2==n[A.h].style.backgroundColor.match(/68/g).length&&setTimeout(function(f){return function(){top[n[f.h].id].style.background="#a00"}}(A),8E3+10*A.h)}catch(na){}A={h:A.h}}}else if(delete apples[m],top["a"+m].remove(),top["as"+m].remove(),G++,y.lossst_S=G,y["lossst_a"+W+m]=1,"pF"==W&&16==G){I=1;x=setInterval(sa.forward,150);z=1;a.style.transition="5s";a.style.transform="translateX(-180vh)translateY(-53vh)translateZ("+(D?-422:-180)+"vh)rotateZ(180deg)";setTimeout(function(){a.style.transition="1s";I=z=0;Y();ig.innerHTML+="<div class=t style=left:190vh;transform:translateY(50vh)rotateX(-55deg)translateY(-4vh)>\u2190<br>Exit";clearInterval(x)},1E4);n=document.querySelectorAll(".o");A={};for(var ea in n){A.f=ea;try{n[A.f].id.match(/g\d\d\d$/)&&2==n[A.f].style.backgroundColor.match(/68/g).length&&setTimeout(function(f){return function(){top[n[f.f].id].style.background="#a00"}}(A),5500+10*A.f)}catch(na){}A={f:A.f}}}for(m in cubes)k==cubes[m][0]&&f==cubes[m][1]&&0==n&&(V=1);for(m in emoji)"pC"!=W&&k==emoji[m][1]&&f==emoji[m][2]&&0==n&&(V=1);for(m in doors)top["d"+W+m]&&"do s"==top["d"+W+m].className&&2>=Math.hypot(k-doors[m][0],f-doors[m][1])&&(V=0);hitcube2=0;for(m=G-2;0<m;m--)q[t-m]==k&&w[t-m]==f&&E[t-m]==n&&(V=1,1==m&&(hitcube2=1));for(p in puzzles)puzzles[p][3]&&k>=puzzles[p][5]&&k<puzzles[p][5]+puzzles[p][0]&&(f==puzzles[p][6]-1&&w[t]==puzzles[p][6]&&!puzzles[p][2]||f==puzzles[p][6]&&w[t]==puzzles[p][6]-1)&&(V=1);if("pI"==W&&18==k&&!C){z=C=V=I=1;clearInterval(x);sa=ra;_=$=0;x=setInterval(ra.forward,250);y.lossst_s=1;y.lossst_S=G=5;for(k=0;21>k;k++)cubes.push([q[t-k],w[t-k]]),top["M"+k].id="",top["R"+k].id="",top["S"+k].id="",top["T"+k].id="";a.style.transition="2s";Ca();Y();a.style.transform="translateX(-105vh)translateY(-51vh)translateZ(80vh)rotateX(45deg)";a.style.transformOrigin="140vh 70vh";setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(0);F.push(F[t]);t++;Y()},3E3);setTimeout(function(){ii.innerHTML="Daddy!"},4E3);setTimeout(function(){ii.innerHTML=""},6E3);setTimeout(function(){ii.innerHTML="I lossst my soccer ball!"},7E3);setTimeout(function(){ii.innerHTML=""},9E3);setTimeout(function(){ii.innerHTML="But I found new moves!"},1E4);setTimeout(function(){ii.innerHTML="";z=I=0;clearInterval(x);a.style.transition="1s";Y();Ea();D&&(kT.className=kB.className="",y.lossst_B=1)},13500)}}function Da(){if(!Q&&null!==J){solved=1;H&&(ij.disabled=0);for(i=0;i<T;i++)for(j=0;j<T;j++)try{top["g"+K+i+j]&&(top["g"+K+i+j].style.background=L[i][j]?"#000":"#fff"),top["w"+K+i+j]&&(top["w"+K+i+j].style.background=M[i][j]?"#000":"#fff")}catch(m){}if(q[t]<R||q[t]>R+T-1||w[t]<S||w[t]>S+T-1||0>E[t]||E[t]>T-1)H&&(ij.disabled=1);else{for(i=0;i<G;i++){top["g"+K+(w[t-i]-S)+(q[t-i]-R)]&&(top["g"+K+(w[t-i]-S)+(q[t-i]-R)].style.background=L[w[t-i]-S][q[t-i]-R]?"#080":H?"#44c":"#f00");w[t-i]>=S&&w[t-i]<S+T&&top["w"+K+(T-1-E[t-i])+(q[t-i]-R)]&&(top["w"+K+(T-1-E[t-i])+(q[t-i]-R)].style.background=M[T-1-E[t-i]][q[t-i]-R]?"#080":H?"#44c":"#f00");if(q[t-i]<R||q[t-i]>R+T-1||w[t-i]<S||w[t-i]>S+T-1||E[t-i]>T-1)H&&(ij.disabled=1),solved=0;xa&&L[w[t-i]-S]&&!L[w[t-i]-S][q[t-i]-R]&&(solved=0);N&&M[T-1-E[t-i]]&&!M[T-1-E[t-i]][q[t-i]-R]&&(solved=0)}for(i=0;i<T;i++)for(j=0;j<T;j++){try{xa&&3==top["g"+K+i+j].style.backgroundColor.match(/0/g).length&&(solved=0)}catch(m){}try{N&&3==top["w"+K+i+j].style.backgroundColor.match(/0/g).length&&(solved=0)}catch(m){}}if(solved){Q=H?0:1;puzzles[J][2]=0;top["puzzle"+J].classList.remove("w");H||(y["lossst_p"+W+J]=1);for(i=0;i<T;i++)for(j=0;j<T;j++){try{top["g"+K+i+j].style.background=L[i][j]?"#44c":"#fd0"}catch(m){}try{top["w"+K+i+j].style.background=M[i][j]?"#44c":"#fd0"}catch(m){}}H||(ja(oa).play(),ya++,y.lossst_T=ya);var k=1,f={},n;for(n in cubes)f.b=n,cubes[f.b][0]>=puzzles[J][5]&&cubes[f.b][0]<puzzles[J][5]+puzzles[J][0]&&cubes[f.b][1]>=puzzles[J][6]&&cubes[f.b][1]<puzzles[J][6]+puzzles[J][0]&&(delete cubes[f.b],k++,setTimeout(function(f){return function(){top["cube"+f.b].remove()}}(f),200*k)),f={b:f.b}}}}}function Ea(){for(var k in apples)if(!y["lossst_A"+W+k]&&(0<apples[k][3]&&apples[k][3]==G||0<apples[k][4]&&apples[k][4]==ya)){I=1;D&&"px"==W&&1==k&&(kw.className="",y.lossst_b=1);var f=setTimeout;a.style.transform="translateX("+-apples[k][0]*v+"vh)translateY("+-apples[k][1]*v+"vh)translateZ(50vh)rotateX(35deg)";y["lossst_A"+W+k]=1;a.style.transformOrigin=""+apples[k][0]*v+"vh "+apples[k][1]*v+"vh";f(void 0,250);f=setTimeout;top["a"+k].className="j g";top["as"+k].className="e p";f(void 0,800);setTimeout(function(){ja(la).play()},850);setTimeout(function(){Y();z||(I=0)},2E3)}}function Fa(){U=0;H||(J=null);for(p in puzzles)q[t]>=puzzles[p][5]&&q[t]<puzzles[p][5]+puzzles[p][0]&&w[t]>=puzzles[p][6]&&w[t]<puzzles[p][6]+puzzles[p][0]&&0<=E[t]&&E[t]<puzzles[p][0]&&(J=+p,U=1)}onkeydown=function(k){top["lurd************************l**r************l*d***u**u"[k.which-37]]=1;18==k.which&&(B=1);16==k.which&&(s=1);17==k.which&&(c=1);if(!I){if(49==k.which||97==k.which)-1<g&&g--,ca();if(50==k.which||98==k.which)g=0,ca();if(51==k.which||99==k.which)1>g&&g++,ca()}Fa();U?Da():Aa=0;if(82==k.which&&U){if(Aa<=t)for(var f=Aa;f<=t;f++)q.pop(),w.pop(),E.pop(),F.pop(),setTimeout(function(){sa.back()},70*(t-f));t=Aa-1;Aa=0;Y();Da();y.lossst_M=++ua}else if(116!=k.which&&82!=k.which&&17!=k.which&&123!=k.which&&k.preventDefault&&k.preventDefault(),!I){V=0;if(l)!Q&&O&&U&&q[t]==R?(Z(R+T-1,w[t],E[t]),V||(q.push(R+T-1),w.push(w[t]),E.push(E[t]),F.push(Math.PI/2),t++)):(Z(q[t]-1,w[t],E[t]),V||(q.push(q[t]-1),w.push(w[t]),E.push(E[t]),F.push(Math.PI/2),t++));else if(r)!Q&&O&&U&&q[t]==R+T-1?(Z(R,w[t],E[t]),V||(q.push(R),w.push(w[t]),E.push(E[t]),F.push(-Math.PI/2),t++)):(Z(q[t]+1,w[t],E[t]),V||(q.push(q[t]+1),w.push(w[t]),E.push(E[t]),F.push(-Math.PI/2),t++));else if(u)!Q&&O&&U&&w[t]==S?(Z(q[t],S+T-1,E[t]),V||(q.push(q[t]),w.push(S+T-1),E.push(E[t]),F.push(Math.PI),t++)):(Z(q[t],w[t]-1,E[t]),V||(q.push(q[t]),w.push(w[t]-1),E.push(E[t]),F.push(Math.PI),t++));else if(d)!Q&&O&&U&&w[t]==S+T-1?(Z(q[t],S,E[t]),V||(q.push(q[t]),w.push(S),E.push(E[t]),F.push(0),t++)):(Z(q[t],w[t]+1,E[t]),V||(q.push(q[t]),w.push(w[t]+1),E.push(E[t]),F.push(0),t++));else if((C||N)&&s){if(!U){k=G-1;for(f in cubes)cubes[f][0]==q[t]&&cubes[f][1]==w[t]&&k++;if(E[t]==k)return}!Q&&O&&U&&E[t]==T-1?(Z(q[t],w[t],0),V||(q.push(q[t]),w.push(w[t]),E.push(0),F.push(F[t]),t++)):(Z(q[t],w[t],E[t]+1),V||(q.push(q[t]),w.push(w[t]),E.push(E[t]+1),F.push(F[t]),t++))}else(C||N)&&c?!Q&&O&&U&&0==E[t]?(Z(q[t],w[t],T-1),V||(q.push(q[t]),w.push(w[t]),E.push(T-1),F.push(F[t]),t++)):0==E[t]?V=1:(Z(q[t],w[t],E[t]-1),V||(q.push(q[t]),w.push(w[t]),E.push(E[t]-1),F.push(F[t]),t++)):B&&t>G&&(F.pop(),q.pop(),w.pop(),E.pop(),t--);V&&!I&&(I=1,setTimeout(function(){z||(I=0)},150),!(-1<q[t]&&q[t]<X&&-1<w[t]&&w[t]<h)||"pI"==W&&!C&&16<q[t]||hitcube2||ja(ma).play());if(!V&&!z&&(u||r||d||l||s||c||B)){y.lossst_M=++ua;Da();Y();B?t>G&&sa.back():(C||!s&&!c&&!C)&&sa.forward();Y(1);Ea();I||(I=1,setTimeout(function(){z||(I=0)},150));if("px"==W&&(C||14<=G)&&20==q[t]&&10==w[t]){I=1;var n=0;for(f=0;f<G;f++)setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(--n);F.push(F[t]);t++;Y()},150*f);setTimeout(function(){AA("pz",1)},160*G);y.lossst_x=20;y.lossst_y=10}Fa();U&&!Aa&&(Aa=t)}}};onkeyup=function(){u=r=d=l=s=c=B=0};onload=function(){1<location.hash.length?AA("py",1):(setTimeout(function(){x=setInterval(function(){sa.forward()},500)},200),b.innerHTML="<center id=e>\ud83d\udc40</center>\n<center id=iw></center>\n<div id=iv style=perspective:30vh>\n<center id=menu>\n<h1>LOSSST</h1>\n<span onclick=newgame()>New game</span><br>\n"+(y.lossst_a&&!y.lossst_E?"<span onclick=AA(0,1)>Continue</span><br>":"")+"\n<span onclick=AA(\"pz\",1)>Puzzle editor</span><br>\n<span onclick=top.open('//goo.gl/iKqoCS')>Bonus",newgame=function(){for(i in localStorage)0==i.indexOf("lossst")&&-1==i.indexOf("e")&&delete localStorage[i];y.lossst_a=1;menu.innerHTML="<br><br><span onclick=intro(0)>Desssktop</span><br><br><span onclick=intro(1)>Mobile"},intro=function(k){clearInterval(x);_=$=0;x=setInterval(sa.forward,250);y.lossst_m=D=k;y.lossst_S=G=5;ta=y.lossst_t=0;ua=y.lossst_M=0;y.lossst_M=0;y.lossst_t=0;menu.innerHTML="";setTimeout(function(){e.style.margin=0},500);dir=1;inter=setInterval(function(){e.style.opacity=0;setTimeout(function(){e.style.opacity=1;dir=-dir;e.style.transform="scaleX("+dir+")"},150)},3E3);setTimeout(function(){iw.innerHTML="I lossst my kid !"},2E3);setTimeout(function(){iw.innerHTML=""},5E3);setTimeout(function(){clearInterval(inter);e.style.margin="-80vh 0 0"},7E3);setTimeout(AA,7500)})};AA=function(k,f){if(0===k||"pz"==k)clearInterval(x),_=$=0;"pz"==k&&(H=1,J=0);W=k||y.lossst_p||"px";b.outerHTML="<body id=b class="+W+">\n<div id=iv>\n<div id=a style=transform:translateX(-97vh)translateY(-50vh)rotateZ(90deg)translateZ(119vh);transform-origin:100vh+50vh>\n<div id=ig>"+(H?"<div class=t style=width:60vh;transform:translateX(70vh)translateY(1vh)translateZ(2vh)rotateX(-42deg)>\n<label style=width:100%;text-align:center>Create a pattern with the snake and share it !</label>\n<br style=line-height:6vh>\n<div style=text-align:left;padding-left:5vh>\n<label>Grid</label> <input id=ib type=range value=5 min=3 max=8 step=1>\n<span id=gridval>5</span>\n<br>\n<label>Snake</label> <input id=iq type=range value=5 min=5 max=40 step=1>\n<span id=it>5</span>\n</div>\n<input type=checkbox id=ik checked> <label for=ik id=im>ground</label>\n"+(y.lossst_e||y.lossst_s&&6<y.lossst_S?"<input type=checkbox id=wall> <label for=wall>wall</label>":"")+"\n"+(y.lossst_e||y.lossst_s?"<input type=checkbox id=wrap> <label for=wrap>wrap</label>":"")+"\n<br>\n<center>\n<button id=ij disabled>Share</button>\n</center>\n</div>":"")+"\n</div>\n<div id=ih></div>\n<div id=ie></div>\n<div id=ia></div>\n</div>\n</div>\n<center id=iz style='font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw'>\n<button id=kU class=h ontouchstart=TS(38) ontouchend=TE(38)>\u2191</button>\n<button id=kD class=h ontouchstart=TS(40) ontouchend=TE(40)>\u2193</button>\n<button id=kL class=h ontouchstart=TS(37) ontouchend=TE(37)>\u2190</button>\n<button id=kR class=h ontouchstart=TS(39) ontouchend=TE(39)>\u2192</button>\n<button id=kT class=h ontouchstart=TS(16) ontouchend=TE(16)>\u2b06\ufe0e</button>\n<button id=kB class=h ontouchstart=TS(17) ontouchend=TE(17)>\u2b07\ufe0e</button>\n<button id=kw class=h ontouchstart=TS(18) ontouchend=TE(18)>\u21a9</button>\n<button id=kx class=h ontouchstart=TS(82) ontouchend=TE(82)>\u00d7</button>\n<button id=ky class=h ontouchstart=TS(49) ontouchend=TE(49)>\u21bb</button>\n<button id=kz class=h ontouchstart=TS(51) ontouchend=TE(51)>\u21ba</button>\n</center>\n<center id=ii style='font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw'>";y.lossst_Apx0=1;Ba();if(D&&"py"==W||y.lossst_w)kU.className=kD.className=kL.className=kR.className="";if(D&&"py"==W||y.lossst_b)kw.className="";if(D&&"py"==W||y.lossst_r)kr.className="";if(D&&"py"==W||y.lossst_B)kT.className="",kB.className="";if(D&&"py"==W||y.lossst_c)ky.className="",kz.className="";H||(va=setInterval(function(){y.lossst_t=++ta},1E3));f&&(b.innerHTML+="<div style='position:fixed;font:8vh a;top:3vh;right:3vh'onclick=location='.'>\u00d7")}</script><style>@keyframes move{0%,100%{transform:rotateY(-10deg)}50%{transform:rotateY(10deg)}}*{margin:0;padding:0;font:2.5vh/5.5vh arial,sans-serif;vertical-align:middle;box-sizing:border-box;-webkit-touch-callout:none;-webkit-user-select:none;-webkit-tap-highlight-color:transparent;user-select:none;cursor:pointer;touch-action:manipulation}html,body{height:100%;background:#000;overflow:hidden;background:radial-gradient(#def 25%,#7ce)}a{color:#def}input,button{position:relative;z-index:2}input[type=range]::-webkit-slider-runnable-track,input[type=range]::-webkit-slider-thumb{background:#888;border:1px solid #000}input[type=range]::-moz-range-track,input[type=range]::-moz-range-thumb{background:#888;border:1px solid #000}#iv{width:0;height:0;perspective:120vh;position:absolute;top:50%;left:50%}#iv *{transform-style:preserve-3d}#a{width:0;height:0;transform-origin:18vh 0%;transition:transform 1s,transform-origin 1s}.z{position:fixed;top:0;left:0}.z>div{width:100%;height:100%;position:fixed}.z .u{transform:rotateY(90deg)translateX(-100%)rotateY(-90deg)}.z .l{transform:rotateX(-90deg)translateY(-50%)translateX(-50%)rotateY(-90deg)}.z .r{transform:rotateX(-90deg)translateY(-50%)translateX(50%)rotateY(90deg)}.z .f{transform:translateY(50%)rotateX(-90deg)translateY(-50%)}.z .b{transform:translateY(-50%)rotateX(-90deg)translateY(-50%)rotateY(180deg)}.z.q{width:32vh;height:32vh;transform:none}.z.q>div{background:transparent}.z.q .b{transition:opacity .5s;transform:translateY(-50%)rotateX(-90deg)translateY(-52%)}.z.q.w .d,.z.q .d{transition:opacity .5s;background:#0c5b0c}.sm,.sr{transform-origin:50% 50%;width:100%;height:100%;position:fixed}.sm{transition:transform .15s}.z.k{width:100%;height:100%}.z.k>div{box-shadow:0 0 0 .1vh #000 inset;text-align:center}.z.k .f{line-height:3vh}#ie .z.k>div{background:#FFA500}#ie .z.k .u{background:#dF8500}#ia .z.k>div,#a.haswall .z.k>div{background:#444}#ia .z.k .u,#a.haswall .z.k .u{background:#333}#ia .z.k .f{color:#fff}.ss{position:fixed;width:100%;height:100%;background:rgba(0,0,0,.25);transform:translateX(14%)translateY(14%)translateZ(-.25vh)}label{display:inline-block;width:22%}button{display:inline-block;width:23%;border:.2vh solid #000;margin:1vh 2% 0 0}input[type=range]{width:60%}#form{width:50vh;margin:auto}.o{float:left;outline:.4vh solid #888;opacity:0;transition:opacity .5s;background:#fff}.z.q.v{transform:translateZ(.1vh)}.z.q.v .o{opacity:1}.z.q.v .d{transform:none}.z.q.w>div{background:linear-gradient(45deg,rgba(200,200,200,.1),rgba(200,200,200,.3));box-shadow:0 0 .1vh rgba(255,255,255,.5)}.j{position:fixed;transform-origin:50% 100%;bottom:0}.m{animation:move 3s infinite}.e{color:rgba(0,0,0,.002);text-shadow:0px 0px rgba(0,0,0,.25);position:fixed;transform-origin:50% 100%;bottom:0}.tr,.h{font:11vh/12vh a}.a .tr{font:15vh/11vh a}.a .h,.c .h,.i .h,.a .p,.c .p,.i .p,.c .x.b,#iz button.h{display:none}.g,.g *,.p{font:4vh/5vh a;transition:opacity .5s .5s}.n,.n *{font:5vh/6vh a}.g.h,.p.h{opacity:0}.a .g{font:6vh/5vh a}.do{position:fixed;transform-origin:0% 100%;width:0;height:0}.do .y{position:fixed;width:15vh;height:20vh;background:radial-gradient(2vh at 90% 50%,gold 35%,transparent 40%),#a22;border-radius:1vh 1vh 0 0;transform-origin:0% 100%;transform:translateX(-7.5vh)translateY(-12.5vh)rotateX(-90deg);text-align:center;font-size:6vh;line-height:12vh;color:#fff;transition:transform 1s}.do .y.d1{background:radial-gradient(2vh at 90% 50%,gold 35%,transparent 40%),#222}.do.s .y{transform:translateX(-7.5vh)translateY(-12.5vh)rotateX(-90deg)rotateY(90deg)}.z.x div{background:linear-gradient(45deg,#640,#583808)}.z.x div.u{transform:rotateY(90deg)translateX(-5.4vh)translateZ(-.1vh)rotateY(-90deg);background:radial-gradient(#3F7D1F,#034301);background-size:280vh 140vh;width:5.3vh;height:5.3vh}.t{position:fixed;background:#fff;padding:.7vh;width:20vh;font:2vh/2.5vh arial,sans-serif;transform-origin:50% 100%;text-align:center;box-shadow:0 0 0 .2vh #000 inset;bottom:0}.t br{font:0/0 a}.t:before{content:"";width:3vh;height:3vh;background:#750;position:absolute;bottom:-3vh;left:8vh;border-left:.2vh solid;border-right:.2vh solid}.pz .t:before{left:28vh}label{text-align:left}#a{transition:transform 6s ease-in,transform-origin 6s ease-in;width:280vh;height:140vh;background:radial-gradient(#4F8D2F,#136321);border-radius:3vh}.px #a,.pI #a{background:radial-gradient(10vh at 51.3% 52%,#000 40%,transparent 50%),radial-gradient(15vh at 51.3% 52%,#640 40%,transparent 50%),radial-gradient(#4F8D2F,#136321)}#e{margin:99vh 0 0;transition:margin 1s;font:10vh/80vh a}#iw{font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw}#menu{color:#fff;width:55vh;transform:translateX(-27vh)translateY(-20vh)rotateX(-17deg)}#menu span{font:7vh/12vh arial,sans-serif}#menu h1{font:13vh/16vh arial,sans-serif;text-shadow:.1vh -.1vh #777,.2vh -.2vh #777,.3vh -.3vh #777}#menu span:hover{color:#ace;transform:rotateX(-10deg)}.pN #menu span:hover{color:#fff}#iz button{position:fixed;width:10vh;height:10vh;text-align:center;font:6vh/10vh a}#kU{right:14vh;bottom:14vh}#kD{right:14vh;bottom:2vh}#kL{right:26vh;bottom:2vh}#kR{right:2vh;bottom:2vh}#kT{left:2vh;top:2vh}#kB{left:2vh;top:14vh}#kw{bottom:2vh;left:2vh}#kx{bottom:14vh;left:2vh}#ky{top:2vh;right:18vh}#kz{top:2vh;right:6vh}#hpx0{opacity:0;transition:opacity .5s}</style></head><head></head><body id="b" class="pF">
<div id="iv">
<div id="a" style="transform: translateX(-82.5vh) translateY(-14.5vh) translateZ(50vh) rotateX(30deg) rotateZ(0rad); transform-origin: 92.5vh 25.5vh 0px; width: 400vh; height: 100vh; transition: transform 1s, transform-origin 1s;">
<div id="ig"><div id="tree0" class="j tr" style="left:175vh;transform:translateX(-7vh)translateY(54vh)rotateX(-70deg)">🌳</div><div id="treeshadow0" class="e h" style="left:175vh;transform:translateX(-7.5vh)translateY(53.5vh)rotateZ(144deg)scaleY(1.5)">🌳</div><div id="a0" class="j g h" style="left:190vh;transform:translateY(59vh)rotateX(-65deg)"><div class="m">🍎</div></div><div id="as0" class="e p h" style="left:190vh;transform:scaleX(-1)translateY(58vh)rotateZ(212deg)">🍎</div><div id="dpF0" class="do s" style="left:407.5vh;top:27.5vh;transform:rotateZ(1.5707963267948966rad)translateZ(0vh)"><div class="y d0" hidden="">15</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh"></div></div><div id="dpF1" class="do" style="left:-7.5vh;top:77.5vh;transform:rotateZ(-1.5707963267948966rad)translateZ(0vh)"><div class="y d0">16</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh"></div></div><div id="hpF0" class="t" style="left:360vh;transform:translateY(15vh)translateZ(0vh)rotateX(-70deg)translateY(-4vh)">This room hides a surprise !</div></div>
<div id="ih"><div id="puzzle0" class="z q v" style="left:295vh;top:65vh;width:25vh;height:25vh"><div class="l"></div><div class="r"></div><div id="D0" class="d"><div class="o" id="g000" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g001" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g002" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g003" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g004" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g010" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g011" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g012" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g013" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g014" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g020" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g021" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g022" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g023" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g024" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g030" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g031" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g032" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g033" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g034" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g040" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g041" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g042" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g043" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g044" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div></div><div id="B0" class="b"></div><div class="f"></div></div><div id="puzzle1" class="z q v" style="left:240vh;top:65vh;width:25vh;height:25vh"><div class="l"></div><div class="r"></div><div id="D1" class="d"><div class="o" id="g100" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g101" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g102" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g103" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g104" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g110" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g111" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g112" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g113" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g114" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g120" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g121" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g122" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g123" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g124" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g130" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g131" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g132" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g133" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g134" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g140" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g141" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g142" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g143" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g144" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div></div><div id="B1" class="b"></div><div class="f"></div></div><div id="puzzle2" class="z q v" style="left:185vh;top:65vh;width:25vh;height:25vh"><div class="l"></div><div class="r"></div><div id="D2" class="d"><div class="o" id="g200" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g201" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g202" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g203" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g204" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g210" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g211" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g212" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g213" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g214" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g220" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g221" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g222" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g223" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g224" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g230" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g231" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g232" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g233" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g234" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g240" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g241" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g242" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g243" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g244" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div></div><div id="B2" class="b"></div><div class="f"></div></div><div id="puzzle3" class="z q v" style="left:130vh;top:65vh;width:25vh;height:25vh"><div class="l"></div><div class="r"></div><div id="D3" class="d"><div class="o" id="g300" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g301" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g302" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g303" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g304" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g310" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g311" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g312" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g313" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g314" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g320" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g321" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g322" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g323" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g324" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g330" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g331" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g332" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g333" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g334" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g340" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g341" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g342" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g343" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g344" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div></div><div id="B3" class="b"></div><div class="f"></div></div><div id="puzzle4" class="z q v" style="left:75vh;top:65vh;width:25vh;height:25vh"><div class="l"></div><div class="r"></div><div id="D4" class="d"><div class="o" id="g400" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g401" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g402" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g403" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g404" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g410" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g411" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g412" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g413" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g414" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g420" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g421" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g422" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g423" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g424" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g430" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g431" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g432" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g433" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g434" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g440" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g441" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g442" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g443" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g444" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div></div><div id="B4" class="b"></div><div class="f"></div></div><div id="puzzle5" class="z q v w" style="left:295vh;top:10vh;width:25vh;height:25vh"><div class="l"></div><div class="r"></div><div id="D5" class="d"><div class="o" id="g500" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g501" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g502" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g503" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g504" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g510" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g511" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g512" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g513" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g514" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g520" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g521" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g522" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g523" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g524" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g530" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g531" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g532" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g533" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g534" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g540" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g541" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g542" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g543" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g544" style="width:5vh;height:5vh;background:#000"></div></div><div id="B5" class="b"></div><div class="f"></div></div><div id="puzzle6" class="z q v w" style="left:240vh;top:10vh;width:25vh;height:25vh"><div class="l"></div><div class="r"></div><div id="D6" class="d"><div class="o" id="g600" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g601" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g602" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g603" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g604" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g610" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g611" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g612" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g613" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g614" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g620" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g621" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g622" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g623" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g624" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g630" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g631" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g632" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g633" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g634" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g640" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g641" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g642" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g643" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g644" style="width:5vh;height:5vh;background:#000"></div></div><div id="B6" class="b"></div><div class="f"></div></div><div id="puzzle7" class="z q v w" style="left:185vh;top:10vh;width:25vh;height:25vh"><div class="l"></div><div class="r"></div><div id="D7" class="d"><div class="o" id="g700" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g701" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g702" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g703" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g704" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g710" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g711" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g712" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g713" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g714" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g720" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g721" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g722" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g723" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g724" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g730" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g731" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g732" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g733" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g734" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g740" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g741" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g742" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g743" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g744" style="width:5vh;height:5vh;background:#000"></div></div><div id="B7" class="b"></div><div class="f"></div></div><div id="puzzle8" class="z q v w" style="left:130vh;top:10vh;width:25vh;height:25vh"><div class="l"></div><div class="r"></div><div id="D8" class="d"><div class="o" id="g800" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g801" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g802" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g803" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g804" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g810" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g811" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g812" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g813" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g814" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g820" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g821" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g822" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g823" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g824" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g830" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g831" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g832" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g833" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g834" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g840" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g841" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g842" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g843" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g844" style="width:5vh;height:5vh;background:#000"></div></div><div id="B8" class="b"></div><div class="f"></div></div><div id="puzzle9" class="z q v w" style="left:75vh;top:10vh;width:25vh;height:25vh"><div class="l"></div><div class="r"></div><div id="D9" class="d"><div class="o" id="g900" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g901" style="width: 5vh; height: 5vh; background: rgb(0, 136, 0);"></div><div class="o" id="g902" style="width: 5vh; height: 5vh; background: rgb(0, 136, 0);"></div><div class="o" id="g903" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g904" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g910" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g911" style="width: 5vh; height: 5vh; background: rgb(0, 136, 0);"></div><div class="o" id="g912" style="width: 5vh; height: 5vh; background: rgb(0, 136, 0);"></div><div class="o" id="g913" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g914" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g920" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g921" style="width: 5vh; height: 5vh; background: rgb(0, 136, 0);"></div><div class="o" id="g922" style="width: 5vh; height: 5vh; background: rgb(0, 136, 0);"></div><div class="o" id="g923" style="width: 5vh; height: 5vh; background: rgb(0, 136, 0);"></div><div class="o" id="g924" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g930" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g931" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g932" style="width: 5vh; height: 5vh; background: rgb(0, 136, 0);"></div><div class="o" id="g933" style="width: 5vh; height: 5vh; background: rgb(0, 136, 0);"></div><div class="o" id="g934" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g940" style="width: 5vh; height: 5vh; background: rgb(0, 136, 0);"></div><div class="o" id="g941" style="width: 5vh; height: 5vh; background: rgb(0, 136, 0);"></div><div class="o" id="g942" style="width: 5vh; height: 5vh; background: rgb(0, 136, 0);"></div><div class="o" id="g943" style="width: 5vh; height: 5vh; background: rgb(0, 136, 0);"></div><div class="o" id="g944" style="width:5vh;height:5vh;background:#fff"></div></div><div id="B9" class="b"></div><div class="f"></div></div><div id="puzzle10" class="z q v" style="left:20vh;top:40vh;width:25vh;height:25vh"><div class="l"></div><div class="r"></div><div id="D10" class="d"><div class="o" id="g1000" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g1001" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g1002" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g1003" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g1004" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g1010" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g1011" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g1012" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g1013" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g1014" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g1020" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g1021" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g1022" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g1023" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g1024" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g1030" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g1031" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g1032" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g1033" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g1034" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g1040" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g1041" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g1042" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g1043" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g1044" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div></div><div id="B10" class="b"></div><div class="f"></div></div><div id="puzzle11" class="z q v" style="left:355vh;top:40vh;width:25vh;height:25vh"><div class="l"></div><div class="r"></div><div id="D11" class="d"><div class="o" id="g1100" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g1101" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g1102" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g1103" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g1104" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g1110" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g1111" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g1112" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g1113" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g1114" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g1120" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g1121" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g1122" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g1123" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g1124" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g1130" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g1131" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g1132" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g1133" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g1134" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g1140" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g1141" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g1142" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g1143" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g1144" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div></div><div id="B11" class="b"></div><div class="f"></div></div></div>
<div id="ie"><div id="M0" class="sm" style="transform: translateX(90.25vh) translateY(30vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S0"></div><div id="R0" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id="T0"><div style="background:none;box-shadow:none;color:red;font-size:4vh;text-align:center;transform:rotateZ(180deg)translateY(-4vh)translateZ(1.5vh)">Y</div><div class="u" style="font:2.5vh/4vh a">👀</div><div class="f">‿</div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M1" class="sm" style="transform: translateX(85.25vh) translateY(30vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S1"></div><div id="R1" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T1"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M2" class="sm" style="transform: translateX(85.25vh) translateY(25vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S2"></div><div id="R2" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T2"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M3" class="sm" style="transform: translateX(90.25vh) translateY(25vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S3"></div><div id="R3" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T3"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M4" class="sm" style="transform: translateX(90.25vh) translateY(20vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S4"></div><div id="R4" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id="T4"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M5" class="sm" style="transform: translateX(85.25vh) translateY(20vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S5"></div><div id="R5" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id="T5"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M6" class="sm" style="transform: translateX(80.25vh) translateY(20vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S6"></div><div id="R6" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T6"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M7" class="sm" style="transform: translateX(80.25vh) translateY(15vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S7"></div><div id="R7" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T7"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M8" class="sm" style="transform: translateX(85.25vh) translateY(15vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S8"></div><div id="R8" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T8"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M9" class="sm" style="transform: translateX(85.25vh) translateY(10vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S9"></div><div id="R9" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id="T9"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M10" class="sm" style="transform: translateX(80.25vh) translateY(10vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S10"></div><div id="R10" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T10"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M11" class="sm" style="transform: translateX(80.25vh) translateY(30vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S11"></div><div id="R11" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id="T11"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M12" class="sm" style="transform: translateX(75.25vh) translateY(30vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S12"></div><div id="R12" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id="T12"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M13" class="sm" style="transform: translateX(70.25vh) translateY(30vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S13"></div><div id="R13" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id="T13"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M14" class="sm" style="transform: translateX(65.25vh) translateY(30vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S14"></div><div id="R14" class="sr" style="transform: rotateZ(3.14159rad);"><div class="z k" id="T14"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M15" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S15"></div><div id="R15" class="sr"><div class="z k" id="T15"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M16" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S16"></div><div id="R16" class="sr"><div class="z k" id="T16"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M17" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S17"></div><div id="R17" class="sr"><div class="z k" id="T17"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M18" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S18"></div><div id="R18" class="sr"><div class="z k" id="T18"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div></div>
<div id="ia"></div>
</div>
</div>
<center id="iz" style="font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw">
<button id="kU" class="h" ontouchstart="TS(38)" ontouchend="TE(38)">↑</button>
<button id="kD" class="h" ontouchstart="TS(40)" ontouchend="TE(40)">↓</button>
<button id="kL" class="h" ontouchstart="TS(37)" ontouchend="TE(37)">←</button>
<button id="kR" class="h" ontouchstart="TS(39)" ontouchend="TE(39)">→</button>
<button id="kT" class="h" ontouchstart="TS(16)" ontouchend="TE(16)">⬆︎</button>
<button id="kB" class="h" ontouchstart="TS(17)" ontouchend="TE(17)">⬇︎</button>
<button id="kw" class="h" ontouchstart="TS(18)" ontouchend="TE(18)">↩</button>
<button id="kx" class="h" ontouchstart="TS(82)" ontouchend="TE(82)">×</button>
<button id="ky" class="h" ontouchstart="TS(49)" ontouchend="TE(49)">↻</button>
<button id="kz" class="h" ontouchstart="TS(51)" ontouchend="TE(51)">↺</button>
</center>
<center id="ii" style="font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw"></center><div style="position:fixed;font:8vh a;top:3vh;right:3vh" onclick="location='index.html'">×</div></body></html><html><head><title>LOSSST</title><meta content="width=device-width,user-scalable=no" name="viewport"><script>u=r=d=l=s=c=B=0;trees=[];apples=[];doors=[];cubes=[];hints=[];emoji=[];puzzles=[];TS=function(k){ba[k]&&clearInterval(ba[k]);onkeydown({which:"+n+"});ba[k]=setInterval(function(){onkeydown({which:k})},150)};TE=function(k){setTimeout(function(){clearInterval(ba[k]);onkeyup()},150)};var g=0;function ca(){a.style.transform="translateX(-"+q[t]*v+"vh)translateY(-"+w[t]*v+"vh)translateZ(45vh)rotateX(40deg)rotateZ("+g+"rad)"}var x=$=_=0;function da(){var k=0;this.i=function(f){k+=f/48E3*Math.PI*2;return k%=2*Math.PI}}function fa(k){var f=new da,n=new da,m=.1;this.i=function(){if(!k)return 0;var A=k+.4*Math.sin(n.i(3));A=440*Math.pow(2,(A-57)/12);m*=.9998;A=f.i(A);return Math.pow(Math.sin(A),1)*m}}function ha(k){function f(){var f=k.length/2;for(_=$;0>_;)_+=f;_%=f;f=new fa(k[2*_+0].charCodeAt(0)-48);for(var A=new fa(k[2*_+1].charCodeAt(0)-48),P=[],aa=0;48E3>aa;aa++){var ea=f.i(),na=A.i(),za=.5*ea+na;P.push(ea+.5*na);P.push(za)}n(P).play()}function n(f){function k(f){f=m(f);return f[0]+f[1]}function m(f){for(var k=0,m="",n=0;4>n;n++,k+=8)m+=String.fromCharCode(f>>k&255);return m}var n=2*f.length;n="RIFF"+m(n+36)+"WAVEfmt "+m(16)+k(1)+k(2)+m(48E3)+m(192E3)+k(4)+k(16)+"data"+m(n);for(var ea in f)n+=k(32767*f[ea]);return new Audio("data:audio/wav;base64,"+btoa(n))}$=-1;this.forward=function(){$++;f()};this.back=function(){$--;f()}}function ja(k){function f(f){f=n(f);return f[0]+f[1]}function n(f){for(var k=0,m="",n=0;4>n;n++,k+=8)m+=String.fromCharCode(f>>k&255);return m}for(var m=[],A=0;;A++){var P=k(A);if(null===P)break;m.push(P)}k=2*m.length;k="RIFF"+n(k+36)+"WAVEfmt "+n(16)+f(1)+f(1)+n(48E3)+n(96E3)+f(2)+f(16)+"data"+n(k);for(A in m)k+=f(1E4*m[A]);return new Audio("data:audio/wav;base64,"+btoa(k))}function ka(k){return 1E4<k?null:(Math.pow(k,1.055)&128?1:-1)*Math.pow((1E4-k)/1E4,2)/2}function la(k){return 25E3<k?null:((k^k>>3^k*k*7.3^k<<4)&65535)/65536*((25E3-k)/25E3)/2}function ma(k){return 5E3<k?null:(Math.pow(k+1E3*Math.sin(.01*k),.8)&200?.5:-.5)*Math.pow((5E3-k)/5E3,1)/2}function oa(k){if(16E3<k)return null;var f=Math.pow((16E3-k)/16E3,2.1)/2;return(k<16E3/7?k+10*Math.sin(-k/900)&16:k&13)?f:-f}function pa(k){return 9E4<k?null:(Math.pow(k+1E3*Math.sin(.01*k),.8)&200?.5:-.5)*Math.pow((9E4-k)/9E4,1)/4}var qa=new ha("nbo0risiubv0uisirbs0ui0i0b0c0f0gniojrlsjuivjymvjubv0ui0i0j0m0n0rsgu0vnxnzgx0vnunsg0n0o0n0g0s0o0nrisjulvgufsjufscrbo0ni0j0b0i0j0il`n0ogqgs`u0vgxgz`0gxl0nsouqvsxuuev0u`0`0eq0slulqcs0qcs0qbs0q`s0njo0reseujv0xeveuj0v0e0q0j0i0g0e0cu0scq00bv0ufr0sgn0vbr0xiz0zjr0sgu0vbx0zgx0vbubsg{0zb{`z^{0zi{fzgv0xiu0vjs0ulr0sbn0oll0nbl0jfi0g00bxc0`zb0^{`0]z^0[z]0Zz[0]z^0`zb0]uf0bxi0f{l0izr0ozn0ixr0nrulrnbo0risiufs0r`o0nb0czf0gzi0gzf0cub0i0j0mvn0m0j0irbscrbs`rbs`sbrbo`q0sgugv`x0zg{gz`s0x`s0v`x0vcx0ues0q`l00eu00`x00ev00`u00eq00`o`"),ra=new ha("p0r0sdk0rco0pdk0p0r0sdw0rcs0pdk0p0r0sdk0rck0pdk0p0r0sdw0rcs0pd0f0g0iwg0bwgx0wgurrnspur0bufwgubs0pkrcsdk0rco0pkk0p0r0sdk0rco0pk0l0k0iwg0b0k0g0n0kzs0nxi0f|l0izr0p0n0lwk0dwg0k0p0k|s0pur0kuo0k0i0l0k0isd0krj0kpd0k0p0rsd0krl0opd0f0g0iskw0riw0pgw0nfw0u`s0rbs0pd0k"),y=localStorage,z=0,C=+y.lossst_s||0,sa=C?ra:qa,D=+y.lossst_m||0,ta=+y.lossst_t||0,ua=+y.lossst_M||0,va=0,ba=[],wa=0,v=5,t=0,q=[],w=[],E=[],F=[],G=y.lossst_S=+y.lossst_S||5,H=0,I=0,J=null,K="0",L=[],M=[],xa=0,N=0,O=0,Q=0,R=0,S=0,T=0,ya=+y.lossst_T||0,Aa=0,U=0,V=0,W="",X=h=0;function Ba(){var k;navigator.userAgent.match(/Mac/)&&(iv.className="a");navigator.userAgent.match(/Fire|Edg/)&&(iv.className+=" c",wa=4E3);D&&(iv.className+=" i");b.className=W;C&&!H&&(ie.innerHTML="");cubes=[];doors=[];trees=[];apples=[];hints=[];emoji=[];if("pz"==W)X=40,h=20,puzzles=[[5,,1,,"0000000000000000000000000",16,9]],G=5,C=0;else if("py"==W)h=X=20,puzzles=[eval("["+location.hash.slice(1).replace(/[01]{2,}/g,'"$&"')+"]")],G=puzzles[0][1],puzzles[0][5]=puzzles[0][6]=8,C=!!puzzles[0][3],hints=[["Move: arrow keys<br>"+(C?"Up/Down: "+(D?"\u2b06\ufe0e/\u2b07\ufe0e":"Shift/Ctrl")+"<br>":"")+"backtrack: "+(D?"\u21a9":"Alt")+"<br>Reset: R",1,5,1,0,C,0]],delete y.lossst_ppy0;else if("px"==W){X=40;h=20;trees=[[13,9,0],[7,13,0],[35,8,0]];apples=[[11,11,0,0,0],[2,12,0,6,0],[38,10,0,7,0]];doors=[[41,10,Math.PI/2,8,0,"pA",1,0,10,0,0],[20,-2,0,14,0,"pD",1,10,19,0,0],[-2,11,-Math.PI/2,6,0,"pJ",1,14,5,1,1],[20,21,Math.PI,14,0,"pC",1,22,1,0,0],[5,21,Math.PI,5,0,"pI",1,36,1,0,1]];puzzles=[];cubes=[];for(f=9;15>f;f++)for(m=0;5>m;m++)2==m&&14==f||2==m&&13==f||3==m&&13==f||3==m&&12==f||2==m&&12==f||cubes.push([m,f]);hints=[["Move with<br>arrow keys"+(D?"":" or WASD/ZQSD"),19,5,0,13,0],["Use the "+(D?"\u21a9":"Alt")+" key to backtrack",1,9,0,13,0,1],["Approach red doors with the right length to open them",35,14,0,13,0],["\u2191<br>New puzzles !<hr>Puzzle editor<br>\u2193",19,8,14,0,0],["\u2190<br>New puzzles !",1,9,6,7,1,1]];emoji=[["\ud83d\udc3f\ufe0f",30,7],["\ud83c\udf30\ufe0f",29,7]]}else if("pA"==W)X=40,h=20,trees=[[35,15,0]],apples=[[33,16,0,0,6],[34,17,0,0,6],[37,15,0,0,6]],cubes=[],doors=[[-2,10,-Math.PI/2,8,0,"px",0,39,11,0,0],[35,21,Math.PI,11,0,"pB",1,35,1,0,0]],puzzles=[[6,,0,,"000000001000001110001110001000000000",2,3],[6,,0,,"000000011000011100010000011000000000",14,3],[6,,0,,"000000000100001100011000011100000000",26,3],[5,,0,,"0000001110011100110000000",2,13],[6,,0,,"000000011000011000001100001100000000",14,13],[6,,0,,"000000000100001100001110001100000000",26,13]],hints=[["Cover the black patterns to solve puzzles",9,9,1,0],["Solve all the puzzles in the room to unlock a new door",21,9,1,0],["Your progress is saved automatically",34,9,1,0]],emoji=[["\ud83d\udc0c",11,10]];else if("pB"==W)D&&(kx.className="",y.lossst_r=1),X=40,h=20,trees=[[4,7,0]],apples=[[1,8,0,0,12],[2,9,0,0,12]],doors=[[35,-2,0,8,0,"pA",0,35,19,0,0],[-2,10,-Math.PI/2,13,0,"pC",1,39,10,0,0]],puzzles=[[6,,0,,"000000011110011010011110000000000000",8,2],[7,,0,,"0000000001110000111000001100000110000010000000000",18,2],[6,,0,,"000000011000011110001010001110000000",28,2],[6,,0,,"000000011100001110001110001100000000",8,12],[6,,0,,"000000001110001110001110001010000000",18,12],[6,,0,,"000000011110011110001100001000000000",28,12]],hints=[["If you get stuck, "+(D?"click \u00d7":"press R")+" to exit a puzzle",35,11,1,0]],cubes=[[11,4],[21,16]],emoji=[["\ud83d\udc08",4,14]];else if("pC"==W)X=40,h=20,trees=[[35,8,0]],apples=[[34,11,0,0,18]],doors=[[41,10,Math.PI/2,8,0,"pB",0,1,10,0,0],[22,-2,0,14,0,"px",1,20,19,0,0]],puzzles=[[7,,0,,"0000000000000001111000111100001111000100000000000",2,3],[7,,0,,"0000000001110000101000011100001110000110000000000",26,3],[6,,0,,"000000001110011110011010001110000000",14,3],[7,,0,,"0000000001100000111000011100001110000110000000000",2,12],[7,,0,,"0000000000000001111100101010011111000000000000000",14,12],[6,,0,,"000000011000011100011110011110000000",26,12]],hints=[["\u2191<br>After this room, you can try a puzzle editor and a new kind of puzzles !",22,11,13,0,0]],cubes=[[29,5],[30,8],[17,6],[15,4],[15,7],[29,13],[30,13],[30,14],[18,15],[16,15],[6,13],[6,17],[7,8],[6,8],[5,8],[3,7],[3,8],[7,6],[7,5]],emoji=[["\ud83e\udd8b<br><br>",29,13]];else if("pD"==W){h=X=20;trees=[[10,2,0]];doors=[[10,21,Math.PI,14,0,"px",0,20,0,0,0],[-2,5,-Math.PI/2,14,0,"pE",0,24,12,0,0]];puzzles=[[7,,1,,"0100010011111000000000000000000000001111100100010",7,7]];hints=[["Now you're thinking with wraps !",2,2,0,14,0]];for(f=0;20>f;f++)cubes.push([f,10]);emoji=[["\ud83d\udc10",12,2]]}else if("pE"==W)h=X=25,trees=[[5,12,0]],apples=[[4,14,0,0,23]],doors=[[26,12,Math.PI/2,14,0,"pD",0,0,5,0,0],[-2,12,-Math.PI/2,15,0,"pF",1,79,5,0,0]],puzzles=[[7,,1,,"1000001000000000000000010100011011011000111000001",3,3],[6,,1,,"110011100001000000100001100001110011",15,17],[5,,1,,"1100111001100011001110011",16,4],[6,,1,,"000011000011110001110001000011000011",3,17]],hints=[["Reminder:<br>use "+(D?"\u21a9":"Alt")+" to backtrack,<br>"+(D?"\u00d7":"R")+" to exit a puzzle.",11,14,1,0,0]],emoji=[["\ud83d\udc12",12,20]];else if("pF"==W)X=80,h=20,trees=[[35,10,0]],apples=[[38,11,0,0,35]],doors=[[81,5,Math.PI/2,15,0,"pE",0,0,12,0,0],[-2,15,-Math.PI/2,16,0,"pG",1,19,5,0,0]],puzzles=[[5,,1,,"0111101001010110100011111",59,13],[5,,1,,"1111011000111100001011110",48,13],[5,,1,,"1111101000011110111001100",37,13],[5,,1,,"1111110000111001000011111",26,13],[5,,1,,"1100101101001110011101101",15,13],[5,,1,,"1111100001110010000111111",59,2],[5,,1,,"1000110111100011000111111",48,2],[5,,1,,"1000110101101011111110001",37,2],[5,,1,,"1111110001000110000111111",26,2],[5,,1,,"0111101100011100011011110",15,2],[5,,1,,"1111101111001110001100001",4,8],[5,,1,,"1010100101111010000111111",71,8]],hints=[["This room hides a surprise !",72,2,0,15,0],["\u2190<br>Exit",38,9,16,0,0]],cubes=[],emoji=[];else if("pG"==W)X=20,h=30,trees=[[5,25,0]],apples=[[4,24,0,0,37],[7,25,0,0,37],[2,26,0,0,37],[3,28,0,0,37]],doors=[[21,5,Math.PI/2,16,0,"pF",0,1,15,0,0],[10,31,Math.PI,20,0,"pH",1,10,1,0,0]],puzzles=[[6,,1,,"001000001110111111011100011000001000",7,6],[6,,1,,"110001100001000111000111100001110001",7,18]],emoji=[["\ud83d\udc01",9,14]];else if("pH"==W)X=20,h=30,trees=[[16,22]],apples=[[18,22,0,0,39]],doors=[[10,-2,0,18,0,"pG",0,10,29,0,0],[21,25,Math.PI/2,21,0,"pI",1,1,10,0,0]],puzzles=[[6,,1,,"001000011110111111011110011110001000",7,6],[6,,1,,"110001100001000011000111001111111111",7,18]],emoji=[["\ud83e\udd86",9,14]];else if("pI"==W){X=40;h=20;apples=[[38,2,0,5,0]];doors=[[-2,10,-Math.PI/2,1,0,"pH",0,19,25,0,0],[36,-2,0,6,0,"px",1,5,19,0,1]];puzzles=[];hints=[["Guess what, you finished the first half of the game !",5,9,1,0],["You can now move up and down with "+(D?"\u2b06\ufe0e and \u2b07\ufe0e":"Shift and Ctrl keys")+", and open black doors",30,11,1,0]];for(f=0;9>f;f++)cubes.push([30,f]);for(f=30;40>f;f++)cubes.push([f,8]);emoji=[["\ud83d\udc22",13,14]];trees=[[3,1],[15,2],[36,3],[26,5],[25,15],[33,9],[10,12],[36,14],[3,15]]}else"pJ"==W?(X=15,h=70,trees=[[2,62]],apples=[[2,65,0,0,47],[1,66,0,0,47]],doors=[[16,5,Math.PI/2,6,0,"px",0,1,11,0,1],[-2,65,-Math.PI/2,8,0,"pK",1,19,65,0,1]],puzzles=[[5,,0,"0000000000000000000001110",,2,2],[4,,0,"0000000001000110",,4,11],[5,,0,"0000000000000000101001110",,6,20],[5,,0,"0000000000000000111000100",,8,29],[4,,0,"0000000001100110","0000011001100000",2,38],[4,,0,"0000010001100100","0000011001100000",4,47],[4,,0,"0000011001000100","0000010001100000",6,56],[4,,0,"0000000001100110","0100011000100000",8,65]],hints=[["You now have to match the patterns on the walls...",10,2,1,0,1],["... and on the floor too !",10,40,1,0,1]],emoji=[["\ud83e\udd89",10,14]]):"pK"==W?(D&&(ky.className=kz.className="",y.lossst_c=1),X=20,h=75,trees=[[2,2]],apples=[[1,4,0,0,59],[2,5,0,0,59],[3,6,0,0,59],[4,2,0,0,59]],doors=[[21,65,Math.PI/2,7,0,"pJ",0,1,65,0,1],[-2,5,-Math.PI/2,12,0,"pL",1,14,5,0,1]],puzzles=[[5,,0,"0000000000010000110001110",,8,69],[6,,0,"000000000000000000000100001110011000",,12,58],[5,,0,"0000000000010000111001000",,2,58],[4,,0,"0000001001100110","0000001001100000",2,45],[5,,0,"0000000000000000010001110","0000000100001100110000000",12,45],[5,,0,"0000000000000000101001110","0000001110010100000000000",2,34],[5,,0,"0000000000000000011001100","0000001110011000010000000",12,34],[4,,1,"0000011001100110","0110000000000110",2,22],[4,,1,"1001000000001001","1001000000001001",12,22],[4,,1,"0000010011110010","0000111101100000",2,12],[4,,1,"0110010000000011","0000011100110000",12,12],[4,,1,"1101000000000001","1101000000010001",12,2]],hints=[["You can rotate the camera with "+(D?"<br>\u21bb and \u21ba":"the keys 1, 2 and 3"),15,68,1,0,1],["Can you guess what's coming next?",7,54,1,0,1],["3D puzzles with wrap ! Use "+(D?"\u2b06\ufe0e and \u2b07\ufe0e":"Shift and Ctrl")+" to wrap between top and bottom",7,24,1,0,1]],emoji=[["\ud83d\udc1e",3,70]]):"pL"==W?(X=15,h=80,trees=[[2,70]],apples=[[1,73,0,0,68],[3,75,0,0,68]],doors=[[16,5,Math.PI/2,12,0,"pK",0,1,5,0,1],[-2,75,-Math.PI/2,14,0,"pM",1,14,25,0,1]],puzzles=[[5,,0,"0000000000001001111100100",,2,2],[4,,0,"0000010001100000",,5,11],[5,,0,"0000000110000110111000010",,8,20],[5,,0,"0000000000001000111011111","0000000000111001111100000",2,29],[4,,0,"1000110011101111","0000001111110000",5,38],[4,,0,"0000100011001110","1110110010000000",8,45],[4,,1,"1000100110010001","0000100110010000",2,54],[4,,1,"0000001011110100","0000110011110011",5,63],[5,,1,"0100011000010000111001000","0000001110110000100000000",8,72]],cubes=[[6,12]],emoji=[["\ud83d\udc1d",3,20]]):"pM"==W?(X=15,h=30,trees=[[10,12]],apples=[[8,11,0,0,71],[9,10,0,0,71],[10,9,0,0,71],[11,10,0,0,71],[12,11,0,0,71],[7,12,0,0,71]],doors=[[16,25,Math.PI/2,14,0,"pL",0,1,75,0,1],[-2,5,-Math.PI/2,20,0,"pN",1,14,5,0,1]],puzzles=[[5,,1,"0001100110011001100010000","0001100110011001100010000",2,24],[5,,1,"1100010001000011000111000","0000011000110010000000000",4,13],[5,,1,"1101110001000001000011000","1100010000000001000111011",6,2]],emoji=[["\ud83d\udc13",1,14]]):"pN"==W&&(X=15,h=48,trees=[[10,44]],apples=[[7,45,0,0,75]],doors=[[16,5,Math.PI/2,20,0,"pM",0,1,5,0,1]],puzzles=[[4,,1,"0000111101101111","1000111111111000",5,38],[4,,1,"1111001001001111","1111101010101111",5,28],[4,,1,"1111010101011101","0001101101101111",5,18],[4,,1,"1111000100011110","1111110110011111",5,8]],emoji=[["\ud83d\udc09",13,46]]);a.style.width=X*v+"vh";a.style.height=h*v+"vh";H||(ig.innerHTML="");ih.innerHTML="";for(var f in trees)ig.innerHTML+="<div id=tree"+f+' class="j tr"style=left:'+trees[f][0]*v+"vh;transform:translateX(-7vh)translateY("+(trees[f][1]*v+4)+"vh)rotateX(-70deg)>\ud83c\udf33</div><div id=treeshadow"+f+' class="e h"style=left:'+trees[f][0]*v+"vh;transform:translateX(-7.5vh)translateY("+(trees[f][1]*v+3.5)+"vh)rotateZ(144deg)scaleY(1.5)>\ud83c\udf33";for(f in apples)y["lossst_a"+W+f]?delete apples[f]:ig.innerHTML+="<div id=a"+f+' class="j g '+(y["lossst_A"+W+f]?"":"h")+'"style=left:'+apples[f][0]*v+"vh;transform:translateY("+(apples[f][1]*v+4)+"vh)rotateX(-65deg)>"+("pN"==W?"<div>\u26bd</div>":"<div class=m>\ud83c\udf4e</div>")+"</div><div id=as"+f+' class="e p '+(y["lossst_A"+W+f]?"":"h")+'"style=left:'+apples[f][0]*v+"vh;transform:scaleX(-1)translateY("+(apples[f][1]*v+3)+"vh)rotateZ(212deg)>"+("pN"==W?"\u26bd":"\ud83c\udf4e");for(f in emoji)ig.innerHTML+='<div class="j n"style=left:'+(emoji[f][1]*v-1)+"vh;transform:translateY("+(emoji[f][2]*v+4)+"vh)rotateX(-65deg)><div class=m>"+emoji[f][0];for(f in doors)ig.innerHTML+="<div id=d"+(""+W+f)+' class="do'+(y["lossst_d"+W+f]?" s":"")+'"style=left:'+(doors[f][0]+.5)*v+"vh;top:"+(doors[f][1]+.5)*v+"vh;transform:rotateZ("+doors[f][2]+"rad)translateZ("+doors[f][9]*v+'vh)><div class="y d'+doors[f][10]+'"'+(doors[f][6]?"":"hidden")+">"+doors[f][3]+'</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh">';for(var n in puzzles)for(var m in cubes)y["lossst_p"+W+n]&&cubes[m][0]>=puzzles[n][5]&&cubes[m][0]<puzzles[n][5]+puzzles[n][0]&&cubes[m][1]>=puzzles[n][6]&&cubes[m][1]<puzzles[n][6]+puzzles[n][0]&&delete cubes[m];for(f in cubes)ig.innerHTML+="<div id=cube"+f+' class="z x"style=left:'+cubes[f][0]*v+"vh;top:"+cubes[f][1]*v+'vh;width:5vh;height:5vh><div class=f></div><div class=u style="background-position:'+(-300-cubes[f][0]*v)+"vh "+(-140-cubes[f][1]*v)+'vh"></div><div class=r></div><div class=l></div><div class=b>';for(f in hints)C^hints[f][5]||!(hints[f][3]&&hints[f][3]<=G||hints[f][4]&&hints[f][4]>=G)||(ig.innerHTML+="<div id=h"+(""+W+f)+" class=t style=left:"+hints[f][1]*v+"vh;transform:translateY("+(hints[f][2]*v+5)+"vh)translateZ("+(hints[f][6]*v||0)+"vh)rotateX(-70deg)translateY(-4vh)>"+hints[f][0]);y.lossst_x&&top.hpx0&&(hpx0.style.opacity=1);for(n in puzzles){T=puzzles[n][0];var A=k="";ih.innerHTML+="<div id=puzzle"+n+' class="z q v '+(puzzles[n][2]&&!y["lossst_p"+W+n]?"w":"")+'"style=left:'+puzzles[n][5]*v+"vh;top:"+puzzles[n][6]*v+"vh;width:"+puzzles[n][0]*v+"vh;height:"+T*v+"vh>"+(puzzles[n][2]?"<div class=l></div><div class=r></div>":"")+"<div id=D"+n+" class=d></div><div id=B"+n+" class=b></div>"+(puzzles[n][2]?"<div class=f>":"");var P="000",aa="fff";y["lossst_p"+W+n]&&(P="44c",aa="fd0",puzzles[n][2]=0);for(f=0;f<T;f++)for(m=0;m<T;m++)puzzles[n][3]&&(k+="<div class=o id=w"+n+f+m+" style=width:"+v+"vh;height:"+v+"vh;background:#"+("1"==puzzles[n][3][f*T+m]?P:aa)+"></div>"),puzzles[n][4]&&(A+="<div class=o id=g"+n+f+m+" style=width:"+v+"vh;height:"+v+"vh;background:#"+("1"==puzzles[n][4][f*T+m]?P:aa)+"></div>");top["D"+n]&&(top["D"+n].innerHTML+=A);top["B"+n]&&(top["B"+n].innerHTML+=k)}"pN"==W&&(ig.innerHTML+="<div style='position:fixed;transform:"+(D?"rotateZ(-90deg)translateX(-87vh)translateY(22vh)translateZ(365vh)":"rotateZ(-90deg)translateX(-83vh)translateY(6vh)translateZ(208vh)")+";font: 30vh/25vh a'>THE<br><br>END");H&&(y.lossst_e||y.lossst_s&&6<y.lossst_S||(ik.style.opacity=im.style.opacity=0,ik.style.position=im.style.position="fixed",ik.style.top=im.style.top="-9vh"),J=0,Y(1),xa=1,Q=O=N=0,puzzles[0][2]=0,setTimeout(function(){(ib.onchange=ib.oninput=resetgrid=function(){Ca();Y();ij.disabled=1;gridval.innerHTML=T=+ib.value;puzzle0.style.width=puzzle0.style.height=T*v+"vh";puzzles[0][0]=T;D0.innerHTML="";A=k=B0.innerHTML="";M=[];L=[];for(f=0;f<T;f++)for(M[f]=[],L[f]=[],m=0;m<T;m++)M[f][m]=0,L[f][m]=0;for(f=0;f<T;f++)for(m=0;m<T;m++)k+="<div class=o id=w"+K+f+m+" style=width:"+v+"vh;padding-top:"+v+"vh></div>",A+="<div class=o id=g"+K+f+m+" style=width:"+v+"vh;padding-top:"+v+"vh></div>";xa&&(D0.innerHTML+=A);N&&(B0.innerHTML+=k)})();iq.onchange=iq.oninput=function(){it.innerHTML=G=+iq.value;Ca();Y()};ik.onclick=function(){ik.checked?xa=1:top.wall&&(xa=0,C=N=1,wall.checked=!0);a.className=N?"haswall":"";resetgrid()};top.wall&&(wall.onclick=function(){wall.checked?(N=1,C=puzzles[0][3]=1):(N=C=0,xa=1,ik.checked=!0,puzzles[0][3]=0);a.className=N?"haswall":"";resetgrid()});top.wrap&&(wrap.onclick=function(){O=puzzles[0][2]=wrap.checked||0;puzzle0.className="z q v "+(O?"w":"");resetgrid()});print=function(k){var n="";for(f=0;f<T;f++)for(m=0;m<T;m++)n=top[k+"0"+f+m].style.background&&top[k+"0"+f+m].style.background.match(/255/)?n+0:n+1;return n};ij.onclick=function(){var f=[];f.push(T);f.push(G);f.push(O?1:0);f.push(N?print("w"):"");f.push(ik.checked?print("g"):"");open("//twitter.com/intent/tweet?text=I%20made%20a%20level%20for%20@MaximeEuziere's%20%23js13k%20game%20LOSSST!%0APlay%20here:%20js13kgames.com%2Fentries%2Flossst%0AMy%20level:%20js13kgames.com%2Fgames%2Flossst%23"+f+"%0A%23LOSSSTlevels")}},100));"px"!=W||y.lossst_x?(a.style.transition="transform 1s,transform-origin 1s",Ca()):(I=1,setTimeout(function(){Ca();Y();M0.style.transition="transform .5s"},2E3),setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(0);F.push(F[t]);t++;Y()},5500+wa),setTimeout(function(){M0.style.transition="";R0.style.transition="transform .2s";R0.style.transform="rotateZ("+-Math.PI/4+"rad)"},6500+wa),setTimeout(function(){R0.style.transform="rotateZ("+Math.PI/4+"rad)"},7E3+wa),setTimeout(function(){R0.style.transform=""},7500+wa),setTimeout(function(){S0.style.transition=R0.style.transition=""},8E3+wa),setTimeout(function(){clearInterval(x);z||(I=0);hpx0.style.opacity=1},8400),setTimeout(function(){a.style.transition="transform 1s,transform-origin 1s";y.lossst_x=20;y.lossst_y=10;b.innerHTML+="<div style='position:fixed;font:8vh a;top:3vh;right:3vh'onclick=location='index.html'>\u00d7";D&&(kU.className=kD.className=kL.className=kR.className="",y.lossst_w=1)},9E3));Y()}function Ca(){var k=C&&!H?ia:ie;k.innerHTML="";q=[];w=[];E=[];F=[];t=G-1;if("py"==W)for(i=0;i<G;i++)q[t-i]=1-i,w[t-i]=10,E[t-i]=0,F[t-i]=-Math.PI/2;else if(H)for(i=0;i<G;i++)q[t-i]=13-i,w[t-i]=12,E[t-i]=0,F[t-i]=-Math.PI/2;else if(y.lossst_x){var f=+y.lossst_x,n=+y.lossst_y,m=+y.lossst_z;"px"==W&&2>y.lossst_x&&(m=y.lossst_z=1);if("pI"==W&&z&&1==C)for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i-1,F[t-i]=0;else if(2>f)for(i=0;i<G;i++)q[t-i]=f-i,w[t-i]=n,E[t-i]=m,F[t-i]=-Math.PI/2;else if(f>X-2)for(i=0;i<G;i++)q[t-i]=f+i,w[t-i]=n,E[t-i]=m,F[t-i]=Math.PI/2;else if(2>n)for(i=0;i<G;i++)q[t-i]=f,w[t-i]=n-i,E[t-i]=m,F[t-i]=0;else if(n>h-2)for(i=0;i<G;i++)q[t-i]=f,w[t-i]=n+i,E[t-i]=m,F[t-i]=0;else for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i,F[t-i]=0}else if("px"==W)for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i-1,F[t-i]=0;for(i=0;i<Math.max(G+4,16);i++)k.innerHTML+="<div id=M"+i+" class=sm style=transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:"+(v-.7)+"vh;height:"+(v-.7)+"vh><div class=ss id=S"+i+"></div><div id=R"+i+' class=sr><div class="z k"id=T'+i+">"+(1>i?"<div style=background:none;box-shadow:none;color:red;font-size:4vh;text-align:center;transform:rotateZ(180deg)translateY(-4vh)translateZ(1.5vh)>Y</div>":"")+'<div class=u style="font:'+.5*v+"vh/"+.8*v+'vh a">'+(1>i?"\ud83d\udc40":"")+"</div><div class=f>"+(1>i?"\u203f":"")+"</div><div class=r></div><div class=l></div><div class=b>"}function Y(k){for(var f={a:0};f.a<G;f={a:f.a,j:f.j,m:f.m,o:f.o},f.a++)if(!k){var n=oldx=oldy=oldz=newx=newy=newz=0;O&&T&&(q[t-f.a-1]==R&&q[t-f.a]==R+T-1?(n=1,oldx=R-1,newx=R+T,oldy=newy=w[t-f.a],oldz=newz=E[t-f.a]):q[t-f.a-1]==R+T-1&&q[t-f.a]==R?(n=1,oldx=R+T,newx=R-1,oldy=newy=w[t-f.a],oldz=newz=E[t-f.a]):w[t-f.a-1]==S&&w[t-f.a]==S+T-1?(n=1,oldy=S-1,newy=S+T,oldx=newx=q[t-f.a],oldz=newz=E[t-f.a]):w[t-f.a-1]==S+T-1&&w[t-f.a]==S?(n=1,oldy=S+T,newy=S-1,oldx=newx=q[t-f.a],oldz=newz=E[t-f.a]):0==E[t-f.a-1]&&E[t-f.a]==T-1?(n=1,oldz=-1,newz=T,oldx=newx=q[t-f.a],oldy=newy=w[t-f.a]):E[t-f.a-1]==T-1&&0==E[t-f.a]&&(n=1,oldz=T,newz=-1,oldx=newx=q[t-f.a],oldy=newy=w[t-f.a]));if(n)top["R"+f.a].style.transform="rotateZ("+F[t-f.a]+"rad)",top["M"+f.a].style.transform="translateX("+(oldx*v+.5)+"vh)translateY("+(oldy*v+.5)+"vh)translateZ("+(oldz*v+.5)+"vh)scale(.01)scaleZ(.01)",setTimeout(function(f){return function(){top["M"+f.a].style.transition="none"}}(f),90),f.j=newx,f.m=newy,f.o=newz,setTimeout(function(f){return function(){top["M"+f.a].style.transform="translateX("+(f.j*v+.5)+"vh)translateY("+(f.m*v+.5)+"vh)translateZ("+(f.o*v+.5)+"vh)scale(.01)"}}(f),100),setTimeout(function(f){return function(){top["M"+f.a].style.transition="";top["M"+f.a].style.transform="translateX("+(q[t-f.a]*v+.25)+"vh)translateY("+w[t-f.a]*v+"vh)translateZ("+(E[t-f.a]*v+.5)+"vh)"}}(f),150);else try{top["M"+f.a].style.transform="translateX("+(q[t-f.a]*v+.25)+"vh)translateY("+w[t-f.a]*v+"vh)translateZ("+(E[t-f.a]*v+.5)+"vh)",top["R"+f.a].style.transform="rotateZ("+F[t-f.a]+"rad)"}catch(A){}try{top["S"+f.a].style.display=0==E[t-f.a]?"":"none"}catch(A){}}H?a.style.transform="translateX(-100vh)translateY(-37vh)translateZ(-5vh)rotateX(33deg)":null===J||y["lossst_p"+W+J]?(a.style.transform="translateX("+-q[t]*v+"vh)translateY("+-w[t]*v+"vh)translateZ(45vh)rotateX(40deg)rotateZ("+g+"rad)",a.style.transformOrigin=""+q[t]*v+"vh "+w[t]*v+"vh"):(a.style.transform="translateX("+(-(R+puzzles[J][0]/2)*v+5)+"vh)translateY("+(-(S+puzzles[J][0]/2)*v+8)+"vh)translateZ("+(90-puzzles[J][0]*(v+3))+"vh)rotateX(30deg)rotateZ("+g+"rad)",a.style.transformOrigin=""+((R+puzzles[J][0]/2)*v+5)+"vh "+((S+puzzles[J][0]/2-1)*v+8)+"vh");f=C?1:0;for(k=0;k<G;k++){if(0>=E[t-k]){f=0;break}for(m in cubes)cubes[m][0]==q[t-k]&&cubes[m][1]==w[t-k]&&1==E[t-k]&&(f=0)}if(f){for(k=0;k<G;k++)E[t-k]--;try{Y()}catch(A){for(var m=2*G;m--;)q.pop(),w.pop(),E.pop(),F.pop(),t--;Aa=0;Y()}}f=q[t];n=w[t];for(k in doors)(doors[k][10]&&C||!doors[k][10]&&!C)&&top["d"+W+k]&&0<doors[k][3]&&G>=doors[k][3]&&4>Math.hypot(f-doors[k][0],n-doors[k][1])&&!y["lossst_d"+W+k]&&(top["d"+W+k].className="do s",!doors[k][6]||"px"==W&&2<k||ja(pa).play(),y["lossst_d"+W+k]=1),top["d"+W+k]&&"do s"==top["d"+W+k].className&&2>Math.hypot(f-doors[k][0],n-doors[k][1])&&(y.lossst_p=W=doors[k][5],setTimeout(Ba,600),y.lossst_x=doors[k][7],y.lossst_y=doors[k][8],y.lossst_z=0);null!==J&&Da();H||(J=null);H||(L=[],M=[]);for(p in puzzles)if(f>=puzzles[p][5]&&f<puzzles[p][5]+puzzles[p][0]&&n>=puzzles[p][6]&&n<puzzles[p][6]+puzzles[p][0]){J=+p;Q=0;y["lossst_p"+W+p]&&(Q=1);K=p;xa=!!puzzles[p][4];N=!!puzzles[p][3];O=!!puzzles[p][2];R=puzzles[p][5];S=puzzles[p][6];T=puzzles[p][0];for(k=0;k<T;k++)for(L[k]=[],M[k]=[],m=0;m<T;m++)puzzles[p][3]&&(M[k][m]=+puzzles[p][3][k*puzzles[p][0]+m]),puzzles[p][4]&&(L[k][m]=+puzzles[p][4][k*puzzles[p][0]+m]);Da()}}function Z(k,f,n){V=0;if(0>k||k>=X||0>f||f>=h)V=1;for(var m in trees)k>=trees[m][0]-1&&k<=trees[m][0]&&f==trees[m][1]&&3>E[t]&&(V=1);for(m in hints)k>=hints[m][1]&&k<=hints[m][1]+3&&f==hints[m][2]&&G>=hints[m][3]&&(!hints[m][4]||G<=hints[m][4])&&(C&&hints[m][5]||!C&&!hints[m][5])&&(V=1);for(m in apples)if(y["lossst_A"+W+m]&&k==apples[m][0]&&f==apples[m][1]&&0==E[t])if(ja(ka).play(),"pN"==W){x=setInterval(sa.forward,150);y.lossst_E=1;setTimeout(function(){I=1;as0.remove();a0.style.transform="translateY(319vh)translateZ(2vh)rotateX(-65deg)rotateY(90deg)";a0.style.transition=a.style.transition="10s";a0.style.transform="translateY(15vh)translateZ(2vh)rotateX(-65deg)";a.style.transform=D?"translateX(-133vh)translateY(-249vh)translateZ(-373vh)rotateZ(90deg)":"translateX(-141vh)translateY(-227vh)translateZ(-185vh)rotateZ(90deg)"},200);var A={},P;for(P in puzzles)A.g=P,setTimeout(function(f){return function(){top["B"+f.g].style.transition=".5s";top["B"+f.g].style.transform="translateY(-125%)"}}(A),[1450,2500,3800,5400][A.g]),A={g:A.g};setTimeout(function(){clearInterval(va);y.lossst_E=1;y.lossst_e=1;b.style.background="#000";y.lossst_s=0;b.innerHTML="<div id=iv style=perspective:90vh><center id=menu style=width:75vh;transform:translateX(-38vh)translateY(-35vh)rotateX(-28deg)><span style=font-size:4vh;line-height:5vh><h1>Congrats!</h1><br>You completed the game in<br>"+ta+" seconds and "+ua+" moves!<br><br><a href=//twitter.com/intent/tweet?text=I%20played%20LOSSST,%20a%20%23js13k%20game%20by%20by%20@MaximeEuziere%0Amy%20score:%20"+ta+"%20seconds%20and%20"+ua+"%20moves!%0Ajs13kgames.com%2Fentries%2Flossst target=_blank style=color:#def;font-size:4vh>TWEET YOUR SCORE</a><br><br>Dev record:<br>854 seconds, 2452 moves<br><br>3D puzzle editor unlocked!<br><br><a href=. style=font-size:4vh>MAIN MENU"},15E3);n=document.querySelectorAll(".o");A={};for(var aa in n){A.h=aa;try{2==n[A.h].style.backgroundColor.match(/68/g).length&&setTimeout(function(f){return function(){top[n[f.h].id].style.background="#a00"}}(A),8E3+10*A.h)}catch(na){}A={h:A.h}}}else if(delete apples[m],top["a"+m].remove(),top["as"+m].remove(),G++,y.lossst_S=G,y["lossst_a"+W+m]=1,"pF"==W&&16==G){I=1;x=setInterval(sa.forward,150);z=1;a.style.transition="5s";a.style.transform="translateX(-180vh)translateY(-53vh)translateZ("+(D?-422:-180)+"vh)rotateZ(180deg)";setTimeout(function(){a.style.transition="1s";I=z=0;Y();ig.innerHTML+="<div class=t style=left:190vh;transform:translateY(50vh)rotateX(-55deg)translateY(-4vh)>\u2190<br>Exit";clearInterval(x)},1E4);n=document.querySelectorAll(".o");A={};for(var ea in n){A.f=ea;try{n[A.f].id.match(/g\d\d\d$/)&&2==n[A.f].style.backgroundColor.match(/68/g).length&&setTimeout(function(f){return function(){top[n[f.f].id].style.background="#a00"}}(A),5500+10*A.f)}catch(na){}A={f:A.f}}}for(m in cubes)k==cubes[m][0]&&f==cubes[m][1]&&0==n&&(V=1);for(m in emoji)"pC"!=W&&k==emoji[m][1]&&f==emoji[m][2]&&0==n&&(V=1);for(m in doors)top["d"+W+m]&&"do s"==top["d"+W+m].className&&2>=Math.hypot(k-doors[m][0],f-doors[m][1])&&(V=0);hitcube2=0;for(m=G-2;0<m;m--)q[t-m]==k&&w[t-m]==f&&E[t-m]==n&&(V=1,1==m&&(hitcube2=1));for(p in puzzles)puzzles[p][3]&&k>=puzzles[p][5]&&k<puzzles[p][5]+puzzles[p][0]&&(f==puzzles[p][6]-1&&w[t]==puzzles[p][6]&&!puzzles[p][2]||f==puzzles[p][6]&&w[t]==puzzles[p][6]-1)&&(V=1);if("pI"==W&&18==k&&!C){z=C=V=I=1;clearInterval(x);sa=ra;_=$=0;x=setInterval(ra.forward,250);y.lossst_s=1;y.lossst_S=G=5;for(k=0;21>k;k++)cubes.push([q[t-k],w[t-k]]),top["M"+k].id="",top["R"+k].id="",top["S"+k].id="",top["T"+k].id="";a.style.transition="2s";Ca();Y();a.style.transform="translateX(-105vh)translateY(-51vh)translateZ(80vh)rotateX(45deg)";a.style.transformOrigin="140vh 70vh";setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(0);F.push(F[t]);t++;Y()},3E3);setTimeout(function(){ii.innerHTML="Daddy!"},4E3);setTimeout(function(){ii.innerHTML=""},6E3);setTimeout(function(){ii.innerHTML="I lossst my soccer ball!"},7E3);setTimeout(function(){ii.innerHTML=""},9E3);setTimeout(function(){ii.innerHTML="But I found new moves!"},1E4);setTimeout(function(){ii.innerHTML="";z=I=0;clearInterval(x);a.style.transition="1s";Y();Ea();D&&(kT.className=kB.className="",y.lossst_B=1)},13500)}}function Da(){if(!Q&&null!==J){solved=1;H&&(ij.disabled=0);for(i=0;i<T;i++)for(j=0;j<T;j++)try{top["g"+K+i+j]&&(top["g"+K+i+j].style.background=L[i][j]?"#000":"#fff"),top["w"+K+i+j]&&(top["w"+K+i+j].style.background=M[i][j]?"#000":"#fff")}catch(m){}if(q[t]<R||q[t]>R+T-1||w[t]<S||w[t]>S+T-1||0>E[t]||E[t]>T-1)H&&(ij.disabled=1);else{for(i=0;i<G;i++){top["g"+K+(w[t-i]-S)+(q[t-i]-R)]&&(top["g"+K+(w[t-i]-S)+(q[t-i]-R)].style.background=L[w[t-i]-S][q[t-i]-R]?"#080":H?"#44c":"#f00");w[t-i]>=S&&w[t-i]<S+T&&top["w"+K+(T-1-E[t-i])+(q[t-i]-R)]&&(top["w"+K+(T-1-E[t-i])+(q[t-i]-R)].style.background=M[T-1-E[t-i]][q[t-i]-R]?"#080":H?"#44c":"#f00");if(q[t-i]<R||q[t-i]>R+T-1||w[t-i]<S||w[t-i]>S+T-1||E[t-i]>T-1)H&&(ij.disabled=1),solved=0;xa&&L[w[t-i]-S]&&!L[w[t-i]-S][q[t-i]-R]&&(solved=0);N&&M[T-1-E[t-i]]&&!M[T-1-E[t-i]][q[t-i]-R]&&(solved=0)}for(i=0;i<T;i++)for(j=0;j<T;j++){try{xa&&3==top["g"+K+i+j].style.backgroundColor.match(/0/g).length&&(solved=0)}catch(m){}try{N&&3==top["w"+K+i+j].style.backgroundColor.match(/0/g).length&&(solved=0)}catch(m){}}if(solved){Q=H?0:1;puzzles[J][2]=0;top["puzzle"+J].classList.remove("w");H||(y["lossst_p"+W+J]=1);for(i=0;i<T;i++)for(j=0;j<T;j++){try{top["g"+K+i+j].style.background=L[i][j]?"#44c":"#fd0"}catch(m){}try{top["w"+K+i+j].style.background=M[i][j]?"#44c":"#fd0"}catch(m){}}H||(ja(oa).play(),ya++,y.lossst_T=ya);var k=1,f={},n;for(n in cubes)f.b=n,cubes[f.b][0]>=puzzles[J][5]&&cubes[f.b][0]<puzzles[J][5]+puzzles[J][0]&&cubes[f.b][1]>=puzzles[J][6]&&cubes[f.b][1]<puzzles[J][6]+puzzles[J][0]&&(delete cubes[f.b],k++,setTimeout(function(f){return function(){top["cube"+f.b].remove()}}(f),200*k)),f={b:f.b}}}}}function Ea(){for(var k in apples)if(!y["lossst_A"+W+k]&&(0<apples[k][3]&&apples[k][3]==G||0<apples[k][4]&&apples[k][4]==ya)){I=1;D&&"px"==W&&1==k&&(kw.className="",y.lossst_b=1);var f=setTimeout;a.style.transform="translateX("+-apples[k][0]*v+"vh)translateY("+-apples[k][1]*v+"vh)translateZ(50vh)rotateX(35deg)";y["lossst_A"+W+k]=1;a.style.transformOrigin=""+apples[k][0]*v+"vh "+apples[k][1]*v+"vh";f(void 0,250);f=setTimeout;top["a"+k].className="j g";top["as"+k].className="e p";f(void 0,800);setTimeout(function(){ja(la).play()},850);setTimeout(function(){Y();z||(I=0)},2E3)}}function Fa(){U=0;H||(J=null);for(p in puzzles)q[t]>=puzzles[p][5]&&q[t]<puzzles[p][5]+puzzles[p][0]&&w[t]>=puzzles[p][6]&&w[t]<puzzles[p][6]+puzzles[p][0]&&0<=E[t]&&E[t]<puzzles[p][0]&&(J=+p,U=1)}onkeydown=function(k){top["lurd************************l**r************l*d***u**u"[k.which-37]]=1;18==k.which&&(B=1);16==k.which&&(s=1);17==k.which&&(c=1);if(!I){if(49==k.which||97==k.which)-1<g&&g--,ca();if(50==k.which||98==k.which)g=0,ca();if(51==k.which||99==k.which)1>g&&g++,ca()}Fa();U?Da():Aa=0;if(82==k.which&&U){if(Aa<=t)for(var f=Aa;f<=t;f++)q.pop(),w.pop(),E.pop(),F.pop(),setTimeout(function(){sa.back()},70*(t-f));t=Aa-1;Aa=0;Y();Da();y.lossst_M=++ua}else if(116!=k.which&&82!=k.which&&17!=k.which&&123!=k.which&&k.preventDefault&&k.preventDefault(),!I){V=0;if(l)!Q&&O&&U&&q[t]==R?(Z(R+T-1,w[t],E[t]),V||(q.push(R+T-1),w.push(w[t]),E.push(E[t]),F.push(Math.PI/2),t++)):(Z(q[t]-1,w[t],E[t]),V||(q.push(q[t]-1),w.push(w[t]),E.push(E[t]),F.push(Math.PI/2),t++));else if(r)!Q&&O&&U&&q[t]==R+T-1?(Z(R,w[t],E[t]),V||(q.push(R),w.push(w[t]),E.push(E[t]),F.push(-Math.PI/2),t++)):(Z(q[t]+1,w[t],E[t]),V||(q.push(q[t]+1),w.push(w[t]),E.push(E[t]),F.push(-Math.PI/2),t++));else if(u)!Q&&O&&U&&w[t]==S?(Z(q[t],S+T-1,E[t]),V||(q.push(q[t]),w.push(S+T-1),E.push(E[t]),F.push(Math.PI),t++)):(Z(q[t],w[t]-1,E[t]),V||(q.push(q[t]),w.push(w[t]-1),E.push(E[t]),F.push(Math.PI),t++));else if(d)!Q&&O&&U&&w[t]==S+T-1?(Z(q[t],S,E[t]),V||(q.push(q[t]),w.push(S),E.push(E[t]),F.push(0),t++)):(Z(q[t],w[t]+1,E[t]),V||(q.push(q[t]),w.push(w[t]+1),E.push(E[t]),F.push(0),t++));else if((C||N)&&s){if(!U){k=G-1;for(f in cubes)cubes[f][0]==q[t]&&cubes[f][1]==w[t]&&k++;if(E[t]==k)return}!Q&&O&&U&&E[t]==T-1?(Z(q[t],w[t],0),V||(q.push(q[t]),w.push(w[t]),E.push(0),F.push(F[t]),t++)):(Z(q[t],w[t],E[t]+1),V||(q.push(q[t]),w.push(w[t]),E.push(E[t]+1),F.push(F[t]),t++))}else(C||N)&&c?!Q&&O&&U&&0==E[t]?(Z(q[t],w[t],T-1),V||(q.push(q[t]),w.push(w[t]),E.push(T-1),F.push(F[t]),t++)):0==E[t]?V=1:(Z(q[t],w[t],E[t]-1),V||(q.push(q[t]),w.push(w[t]),E.push(E[t]-1),F.push(F[t]),t++)):B&&t>G&&(F.pop(),q.pop(),w.pop(),E.pop(),t--);V&&!I&&(I=1,setTimeout(function(){z||(I=0)},150),!(-1<q[t]&&q[t]<X&&-1<w[t]&&w[t]<h)||"pI"==W&&!C&&16<q[t]||hitcube2||ja(ma).play());if(!V&&!z&&(u||r||d||l||s||c||B)){y.lossst_M=++ua;Da();Y();B?t>G&&sa.back():(C||!s&&!c&&!C)&&sa.forward();Y(1);Ea();I||(I=1,setTimeout(function(){z||(I=0)},150));if("px"==W&&(C||14<=G)&&20==q[t]&&10==w[t]){I=1;var n=0;for(f=0;f<G;f++)setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(--n);F.push(F[t]);t++;Y()},150*f);setTimeout(function(){AA("pz",1)},160*G);y.lossst_x=20;y.lossst_y=10}Fa();U&&!Aa&&(Aa=t)}}};onkeyup=function(){u=r=d=l=s=c=B=0};onload=function(){1<location.hash.length?AA("py",1):(setTimeout(function(){x=setInterval(function(){sa.forward()},500)},200),b.innerHTML="<center id=e>\ud83d\udc40</center>\n<center id=iw></center>\n<div id=iv style=perspective:30vh>\n<center id=menu>\n<h1>LOSSST</h1>\n<span onclick=newgame()>New game</span><br>\n"+(y.lossst_a&&!y.lossst_E?"<span onclick=AA(0,1)>Continue</span><br>":"")+"\n<span onclick=AA(\"pz\",1)>Puzzle editor</span><br>\n<span onclick=top.open('//goo.gl/iKqoCS')>Bonus",newgame=function(){for(i in localStorage)0==i.indexOf("lossst")&&-1==i.indexOf("e")&&delete localStorage[i];y.lossst_a=1;menu.innerHTML="<br><br><span onclick=intro(0)>Desssktop</span><br><br><span onclick=intro(1)>Mobile"},intro=function(k){clearInterval(x);_=$=0;x=setInterval(sa.forward,250);y.lossst_m=D=k;y.lossst_S=G=5;ta=y.lossst_t=0;ua=y.lossst_M=0;y.lossst_M=0;y.lossst_t=0;menu.innerHTML="";setTimeout(function(){e.style.margin=0},500);dir=1;inter=setInterval(function(){e.style.opacity=0;setTimeout(function(){e.style.opacity=1;dir=-dir;e.style.transform="scaleX("+dir+")"},150)},3E3);setTimeout(function(){iw.innerHTML="I lossst my kid !"},2E3);setTimeout(function(){iw.innerHTML=""},5E3);setTimeout(function(){clearInterval(inter);e.style.margin="-80vh 0 0"},7E3);setTimeout(AA,7500)})};AA=function(k,f){if(0===k||"pz"==k)clearInterval(x),_=$=0;"pz"==k&&(H=1,J=0);W=k||y.lossst_p||"px";b.outerHTML="<body id=b class="+W+">\n<div id=iv>\n<div id=a style=transform:translateX(-97vh)translateY(-50vh)rotateZ(90deg)translateZ(119vh);transform-origin:100vh+50vh>\n<div id=ig>"+(H?"<div class=t style=width:60vh;transform:translateX(70vh)translateY(1vh)translateZ(2vh)rotateX(-42deg)>\n<label style=width:100%;text-align:center>Create a pattern with the snake and share it !</label>\n<br style=line-height:6vh>\n<div style=text-align:left;padding-left:5vh>\n<label>Grid</label> <input id=ib type=range value=5 min=3 max=8 step=1>\n<span id=gridval>5</span>\n<br>\n<label>Snake</label> <input id=iq type=range value=5 min=5 max=40 step=1>\n<span id=it>5</span>\n</div>\n<input type=checkbox id=ik checked> <label for=ik id=im>ground</label>\n"+(y.lossst_e||y.lossst_s&&6<y.lossst_S?"<input type=checkbox id=wall> <label for=wall>wall</label>":"")+"\n"+(y.lossst_e||y.lossst_s?"<input type=checkbox id=wrap> <label for=wrap>wrap</label>":"")+"\n<br>\n<center>\n<button id=ij disabled>Share</button>\n</center>\n</div>":"")+"\n</div>\n<div id=ih></div>\n<div id=ie></div>\n<div id=ia></div>\n</div>\n</div>\n<center id=iz style='font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw'>\n<button id=kU class=h ontouchstart=TS(38) ontouchend=TE(38)>\u2191</button>\n<button id=kD class=h ontouchstart=TS(40) ontouchend=TE(40)>\u2193</button>\n<button id=kL class=h ontouchstart=TS(37) ontouchend=TE(37)>\u2190</button>\n<button id=kR class=h ontouchstart=TS(39) ontouchend=TE(39)>\u2192</button>\n<button id=kT class=h ontouchstart=TS(16) ontouchend=TE(16)>\u2b06\ufe0e</button>\n<button id=kB class=h ontouchstart=TS(17) ontouchend=TE(17)>\u2b07\ufe0e</button>\n<button id=kw class=h ontouchstart=TS(18) ontouchend=TE(18)>\u21a9</button>\n<button id=kx class=h ontouchstart=TS(82) ontouchend=TE(82)>\u00d7</button>\n<button id=ky class=h ontouchstart=TS(49) ontouchend=TE(49)>\u21bb</button>\n<button id=kz class=h ontouchstart=TS(51) ontouchend=TE(51)>\u21ba</button>\n</center>\n<center id=ii style='font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw'>";y.lossst_Apx0=1;Ba();if(D&&"py"==W||y.lossst_w)kU.className=kD.className=kL.className=kR.className="";if(D&&"py"==W||y.lossst_b)kw.className="";if(D&&"py"==W||y.lossst_r)kr.className="";if(D&&"py"==W||y.lossst_B)kT.className="",kB.className="";if(D&&"py"==W||y.lossst_c)ky.className="",kz.className="";H||(va=setInterval(function(){y.lossst_t=++ta},1E3));f&&(b.innerHTML+="<div style='position:fixed;font:8vh a;top:3vh;right:3vh'onclick=location='.'>\u00d7")}</script><style>@keyframes move{0%,100%{transform:rotateY(-10deg)}50%{transform:rotateY(10deg)}}*{margin:0;padding:0;font:2.5vh/5.5vh arial,sans-serif;vertical-align:middle;box-sizing:border-box;-webkit-touch-callout:none;-webkit-user-select:none;-webkit-tap-highlight-color:transparent;user-select:none;cursor:pointer;touch-action:manipulation}html,body{height:100%;background:#000;overflow:hidden;background:radial-gradient(#def 25%,#7ce)}a{color:#def}input,button{position:relative;z-index:2}input[type=range]::-webkit-slider-runnable-track,input[type=range]::-webkit-slider-thumb{background:#888;border:1px solid #000}input[type=range]::-moz-range-track,input[type=range]::-moz-range-thumb{background:#888;border:1px solid #000}#iv{width:0;height:0;perspective:120vh;position:absolute;top:50%;left:50%}#iv *{transform-style:preserve-3d}#a{width:0;height:0;transform-origin:18vh 0%;transition:transform 1s,transform-origin 1s}.z{position:fixed;top:0;left:0}.z>div{width:100%;height:100%;position:fixed}.z .u{transform:rotateY(90deg)translateX(-100%)rotateY(-90deg)}.z .l{transform:rotateX(-90deg)translateY(-50%)translateX(-50%)rotateY(-90deg)}.z .r{transform:rotateX(-90deg)translateY(-50%)translateX(50%)rotateY(90deg)}.z .f{transform:translateY(50%)rotateX(-90deg)translateY(-50%)}.z .b{transform:translateY(-50%)rotateX(-90deg)translateY(-50%)rotateY(180deg)}.z.q{width:32vh;height:32vh;transform:none}.z.q>div{background:transparent}.z.q .b{transition:opacity .5s;transform:translateY(-50%)rotateX(-90deg)translateY(-52%)}.z.q.w .d,.z.q .d{transition:opacity .5s;background:#0c5b0c}.sm,.sr{transform-origin:50% 50%;width:100%;height:100%;position:fixed}.sm{transition:transform .15s}.z.k{width:100%;height:100%}.z.k>div{box-shadow:0 0 0 .1vh #000 inset;text-align:center}.z.k .f{line-height:3vh}#ie .z.k>div{background:#FFA500}#ie .z.k .u{background:#dF8500}#ia .z.k>div,#a.haswall .z.k>div{background:#444}#ia .z.k .u,#a.haswall .z.k .u{background:#333}#ia .z.k .f{color:#fff}.ss{position:fixed;width:100%;height:100%;background:rgba(0,0,0,.25);transform:translateX(14%)translateY(14%)translateZ(-.25vh)}label{display:inline-block;width:22%}button{display:inline-block;width:23%;border:.2vh solid #000;margin:1vh 2% 0 0}input[type=range]{width:60%}#form{width:50vh;margin:auto}.o{float:left;outline:.4vh solid #888;opacity:0;transition:opacity .5s;background:#fff}.z.q.v{transform:translateZ(.1vh)}.z.q.v .o{opacity:1}.z.q.v .d{transform:none}.z.q.w>div{background:linear-gradient(45deg,rgba(200,200,200,.1),rgba(200,200,200,.3));box-shadow:0 0 .1vh rgba(255,255,255,.5)}.j{position:fixed;transform-origin:50% 100%;bottom:0}.m{animation:move 3s infinite}.e{color:rgba(0,0,0,.002);text-shadow:0px 0px rgba(0,0,0,.25);position:fixed;transform-origin:50% 100%;bottom:0}.tr,.h{font:11vh/12vh a}.a .tr{font:15vh/11vh a}.a .h,.c .h,.i .h,.a .p,.c .p,.i .p,.c .x.b,#iz button.h{display:none}.g,.g *,.p{font:4vh/5vh a;transition:opacity .5s .5s}.n,.n *{font:5vh/6vh a}.g.h,.p.h{opacity:0}.a .g{font:6vh/5vh a}.do{position:fixed;transform-origin:0% 100%;width:0;height:0}.do .y{position:fixed;width:15vh;height:20vh;background:radial-gradient(2vh at 90% 50%,gold 35%,transparent 40%),#a22;border-radius:1vh 1vh 0 0;transform-origin:0% 100%;transform:translateX(-7.5vh)translateY(-12.5vh)rotateX(-90deg);text-align:center;font-size:6vh;line-height:12vh;color:#fff;transition:transform 1s}.do .y.d1{background:radial-gradient(2vh at 90% 50%,gold 35%,transparent 40%),#222}.do.s .y{transform:translateX(-7.5vh)translateY(-12.5vh)rotateX(-90deg)rotateY(90deg)}.z.x div{background:linear-gradient(45deg,#640,#583808)}.z.x div.u{transform:rotateY(90deg)translateX(-5.4vh)translateZ(-.1vh)rotateY(-90deg);background:radial-gradient(#3F7D1F,#034301);background-size:280vh 140vh;width:5.3vh;height:5.3vh}.t{position:fixed;background:#fff;padding:.7vh;width:20vh;font:2vh/2.5vh arial,sans-serif;transform-origin:50% 100%;text-align:center;box-shadow:0 0 0 .2vh #000 inset;bottom:0}.t br{font:0/0 a}.t:before{content:"";width:3vh;height:3vh;background:#750;position:absolute;bottom:-3vh;left:8vh;border-left:.2vh solid;border-right:.2vh solid}.pz .t:before{left:28vh}label{text-align:left}#a{transition:transform 6s ease-in,transform-origin 6s ease-in;width:280vh;height:140vh;background:radial-gradient(#4F8D2F,#136321);border-radius:3vh}.px #a,.pI #a{background:radial-gradient(10vh at 51.3% 52%,#000 40%,transparent 50%),radial-gradient(15vh at 51.3% 52%,#640 40%,transparent 50%),radial-gradient(#4F8D2F,#136321)}#e{margin:99vh 0 0;transition:margin 1s;font:10vh/80vh a}#iw{font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw}#menu{color:#fff;width:55vh;transform:translateX(-27vh)translateY(-20vh)rotateX(-17deg)}#menu span{font:7vh/12vh arial,sans-serif}#menu h1{font:13vh/16vh arial,sans-serif;text-shadow:.1vh -.1vh #777,.2vh -.2vh #777,.3vh -.3vh #777}#menu span:hover{color:#ace;transform:rotateX(-10deg)}.pN #menu span:hover{color:#fff}#iz button{position:fixed;width:10vh;height:10vh;text-align:center;font:6vh/10vh a}#kU{right:14vh;bottom:14vh}#kD{right:14vh;bottom:2vh}#kL{right:26vh;bottom:2vh}#kR{right:2vh;bottom:2vh}#kT{left:2vh;top:2vh}#kB{left:2vh;top:14vh}#kw{bottom:2vh;left:2vh}#kx{bottom:14vh;left:2vh}#ky{top:2vh;right:18vh}#kz{top:2vh;right:6vh}#hpx0{opacity:0;transition:opacity .5s}</style></head><head></head><body id="b" class="pG">
<div id="iv">
<div id="a" style="transform: translateX(-95vh) translateY(-25vh) translateZ(45vh) rotateX(40deg) rotateZ(0rad); transform-origin: 95vh 25vh 0px; width: 100vh; height: 150vh; transition: transform 1s, transform-origin 1s;">
<div id="ig"><div id="tree0" class="j tr" style="left:25vh;transform:translateX(-7vh)translateY(129vh)rotateX(-70deg)">🌳</div><div id="treeshadow0" class="e h" style="left:25vh;transform:translateX(-7.5vh)translateY(128.5vh)rotateZ(144deg)scaleY(1.5)">🌳</div><div id="a0" class="j g h" style="left:20vh;transform:translateY(124vh)rotateX(-65deg)"><div class="m">🍎</div></div><div id="as0" class="e p h" style="left:20vh;transform:scaleX(-1)translateY(123vh)rotateZ(212deg)">🍎</div><div id="a1" class="j g h" style="left:35vh;transform:translateY(129vh)rotateX(-65deg)"><div class="m">🍎</div></div><div id="as1" class="e p h" style="left:35vh;transform:scaleX(-1)translateY(128vh)rotateZ(212deg)">🍎</div><div id="a2" class="j g h" style="left:10vh;transform:translateY(134vh)rotateX(-65deg)"><div class="m">🍎</div></div><div id="as2" class="e p h" style="left:10vh;transform:scaleX(-1)translateY(133vh)rotateZ(212deg)">🍎</div><div id="a3" class="j g h" style="left:15vh;transform:translateY(144vh)rotateX(-65deg)"><div class="m">🍎</div></div><div id="as3" class="e p h" style="left:15vh;transform:scaleX(-1)translateY(143vh)rotateZ(212deg)">🍎</div><div class="j n" style="left:44vh;transform:translateY(74vh)rotateX(-65deg)"><div class="m">🐁</div></div><div id="dpG0" class="do s" style="left:107.5vh;top:27.5vh;transform:rotateZ(1.5707963267948966rad)translateZ(0vh)"><div class="y d0" hidden="">16</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh"></div></div><div id="dpG1" class="do" style="left:52.5vh;top:157.5vh;transform:rotateZ(3.141592653589793rad)translateZ(0vh)"><div class="y d0">20</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh"></div></div></div>
<div id="ih"><div id="puzzle0" class="z q v w" style="left:35vh;top:30vh;width:30vh;height:30vh"><div class="l"></div><div class="r"></div><div id="D0" class="d"><div class="o" id="g000" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g001" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g002" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g003" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g004" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g005" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g010" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g011" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g012" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g013" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g014" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g015" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g020" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g021" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g022" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g023" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g024" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g025" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g030" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g031" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g032" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g033" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g034" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g035" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g040" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g041" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g042" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g043" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g044" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g045" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g050" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g051" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g052" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g053" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g054" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g055" style="width:5vh;height:5vh;background:#fff"></div></div><div id="B0" class="b"></div><div class="f"></div></div><div id="puzzle1" class="z q v w" style="left:35vh;top:90vh;width:30vh;height:30vh"><div class="l"></div><div class="r"></div><div id="D1" class="d"><div class="o" id="g100" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g101" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g102" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g103" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g104" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g105" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g110" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g111" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g112" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g113" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g114" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g115" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g120" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g121" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g122" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g123" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g124" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g125" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g130" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g131" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g132" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g133" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g134" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g135" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g140" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g141" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g142" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g143" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g144" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g145" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g150" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g151" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g152" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g153" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g154" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g155" style="width:5vh;height:5vh;background:#000"></div></div><div id="B1" class="b"></div><div class="f"></div></div></div>
<div id="ie"><div id="M0" class="sm" style="transform: translateX(95.25vh) translateY(25vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S0"></div><div id="R0" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T0"><div style="background:none;box-shadow:none;color:red;font-size:4vh;text-align:center;transform:rotateZ(180deg)translateY(-4vh)translateZ(1.5vh)">Y</div><div class="u" style="font:2.5vh/4vh a">👀</div><div class="f">‿</div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M1" class="sm" style="transform: translateX(100.25vh) translateY(25vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S1"></div><div id="R1" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T1"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M2" class="sm" style="transform: translateX(105.25vh) translateY(25vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S2"></div><div id="R2" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T2"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M3" class="sm" style="transform: translateX(110.25vh) translateY(25vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S3"></div><div id="R3" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T3"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M4" class="sm" style="transform: translateX(115.25vh) translateY(25vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S4"></div><div id="R4" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T4"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M5" class="sm" style="transform: translateX(120.25vh) translateY(25vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S5"></div><div id="R5" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T5"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M6" class="sm" style="transform: translateX(125.25vh) translateY(25vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S6"></div><div id="R6" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T6"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M7" class="sm" style="transform: translateX(130.25vh) translateY(25vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S7"></div><div id="R7" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T7"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M8" class="sm" style="transform: translateX(135.25vh) translateY(25vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S8"></div><div id="R8" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T8"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M9" class="sm" style="transform: translateX(140.25vh) translateY(25vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S9"></div><div id="R9" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T9"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M10" class="sm" style="transform: translateX(145.25vh) translateY(25vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S10"></div><div id="R10" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T10"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M11" class="sm" style="transform: translateX(150.25vh) translateY(25vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S11"></div><div id="R11" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T11"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M12" class="sm" style="transform: translateX(155.25vh) translateY(25vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S12"></div><div id="R12" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T12"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M13" class="sm" style="transform: translateX(160.25vh) translateY(25vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S13"></div><div id="R13" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T13"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M14" class="sm" style="transform: translateX(165.25vh) translateY(25vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S14"></div><div id="R14" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T14"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M15" class="sm" style="transform: translateX(170.25vh) translateY(25vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S15"></div><div id="R15" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T15"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M16" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S16"></div><div id="R16" class="sr"><div class="z k" id="T16"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M17" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S17"></div><div id="R17" class="sr"><div class="z k" id="T17"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M18" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S18"></div><div id="R18" class="sr"><div class="z k" id="T18"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M19" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S19"></div><div id="R19" class="sr"><div class="z k" id="T19"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div></div>
<div id="ia"></div>
</div>
</div>
<center id="iz" style="font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw">
<button id="kU" class="h" ontouchstart="TS(38)" ontouchend="TE(38)">↑</button>
<button id="kD" class="h" ontouchstart="TS(40)" ontouchend="TE(40)">↓</button>
<button id="kL" class="h" ontouchstart="TS(37)" ontouchend="TE(37)">←</button>
<button id="kR" class="h" ontouchstart="TS(39)" ontouchend="TE(39)">→</button>
<button id="kT" class="h" ontouchstart="TS(16)" ontouchend="TE(16)">⬆︎</button>
<button id="kB" class="h" ontouchstart="TS(17)" ontouchend="TE(17)">⬇︎</button>
<button id="kw" class="h" ontouchstart="TS(18)" ontouchend="TE(18)">↩</button>
<button id="kx" class="h" ontouchstart="TS(82)" ontouchend="TE(82)">×</button>
<button id="ky" class="h" ontouchstart="TS(49)" ontouchend="TE(49)">↻</button>
<button id="kz" class="h" ontouchstart="TS(51)" ontouchend="TE(51)">↺</button>
</center>
<center id="ii" style="font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw"></center><div style="position:fixed;font:8vh a;top:3vh;right:3vh" onclick="location='index.html'">×</div></body></html><html><head><title>LOSSST</title><meta content="width=device-width,user-scalable=no" name="viewport"><script>u=r=d=l=s=c=B=0;trees=[];apples=[];doors=[];cubes=[];hints=[];emoji=[];puzzles=[];TS=function(k){ba[k]&&clearInterval(ba[k]);onkeydown({which:"+n+"});ba[k]=setInterval(function(){onkeydown({which:k})},150)};TE=function(k){setTimeout(function(){clearInterval(ba[k]);onkeyup()},150)};var g=0;function ca(){a.style.transform="translateX(-"+q[t]*v+"vh)translateY(-"+w[t]*v+"vh)translateZ(45vh)rotateX(40deg)rotateZ("+g+"rad)"}var x=$=_=0;function da(){var k=0;this.i=function(f){k+=f/48E3*Math.PI*2;return k%=2*Math.PI}}function fa(k){var f=new da,n=new da,m=.1;this.i=function(){if(!k)return 0;var A=k+.4*Math.sin(n.i(3));A=440*Math.pow(2,(A-57)/12);m*=.9998;A=f.i(A);return Math.pow(Math.sin(A),1)*m}}function ha(k){function f(){var f=k.length/2;for(_=$;0>_;)_+=f;_%=f;f=new fa(k[2*_+0].charCodeAt(0)-48);for(var A=new fa(k[2*_+1].charCodeAt(0)-48),P=[],aa=0;48E3>aa;aa++){var ea=f.i(),na=A.i(),za=.5*ea+na;P.push(ea+.5*na);P.push(za)}n(P).play()}function n(f){function k(f){f=m(f);return f[0]+f[1]}function m(f){for(var k=0,m="",n=0;4>n;n++,k+=8)m+=String.fromCharCode(f>>k&255);return m}var n=2*f.length;n="RIFF"+m(n+36)+"WAVEfmt "+m(16)+k(1)+k(2)+m(48E3)+m(192E3)+k(4)+k(16)+"data"+m(n);for(var ea in f)n+=k(32767*f[ea]);return new Audio("data:audio/wav;base64,"+btoa(n))}$=-1;this.forward=function(){$++;f()};this.back=function(){$--;f()}}function ja(k){function f(f){f=n(f);return f[0]+f[1]}function n(f){for(var k=0,m="",n=0;4>n;n++,k+=8)m+=String.fromCharCode(f>>k&255);return m}for(var m=[],A=0;;A++){var P=k(A);if(null===P)break;m.push(P)}k=2*m.length;k="RIFF"+n(k+36)+"WAVEfmt "+n(16)+f(1)+f(1)+n(48E3)+n(96E3)+f(2)+f(16)+"data"+n(k);for(A in m)k+=f(1E4*m[A]);return new Audio("data:audio/wav;base64,"+btoa(k))}function ka(k){return 1E4<k?null:(Math.pow(k,1.055)&128?1:-1)*Math.pow((1E4-k)/1E4,2)/2}function la(k){return 25E3<k?null:((k^k>>3^k*k*7.3^k<<4)&65535)/65536*((25E3-k)/25E3)/2}function ma(k){return 5E3<k?null:(Math.pow(k+1E3*Math.sin(.01*k),.8)&200?.5:-.5)*Math.pow((5E3-k)/5E3,1)/2}function oa(k){if(16E3<k)return null;var f=Math.pow((16E3-k)/16E3,2.1)/2;return(k<16E3/7?k+10*Math.sin(-k/900)&16:k&13)?f:-f}function pa(k){return 9E4<k?null:(Math.pow(k+1E3*Math.sin(.01*k),.8)&200?.5:-.5)*Math.pow((9E4-k)/9E4,1)/4}var qa=new ha("nbo0risiubv0uisirbs0ui0i0b0c0f0gniojrlsjuivjymvjubv0ui0i0j0m0n0rsgu0vnxnzgx0vnunsg0n0o0n0g0s0o0nrisjulvgufsjufscrbo0ni0j0b0i0j0il`n0ogqgs`u0vgxgz`0gxl0nsouqvsxuuev0u`0`0eq0slulqcs0qcs0qbs0q`s0njo0reseujv0xeveuj0v0e0q0j0i0g0e0cu0scq00bv0ufr0sgn0vbr0xiz0zjr0sgu0vbx0zgx0vbubsg{0zb{`z^{0zi{fzgv0xiu0vjs0ulr0sbn0oll0nbl0jfi0g00bxc0`zb0^{`0]z^0[z]0Zz[0]z^0`zb0]uf0bxi0f{l0izr0ozn0ixr0nrulrnbo0risiufs0r`o0nb0czf0gzi0gzf0cub0i0j0mvn0m0j0irbscrbs`rbs`sbrbo`q0sgugv`x0zg{gz`s0x`s0v`x0vcx0ues0q`l00eu00`x00ev00`u00eq00`o`"),ra=new ha("p0r0sdk0rco0pdk0p0r0sdw0rcs0pdk0p0r0sdk0rck0pdk0p0r0sdw0rcs0pd0f0g0iwg0bwgx0wgurrnspur0bufwgubs0pkrcsdk0rco0pkk0p0r0sdk0rco0pk0l0k0iwg0b0k0g0n0kzs0nxi0f|l0izr0p0n0lwk0dwg0k0p0k|s0pur0kuo0k0i0l0k0isd0krj0kpd0k0p0rsd0krl0opd0f0g0iskw0riw0pgw0nfw0u`s0rbs0pd0k"),y=localStorage,z=0,C=+y.lossst_s||0,sa=C?ra:qa,D=+y.lossst_m||0,ta=+y.lossst_t||0,ua=+y.lossst_M||0,va=0,ba=[],wa=0,v=5,t=0,q=[],w=[],E=[],F=[],G=y.lossst_S=+y.lossst_S||5,H=0,I=0,J=null,K="0",L=[],M=[],xa=0,N=0,O=0,Q=0,R=0,S=0,T=0,ya=+y.lossst_T||0,Aa=0,U=0,V=0,W="",X=h=0;function Ba(){var k;navigator.userAgent.match(/Mac/)&&(iv.className="a");navigator.userAgent.match(/Fire|Edg/)&&(iv.className+=" c",wa=4E3);D&&(iv.className+=" i");b.className=W;C&&!H&&(ie.innerHTML="");cubes=[];doors=[];trees=[];apples=[];hints=[];emoji=[];if("pz"==W)X=40,h=20,puzzles=[[5,,1,,"0000000000000000000000000",16,9]],G=5,C=0;else if("py"==W)h=X=20,puzzles=[eval("["+location.hash.slice(1).replace(/[01]{2,}/g,'"$&"')+"]")],G=puzzles[0][1],puzzles[0][5]=puzzles[0][6]=8,C=!!puzzles[0][3],hints=[["Move: arrow keys<br>"+(C?"Up/Down: "+(D?"\u2b06\ufe0e/\u2b07\ufe0e":"Shift/Ctrl")+"<br>":"")+"backtrack: "+(D?"\u21a9":"Alt")+"<br>Reset: R",1,5,1,0,C,0]],delete y.lossst_ppy0;else if("px"==W){X=40;h=20;trees=[[13,9,0],[7,13,0],[35,8,0]];apples=[[11,11,0,0,0],[2,12,0,6,0],[38,10,0,7,0]];doors=[[41,10,Math.PI/2,8,0,"pA",1,0,10,0,0],[20,-2,0,14,0,"pD",1,10,19,0,0],[-2,11,-Math.PI/2,6,0,"pJ",1,14,5,1,1],[20,21,Math.PI,14,0,"pC",1,22,1,0,0],[5,21,Math.PI,5,0,"pI",1,36,1,0,1]];puzzles=[];cubes=[];for(f=9;15>f;f++)for(m=0;5>m;m++)2==m&&14==f||2==m&&13==f||3==m&&13==f||3==m&&12==f||2==m&&12==f||cubes.push([m,f]);hints=[["Move with<br>arrow keys"+(D?"":" or WASD/ZQSD"),19,5,0,13,0],["Use the "+(D?"\u21a9":"Alt")+" key to backtrack",1,9,0,13,0,1],["Approach red doors with the right length to open them",35,14,0,13,0],["\u2191<br>New puzzles !<hr>Puzzle editor<br>\u2193",19,8,14,0,0],["\u2190<br>New puzzles !",1,9,6,7,1,1]];emoji=[["\ud83d\udc3f\ufe0f",30,7],["\ud83c\udf30\ufe0f",29,7]]}else if("pA"==W)X=40,h=20,trees=[[35,15,0]],apples=[[33,16,0,0,6],[34,17,0,0,6],[37,15,0,0,6]],cubes=[],doors=[[-2,10,-Math.PI/2,8,0,"px",0,39,11,0,0],[35,21,Math.PI,11,0,"pB",1,35,1,0,0]],puzzles=[[6,,0,,"000000001000001110001110001000000000",2,3],[6,,0,,"000000011000011100010000011000000000",14,3],[6,,0,,"000000000100001100011000011100000000",26,3],[5,,0,,"0000001110011100110000000",2,13],[6,,0,,"000000011000011000001100001100000000",14,13],[6,,0,,"000000000100001100001110001100000000",26,13]],hints=[["Cover the black patterns to solve puzzles",9,9,1,0],["Solve all the puzzles in the room to unlock a new door",21,9,1,0],["Your progress is saved automatically",34,9,1,0]],emoji=[["\ud83d\udc0c",11,10]];else if("pB"==W)D&&(kx.className="",y.lossst_r=1),X=40,h=20,trees=[[4,7,0]],apples=[[1,8,0,0,12],[2,9,0,0,12]],doors=[[35,-2,0,8,0,"pA",0,35,19,0,0],[-2,10,-Math.PI/2,13,0,"pC",1,39,10,0,0]],puzzles=[[6,,0,,"000000011110011010011110000000000000",8,2],[7,,0,,"0000000001110000111000001100000110000010000000000",18,2],[6,,0,,"000000011000011110001010001110000000",28,2],[6,,0,,"000000011100001110001110001100000000",8,12],[6,,0,,"000000001110001110001110001010000000",18,12],[6,,0,,"000000011110011110001100001000000000",28,12]],hints=[["If you get stuck, "+(D?"click \u00d7":"press R")+" to exit a puzzle",35,11,1,0]],cubes=[[11,4],[21,16]],emoji=[["\ud83d\udc08",4,14]];else if("pC"==W)X=40,h=20,trees=[[35,8,0]],apples=[[34,11,0,0,18]],doors=[[41,10,Math.PI/2,8,0,"pB",0,1,10,0,0],[22,-2,0,14,0,"px",1,20,19,0,0]],puzzles=[[7,,0,,"0000000000000001111000111100001111000100000000000",2,3],[7,,0,,"0000000001110000101000011100001110000110000000000",26,3],[6,,0,,"000000001110011110011010001110000000",14,3],[7,,0,,"0000000001100000111000011100001110000110000000000",2,12],[7,,0,,"0000000000000001111100101010011111000000000000000",14,12],[6,,0,,"000000011000011100011110011110000000",26,12]],hints=[["\u2191<br>After this room, you can try a puzzle editor and a new kind of puzzles !",22,11,13,0,0]],cubes=[[29,5],[30,8],[17,6],[15,4],[15,7],[29,13],[30,13],[30,14],[18,15],[16,15],[6,13],[6,17],[7,8],[6,8],[5,8],[3,7],[3,8],[7,6],[7,5]],emoji=[["\ud83e\udd8b<br><br>",29,13]];else if("pD"==W){h=X=20;trees=[[10,2,0]];doors=[[10,21,Math.PI,14,0,"px",0,20,0,0,0],[-2,5,-Math.PI/2,14,0,"pE",0,24,12,0,0]];puzzles=[[7,,1,,"0100010011111000000000000000000000001111100100010",7,7]];hints=[["Now you're thinking with wraps !",2,2,0,14,0]];for(f=0;20>f;f++)cubes.push([f,10]);emoji=[["\ud83d\udc10",12,2]]}else if("pE"==W)h=X=25,trees=[[5,12,0]],apples=[[4,14,0,0,23]],doors=[[26,12,Math.PI/2,14,0,"pD",0,0,5,0,0],[-2,12,-Math.PI/2,15,0,"pF",1,79,5,0,0]],puzzles=[[7,,1,,"1000001000000000000000010100011011011000111000001",3,3],[6,,1,,"110011100001000000100001100001110011",15,17],[5,,1,,"1100111001100011001110011",16,4],[6,,1,,"000011000011110001110001000011000011",3,17]],hints=[["Reminder:<br>use "+(D?"\u21a9":"Alt")+" to backtrack,<br>"+(D?"\u00d7":"R")+" to exit a puzzle.",11,14,1,0,0]],emoji=[["\ud83d\udc12",12,20]];else if("pF"==W)X=80,h=20,trees=[[35,10,0]],apples=[[38,11,0,0,35]],doors=[[81,5,Math.PI/2,15,0,"pE",0,0,12,0,0],[-2,15,-Math.PI/2,16,0,"pG",1,19,5,0,0]],puzzles=[[5,,1,,"0111101001010110100011111",59,13],[5,,1,,"1111011000111100001011110",48,13],[5,,1,,"1111101000011110111001100",37,13],[5,,1,,"1111110000111001000011111",26,13],[5,,1,,"1100101101001110011101101",15,13],[5,,1,,"1111100001110010000111111",59,2],[5,,1,,"1000110111100011000111111",48,2],[5,,1,,"1000110101101011111110001",37,2],[5,,1,,"1111110001000110000111111",26,2],[5,,1,,"0111101100011100011011110",15,2],[5,,1,,"1111101111001110001100001",4,8],[5,,1,,"1010100101111010000111111",71,8]],hints=[["This room hides a surprise !",72,2,0,15,0],["\u2190<br>Exit",38,9,16,0,0]],cubes=[],emoji=[];else if("pG"==W)X=20,h=30,trees=[[5,25,0]],apples=[[4,24,0,0,37],[7,25,0,0,37],[2,26,0,0,37],[3,28,0,0,37]],doors=[[21,5,Math.PI/2,16,0,"pF",0,1,15,0,0],[10,31,Math.PI,20,0,"pH",1,10,1,0,0]],puzzles=[[6,,1,,"001000001110111111011100011000001000",7,6],[6,,1,,"110001100001000111000111100001110001",7,18]],emoji=[["\ud83d\udc01",9,14]];else if("pH"==W)X=20,h=30,trees=[[16,22]],apples=[[18,22,0,0,39]],doors=[[10,-2,0,18,0,"pG",0,10,29,0,0],[21,25,Math.PI/2,21,0,"pI",1,1,10,0,0]],puzzles=[[6,,1,,"001000011110111111011110011110001000",7,6],[6,,1,,"110001100001000011000111001111111111",7,18]],emoji=[["\ud83e\udd86",9,14]];else if("pI"==W){X=40;h=20;apples=[[38,2,0,5,0]];doors=[[-2,10,-Math.PI/2,1,0,"pH",0,19,25,0,0],[36,-2,0,6,0,"px",1,5,19,0,1]];puzzles=[];hints=[["Guess what, you finished the first half of the game !",5,9,1,0],["You can now move up and down with "+(D?"\u2b06\ufe0e and \u2b07\ufe0e":"Shift and Ctrl keys")+", and open black doors",30,11,1,0]];for(f=0;9>f;f++)cubes.push([30,f]);for(f=30;40>f;f++)cubes.push([f,8]);emoji=[["\ud83d\udc22",13,14]];trees=[[3,1],[15,2],[36,3],[26,5],[25,15],[33,9],[10,12],[36,14],[3,15]]}else"pJ"==W?(X=15,h=70,trees=[[2,62]],apples=[[2,65,0,0,47],[1,66,0,0,47]],doors=[[16,5,Math.PI/2,6,0,"px",0,1,11,0,1],[-2,65,-Math.PI/2,8,0,"pK",1,19,65,0,1]],puzzles=[[5,,0,"0000000000000000000001110",,2,2],[4,,0,"0000000001000110",,4,11],[5,,0,"0000000000000000101001110",,6,20],[5,,0,"0000000000000000111000100",,8,29],[4,,0,"0000000001100110","0000011001100000",2,38],[4,,0,"0000010001100100","0000011001100000",4,47],[4,,0,"0000011001000100","0000010001100000",6,56],[4,,0,"0000000001100110","0100011000100000",8,65]],hints=[["You now have to match the patterns on the walls...",10,2,1,0,1],["... and on the floor too !",10,40,1,0,1]],emoji=[["\ud83e\udd89",10,14]]):"pK"==W?(D&&(ky.className=kz.className="",y.lossst_c=1),X=20,h=75,trees=[[2,2]],apples=[[1,4,0,0,59],[2,5,0,0,59],[3,6,0,0,59],[4,2,0,0,59]],doors=[[21,65,Math.PI/2,7,0,"pJ",0,1,65,0,1],[-2,5,-Math.PI/2,12,0,"pL",1,14,5,0,1]],puzzles=[[5,,0,"0000000000010000110001110",,8,69],[6,,0,"000000000000000000000100001110011000",,12,58],[5,,0,"0000000000010000111001000",,2,58],[4,,0,"0000001001100110","0000001001100000",2,45],[5,,0,"0000000000000000010001110","0000000100001100110000000",12,45],[5,,0,"0000000000000000101001110","0000001110010100000000000",2,34],[5,,0,"0000000000000000011001100","0000001110011000010000000",12,34],[4,,1,"0000011001100110","0110000000000110",2,22],[4,,1,"1001000000001001","1001000000001001",12,22],[4,,1,"0000010011110010","0000111101100000",2,12],[4,,1,"0110010000000011","0000011100110000",12,12],[4,,1,"1101000000000001","1101000000010001",12,2]],hints=[["You can rotate the camera with "+(D?"<br>\u21bb and \u21ba":"the keys 1, 2 and 3"),15,68,1,0,1],["Can you guess what's coming next?",7,54,1,0,1],["3D puzzles with wrap ! Use "+(D?"\u2b06\ufe0e and \u2b07\ufe0e":"Shift and Ctrl")+" to wrap between top and bottom",7,24,1,0,1]],emoji=[["\ud83d\udc1e",3,70]]):"pL"==W?(X=15,h=80,trees=[[2,70]],apples=[[1,73,0,0,68],[3,75,0,0,68]],doors=[[16,5,Math.PI/2,12,0,"pK",0,1,5,0,1],[-2,75,-Math.PI/2,14,0,"pM",1,14,25,0,1]],puzzles=[[5,,0,"0000000000001001111100100",,2,2],[4,,0,"0000010001100000",,5,11],[5,,0,"0000000110000110111000010",,8,20],[5,,0,"0000000000001000111011111","0000000000111001111100000",2,29],[4,,0,"1000110011101111","0000001111110000",5,38],[4,,0,"0000100011001110","1110110010000000",8,45],[4,,1,"1000100110010001","0000100110010000",2,54],[4,,1,"0000001011110100","0000110011110011",5,63],[5,,1,"0100011000010000111001000","0000001110110000100000000",8,72]],cubes=[[6,12]],emoji=[["\ud83d\udc1d",3,20]]):"pM"==W?(X=15,h=30,trees=[[10,12]],apples=[[8,11,0,0,71],[9,10,0,0,71],[10,9,0,0,71],[11,10,0,0,71],[12,11,0,0,71],[7,12,0,0,71]],doors=[[16,25,Math.PI/2,14,0,"pL",0,1,75,0,1],[-2,5,-Math.PI/2,20,0,"pN",1,14,5,0,1]],puzzles=[[5,,1,"0001100110011001100010000","0001100110011001100010000",2,24],[5,,1,"1100010001000011000111000","0000011000110010000000000",4,13],[5,,1,"1101110001000001000011000","1100010000000001000111011",6,2]],emoji=[["\ud83d\udc13",1,14]]):"pN"==W&&(X=15,h=48,trees=[[10,44]],apples=[[7,45,0,0,75]],doors=[[16,5,Math.PI/2,20,0,"pM",0,1,5,0,1]],puzzles=[[4,,1,"0000111101101111","1000111111111000",5,38],[4,,1,"1111001001001111","1111101010101111",5,28],[4,,1,"1111010101011101","0001101101101111",5,18],[4,,1,"1111000100011110","1111110110011111",5,8]],emoji=[["\ud83d\udc09",13,46]]);a.style.width=X*v+"vh";a.style.height=h*v+"vh";H||(ig.innerHTML="");ih.innerHTML="";for(var f in trees)ig.innerHTML+="<div id=tree"+f+' class="j tr"style=left:'+trees[f][0]*v+"vh;transform:translateX(-7vh)translateY("+(trees[f][1]*v+4)+"vh)rotateX(-70deg)>\ud83c\udf33</div><div id=treeshadow"+f+' class="e h"style=left:'+trees[f][0]*v+"vh;transform:translateX(-7.5vh)translateY("+(trees[f][1]*v+3.5)+"vh)rotateZ(144deg)scaleY(1.5)>\ud83c\udf33";for(f in apples)y["lossst_a"+W+f]?delete apples[f]:ig.innerHTML+="<div id=a"+f+' class="j g '+(y["lossst_A"+W+f]?"":"h")+'"style=left:'+apples[f][0]*v+"vh;transform:translateY("+(apples[f][1]*v+4)+"vh)rotateX(-65deg)>"+("pN"==W?"<div>\u26bd</div>":"<div class=m>\ud83c\udf4e</div>")+"</div><div id=as"+f+' class="e p '+(y["lossst_A"+W+f]?"":"h")+'"style=left:'+apples[f][0]*v+"vh;transform:scaleX(-1)translateY("+(apples[f][1]*v+3)+"vh)rotateZ(212deg)>"+("pN"==W?"\u26bd":"\ud83c\udf4e");for(f in emoji)ig.innerHTML+='<div class="j n"style=left:'+(emoji[f][1]*v-1)+"vh;transform:translateY("+(emoji[f][2]*v+4)+"vh)rotateX(-65deg)><div class=m>"+emoji[f][0];for(f in doors)ig.innerHTML+="<div id=d"+(""+W+f)+' class="do'+(y["lossst_d"+W+f]?" s":"")+'"style=left:'+(doors[f][0]+.5)*v+"vh;top:"+(doors[f][1]+.5)*v+"vh;transform:rotateZ("+doors[f][2]+"rad)translateZ("+doors[f][9]*v+'vh)><div class="y d'+doors[f][10]+'"'+(doors[f][6]?"":"hidden")+">"+doors[f][3]+'</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh">';for(var n in puzzles)for(var m in cubes)y["lossst_p"+W+n]&&cubes[m][0]>=puzzles[n][5]&&cubes[m][0]<puzzles[n][5]+puzzles[n][0]&&cubes[m][1]>=puzzles[n][6]&&cubes[m][1]<puzzles[n][6]+puzzles[n][0]&&delete cubes[m];for(f in cubes)ig.innerHTML+="<div id=cube"+f+' class="z x"style=left:'+cubes[f][0]*v+"vh;top:"+cubes[f][1]*v+'vh;width:5vh;height:5vh><div class=f></div><div class=u style="background-position:'+(-300-cubes[f][0]*v)+"vh "+(-140-cubes[f][1]*v)+'vh"></div><div class=r></div><div class=l></div><div class=b>';for(f in hints)C^hints[f][5]||!(hints[f][3]&&hints[f][3]<=G||hints[f][4]&&hints[f][4]>=G)||(ig.innerHTML+="<div id=h"+(""+W+f)+" class=t style=left:"+hints[f][1]*v+"vh;transform:translateY("+(hints[f][2]*v+5)+"vh)translateZ("+(hints[f][6]*v||0)+"vh)rotateX(-70deg)translateY(-4vh)>"+hints[f][0]);y.lossst_x&&top.hpx0&&(hpx0.style.opacity=1);for(n in puzzles){T=puzzles[n][0];var A=k="";ih.innerHTML+="<div id=puzzle"+n+' class="z q v '+(puzzles[n][2]&&!y["lossst_p"+W+n]?"w":"")+'"style=left:'+puzzles[n][5]*v+"vh;top:"+puzzles[n][6]*v+"vh;width:"+puzzles[n][0]*v+"vh;height:"+T*v+"vh>"+(puzzles[n][2]?"<div class=l></div><div class=r></div>":"")+"<div id=D"+n+" class=d></div><div id=B"+n+" class=b></div>"+(puzzles[n][2]?"<div class=f>":"");var P="000",aa="fff";y["lossst_p"+W+n]&&(P="44c",aa="fd0",puzzles[n][2]=0);for(f=0;f<T;f++)for(m=0;m<T;m++)puzzles[n][3]&&(k+="<div class=o id=w"+n+f+m+" style=width:"+v+"vh;height:"+v+"vh;background:#"+("1"==puzzles[n][3][f*T+m]?P:aa)+"></div>"),puzzles[n][4]&&(A+="<div class=o id=g"+n+f+m+" style=width:"+v+"vh;height:"+v+"vh;background:#"+("1"==puzzles[n][4][f*T+m]?P:aa)+"></div>");top["D"+n]&&(top["D"+n].innerHTML+=A);top["B"+n]&&(top["B"+n].innerHTML+=k)}"pN"==W&&(ig.innerHTML+="<div style='position:fixed;transform:"+(D?"rotateZ(-90deg)translateX(-87vh)translateY(22vh)translateZ(365vh)":"rotateZ(-90deg)translateX(-83vh)translateY(6vh)translateZ(208vh)")+";font: 30vh/25vh a'>THE<br><br>END");H&&(y.lossst_e||y.lossst_s&&6<y.lossst_S||(ik.style.opacity=im.style.opacity=0,ik.style.position=im.style.position="fixed",ik.style.top=im.style.top="-9vh"),J=0,Y(1),xa=1,Q=O=N=0,puzzles[0][2]=0,setTimeout(function(){(ib.onchange=ib.oninput=resetgrid=function(){Ca();Y();ij.disabled=1;gridval.innerHTML=T=+ib.value;puzzle0.style.width=puzzle0.style.height=T*v+"vh";puzzles[0][0]=T;D0.innerHTML="";A=k=B0.innerHTML="";M=[];L=[];for(f=0;f<T;f++)for(M[f]=[],L[f]=[],m=0;m<T;m++)M[f][m]=0,L[f][m]=0;for(f=0;f<T;f++)for(m=0;m<T;m++)k+="<div class=o id=w"+K+f+m+" style=width:"+v+"vh;padding-top:"+v+"vh></div>",A+="<div class=o id=g"+K+f+m+" style=width:"+v+"vh;padding-top:"+v+"vh></div>";xa&&(D0.innerHTML+=A);N&&(B0.innerHTML+=k)})();iq.onchange=iq.oninput=function(){it.innerHTML=G=+iq.value;Ca();Y()};ik.onclick=function(){ik.checked?xa=1:top.wall&&(xa=0,C=N=1,wall.checked=!0);a.className=N?"haswall":"";resetgrid()};top.wall&&(wall.onclick=function(){wall.checked?(N=1,C=puzzles[0][3]=1):(N=C=0,xa=1,ik.checked=!0,puzzles[0][3]=0);a.className=N?"haswall":"";resetgrid()});top.wrap&&(wrap.onclick=function(){O=puzzles[0][2]=wrap.checked||0;puzzle0.className="z q v "+(O?"w":"");resetgrid()});print=function(k){var n="";for(f=0;f<T;f++)for(m=0;m<T;m++)n=top[k+"0"+f+m].style.background&&top[k+"0"+f+m].style.background.match(/255/)?n+0:n+1;return n};ij.onclick=function(){var f=[];f.push(T);f.push(G);f.push(O?1:0);f.push(N?print("w"):"");f.push(ik.checked?print("g"):"");open("//twitter.com/intent/tweet?text=I%20made%20a%20level%20for%20@MaximeEuziere's%20%23js13k%20game%20LOSSST!%0APlay%20here:%20js13kgames.com%2Fentries%2Flossst%0AMy%20level:%20js13kgames.com%2Fgames%2Flossst%23"+f+"%0A%23LOSSSTlevels")}},100));"px"!=W||y.lossst_x?(a.style.transition="transform 1s,transform-origin 1s",Ca()):(I=1,setTimeout(function(){Ca();Y();M0.style.transition="transform .5s"},2E3),setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(0);F.push(F[t]);t++;Y()},5500+wa),setTimeout(function(){M0.style.transition="";R0.style.transition="transform .2s";R0.style.transform="rotateZ("+-Math.PI/4+"rad)"},6500+wa),setTimeout(function(){R0.style.transform="rotateZ("+Math.PI/4+"rad)"},7E3+wa),setTimeout(function(){R0.style.transform=""},7500+wa),setTimeout(function(){S0.style.transition=R0.style.transition=""},8E3+wa),setTimeout(function(){clearInterval(x);z||(I=0);hpx0.style.opacity=1},8400),setTimeout(function(){a.style.transition="transform 1s,transform-origin 1s";y.lossst_x=20;y.lossst_y=10;b.innerHTML+="<div style='position:fixed;font:8vh a;top:3vh;right:3vh'onclick=location='index.html'>\u00d7";D&&(kU.className=kD.className=kL.className=kR.className="",y.lossst_w=1)},9E3));Y()}function Ca(){var k=C&&!H?ia:ie;k.innerHTML="";q=[];w=[];E=[];F=[];t=G-1;if("py"==W)for(i=0;i<G;i++)q[t-i]=1-i,w[t-i]=10,E[t-i]=0,F[t-i]=-Math.PI/2;else if(H)for(i=0;i<G;i++)q[t-i]=13-i,w[t-i]=12,E[t-i]=0,F[t-i]=-Math.PI/2;else if(y.lossst_x){var f=+y.lossst_x,n=+y.lossst_y,m=+y.lossst_z;"px"==W&&2>y.lossst_x&&(m=y.lossst_z=1);if("pI"==W&&z&&1==C)for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i-1,F[t-i]=0;else if(2>f)for(i=0;i<G;i++)q[t-i]=f-i,w[t-i]=n,E[t-i]=m,F[t-i]=-Math.PI/2;else if(f>X-2)for(i=0;i<G;i++)q[t-i]=f+i,w[t-i]=n,E[t-i]=m,F[t-i]=Math.PI/2;else if(2>n)for(i=0;i<G;i++)q[t-i]=f,w[t-i]=n-i,E[t-i]=m,F[t-i]=0;else if(n>h-2)for(i=0;i<G;i++)q[t-i]=f,w[t-i]=n+i,E[t-i]=m,F[t-i]=0;else for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i,F[t-i]=0}else if("px"==W)for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i-1,F[t-i]=0;for(i=0;i<Math.max(G+4,16);i++)k.innerHTML+="<div id=M"+i+" class=sm style=transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:"+(v-.7)+"vh;height:"+(v-.7)+"vh><div class=ss id=S"+i+"></div><div id=R"+i+' class=sr><div class="z k"id=T'+i+">"+(1>i?"<div style=background:none;box-shadow:none;color:red;font-size:4vh;text-align:center;transform:rotateZ(180deg)translateY(-4vh)translateZ(1.5vh)>Y</div>":"")+'<div class=u style="font:'+.5*v+"vh/"+.8*v+'vh a">'+(1>i?"\ud83d\udc40":"")+"</div><div class=f>"+(1>i?"\u203f":"")+"</div><div class=r></div><div class=l></div><div class=b>"}function Y(k){for(var f={a:0};f.a<G;f={a:f.a,j:f.j,m:f.m,o:f.o},f.a++)if(!k){var n=oldx=oldy=oldz=newx=newy=newz=0;O&&T&&(q[t-f.a-1]==R&&q[t-f.a]==R+T-1?(n=1,oldx=R-1,newx=R+T,oldy=newy=w[t-f.a],oldz=newz=E[t-f.a]):q[t-f.a-1]==R+T-1&&q[t-f.a]==R?(n=1,oldx=R+T,newx=R-1,oldy=newy=w[t-f.a],oldz=newz=E[t-f.a]):w[t-f.a-1]==S&&w[t-f.a]==S+T-1?(n=1,oldy=S-1,newy=S+T,oldx=newx=q[t-f.a],oldz=newz=E[t-f.a]):w[t-f.a-1]==S+T-1&&w[t-f.a]==S?(n=1,oldy=S+T,newy=S-1,oldx=newx=q[t-f.a],oldz=newz=E[t-f.a]):0==E[t-f.a-1]&&E[t-f.a]==T-1?(n=1,oldz=-1,newz=T,oldx=newx=q[t-f.a],oldy=newy=w[t-f.a]):E[t-f.a-1]==T-1&&0==E[t-f.a]&&(n=1,oldz=T,newz=-1,oldx=newx=q[t-f.a],oldy=newy=w[t-f.a]));if(n)top["R"+f.a].style.transform="rotateZ("+F[t-f.a]+"rad)",top["M"+f.a].style.transform="translateX("+(oldx*v+.5)+"vh)translateY("+(oldy*v+.5)+"vh)translateZ("+(oldz*v+.5)+"vh)scale(.01)scaleZ(.01)",setTimeout(function(f){return function(){top["M"+f.a].style.transition="none"}}(f),90),f.j=newx,f.m=newy,f.o=newz,setTimeout(function(f){return function(){top["M"+f.a].style.transform="translateX("+(f.j*v+.5)+"vh)translateY("+(f.m*v+.5)+"vh)translateZ("+(f.o*v+.5)+"vh)scale(.01)"}}(f),100),setTimeout(function(f){return function(){top["M"+f.a].style.transition="";top["M"+f.a].style.transform="translateX("+(q[t-f.a]*v+.25)+"vh)translateY("+w[t-f.a]*v+"vh)translateZ("+(E[t-f.a]*v+.5)+"vh)"}}(f),150);else try{top["M"+f.a].style.transform="translateX("+(q[t-f.a]*v+.25)+"vh)translateY("+w[t-f.a]*v+"vh)translateZ("+(E[t-f.a]*v+.5)+"vh)",top["R"+f.a].style.transform="rotateZ("+F[t-f.a]+"rad)"}catch(A){}try{top["S"+f.a].style.display=0==E[t-f.a]?"":"none"}catch(A){}}H?a.style.transform="translateX(-100vh)translateY(-37vh)translateZ(-5vh)rotateX(33deg)":null===J||y["lossst_p"+W+J]?(a.style.transform="translateX("+-q[t]*v+"vh)translateY("+-w[t]*v+"vh)translateZ(45vh)rotateX(40deg)rotateZ("+g+"rad)",a.style.transformOrigin=""+q[t]*v+"vh "+w[t]*v+"vh"):(a.style.transform="translateX("+(-(R+puzzles[J][0]/2)*v+5)+"vh)translateY("+(-(S+puzzles[J][0]/2)*v+8)+"vh)translateZ("+(90-puzzles[J][0]*(v+3))+"vh)rotateX(30deg)rotateZ("+g+"rad)",a.style.transformOrigin=""+((R+puzzles[J][0]/2)*v+5)+"vh "+((S+puzzles[J][0]/2-1)*v+8)+"vh");f=C?1:0;for(k=0;k<G;k++){if(0>=E[t-k]){f=0;break}for(m in cubes)cubes[m][0]==q[t-k]&&cubes[m][1]==w[t-k]&&1==E[t-k]&&(f=0)}if(f){for(k=0;k<G;k++)E[t-k]--;try{Y()}catch(A){for(var m=2*G;m--;)q.pop(),w.pop(),E.pop(),F.pop(),t--;Aa=0;Y()}}f=q[t];n=w[t];for(k in doors)(doors[k][10]&&C||!doors[k][10]&&!C)&&top["d"+W+k]&&0<doors[k][3]&&G>=doors[k][3]&&4>Math.hypot(f-doors[k][0],n-doors[k][1])&&!y["lossst_d"+W+k]&&(top["d"+W+k].className="do s",!doors[k][6]||"px"==W&&2<k||ja(pa).play(),y["lossst_d"+W+k]=1),top["d"+W+k]&&"do s"==top["d"+W+k].className&&2>Math.hypot(f-doors[k][0],n-doors[k][1])&&(y.lossst_p=W=doors[k][5],setTimeout(Ba,600),y.lossst_x=doors[k][7],y.lossst_y=doors[k][8],y.lossst_z=0);null!==J&&Da();H||(J=null);H||(L=[],M=[]);for(p in puzzles)if(f>=puzzles[p][5]&&f<puzzles[p][5]+puzzles[p][0]&&n>=puzzles[p][6]&&n<puzzles[p][6]+puzzles[p][0]){J=+p;Q=0;y["lossst_p"+W+p]&&(Q=1);K=p;xa=!!puzzles[p][4];N=!!puzzles[p][3];O=!!puzzles[p][2];R=puzzles[p][5];S=puzzles[p][6];T=puzzles[p][0];for(k=0;k<T;k++)for(L[k]=[],M[k]=[],m=0;m<T;m++)puzzles[p][3]&&(M[k][m]=+puzzles[p][3][k*puzzles[p][0]+m]),puzzles[p][4]&&(L[k][m]=+puzzles[p][4][k*puzzles[p][0]+m]);Da()}}function Z(k,f,n){V=0;if(0>k||k>=X||0>f||f>=h)V=1;for(var m in trees)k>=trees[m][0]-1&&k<=trees[m][0]&&f==trees[m][1]&&3>E[t]&&(V=1);for(m in hints)k>=hints[m][1]&&k<=hints[m][1]+3&&f==hints[m][2]&&G>=hints[m][3]&&(!hints[m][4]||G<=hints[m][4])&&(C&&hints[m][5]||!C&&!hints[m][5])&&(V=1);for(m in apples)if(y["lossst_A"+W+m]&&k==apples[m][0]&&f==apples[m][1]&&0==E[t])if(ja(ka).play(),"pN"==W){x=setInterval(sa.forward,150);y.lossst_E=1;setTimeout(function(){I=1;as0.remove();a0.style.transform="translateY(319vh)translateZ(2vh)rotateX(-65deg)rotateY(90deg)";a0.style.transition=a.style.transition="10s";a0.style.transform="translateY(15vh)translateZ(2vh)rotateX(-65deg)";a.style.transform=D?"translateX(-133vh)translateY(-249vh)translateZ(-373vh)rotateZ(90deg)":"translateX(-141vh)translateY(-227vh)translateZ(-185vh)rotateZ(90deg)"},200);var A={},P;for(P in puzzles)A.g=P,setTimeout(function(f){return function(){top["B"+f.g].style.transition=".5s";top["B"+f.g].style.transform="translateY(-125%)"}}(A),[1450,2500,3800,5400][A.g]),A={g:A.g};setTimeout(function(){clearInterval(va);y.lossst_E=1;y.lossst_e=1;b.style.background="#000";y.lossst_s=0;b.innerHTML="<div id=iv style=perspective:90vh><center id=menu style=width:75vh;transform:translateX(-38vh)translateY(-35vh)rotateX(-28deg)><span style=font-size:4vh;line-height:5vh><h1>Congrats!</h1><br>You completed the game in<br>"+ta+" seconds and "+ua+" moves!<br><br><a href=//twitter.com/intent/tweet?text=I%20played%20LOSSST,%20a%20%23js13k%20game%20by%20by%20@MaximeEuziere%0Amy%20score:%20"+ta+"%20seconds%20and%20"+ua+"%20moves!%0Ajs13kgames.com%2Fentries%2Flossst target=_blank style=color:#def;font-size:4vh>TWEET YOUR SCORE</a><br><br>Dev record:<br>854 seconds, 2452 moves<br><br>3D puzzle editor unlocked!<br><br><a href=. style=font-size:4vh>MAIN MENU"},15E3);n=document.querySelectorAll(".o");A={};for(var aa in n){A.h=aa;try{2==n[A.h].style.backgroundColor.match(/68/g).length&&setTimeout(function(f){return function(){top[n[f.h].id].style.background="#a00"}}(A),8E3+10*A.h)}catch(na){}A={h:A.h}}}else if(delete apples[m],top["a"+m].remove(),top["as"+m].remove(),G++,y.lossst_S=G,y["lossst_a"+W+m]=1,"pF"==W&&16==G){I=1;x=setInterval(sa.forward,150);z=1;a.style.transition="5s";a.style.transform="translateX(-180vh)translateY(-53vh)translateZ("+(D?-422:-180)+"vh)rotateZ(180deg)";setTimeout(function(){a.style.transition="1s";I=z=0;Y();ig.innerHTML+="<div class=t style=left:190vh;transform:translateY(50vh)rotateX(-55deg)translateY(-4vh)>\u2190<br>Exit";clearInterval(x)},1E4);n=document.querySelectorAll(".o");A={};for(var ea in n){A.f=ea;try{n[A.f].id.match(/g\d\d\d$/)&&2==n[A.f].style.backgroundColor.match(/68/g).length&&setTimeout(function(f){return function(){top[n[f.f].id].style.background="#a00"}}(A),5500+10*A.f)}catch(na){}A={f:A.f}}}for(m in cubes)k==cubes[m][0]&&f==cubes[m][1]&&0==n&&(V=1);for(m in emoji)"pC"!=W&&k==emoji[m][1]&&f==emoji[m][2]&&0==n&&(V=1);for(m in doors)top["d"+W+m]&&"do s"==top["d"+W+m].className&&2>=Math.hypot(k-doors[m][0],f-doors[m][1])&&(V=0);hitcube2=0;for(m=G-2;0<m;m--)q[t-m]==k&&w[t-m]==f&&E[t-m]==n&&(V=1,1==m&&(hitcube2=1));for(p in puzzles)puzzles[p][3]&&k>=puzzles[p][5]&&k<puzzles[p][5]+puzzles[p][0]&&(f==puzzles[p][6]-1&&w[t]==puzzles[p][6]&&!puzzles[p][2]||f==puzzles[p][6]&&w[t]==puzzles[p][6]-1)&&(V=1);if("pI"==W&&18==k&&!C){z=C=V=I=1;clearInterval(x);sa=ra;_=$=0;x=setInterval(ra.forward,250);y.lossst_s=1;y.lossst_S=G=5;for(k=0;21>k;k++)cubes.push([q[t-k],w[t-k]]),top["M"+k].id="",top["R"+k].id="",top["S"+k].id="",top["T"+k].id="";a.style.transition="2s";Ca();Y();a.style.transform="translateX(-105vh)translateY(-51vh)translateZ(80vh)rotateX(45deg)";a.style.transformOrigin="140vh 70vh";setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(0);F.push(F[t]);t++;Y()},3E3);setTimeout(function(){ii.innerHTML="Daddy!"},4E3);setTimeout(function(){ii.innerHTML=""},6E3);setTimeout(function(){ii.innerHTML="I lossst my soccer ball!"},7E3);setTimeout(function(){ii.innerHTML=""},9E3);setTimeout(function(){ii.innerHTML="But I found new moves!"},1E4);setTimeout(function(){ii.innerHTML="";z=I=0;clearInterval(x);a.style.transition="1s";Y();Ea();D&&(kT.className=kB.className="",y.lossst_B=1)},13500)}}function Da(){if(!Q&&null!==J){solved=1;H&&(ij.disabled=0);for(i=0;i<T;i++)for(j=0;j<T;j++)try{top["g"+K+i+j]&&(top["g"+K+i+j].style.background=L[i][j]?"#000":"#fff"),top["w"+K+i+j]&&(top["w"+K+i+j].style.background=M[i][j]?"#000":"#fff")}catch(m){}if(q[t]<R||q[t]>R+T-1||w[t]<S||w[t]>S+T-1||0>E[t]||E[t]>T-1)H&&(ij.disabled=1);else{for(i=0;i<G;i++){top["g"+K+(w[t-i]-S)+(q[t-i]-R)]&&(top["g"+K+(w[t-i]-S)+(q[t-i]-R)].style.background=L[w[t-i]-S][q[t-i]-R]?"#080":H?"#44c":"#f00");w[t-i]>=S&&w[t-i]<S+T&&top["w"+K+(T-1-E[t-i])+(q[t-i]-R)]&&(top["w"+K+(T-1-E[t-i])+(q[t-i]-R)].style.background=M[T-1-E[t-i]][q[t-i]-R]?"#080":H?"#44c":"#f00");if(q[t-i]<R||q[t-i]>R+T-1||w[t-i]<S||w[t-i]>S+T-1||E[t-i]>T-1)H&&(ij.disabled=1),solved=0;xa&&L[w[t-i]-S]&&!L[w[t-i]-S][q[t-i]-R]&&(solved=0);N&&M[T-1-E[t-i]]&&!M[T-1-E[t-i]][q[t-i]-R]&&(solved=0)}for(i=0;i<T;i++)for(j=0;j<T;j++){try{xa&&3==top["g"+K+i+j].style.backgroundColor.match(/0/g).length&&(solved=0)}catch(m){}try{N&&3==top["w"+K+i+j].style.backgroundColor.match(/0/g).length&&(solved=0)}catch(m){}}if(solved){Q=H?0:1;puzzles[J][2]=0;top["puzzle"+J].classList.remove("w");H||(y["lossst_p"+W+J]=1);for(i=0;i<T;i++)for(j=0;j<T;j++){try{top["g"+K+i+j].style.background=L[i][j]?"#44c":"#fd0"}catch(m){}try{top["w"+K+i+j].style.background=M[i][j]?"#44c":"#fd0"}catch(m){}}H||(ja(oa).play(),ya++,y.lossst_T=ya);var k=1,f={},n;for(n in cubes)f.b=n,cubes[f.b][0]>=puzzles[J][5]&&cubes[f.b][0]<puzzles[J][5]+puzzles[J][0]&&cubes[f.b][1]>=puzzles[J][6]&&cubes[f.b][1]<puzzles[J][6]+puzzles[J][0]&&(delete cubes[f.b],k++,setTimeout(function(f){return function(){top["cube"+f.b].remove()}}(f),200*k)),f={b:f.b}}}}}function Ea(){for(var k in apples)if(!y["lossst_A"+W+k]&&(0<apples[k][3]&&apples[k][3]==G||0<apples[k][4]&&apples[k][4]==ya)){I=1;D&&"px"==W&&1==k&&(kw.className="",y.lossst_b=1);var f=setTimeout;a.style.transform="translateX("+-apples[k][0]*v+"vh)translateY("+-apples[k][1]*v+"vh)translateZ(50vh)rotateX(35deg)";y["lossst_A"+W+k]=1;a.style.transformOrigin=""+apples[k][0]*v+"vh "+apples[k][1]*v+"vh";f(void 0,250);f=setTimeout;top["a"+k].className="j g";top["as"+k].className="e p";f(void 0,800);setTimeout(function(){ja(la).play()},850);setTimeout(function(){Y();z||(I=0)},2E3)}}function Fa(){U=0;H||(J=null);for(p in puzzles)q[t]>=puzzles[p][5]&&q[t]<puzzles[p][5]+puzzles[p][0]&&w[t]>=puzzles[p][6]&&w[t]<puzzles[p][6]+puzzles[p][0]&&0<=E[t]&&E[t]<puzzles[p][0]&&(J=+p,U=1)}onkeydown=function(k){top["lurd************************l**r************l*d***u**u"[k.which-37]]=1;18==k.which&&(B=1);16==k.which&&(s=1);17==k.which&&(c=1);if(!I){if(49==k.which||97==k.which)-1<g&&g--,ca();if(50==k.which||98==k.which)g=0,ca();if(51==k.which||99==k.which)1>g&&g++,ca()}Fa();U?Da():Aa=0;if(82==k.which&&U){if(Aa<=t)for(var f=Aa;f<=t;f++)q.pop(),w.pop(),E.pop(),F.pop(),setTimeout(function(){sa.back()},70*(t-f));t=Aa-1;Aa=0;Y();Da();y.lossst_M=++ua}else if(116!=k.which&&82!=k.which&&17!=k.which&&123!=k.which&&k.preventDefault&&k.preventDefault(),!I){V=0;if(l)!Q&&O&&U&&q[t]==R?(Z(R+T-1,w[t],E[t]),V||(q.push(R+T-1),w.push(w[t]),E.push(E[t]),F.push(Math.PI/2),t++)):(Z(q[t]-1,w[t],E[t]),V||(q.push(q[t]-1),w.push(w[t]),E.push(E[t]),F.push(Math.PI/2),t++));else if(r)!Q&&O&&U&&q[t]==R+T-1?(Z(R,w[t],E[t]),V||(q.push(R),w.push(w[t]),E.push(E[t]),F.push(-Math.PI/2),t++)):(Z(q[t]+1,w[t],E[t]),V||(q.push(q[t]+1),w.push(w[t]),E.push(E[t]),F.push(-Math.PI/2),t++));else if(u)!Q&&O&&U&&w[t]==S?(Z(q[t],S+T-1,E[t]),V||(q.push(q[t]),w.push(S+T-1),E.push(E[t]),F.push(Math.PI),t++)):(Z(q[t],w[t]-1,E[t]),V||(q.push(q[t]),w.push(w[t]-1),E.push(E[t]),F.push(Math.PI),t++));else if(d)!Q&&O&&U&&w[t]==S+T-1?(Z(q[t],S,E[t]),V||(q.push(q[t]),w.push(S),E.push(E[t]),F.push(0),t++)):(Z(q[t],w[t]+1,E[t]),V||(q.push(q[t]),w.push(w[t]+1),E.push(E[t]),F.push(0),t++));else if((C||N)&&s){if(!U){k=G-1;for(f in cubes)cubes[f][0]==q[t]&&cubes[f][1]==w[t]&&k++;if(E[t]==k)return}!Q&&O&&U&&E[t]==T-1?(Z(q[t],w[t],0),V||(q.push(q[t]),w.push(w[t]),E.push(0),F.push(F[t]),t++)):(Z(q[t],w[t],E[t]+1),V||(q.push(q[t]),w.push(w[t]),E.push(E[t]+1),F.push(F[t]),t++))}else(C||N)&&c?!Q&&O&&U&&0==E[t]?(Z(q[t],w[t],T-1),V||(q.push(q[t]),w.push(w[t]),E.push(T-1),F.push(F[t]),t++)):0==E[t]?V=1:(Z(q[t],w[t],E[t]-1),V||(q.push(q[t]),w.push(w[t]),E.push(E[t]-1),F.push(F[t]),t++)):B&&t>G&&(F.pop(),q.pop(),w.pop(),E.pop(),t--);V&&!I&&(I=1,setTimeout(function(){z||(I=0)},150),!(-1<q[t]&&q[t]<X&&-1<w[t]&&w[t]<h)||"pI"==W&&!C&&16<q[t]||hitcube2||ja(ma).play());if(!V&&!z&&(u||r||d||l||s||c||B)){y.lossst_M=++ua;Da();Y();B?t>G&&sa.back():(C||!s&&!c&&!C)&&sa.forward();Y(1);Ea();I||(I=1,setTimeout(function(){z||(I=0)},150));if("px"==W&&(C||14<=G)&&20==q[t]&&10==w[t]){I=1;var n=0;for(f=0;f<G;f++)setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(--n);F.push(F[t]);t++;Y()},150*f);setTimeout(function(){AA("pz",1)},160*G);y.lossst_x=20;y.lossst_y=10}Fa();U&&!Aa&&(Aa=t)}}};onkeyup=function(){u=r=d=l=s=c=B=0};onload=function(){1<location.hash.length?AA("py",1):(setTimeout(function(){x=setInterval(function(){sa.forward()},500)},200),b.innerHTML="<center id=e>\ud83d\udc40</center>\n<center id=iw></center>\n<div id=iv style=perspective:30vh>\n<center id=menu>\n<h1>LOSSST</h1>\n<span onclick=newgame()>New game</span><br>\n"+(y.lossst_a&&!y.lossst_E?"<span onclick=AA(0,1)>Continue</span><br>":"")+"\n<span onclick=AA(\"pz\",1)>Puzzle editor</span><br>\n<span onclick=top.open('//goo.gl/iKqoCS')>Bonus",newgame=function(){for(i in localStorage)0==i.indexOf("lossst")&&-1==i.indexOf("e")&&delete localStorage[i];y.lossst_a=1;menu.innerHTML="<br><br><span onclick=intro(0)>Desssktop</span><br><br><span onclick=intro(1)>Mobile"},intro=function(k){clearInterval(x);_=$=0;x=setInterval(sa.forward,250);y.lossst_m=D=k;y.lossst_S=G=5;ta=y.lossst_t=0;ua=y.lossst_M=0;y.lossst_M=0;y.lossst_t=0;menu.innerHTML="";setTimeout(function(){e.style.margin=0},500);dir=1;inter=setInterval(function(){e.style.opacity=0;setTimeout(function(){e.style.opacity=1;dir=-dir;e.style.transform="scaleX("+dir+")"},150)},3E3);setTimeout(function(){iw.innerHTML="I lossst my kid !"},2E3);setTimeout(function(){iw.innerHTML=""},5E3);setTimeout(function(){clearInterval(inter);e.style.margin="-80vh 0 0"},7E3);setTimeout(AA,7500)})};AA=function(k,f){if(0===k||"pz"==k)clearInterval(x),_=$=0;"pz"==k&&(H=1,J=0);W=k||y.lossst_p||"px";b.outerHTML="<body id=b class="+W+">\n<div id=iv>\n<div id=a style=transform:translateX(-97vh)translateY(-50vh)rotateZ(90deg)translateZ(119vh);transform-origin:100vh+50vh>\n<div id=ig>"+(H?"<div class=t style=width:60vh;transform:translateX(70vh)translateY(1vh)translateZ(2vh)rotateX(-42deg)>\n<label style=width:100%;text-align:center>Create a pattern with the snake and share it !</label>\n<br style=line-height:6vh>\n<div style=text-align:left;padding-left:5vh>\n<label>Grid</label> <input id=ib type=range value=5 min=3 max=8 step=1>\n<span id=gridval>5</span>\n<br>\n<label>Snake</label> <input id=iq type=range value=5 min=5 max=40 step=1>\n<span id=it>5</span>\n</div>\n<input type=checkbox id=ik checked> <label for=ik id=im>ground</label>\n"+(y.lossst_e||y.lossst_s&&6<y.lossst_S?"<input type=checkbox id=wall> <label for=wall>wall</label>":"")+"\n"+(y.lossst_e||y.lossst_s?"<input type=checkbox id=wrap> <label for=wrap>wrap</label>":"")+"\n<br>\n<center>\n<button id=ij disabled>Share</button>\n</center>\n</div>":"")+"\n</div>\n<div id=ih></div>\n<div id=ie></div>\n<div id=ia></div>\n</div>\n</div>\n<center id=iz style='font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw'>\n<button id=kU class=h ontouchstart=TS(38) ontouchend=TE(38)>\u2191</button>\n<button id=kD class=h ontouchstart=TS(40) ontouchend=TE(40)>\u2193</button>\n<button id=kL class=h ontouchstart=TS(37) ontouchend=TE(37)>\u2190</button>\n<button id=kR class=h ontouchstart=TS(39) ontouchend=TE(39)>\u2192</button>\n<button id=kT class=h ontouchstart=TS(16) ontouchend=TE(16)>\u2b06\ufe0e</button>\n<button id=kB class=h ontouchstart=TS(17) ontouchend=TE(17)>\u2b07\ufe0e</button>\n<button id=kw class=h ontouchstart=TS(18) ontouchend=TE(18)>\u21a9</button>\n<button id=kx class=h ontouchstart=TS(82) ontouchend=TE(82)>\u00d7</button>\n<button id=ky class=h ontouchstart=TS(49) ontouchend=TE(49)>\u21bb</button>\n<button id=kz class=h ontouchstart=TS(51) ontouchend=TE(51)>\u21ba</button>\n</center>\n<center id=ii style='font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw'>";y.lossst_Apx0=1;Ba();if(D&&"py"==W||y.lossst_w)kU.className=kD.className=kL.className=kR.className="";if(D&&"py"==W||y.lossst_b)kw.className="";if(D&&"py"==W||y.lossst_r)kr.className="";if(D&&"py"==W||y.lossst_B)kT.className="",kB.className="";if(D&&"py"==W||y.lossst_c)ky.className="",kz.className="";H||(va=setInterval(function(){y.lossst_t=++ta},1E3));f&&(b.innerHTML+="<div style='position:fixed;font:8vh a;top:3vh;right:3vh'onclick=location='.'>\u00d7")}</script><style>@keyframes move{0%,100%{transform:rotateY(-10deg)}50%{transform:rotateY(10deg)}}*{margin:0;padding:0;font:2.5vh/5.5vh arial,sans-serif;vertical-align:middle;box-sizing:border-box;-webkit-touch-callout:none;-webkit-user-select:none;-webkit-tap-highlight-color:transparent;user-select:none;cursor:pointer;touch-action:manipulation}html,body{height:100%;background:#000;overflow:hidden;background:radial-gradient(#def 25%,#7ce)}a{color:#def}input,button{position:relative;z-index:2}input[type=range]::-webkit-slider-runnable-track,input[type=range]::-webkit-slider-thumb{background:#888;border:1px solid #000}input[type=range]::-moz-range-track,input[type=range]::-moz-range-thumb{background:#888;border:1px solid #000}#iv{width:0;height:0;perspective:120vh;position:absolute;top:50%;left:50%}#iv *{transform-style:preserve-3d}#a{width:0;height:0;transform-origin:18vh 0%;transition:transform 1s,transform-origin 1s}.z{position:fixed;top:0;left:0}.z>div{width:100%;height:100%;position:fixed}.z .u{transform:rotateY(90deg)translateX(-100%)rotateY(-90deg)}.z .l{transform:rotateX(-90deg)translateY(-50%)translateX(-50%)rotateY(-90deg)}.z .r{transform:rotateX(-90deg)translateY(-50%)translateX(50%)rotateY(90deg)}.z .f{transform:translateY(50%)rotateX(-90deg)translateY(-50%)}.z .b{transform:translateY(-50%)rotateX(-90deg)translateY(-50%)rotateY(180deg)}.z.q{width:32vh;height:32vh;transform:none}.z.q>div{background:transparent}.z.q .b{transition:opacity .5s;transform:translateY(-50%)rotateX(-90deg)translateY(-52%)}.z.q.w .d,.z.q .d{transition:opacity .5s;background:#0c5b0c}.sm,.sr{transform-origin:50% 50%;width:100%;height:100%;position:fixed}.sm{transition:transform .15s}.z.k{width:100%;height:100%}.z.k>div{box-shadow:0 0 0 .1vh #000 inset;text-align:center}.z.k .f{line-height:3vh}#ie .z.k>div{background:#FFA500}#ie .z.k .u{background:#dF8500}#ia .z.k>div,#a.haswall .z.k>div{background:#444}#ia .z.k .u,#a.haswall .z.k .u{background:#333}#ia .z.k .f{color:#fff}.ss{position:fixed;width:100%;height:100%;background:rgba(0,0,0,.25);transform:translateX(14%)translateY(14%)translateZ(-.25vh)}label{display:inline-block;width:22%}button{display:inline-block;width:23%;border:.2vh solid #000;margin:1vh 2% 0 0}input[type=range]{width:60%}#form{width:50vh;margin:auto}.o{float:left;outline:.4vh solid #888;opacity:0;transition:opacity .5s;background:#fff}.z.q.v{transform:translateZ(.1vh)}.z.q.v .o{opacity:1}.z.q.v .d{transform:none}.z.q.w>div{background:linear-gradient(45deg,rgba(200,200,200,.1),rgba(200,200,200,.3));box-shadow:0 0 .1vh rgba(255,255,255,.5)}.j{position:fixed;transform-origin:50% 100%;bottom:0}.m{animation:move 3s infinite}.e{color:rgba(0,0,0,.002);text-shadow:0px 0px rgba(0,0,0,.25);position:fixed;transform-origin:50% 100%;bottom:0}.tr,.h{font:11vh/12vh a}.a .tr{font:15vh/11vh a}.a .h,.c .h,.i .h,.a .p,.c .p,.i .p,.c .x.b,#iz button.h{display:none}.g,.g *,.p{font:4vh/5vh a;transition:opacity .5s .5s}.n,.n *{font:5vh/6vh a}.g.h,.p.h{opacity:0}.a .g{font:6vh/5vh a}.do{position:fixed;transform-origin:0% 100%;width:0;height:0}.do .y{position:fixed;width:15vh;height:20vh;background:radial-gradient(2vh at 90% 50%,gold 35%,transparent 40%),#a22;border-radius:1vh 1vh 0 0;transform-origin:0% 100%;transform:translateX(-7.5vh)translateY(-12.5vh)rotateX(-90deg);text-align:center;font-size:6vh;line-height:12vh;color:#fff;transition:transform 1s}.do .y.d1{background:radial-gradient(2vh at 90% 50%,gold 35%,transparent 40%),#222}.do.s .y{transform:translateX(-7.5vh)translateY(-12.5vh)rotateX(-90deg)rotateY(90deg)}.z.x div{background:linear-gradient(45deg,#640,#583808)}.z.x div.u{transform:rotateY(90deg)translateX(-5.4vh)translateZ(-.1vh)rotateY(-90deg);background:radial-gradient(#3F7D1F,#034301);background-size:280vh 140vh;width:5.3vh;height:5.3vh}.t{position:fixed;background:#fff;padding:.7vh;width:20vh;font:2vh/2.5vh arial,sans-serif;transform-origin:50% 100%;text-align:center;box-shadow:0 0 0 .2vh #000 inset;bottom:0}.t br{font:0/0 a}.t:before{content:"";width:3vh;height:3vh;background:#750;position:absolute;bottom:-3vh;left:8vh;border-left:.2vh solid;border-right:.2vh solid}.pz .t:before{left:28vh}label{text-align:left}#a{transition:transform 6s ease-in,transform-origin 6s ease-in;width:280vh;height:140vh;background:radial-gradient(#4F8D2F,#136321);border-radius:3vh}.px #a,.pI #a{background:radial-gradient(10vh at 51.3% 52%,#000 40%,transparent 50%),radial-gradient(15vh at 51.3% 52%,#640 40%,transparent 50%),radial-gradient(#4F8D2F,#136321)}#e{margin:99vh 0 0;transition:margin 1s;font:10vh/80vh a}#iw{font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw}#menu{color:#fff;width:55vh;transform:translateX(-27vh)translateY(-20vh)rotateX(-17deg)}#menu span{font:7vh/12vh arial,sans-serif}#menu h1{font:13vh/16vh arial,sans-serif;text-shadow:.1vh -.1vh #777,.2vh -.2vh #777,.3vh -.3vh #777}#menu span:hover{color:#ace;transform:rotateX(-10deg)}.pN #menu span:hover{color:#fff}#iz button{position:fixed;width:10vh;height:10vh;text-align:center;font:6vh/10vh a}#kU{right:14vh;bottom:14vh}#kD{right:14vh;bottom:2vh}#kL{right:26vh;bottom:2vh}#kR{right:2vh;bottom:2vh}#kT{left:2vh;top:2vh}#kB{left:2vh;top:14vh}#kw{bottom:2vh;left:2vh}#kx{bottom:14vh;left:2vh}#ky{top:2vh;right:18vh}#kz{top:2vh;right:6vh}#hpx0{opacity:0;transition:opacity .5s}</style></head><head></head><body id="b" class="pI">
<div id="iv">
<div id="a" style="transform: translateX(-100vh) translateY(-50vh) translateZ(45vh) rotateX(40deg) rotateZ(0rad); transform-origin: 100vh 50vh 0px; width: 200vh; height: 100vh; transition: 1s;">
<div id="ig"><div id="tree0" class="j tr" style="left:15vh;transform:translateX(-7vh)translateY(9vh)rotateX(-70deg)">🌳</div><div id="treeshadow0" class="e h" style="left:15vh;transform:translateX(-7.5vh)translateY(8.5vh)rotateZ(144deg)scaleY(1.5)">🌳</div><div id="tree1" class="j tr" style="left:75vh;transform:translateX(-7vh)translateY(14vh)rotateX(-70deg)">🌳</div><div id="treeshadow1" class="e h" style="left:75vh;transform:translateX(-7.5vh)translateY(13.5vh)rotateZ(144deg)scaleY(1.5)">🌳</div><div id="tree2" class="j tr" style="left:180vh;transform:translateX(-7vh)translateY(19vh)rotateX(-70deg)">🌳</div><div id="treeshadow2" class="e h" style="left:180vh;transform:translateX(-7.5vh)translateY(18.5vh)rotateZ(144deg)scaleY(1.5)">🌳</div><div id="tree3" class="j tr" style="left:130vh;transform:translateX(-7vh)translateY(29vh)rotateX(-70deg)">🌳</div><div id="treeshadow3" class="e h" style="left:130vh;transform:translateX(-7.5vh)translateY(28.5vh)rotateZ(144deg)scaleY(1.5)">🌳</div><div id="tree4" class="j tr" style="left:125vh;transform:translateX(-7vh)translateY(79vh)rotateX(-70deg)">🌳</div><div id="treeshadow4" class="e h" style="left:125vh;transform:translateX(-7.5vh)translateY(78.5vh)rotateZ(144deg)scaleY(1.5)">🌳</div><div id="tree5" class="j tr" style="left:165vh;transform:translateX(-7vh)translateY(49vh)rotateX(-70deg)">🌳</div><div id="treeshadow5" class="e h" style="left:165vh;transform:translateX(-7.5vh)translateY(48.5vh)rotateZ(144deg)scaleY(1.5)">🌳</div><div id="tree6" class="j tr" style="left:50vh;transform:translateX(-7vh)translateY(64vh)rotateX(-70deg)">🌳</div><div id="treeshadow6" class="e h" style="left:50vh;transform:translateX(-7.5vh)translateY(63.5vh)rotateZ(144deg)scaleY(1.5)">🌳</div><div id="tree7" class="j tr" style="left:180vh;transform:translateX(-7vh)translateY(74vh)rotateX(-70deg)">🌳</div><div id="treeshadow7" class="e h" style="left:180vh;transform:translateX(-7.5vh)translateY(73.5vh)rotateZ(144deg)scaleY(1.5)">🌳</div><div id="tree8" class="j tr" style="left:15vh;transform:translateX(-7vh)translateY(79vh)rotateX(-70deg)">🌳</div><div id="treeshadow8" class="e h" style="left:15vh;transform:translateX(-7.5vh)translateY(78.5vh)rotateZ(144deg)scaleY(1.5)">🌳</div><div id="a0" class="j g" style="left:190vh;transform:translateY(14vh)rotateX(-65deg)"><div class="m">🍎</div></div><div id="as0" class="e p" style="left:190vh;transform:scaleX(-1)translateY(13vh)rotateZ(212deg)">🍎</div><div class="j n" style="left:64vh;transform:translateY(74vh)rotateX(-65deg)"><div class="m">🐢</div></div><div id="dpI0" class="do s" style="left:-7.5vh;top:52.5vh;transform:rotateZ(-1.5707963267948966rad)translateZ(0vh)"><div class="y d0" hidden="">1</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh"></div></div><div id="dpI1" class="do" style="left:182.5vh;top:-7.5vh;transform:rotateZ(0rad)translateZ(0vh)"><div class="y d1">6</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh"></div></div><div id="cube0" class="z x" style="left:150vh;top:0vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-450vh -140vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube1" class="z x" style="left:150vh;top:5vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-450vh -145vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube2" class="z x" style="left:150vh;top:10vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-450vh -150vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube3" class="z x" style="left:150vh;top:15vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-450vh -155vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube4" class="z x" style="left:150vh;top:20vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-450vh -160vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube5" class="z x" style="left:150vh;top:25vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-450vh -165vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube6" class="z x" style="left:150vh;top:30vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-450vh -170vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube7" class="z x" style="left:150vh;top:35vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-450vh -175vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube8" class="z x" style="left:150vh;top:40vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-450vh -180vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube9" class="z x" style="left:150vh;top:40vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-450vh -180vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube10" class="z x" style="left:155vh;top:40vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-455vh -180vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube11" class="z x" style="left:160vh;top:40vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-460vh -180vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube12" class="z x" style="left:165vh;top:40vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-465vh -180vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube13" class="z x" style="left:170vh;top:40vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-470vh -180vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube14" class="z x" style="left:175vh;top:40vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-475vh -180vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube15" class="z x" style="left:180vh;top:40vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-480vh -180vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube16" class="z x" style="left:185vh;top:40vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-485vh -180vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube17" class="z x" style="left:190vh;top:40vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-490vh -180vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube18" class="z x" style="left:195vh;top:40vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-495vh -180vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="hpI0" class="t" style="left:25vh;transform:translateY(50vh)translateZ(0vh)rotateX(-70deg)translateY(-4vh)">Guess what, you finished the first half of the game !</div><div id="hpI1" class="t" style="left:150vh;transform:translateY(60vh)translateZ(0vh)rotateX(-70deg)translateY(-4vh)">You can now move up and down with Shift and Ctrl keys, and open black doors</div></div>
<div id="ih"></div>
<div id="ie"><div id="" class="sm" style="transform: translateX(85.25vh) translateY(50vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id=""></div><div id="" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id=""><div style="background:none;box-shadow:none;color:red;font-size:4vh;text-align:center;transform:rotateZ(180deg)translateY(-4vh)translateZ(1.5vh)">Y</div><div class="u" style="font:2.5vh/4vh a">👀</div><div class="f">‿</div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="" class="sm" style="transform: translateX(80.25vh) translateY(50vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id=""></div><div id="" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id=""><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="" class="sm" style="transform: translateX(75.25vh) translateY(50vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id=""></div><div id="" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id=""><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="" class="sm" style="transform: translateX(70.25vh) translateY(50vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id=""></div><div id="" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id=""><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="" class="sm" style="transform: translateX(65.25vh) translateY(50vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id=""></div><div id="" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id=""><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="" class="sm" style="transform: translateX(60.25vh) translateY(50vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id=""></div><div id="" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id=""><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="" class="sm" style="transform: translateX(55.25vh) translateY(50vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id=""></div><div id="" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id=""><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="" class="sm" style="transform: translateX(50.25vh) translateY(50vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id=""></div><div id="" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id=""><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="" class="sm" style="transform: translateX(45.25vh) translateY(50vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id=""></div><div id="" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id=""><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="" class="sm" style="transform: translateX(40.25vh) translateY(50vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id=""></div><div id="" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id=""><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="" class="sm" style="transform: translateX(35.25vh) translateY(50vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id=""></div><div id="" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id=""><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="" class="sm" style="transform: translateX(30.25vh) translateY(50vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id=""></div><div id="" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id=""><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="" class="sm" style="transform: translateX(25.25vh) translateY(50vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id=""></div><div id="" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id=""><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="" class="sm" style="transform: translateX(20.25vh) translateY(50vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id=""></div><div id="" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id=""><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="" class="sm" style="transform: translateX(15.25vh) translateY(50vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id=""></div><div id="" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id=""><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="" class="sm" style="transform: translateX(10.25vh) translateY(50vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id=""></div><div id="" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id=""><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="" class="sm" style="transform: translateX(5.25vh) translateY(50vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id=""></div><div id="" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id=""><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="" class="sm" style="transform: translateX(0.25vh) translateY(50vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id=""></div><div id="" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id=""><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="" class="sm" style="transform: translateX(-4.75vh) translateY(50vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id=""></div><div id="" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id=""><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="" class="sm" style="transform: translateX(-9.75vh) translateY(50vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id=""></div><div id="" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id=""><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="" class="sm" style="transform: translateX(-14.75vh) translateY(50vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id=""></div><div id="" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id=""><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M21" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S21"></div><div id="R21" class="sr"><div class="z k" id="T21"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M22" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S22"></div><div id="R22" class="sr"><div class="z k" id="T22"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M23" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S23"></div><div id="R23" class="sr"><div class="z k" id="T23"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M24" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S24"></div><div id="R24" class="sr"><div class="z k" id="T24"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div></div>
<div id="ia"><div id="M0" class="sm" style="transform: translateX(100.25vh) translateY(50vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S0" style=""></div><div id="R0" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T0"><div style="background:none;box-shadow:none;color:red;font-size:4vh;text-align:center;transform:rotateZ(180deg)translateY(-4vh)translateZ(1.5vh)">Y</div><div class="u" style="font:2.5vh/4vh a">👀</div><div class="f">‿</div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M1" class="sm" style="transform: translateX(100.25vh) translateY(50vh) translateZ(-4.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S1" style="display: none;"></div><div id="R1" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T1"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M2" class="sm" style="transform: translateX(100.25vh) translateY(50vh) translateZ(-9.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S2" style="display: none;"></div><div id="R2" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T2"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M3" class="sm" style="transform: translateX(100.25vh) translateY(50vh) translateZ(-14.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S3" style="display: none;"></div><div id="R3" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T3"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M4" class="sm" style="transform: translateX(100.25vh) translateY(50vh) translateZ(-19.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S4" style="display: none;"></div><div id="R4" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T4"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M5" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S5"></div><div id="R5" class="sr"><div class="z k" id="T5"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M6" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S6"></div><div id="R6" class="sr"><div class="z k" id="T6"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M7" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S7"></div><div id="R7" class="sr"><div class="z k" id="T7"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M8" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S8"></div><div id="R8" class="sr"><div class="z k" id="T8"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M9" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S9"></div><div id="R9" class="sr"><div class="z k" id="T9"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M10" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S10"></div><div id="R10" class="sr"><div class="z k" id="T10"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M11" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S11"></div><div id="R11" class="sr"><div class="z k" id="T11"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M12" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S12"></div><div id="R12" class="sr"><div class="z k" id="T12"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M13" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S13"></div><div id="R13" class="sr"><div class="z k" id="T13"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M14" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S14"></div><div id="R14" class="sr"><div class="z k" id="T14"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M15" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S15"></div><div id="R15" class="sr"><div class="z k" id="T15"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div></div>
</div>
</div>
<center id="iz" style="font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw">
<button id="kU" class="h" ontouchstart="TS(38)" ontouchend="TE(38)">↑</button>
<button id="kD" class="h" ontouchstart="TS(40)" ontouchend="TE(40)">↓</button>
<button id="kL" class="h" ontouchstart="TS(37)" ontouchend="TE(37)">←</button>
<button id="kR" class="h" ontouchstart="TS(39)" ontouchend="TE(39)">→</button>
<button id="kT" class="h" ontouchstart="TS(16)" ontouchend="TE(16)">⬆︎</button>
<button id="kB" class="h" ontouchstart="TS(17)" ontouchend="TE(17)">⬇︎</button>
<button id="kw" class="h" ontouchstart="TS(18)" ontouchend="TE(18)">↩</button>
<button id="kx" class="h" ontouchstart="TS(82)" ontouchend="TE(82)">×</button>
<button id="ky" class="h" ontouchstart="TS(49)" ontouchend="TE(49)">↻</button>
<button id="kz" class="h" ontouchstart="TS(51)" ontouchend="TE(51)">↺</button>
</center>
<center id="ii" style="font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw"></center><div style="position:fixed;font:8vh a;top:3vh;right:3vh" onclick="location='index.html'">×</div></body></html><html><head><title>LOSSST</title><meta content="width=device-width,user-scalable=no" name="viewport"><script>u=r=d=l=s=c=B=0;trees=[];apples=[];doors=[];cubes=[];hints=[];emoji=[];puzzles=[];TS=function(k){ba[k]&&clearInterval(ba[k]);onkeydown({which:"+n+"});ba[k]=setInterval(function(){onkeydown({which:k})},150)};TE=function(k){setTimeout(function(){clearInterval(ba[k]);onkeyup()},150)};var g=0;function ca(){a.style.transform="translateX(-"+q[t]*v+"vh)translateY(-"+w[t]*v+"vh)translateZ(45vh)rotateX(40deg)rotateZ("+g+"rad)"}var x=$=_=0;function da(){var k=0;this.i=function(f){k+=f/48E3*Math.PI*2;return k%=2*Math.PI}}function fa(k){var f=new da,n=new da,m=.1;this.i=function(){if(!k)return 0;var A=k+.4*Math.sin(n.i(3));A=440*Math.pow(2,(A-57)/12);m*=.9998;A=f.i(A);return Math.pow(Math.sin(A),1)*m}}function ha(k){function f(){var f=k.length/2;for(_=$;0>_;)_+=f;_%=f;f=new fa(k[2*_+0].charCodeAt(0)-48);for(var A=new fa(k[2*_+1].charCodeAt(0)-48),P=[],aa=0;48E3>aa;aa++){var ea=f.i(),na=A.i(),za=.5*ea+na;P.push(ea+.5*na);P.push(za)}n(P).play()}function n(f){function k(f){f=m(f);return f[0]+f[1]}function m(f){for(var k=0,m="",n=0;4>n;n++,k+=8)m+=String.fromCharCode(f>>k&255);return m}var n=2*f.length;n="RIFF"+m(n+36)+"WAVEfmt "+m(16)+k(1)+k(2)+m(48E3)+m(192E3)+k(4)+k(16)+"data"+m(n);for(var ea in f)n+=k(32767*f[ea]);return new Audio("data:audio/wav;base64,"+btoa(n))}$=-1;this.forward=function(){$++;f()};this.back=function(){$--;f()}}function ja(k){function f(f){f=n(f);return f[0]+f[1]}function n(f){for(var k=0,m="",n=0;4>n;n++,k+=8)m+=String.fromCharCode(f>>k&255);return m}for(var m=[],A=0;;A++){var P=k(A);if(null===P)break;m.push(P)}k=2*m.length;k="RIFF"+n(k+36)+"WAVEfmt "+n(16)+f(1)+f(1)+n(48E3)+n(96E3)+f(2)+f(16)+"data"+n(k);for(A in m)k+=f(1E4*m[A]);return new Audio("data:audio/wav;base64,"+btoa(k))}function ka(k){return 1E4<k?null:(Math.pow(k,1.055)&128?1:-1)*Math.pow((1E4-k)/1E4,2)/2}function la(k){return 25E3<k?null:((k^k>>3^k*k*7.3^k<<4)&65535)/65536*((25E3-k)/25E3)/2}function ma(k){return 5E3<k?null:(Math.pow(k+1E3*Math.sin(.01*k),.8)&200?.5:-.5)*Math.pow((5E3-k)/5E3,1)/2}function oa(k){if(16E3<k)return null;var f=Math.pow((16E3-k)/16E3,2.1)/2;return(k<16E3/7?k+10*Math.sin(-k/900)&16:k&13)?f:-f}function pa(k){return 9E4<k?null:(Math.pow(k+1E3*Math.sin(.01*k),.8)&200?.5:-.5)*Math.pow((9E4-k)/9E4,1)/4}var qa=new ha("nbo0risiubv0uisirbs0ui0i0b0c0f0gniojrlsjuivjymvjubv0ui0i0j0m0n0rsgu0vnxnzgx0vnunsg0n0o0n0g0s0o0nrisjulvgufsjufscrbo0ni0j0b0i0j0il`n0ogqgs`u0vgxgz`0gxl0nsouqvsxuuev0u`0`0eq0slulqcs0qcs0qbs0q`s0njo0reseujv0xeveuj0v0e0q0j0i0g0e0cu0scq00bv0ufr0sgn0vbr0xiz0zjr0sgu0vbx0zgx0vbubsg{0zb{`z^{0zi{fzgv0xiu0vjs0ulr0sbn0oll0nbl0jfi0g00bxc0`zb0^{`0]z^0[z]0Zz[0]z^0`zb0]uf0bxi0f{l0izr0ozn0ixr0nrulrnbo0risiufs0r`o0nb0czf0gzi0gzf0cub0i0j0mvn0m0j0irbscrbs`rbs`sbrbo`q0sgugv`x0zg{gz`s0x`s0v`x0vcx0ues0q`l00eu00`x00ev00`u00eq00`o`"),ra=new ha("p0r0sdk0rco0pdk0p0r0sdw0rcs0pdk0p0r0sdk0rck0pdk0p0r0sdw0rcs0pd0f0g0iwg0bwgx0wgurrnspur0bufwgubs0pkrcsdk0rco0pkk0p0r0sdk0rco0pk0l0k0iwg0b0k0g0n0kzs0nxi0f|l0izr0p0n0lwk0dwg0k0p0k|s0pur0kuo0k0i0l0k0isd0krj0kpd0k0p0rsd0krl0opd0f0g0iskw0riw0pgw0nfw0u`s0rbs0pd0k"),y=localStorage,z=0,C=+y.lossst_s||0,sa=C?ra:qa,D=+y.lossst_m||0,ta=+y.lossst_t||0,ua=+y.lossst_M||0,va=0,ba=[],wa=0,v=5,t=0,q=[],w=[],E=[],F=[],G=y.lossst_S=+y.lossst_S||5,H=0,I=0,J=null,K="0",L=[],M=[],xa=0,N=0,O=0,Q=0,R=0,S=0,T=0,ya=+y.lossst_T||0,Aa=0,U=0,V=0,W="",X=h=0;function Ba(){var k;navigator.userAgent.match(/Mac/)&&(iv.className="a");navigator.userAgent.match(/Fire|Edg/)&&(iv.className+=" c",wa=4E3);D&&(iv.className+=" i");b.className=W;C&&!H&&(ie.innerHTML="");cubes=[];doors=[];trees=[];apples=[];hints=[];emoji=[];if("pz"==W)X=40,h=20,puzzles=[[5,,1,,"0000000000000000000000000",16,9]],G=5,C=0;else if("py"==W)h=X=20,puzzles=[eval("["+location.hash.slice(1).replace(/[01]{2,}/g,'"$&"')+"]")],G=puzzles[0][1],puzzles[0][5]=puzzles[0][6]=8,C=!!puzzles[0][3],hints=[["Move: arrow keys<br>"+(C?"Up/Down: "+(D?"\u2b06\ufe0e/\u2b07\ufe0e":"Shift/Ctrl")+"<br>":"")+"backtrack: "+(D?"\u21a9":"Alt")+"<br>Reset: R",1,5,1,0,C,0]],delete y.lossst_ppy0;else if("px"==W){X=40;h=20;trees=[[13,9,0],[7,13,0],[35,8,0]];apples=[[11,11,0,0,0],[2,12,0,6,0],[38,10,0,7,0]];doors=[[41,10,Math.PI/2,8,0,"pA",1,0,10,0,0],[20,-2,0,14,0,"pD",1,10,19,0,0],[-2,11,-Math.PI/2,6,0,"pJ",1,14,5,1,1],[20,21,Math.PI,14,0,"pC",1,22,1,0,0],[5,21,Math.PI,5,0,"pI",1,36,1,0,1]];puzzles=[];cubes=[];for(f=9;15>f;f++)for(m=0;5>m;m++)2==m&&14==f||2==m&&13==f||3==m&&13==f||3==m&&12==f||2==m&&12==f||cubes.push([m,f]);hints=[["Move with<br>arrow keys"+(D?"":" or WASD/ZQSD"),19,5,0,13,0],["Use the "+(D?"\u21a9":"Alt")+" key to backtrack",1,9,0,13,0,1],["Approach red doors with the right length to open them",35,14,0,13,0],["\u2191<br>New puzzles !<hr>Puzzle editor<br>\u2193",19,8,14,0,0],["\u2190<br>New puzzles !",1,9,6,7,1,1]];emoji=[["\ud83d\udc3f\ufe0f",30,7],["\ud83c\udf30\ufe0f",29,7]]}else if("pA"==W)X=40,h=20,trees=[[35,15,0]],apples=[[33,16,0,0,6],[34,17,0,0,6],[37,15,0,0,6]],cubes=[],doors=[[-2,10,-Math.PI/2,8,0,"px",0,39,11,0,0],[35,21,Math.PI,11,0,"pB",1,35,1,0,0]],puzzles=[[6,,0,,"000000001000001110001110001000000000",2,3],[6,,0,,"000000011000011100010000011000000000",14,3],[6,,0,,"000000000100001100011000011100000000",26,3],[5,,0,,"0000001110011100110000000",2,13],[6,,0,,"000000011000011000001100001100000000",14,13],[6,,0,,"000000000100001100001110001100000000",26,13]],hints=[["Cover the black patterns to solve puzzles",9,9,1,0],["Solve all the puzzles in the room to unlock a new door",21,9,1,0],["Your progress is saved automatically",34,9,1,0]],emoji=[["\ud83d\udc0c",11,10]];else if("pB"==W)D&&(kx.className="",y.lossst_r=1),X=40,h=20,trees=[[4,7,0]],apples=[[1,8,0,0,12],[2,9,0,0,12]],doors=[[35,-2,0,8,0,"pA",0,35,19,0,0],[-2,10,-Math.PI/2,13,0,"pC",1,39,10,0,0]],puzzles=[[6,,0,,"000000011110011010011110000000000000",8,2],[7,,0,,"0000000001110000111000001100000110000010000000000",18,2],[6,,0,,"000000011000011110001010001110000000",28,2],[6,,0,,"000000011100001110001110001100000000",8,12],[6,,0,,"000000001110001110001110001010000000",18,12],[6,,0,,"000000011110011110001100001000000000",28,12]],hints=[["If you get stuck, "+(D?"click \u00d7":"press R")+" to exit a puzzle",35,11,1,0]],cubes=[[11,4],[21,16]],emoji=[["\ud83d\udc08",4,14]];else if("pC"==W)X=40,h=20,trees=[[35,8,0]],apples=[[34,11,0,0,18]],doors=[[41,10,Math.PI/2,8,0,"pB",0,1,10,0,0],[22,-2,0,14,0,"px",1,20,19,0,0]],puzzles=[[7,,0,,"0000000000000001111000111100001111000100000000000",2,3],[7,,0,,"0000000001110000101000011100001110000110000000000",26,3],[6,,0,,"000000001110011110011010001110000000",14,3],[7,,0,,"0000000001100000111000011100001110000110000000000",2,12],[7,,0,,"0000000000000001111100101010011111000000000000000",14,12],[6,,0,,"000000011000011100011110011110000000",26,12]],hints=[["\u2191<br>After this room, you can try a puzzle editor and a new kind of puzzles !",22,11,13,0,0]],cubes=[[29,5],[30,8],[17,6],[15,4],[15,7],[29,13],[30,13],[30,14],[18,15],[16,15],[6,13],[6,17],[7,8],[6,8],[5,8],[3,7],[3,8],[7,6],[7,5]],emoji=[["\ud83e\udd8b<br><br>",29,13]];else if("pD"==W){h=X=20;trees=[[10,2,0]];doors=[[10,21,Math.PI,14,0,"px",0,20,0,0,0],[-2,5,-Math.PI/2,14,0,"pE",0,24,12,0,0]];puzzles=[[7,,1,,"0100010011111000000000000000000000001111100100010",7,7]];hints=[["Now you're thinking with wraps !",2,2,0,14,0]];for(f=0;20>f;f++)cubes.push([f,10]);emoji=[["\ud83d\udc10",12,2]]}else if("pE"==W)h=X=25,trees=[[5,12,0]],apples=[[4,14,0,0,23]],doors=[[26,12,Math.PI/2,14,0,"pD",0,0,5,0,0],[-2,12,-Math.PI/2,15,0,"pF",1,79,5,0,0]],puzzles=[[7,,1,,"1000001000000000000000010100011011011000111000001",3,3],[6,,1,,"110011100001000000100001100001110011",15,17],[5,,1,,"1100111001100011001110011",16,4],[6,,1,,"000011000011110001110001000011000011",3,17]],hints=[["Reminder:<br>use "+(D?"\u21a9":"Alt")+" to backtrack,<br>"+(D?"\u00d7":"R")+" to exit a puzzle.",11,14,1,0,0]],emoji=[["\ud83d\udc12",12,20]];else if("pF"==W)X=80,h=20,trees=[[35,10,0]],apples=[[38,11,0,0,35]],doors=[[81,5,Math.PI/2,15,0,"pE",0,0,12,0,0],[-2,15,-Math.PI/2,16,0,"pG",1,19,5,0,0]],puzzles=[[5,,1,,"0111101001010110100011111",59,13],[5,,1,,"1111011000111100001011110",48,13],[5,,1,,"1111101000011110111001100",37,13],[5,,1,,"1111110000111001000011111",26,13],[5,,1,,"1100101101001110011101101",15,13],[5,,1,,"1111100001110010000111111",59,2],[5,,1,,"1000110111100011000111111",48,2],[5,,1,,"1000110101101011111110001",37,2],[5,,1,,"1111110001000110000111111",26,2],[5,,1,,"0111101100011100011011110",15,2],[5,,1,,"1111101111001110001100001",4,8],[5,,1,,"1010100101111010000111111",71,8]],hints=[["This room hides a surprise !",72,2,0,15,0],["\u2190<br>Exit",38,9,16,0,0]],cubes=[],emoji=[];else if("pG"==W)X=20,h=30,trees=[[5,25,0]],apples=[[4,24,0,0,37],[7,25,0,0,37],[2,26,0,0,37],[3,28,0,0,37]],doors=[[21,5,Math.PI/2,16,0,"pF",0,1,15,0,0],[10,31,Math.PI,20,0,"pH",1,10,1,0,0]],puzzles=[[6,,1,,"001000001110111111011100011000001000",7,6],[6,,1,,"110001100001000111000111100001110001",7,18]],emoji=[["\ud83d\udc01",9,14]];else if("pH"==W)X=20,h=30,trees=[[16,22]],apples=[[18,22,0,0,39]],doors=[[10,-2,0,18,0,"pG",0,10,29,0,0],[21,25,Math.PI/2,21,0,"pI",1,1,10,0,0]],puzzles=[[6,,1,,"001000011110111111011110011110001000",7,6],[6,,1,,"110001100001000011000111001111111111",7,18]],emoji=[["\ud83e\udd86",9,14]];else if("pI"==W){X=40;h=20;apples=[[38,2,0,5,0]];doors=[[-2,10,-Math.PI/2,1,0,"pH",0,19,25,0,0],[36,-2,0,6,0,"px",1,5,19,0,1]];puzzles=[];hints=[["Guess what, you finished the first half of the game !",5,9,1,0],["You can now move up and down with "+(D?"\u2b06\ufe0e and \u2b07\ufe0e":"Shift and Ctrl keys")+", and open black doors",30,11,1,0]];for(f=0;9>f;f++)cubes.push([30,f]);for(f=30;40>f;f++)cubes.push([f,8]);emoji=[["\ud83d\udc22",13,14]];trees=[[3,1],[15,2],[36,3],[26,5],[25,15],[33,9],[10,12],[36,14],[3,15]]}else"pJ"==W?(X=15,h=70,trees=[[2,62]],apples=[[2,65,0,0,47],[1,66,0,0,47]],doors=[[16,5,Math.PI/2,6,0,"px",0,1,11,0,1],[-2,65,-Math.PI/2,8,0,"pK",1,19,65,0,1]],puzzles=[[5,,0,"0000000000000000000001110",,2,2],[4,,0,"0000000001000110",,4,11],[5,,0,"0000000000000000101001110",,6,20],[5,,0,"0000000000000000111000100",,8,29],[4,,0,"0000000001100110","0000011001100000",2,38],[4,,0,"0000010001100100","0000011001100000",4,47],[4,,0,"0000011001000100","0000010001100000",6,56],[4,,0,"0000000001100110","0100011000100000",8,65]],hints=[["You now have to match the patterns on the walls...",10,2,1,0,1],["... and on the floor too !",10,40,1,0,1]],emoji=[["\ud83e\udd89",10,14]]):"pK"==W?(D&&(ky.className=kz.className="",y.lossst_c=1),X=20,h=75,trees=[[2,2]],apples=[[1,4,0,0,59],[2,5,0,0,59],[3,6,0,0,59],[4,2,0,0,59]],doors=[[21,65,Math.PI/2,7,0,"pJ",0,1,65,0,1],[-2,5,-Math.PI/2,12,0,"pL",1,14,5,0,1]],puzzles=[[5,,0,"0000000000010000110001110",,8,69],[6,,0,"000000000000000000000100001110011000",,12,58],[5,,0,"0000000000010000111001000",,2,58],[4,,0,"0000001001100110","0000001001100000",2,45],[5,,0,"0000000000000000010001110","0000000100001100110000000",12,45],[5,,0,"0000000000000000101001110","0000001110010100000000000",2,34],[5,,0,"0000000000000000011001100","0000001110011000010000000",12,34],[4,,1,"0000011001100110","0110000000000110",2,22],[4,,1,"1001000000001001","1001000000001001",12,22],[4,,1,"0000010011110010","0000111101100000",2,12],[4,,1,"0110010000000011","0000011100110000",12,12],[4,,1,"1101000000000001","1101000000010001",12,2]],hints=[["You can rotate the camera with "+(D?"<br>\u21bb and \u21ba":"the keys 1, 2 and 3"),15,68,1,0,1],["Can you guess what's coming next?",7,54,1,0,1],["3D puzzles with wrap ! Use "+(D?"\u2b06\ufe0e and \u2b07\ufe0e":"Shift and Ctrl")+" to wrap between top and bottom",7,24,1,0,1]],emoji=[["\ud83d\udc1e",3,70]]):"pL"==W?(X=15,h=80,trees=[[2,70]],apples=[[1,73,0,0,68],[3,75,0,0,68]],doors=[[16,5,Math.PI/2,12,0,"pK",0,1,5,0,1],[-2,75,-Math.PI/2,14,0,"pM",1,14,25,0,1]],puzzles=[[5,,0,"0000000000001001111100100",,2,2],[4,,0,"0000010001100000",,5,11],[5,,0,"0000000110000110111000010",,8,20],[5,,0,"0000000000001000111011111","0000000000111001111100000",2,29],[4,,0,"1000110011101111","0000001111110000",5,38],[4,,0,"0000100011001110","1110110010000000",8,45],[4,,1,"1000100110010001","0000100110010000",2,54],[4,,1,"0000001011110100","0000110011110011",5,63],[5,,1,"0100011000010000111001000","0000001110110000100000000",8,72]],cubes=[[6,12]],emoji=[["\ud83d\udc1d",3,20]]):"pM"==W?(X=15,h=30,trees=[[10,12]],apples=[[8,11,0,0,71],[9,10,0,0,71],[10,9,0,0,71],[11,10,0,0,71],[12,11,0,0,71],[7,12,0,0,71]],doors=[[16,25,Math.PI/2,14,0,"pL",0,1,75,0,1],[-2,5,-Math.PI/2,20,0,"pN",1,14,5,0,1]],puzzles=[[5,,1,"0001100110011001100010000","0001100110011001100010000",2,24],[5,,1,"1100010001000011000111000","0000011000110010000000000",4,13],[5,,1,"1101110001000001000011000","1100010000000001000111011",6,2]],emoji=[["\ud83d\udc13",1,14]]):"pN"==W&&(X=15,h=48,trees=[[10,44]],apples=[[7,45,0,0,75]],doors=[[16,5,Math.PI/2,20,0,"pM",0,1,5,0,1]],puzzles=[[4,,1,"0000111101101111","1000111111111000",5,38],[4,,1,"1111001001001111","1111101010101111",5,28],[4,,1,"1111010101011101","0001101101101111",5,18],[4,,1,"1111000100011110","1111110110011111",5,8]],emoji=[["\ud83d\udc09",13,46]]);a.style.width=X*v+"vh";a.style.height=h*v+"vh";H||(ig.innerHTML="");ih.innerHTML="";for(var f in trees)ig.innerHTML+="<div id=tree"+f+' class="j tr"style=left:'+trees[f][0]*v+"vh;transform:translateX(-7vh)translateY("+(trees[f][1]*v+4)+"vh)rotateX(-70deg)>\ud83c\udf33</div><div id=treeshadow"+f+' class="e h"style=left:'+trees[f][0]*v+"vh;transform:translateX(-7.5vh)translateY("+(trees[f][1]*v+3.5)+"vh)rotateZ(144deg)scaleY(1.5)>\ud83c\udf33";for(f in apples)y["lossst_a"+W+f]?delete apples[f]:ig.innerHTML+="<div id=a"+f+' class="j g '+(y["lossst_A"+W+f]?"":"h")+'"style=left:'+apples[f][0]*v+"vh;transform:translateY("+(apples[f][1]*v+4)+"vh)rotateX(-65deg)>"+("pN"==W?"<div>\u26bd</div>":"<div class=m>\ud83c\udf4e</div>")+"</div><div id=as"+f+' class="e p '+(y["lossst_A"+W+f]?"":"h")+'"style=left:'+apples[f][0]*v+"vh;transform:scaleX(-1)translateY("+(apples[f][1]*v+3)+"vh)rotateZ(212deg)>"+("pN"==W?"\u26bd":"\ud83c\udf4e");for(f in emoji)ig.innerHTML+='<div class="j n"style=left:'+(emoji[f][1]*v-1)+"vh;transform:translateY("+(emoji[f][2]*v+4)+"vh)rotateX(-65deg)><div class=m>"+emoji[f][0];for(f in doors)ig.innerHTML+="<div id=d"+(""+W+f)+' class="do'+(y["lossst_d"+W+f]?" s":"")+'"style=left:'+(doors[f][0]+.5)*v+"vh;top:"+(doors[f][1]+.5)*v+"vh;transform:rotateZ("+doors[f][2]+"rad)translateZ("+doors[f][9]*v+'vh)><div class="y d'+doors[f][10]+'"'+(doors[f][6]?"":"hidden")+">"+doors[f][3]+'</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh">';for(var n in puzzles)for(var m in cubes)y["lossst_p"+W+n]&&cubes[m][0]>=puzzles[n][5]&&cubes[m][0]<puzzles[n][5]+puzzles[n][0]&&cubes[m][1]>=puzzles[n][6]&&cubes[m][1]<puzzles[n][6]+puzzles[n][0]&&delete cubes[m];for(f in cubes)ig.innerHTML+="<div id=cube"+f+' class="z x"style=left:'+cubes[f][0]*v+"vh;top:"+cubes[f][1]*v+'vh;width:5vh;height:5vh><div class=f></div><div class=u style="background-position:'+(-300-cubes[f][0]*v)+"vh "+(-140-cubes[f][1]*v)+'vh"></div><div class=r></div><div class=l></div><div class=b>';for(f in hints)C^hints[f][5]||!(hints[f][3]&&hints[f][3]<=G||hints[f][4]&&hints[f][4]>=G)||(ig.innerHTML+="<div id=h"+(""+W+f)+" class=t style=left:"+hints[f][1]*v+"vh;transform:translateY("+(hints[f][2]*v+5)+"vh)translateZ("+(hints[f][6]*v||0)+"vh)rotateX(-70deg)translateY(-4vh)>"+hints[f][0]);y.lossst_x&&top.hpx0&&(hpx0.style.opacity=1);for(n in puzzles){T=puzzles[n][0];var A=k="";ih.innerHTML+="<div id=puzzle"+n+' class="z q v '+(puzzles[n][2]&&!y["lossst_p"+W+n]?"w":"")+'"style=left:'+puzzles[n][5]*v+"vh;top:"+puzzles[n][6]*v+"vh;width:"+puzzles[n][0]*v+"vh;height:"+T*v+"vh>"+(puzzles[n][2]?"<div class=l></div><div class=r></div>":"")+"<div id=D"+n+" class=d></div><div id=B"+n+" class=b></div>"+(puzzles[n][2]?"<div class=f>":"");var P="000",aa="fff";y["lossst_p"+W+n]&&(P="44c",aa="fd0",puzzles[n][2]=0);for(f=0;f<T;f++)for(m=0;m<T;m++)puzzles[n][3]&&(k+="<div class=o id=w"+n+f+m+" style=width:"+v+"vh;height:"+v+"vh;background:#"+("1"==puzzles[n][3][f*T+m]?P:aa)+"></div>"),puzzles[n][4]&&(A+="<div class=o id=g"+n+f+m+" style=width:"+v+"vh;height:"+v+"vh;background:#"+("1"==puzzles[n][4][f*T+m]?P:aa)+"></div>");top["D"+n]&&(top["D"+n].innerHTML+=A);top["B"+n]&&(top["B"+n].innerHTML+=k)}"pN"==W&&(ig.innerHTML+="<div style='position:fixed;transform:"+(D?"rotateZ(-90deg)translateX(-87vh)translateY(22vh)translateZ(365vh)":"rotateZ(-90deg)translateX(-83vh)translateY(6vh)translateZ(208vh)")+";font: 30vh/25vh a'>THE<br><br>END");H&&(y.lossst_e||y.lossst_s&&6<y.lossst_S||(ik.style.opacity=im.style.opacity=0,ik.style.position=im.style.position="fixed",ik.style.top=im.style.top="-9vh"),J=0,Y(1),xa=1,Q=O=N=0,puzzles[0][2]=0,setTimeout(function(){(ib.onchange=ib.oninput=resetgrid=function(){Ca();Y();ij.disabled=1;gridval.innerHTML=T=+ib.value;puzzle0.style.width=puzzle0.style.height=T*v+"vh";puzzles[0][0]=T;D0.innerHTML="";A=k=B0.innerHTML="";M=[];L=[];for(f=0;f<T;f++)for(M[f]=[],L[f]=[],m=0;m<T;m++)M[f][m]=0,L[f][m]=0;for(f=0;f<T;f++)for(m=0;m<T;m++)k+="<div class=o id=w"+K+f+m+" style=width:"+v+"vh;padding-top:"+v+"vh></div>",A+="<div class=o id=g"+K+f+m+" style=width:"+v+"vh;padding-top:"+v+"vh></div>";xa&&(D0.innerHTML+=A);N&&(B0.innerHTML+=k)})();iq.onchange=iq.oninput=function(){it.innerHTML=G=+iq.value;Ca();Y()};ik.onclick=function(){ik.checked?xa=1:top.wall&&(xa=0,C=N=1,wall.checked=!0);a.className=N?"haswall":"";resetgrid()};top.wall&&(wall.onclick=function(){wall.checked?(N=1,C=puzzles[0][3]=1):(N=C=0,xa=1,ik.checked=!0,puzzles[0][3]=0);a.className=N?"haswall":"";resetgrid()});top.wrap&&(wrap.onclick=function(){O=puzzles[0][2]=wrap.checked||0;puzzle0.className="z q v "+(O?"w":"");resetgrid()});print=function(k){var n="";for(f=0;f<T;f++)for(m=0;m<T;m++)n=top[k+"0"+f+m].style.background&&top[k+"0"+f+m].style.background.match(/255/)?n+0:n+1;return n};ij.onclick=function(){var f=[];f.push(T);f.push(G);f.push(O?1:0);f.push(N?print("w"):"");f.push(ik.checked?print("g"):"");open("//twitter.com/intent/tweet?text=I%20made%20a%20level%20for%20@MaximeEuziere's%20%23js13k%20game%20LOSSST!%0APlay%20here:%20js13kgames.com%2Fentries%2Flossst%0AMy%20level:%20js13kgames.com%2Fgames%2Flossst%23"+f+"%0A%23LOSSSTlevels")}},100));"px"!=W||y.lossst_x?(a.style.transition="transform 1s,transform-origin 1s",Ca()):(I=1,setTimeout(function(){Ca();Y();M0.style.transition="transform .5s"},2E3),setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(0);F.push(F[t]);t++;Y()},5500+wa),setTimeout(function(){M0.style.transition="";R0.style.transition="transform .2s";R0.style.transform="rotateZ("+-Math.PI/4+"rad)"},6500+wa),setTimeout(function(){R0.style.transform="rotateZ("+Math.PI/4+"rad)"},7E3+wa),setTimeout(function(){R0.style.transform=""},7500+wa),setTimeout(function(){S0.style.transition=R0.style.transition=""},8E3+wa),setTimeout(function(){clearInterval(x);z||(I=0);hpx0.style.opacity=1},8400),setTimeout(function(){a.style.transition="transform 1s,transform-origin 1s";y.lossst_x=20;y.lossst_y=10;b.innerHTML+="<div style='position:fixed;font:8vh a;top:3vh;right:3vh'onclick=location='index.html'>\u00d7";D&&(kU.className=kD.className=kL.className=kR.className="",y.lossst_w=1)},9E3));Y()}function Ca(){var k=C&&!H?ia:ie;k.innerHTML="";q=[];w=[];E=[];F=[];t=G-1;if("py"==W)for(i=0;i<G;i++)q[t-i]=1-i,w[t-i]=10,E[t-i]=0,F[t-i]=-Math.PI/2;else if(H)for(i=0;i<G;i++)q[t-i]=13-i,w[t-i]=12,E[t-i]=0,F[t-i]=-Math.PI/2;else if(y.lossst_x){var f=+y.lossst_x,n=+y.lossst_y,m=+y.lossst_z;"px"==W&&2>y.lossst_x&&(m=y.lossst_z=1);if("pI"==W&&z&&1==C)for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i-1,F[t-i]=0;else if(2>f)for(i=0;i<G;i++)q[t-i]=f-i,w[t-i]=n,E[t-i]=m,F[t-i]=-Math.PI/2;else if(f>X-2)for(i=0;i<G;i++)q[t-i]=f+i,w[t-i]=n,E[t-i]=m,F[t-i]=Math.PI/2;else if(2>n)for(i=0;i<G;i++)q[t-i]=f,w[t-i]=n-i,E[t-i]=m,F[t-i]=0;else if(n>h-2)for(i=0;i<G;i++)q[t-i]=f,w[t-i]=n+i,E[t-i]=m,F[t-i]=0;else for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i,F[t-i]=0}else if("px"==W)for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i-1,F[t-i]=0;for(i=0;i<Math.max(G+4,16);i++)k.innerHTML+="<div id=M"+i+" class=sm style=transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:"+(v-.7)+"vh;height:"+(v-.7)+"vh><div class=ss id=S"+i+"></div><div id=R"+i+' class=sr><div class="z k"id=T'+i+">"+(1>i?"<div style=background:none;box-shadow:none;color:red;font-size:4vh;text-align:center;transform:rotateZ(180deg)translateY(-4vh)translateZ(1.5vh)>Y</div>":"")+'<div class=u style="font:'+.5*v+"vh/"+.8*v+'vh a">'+(1>i?"\ud83d\udc40":"")+"</div><div class=f>"+(1>i?"\u203f":"")+"</div><div class=r></div><div class=l></div><div class=b>"}function Y(k){for(var f={a:0};f.a<G;f={a:f.a,j:f.j,m:f.m,o:f.o},f.a++)if(!k){var n=oldx=oldy=oldz=newx=newy=newz=0;O&&T&&(q[t-f.a-1]==R&&q[t-f.a]==R+T-1?(n=1,oldx=R-1,newx=R+T,oldy=newy=w[t-f.a],oldz=newz=E[t-f.a]):q[t-f.a-1]==R+T-1&&q[t-f.a]==R?(n=1,oldx=R+T,newx=R-1,oldy=newy=w[t-f.a],oldz=newz=E[t-f.a]):w[t-f.a-1]==S&&w[t-f.a]==S+T-1?(n=1,oldy=S-1,newy=S+T,oldx=newx=q[t-f.a],oldz=newz=E[t-f.a]):w[t-f.a-1]==S+T-1&&w[t-f.a]==S?(n=1,oldy=S+T,newy=S-1,oldx=newx=q[t-f.a],oldz=newz=E[t-f.a]):0==E[t-f.a-1]&&E[t-f.a]==T-1?(n=1,oldz=-1,newz=T,oldx=newx=q[t-f.a],oldy=newy=w[t-f.a]):E[t-f.a-1]==T-1&&0==E[t-f.a]&&(n=1,oldz=T,newz=-1,oldx=newx=q[t-f.a],oldy=newy=w[t-f.a]));if(n)top["R"+f.a].style.transform="rotateZ("+F[t-f.a]+"rad)",top["M"+f.a].style.transform="translateX("+(oldx*v+.5)+"vh)translateY("+(oldy*v+.5)+"vh)translateZ("+(oldz*v+.5)+"vh)scale(.01)scaleZ(.01)",setTimeout(function(f){return function(){top["M"+f.a].style.transition="none"}}(f),90),f.j=newx,f.m=newy,f.o=newz,setTimeout(function(f){return function(){top["M"+f.a].style.transform="translateX("+(f.j*v+.5)+"vh)translateY("+(f.m*v+.5)+"vh)translateZ("+(f.o*v+.5)+"vh)scale(.01)"}}(f),100),setTimeout(function(f){return function(){top["M"+f.a].style.transition="";top["M"+f.a].style.transform="translateX("+(q[t-f.a]*v+.25)+"vh)translateY("+w[t-f.a]*v+"vh)translateZ("+(E[t-f.a]*v+.5)+"vh)"}}(f),150);else try{top["M"+f.a].style.transform="translateX("+(q[t-f.a]*v+.25)+"vh)translateY("+w[t-f.a]*v+"vh)translateZ("+(E[t-f.a]*v+.5)+"vh)",top["R"+f.a].style.transform="rotateZ("+F[t-f.a]+"rad)"}catch(A){}try{top["S"+f.a].style.display=0==E[t-f.a]?"":"none"}catch(A){}}H?a.style.transform="translateX(-100vh)translateY(-37vh)translateZ(-5vh)rotateX(33deg)":null===J||y["lossst_p"+W+J]?(a.style.transform="translateX("+-q[t]*v+"vh)translateY("+-w[t]*v+"vh)translateZ(45vh)rotateX(40deg)rotateZ("+g+"rad)",a.style.transformOrigin=""+q[t]*v+"vh "+w[t]*v+"vh"):(a.style.transform="translateX("+(-(R+puzzles[J][0]/2)*v+5)+"vh)translateY("+(-(S+puzzles[J][0]/2)*v+8)+"vh)translateZ("+(90-puzzles[J][0]*(v+3))+"vh)rotateX(30deg)rotateZ("+g+"rad)",a.style.transformOrigin=""+((R+puzzles[J][0]/2)*v+5)+"vh "+((S+puzzles[J][0]/2-1)*v+8)+"vh");f=C?1:0;for(k=0;k<G;k++){if(0>=E[t-k]){f=0;break}for(m in cubes)cubes[m][0]==q[t-k]&&cubes[m][1]==w[t-k]&&1==E[t-k]&&(f=0)}if(f){for(k=0;k<G;k++)E[t-k]--;try{Y()}catch(A){for(var m=2*G;m--;)q.pop(),w.pop(),E.pop(),F.pop(),t--;Aa=0;Y()}}f=q[t];n=w[t];for(k in doors)(doors[k][10]&&C||!doors[k][10]&&!C)&&top["d"+W+k]&&0<doors[k][3]&&G>=doors[k][3]&&4>Math.hypot(f-doors[k][0],n-doors[k][1])&&!y["lossst_d"+W+k]&&(top["d"+W+k].className="do s",!doors[k][6]||"px"==W&&2<k||ja(pa).play(),y["lossst_d"+W+k]=1),top["d"+W+k]&&"do s"==top["d"+W+k].className&&2>Math.hypot(f-doors[k][0],n-doors[k][1])&&(y.lossst_p=W=doors[k][5],setTimeout(Ba,600),y.lossst_x=doors[k][7],y.lossst_y=doors[k][8],y.lossst_z=0);null!==J&&Da();H||(J=null);H||(L=[],M=[]);for(p in puzzles)if(f>=puzzles[p][5]&&f<puzzles[p][5]+puzzles[p][0]&&n>=puzzles[p][6]&&n<puzzles[p][6]+puzzles[p][0]){J=+p;Q=0;y["lossst_p"+W+p]&&(Q=1);K=p;xa=!!puzzles[p][4];N=!!puzzles[p][3];O=!!puzzles[p][2];R=puzzles[p][5];S=puzzles[p][6];T=puzzles[p][0];for(k=0;k<T;k++)for(L[k]=[],M[k]=[],m=0;m<T;m++)puzzles[p][3]&&(M[k][m]=+puzzles[p][3][k*puzzles[p][0]+m]),puzzles[p][4]&&(L[k][m]=+puzzles[p][4][k*puzzles[p][0]+m]);Da()}}function Z(k,f,n){V=0;if(0>k||k>=X||0>f||f>=h)V=1;for(var m in trees)k>=trees[m][0]-1&&k<=trees[m][0]&&f==trees[m][1]&&3>E[t]&&(V=1);for(m in hints)k>=hints[m][1]&&k<=hints[m][1]+3&&f==hints[m][2]&&G>=hints[m][3]&&(!hints[m][4]||G<=hints[m][4])&&(C&&hints[m][5]||!C&&!hints[m][5])&&(V=1);for(m in apples)if(y["lossst_A"+W+m]&&k==apples[m][0]&&f==apples[m][1]&&0==E[t])if(ja(ka).play(),"pN"==W){x=setInterval(sa.forward,150);y.lossst_E=1;setTimeout(function(){I=1;as0.remove();a0.style.transform="translateY(319vh)translateZ(2vh)rotateX(-65deg)rotateY(90deg)";a0.style.transition=a.style.transition="10s";a0.style.transform="translateY(15vh)translateZ(2vh)rotateX(-65deg)";a.style.transform=D?"translateX(-133vh)translateY(-249vh)translateZ(-373vh)rotateZ(90deg)":"translateX(-141vh)translateY(-227vh)translateZ(-185vh)rotateZ(90deg)"},200);var A={},P;for(P in puzzles)A.g=P,setTimeout(function(f){return function(){top["B"+f.g].style.transition=".5s";top["B"+f.g].style.transform="translateY(-125%)"}}(A),[1450,2500,3800,5400][A.g]),A={g:A.g};setTimeout(function(){clearInterval(va);y.lossst_E=1;y.lossst_e=1;b.style.background="#000";y.lossst_s=0;b.innerHTML="<div id=iv style=perspective:90vh><center id=menu style=width:75vh;transform:translateX(-38vh)translateY(-35vh)rotateX(-28deg)><span style=font-size:4vh;line-height:5vh><h1>Congrats!</h1><br>You completed the game in<br>"+ta+" seconds and "+ua+" moves!<br><br><a href=//twitter.com/intent/tweet?text=I%20played%20LOSSST,%20a%20%23js13k%20game%20by%20by%20@MaximeEuziere%0Amy%20score:%20"+ta+"%20seconds%20and%20"+ua+"%20moves!%0Ajs13kgames.com%2Fentries%2Flossst target=_blank style=color:#def;font-size:4vh>TWEET YOUR SCORE</a><br><br>Dev record:<br>854 seconds, 2452 moves<br><br>3D puzzle editor unlocked!<br><br><a href=. style=font-size:4vh>MAIN MENU"},15E3);n=document.querySelectorAll(".o");A={};for(var aa in n){A.h=aa;try{2==n[A.h].style.backgroundColor.match(/68/g).length&&setTimeout(function(f){return function(){top[n[f.h].id].style.background="#a00"}}(A),8E3+10*A.h)}catch(na){}A={h:A.h}}}else if(delete apples[m],top["a"+m].remove(),top["as"+m].remove(),G++,y.lossst_S=G,y["lossst_a"+W+m]=1,"pF"==W&&16==G){I=1;x=setInterval(sa.forward,150);z=1;a.style.transition="5s";a.style.transform="translateX(-180vh)translateY(-53vh)translateZ("+(D?-422:-180)+"vh)rotateZ(180deg)";setTimeout(function(){a.style.transition="1s";I=z=0;Y();ig.innerHTML+="<div class=t style=left:190vh;transform:translateY(50vh)rotateX(-55deg)translateY(-4vh)>\u2190<br>Exit";clearInterval(x)},1E4);n=document.querySelectorAll(".o");A={};for(var ea in n){A.f=ea;try{n[A.f].id.match(/g\d\d\d$/)&&2==n[A.f].style.backgroundColor.match(/68/g).length&&setTimeout(function(f){return function(){top[n[f.f].id].style.background="#a00"}}(A),5500+10*A.f)}catch(na){}A={f:A.f}}}for(m in cubes)k==cubes[m][0]&&f==cubes[m][1]&&0==n&&(V=1);for(m in emoji)"pC"!=W&&k==emoji[m][1]&&f==emoji[m][2]&&0==n&&(V=1);for(m in doors)top["d"+W+m]&&"do s"==top["d"+W+m].className&&2>=Math.hypot(k-doors[m][0],f-doors[m][1])&&(V=0);hitcube2=0;for(m=G-2;0<m;m--)q[t-m]==k&&w[t-m]==f&&E[t-m]==n&&(V=1,1==m&&(hitcube2=1));for(p in puzzles)puzzles[p][3]&&k>=puzzles[p][5]&&k<puzzles[p][5]+puzzles[p][0]&&(f==puzzles[p][6]-1&&w[t]==puzzles[p][6]&&!puzzles[p][2]||f==puzzles[p][6]&&w[t]==puzzles[p][6]-1)&&(V=1);if("pI"==W&&18==k&&!C){z=C=V=I=1;clearInterval(x);sa=ra;_=$=0;x=setInterval(ra.forward,250);y.lossst_s=1;y.lossst_S=G=5;for(k=0;21>k;k++)cubes.push([q[t-k],w[t-k]]),top["M"+k].id="",top["R"+k].id="",top["S"+k].id="",top["T"+k].id="";a.style.transition="2s";Ca();Y();a.style.transform="translateX(-105vh)translateY(-51vh)translateZ(80vh)rotateX(45deg)";a.style.transformOrigin="140vh 70vh";setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(0);F.push(F[t]);t++;Y()},3E3);setTimeout(function(){ii.innerHTML="Daddy!"},4E3);setTimeout(function(){ii.innerHTML=""},6E3);setTimeout(function(){ii.innerHTML="I lossst my soccer ball!"},7E3);setTimeout(function(){ii.innerHTML=""},9E3);setTimeout(function(){ii.innerHTML="But I found new moves!"},1E4);setTimeout(function(){ii.innerHTML="";z=I=0;clearInterval(x);a.style.transition="1s";Y();Ea();D&&(kT.className=kB.className="",y.lossst_B=1)},13500)}}function Da(){if(!Q&&null!==J){solved=1;H&&(ij.disabled=0);for(i=0;i<T;i++)for(j=0;j<T;j++)try{top["g"+K+i+j]&&(top["g"+K+i+j].style.background=L[i][j]?"#000":"#fff"),top["w"+K+i+j]&&(top["w"+K+i+j].style.background=M[i][j]?"#000":"#fff")}catch(m){}if(q[t]<R||q[t]>R+T-1||w[t]<S||w[t]>S+T-1||0>E[t]||E[t]>T-1)H&&(ij.disabled=1);else{for(i=0;i<G;i++){top["g"+K+(w[t-i]-S)+(q[t-i]-R)]&&(top["g"+K+(w[t-i]-S)+(q[t-i]-R)].style.background=L[w[t-i]-S][q[t-i]-R]?"#080":H?"#44c":"#f00");w[t-i]>=S&&w[t-i]<S+T&&top["w"+K+(T-1-E[t-i])+(q[t-i]-R)]&&(top["w"+K+(T-1-E[t-i])+(q[t-i]-R)].style.background=M[T-1-E[t-i]][q[t-i]-R]?"#080":H?"#44c":"#f00");if(q[t-i]<R||q[t-i]>R+T-1||w[t-i]<S||w[t-i]>S+T-1||E[t-i]>T-1)H&&(ij.disabled=1),solved=0;xa&&L[w[t-i]-S]&&!L[w[t-i]-S][q[t-i]-R]&&(solved=0);N&&M[T-1-E[t-i]]&&!M[T-1-E[t-i]][q[t-i]-R]&&(solved=0)}for(i=0;i<T;i++)for(j=0;j<T;j++){try{xa&&3==top["g"+K+i+j].style.backgroundColor.match(/0/g).length&&(solved=0)}catch(m){}try{N&&3==top["w"+K+i+j].style.backgroundColor.match(/0/g).length&&(solved=0)}catch(m){}}if(solved){Q=H?0:1;puzzles[J][2]=0;top["puzzle"+J].classList.remove("w");H||(y["lossst_p"+W+J]=1);for(i=0;i<T;i++)for(j=0;j<T;j++){try{top["g"+K+i+j].style.background=L[i][j]?"#44c":"#fd0"}catch(m){}try{top["w"+K+i+j].style.background=M[i][j]?"#44c":"#fd0"}catch(m){}}H||(ja(oa).play(),ya++,y.lossst_T=ya);var k=1,f={},n;for(n in cubes)f.b=n,cubes[f.b][0]>=puzzles[J][5]&&cubes[f.b][0]<puzzles[J][5]+puzzles[J][0]&&cubes[f.b][1]>=puzzles[J][6]&&cubes[f.b][1]<puzzles[J][6]+puzzles[J][0]&&(delete cubes[f.b],k++,setTimeout(function(f){return function(){top["cube"+f.b].remove()}}(f),200*k)),f={b:f.b}}}}}function Ea(){for(var k in apples)if(!y["lossst_A"+W+k]&&(0<apples[k][3]&&apples[k][3]==G||0<apples[k][4]&&apples[k][4]==ya)){I=1;D&&"px"==W&&1==k&&(kw.className="",y.lossst_b=1);var f=setTimeout;a.style.transform="translateX("+-apples[k][0]*v+"vh)translateY("+-apples[k][1]*v+"vh)translateZ(50vh)rotateX(35deg)";y["lossst_A"+W+k]=1;a.style.transformOrigin=""+apples[k][0]*v+"vh "+apples[k][1]*v+"vh";f(void 0,250);f=setTimeout;top["a"+k].className="j g";top["as"+k].className="e p";f(void 0,800);setTimeout(function(){ja(la).play()},850);setTimeout(function(){Y();z||(I=0)},2E3)}}function Fa(){U=0;H||(J=null);for(p in puzzles)q[t]>=puzzles[p][5]&&q[t]<puzzles[p][5]+puzzles[p][0]&&w[t]>=puzzles[p][6]&&w[t]<puzzles[p][6]+puzzles[p][0]&&0<=E[t]&&E[t]<puzzles[p][0]&&(J=+p,U=1)}onkeydown=function(k){top["lurd************************l**r************l*d***u**u"[k.which-37]]=1;18==k.which&&(B=1);16==k.which&&(s=1);17==k.which&&(c=1);if(!I){if(49==k.which||97==k.which)-1<g&&g--,ca();if(50==k.which||98==k.which)g=0,ca();if(51==k.which||99==k.which)1>g&&g++,ca()}Fa();U?Da():Aa=0;if(82==k.which&&U){if(Aa<=t)for(var f=Aa;f<=t;f++)q.pop(),w.pop(),E.pop(),F.pop(),setTimeout(function(){sa.back()},70*(t-f));t=Aa-1;Aa=0;Y();Da();y.lossst_M=++ua}else if(116!=k.which&&82!=k.which&&17!=k.which&&123!=k.which&&k.preventDefault&&k.preventDefault(),!I){V=0;if(l)!Q&&O&&U&&q[t]==R?(Z(R+T-1,w[t],E[t]),V||(q.push(R+T-1),w.push(w[t]),E.push(E[t]),F.push(Math.PI/2),t++)):(Z(q[t]-1,w[t],E[t]),V||(q.push(q[t]-1),w.push(w[t]),E.push(E[t]),F.push(Math.PI/2),t++));else if(r)!Q&&O&&U&&q[t]==R+T-1?(Z(R,w[t],E[t]),V||(q.push(R),w.push(w[t]),E.push(E[t]),F.push(-Math.PI/2),t++)):(Z(q[t]+1,w[t],E[t]),V||(q.push(q[t]+1),w.push(w[t]),E.push(E[t]),F.push(-Math.PI/2),t++));else if(u)!Q&&O&&U&&w[t]==S?(Z(q[t],S+T-1,E[t]),V||(q.push(q[t]),w.push(S+T-1),E.push(E[t]),F.push(Math.PI),t++)):(Z(q[t],w[t]-1,E[t]),V||(q.push(q[t]),w.push(w[t]-1),E.push(E[t]),F.push(Math.PI),t++));else if(d)!Q&&O&&U&&w[t]==S+T-1?(Z(q[t],S,E[t]),V||(q.push(q[t]),w.push(S),E.push(E[t]),F.push(0),t++)):(Z(q[t],w[t]+1,E[t]),V||(q.push(q[t]),w.push(w[t]+1),E.push(E[t]),F.push(0),t++));else if((C||N)&&s){if(!U){k=G-1;for(f in cubes)cubes[f][0]==q[t]&&cubes[f][1]==w[t]&&k++;if(E[t]==k)return}!Q&&O&&U&&E[t]==T-1?(Z(q[t],w[t],0),V||(q.push(q[t]),w.push(w[t]),E.push(0),F.push(F[t]),t++)):(Z(q[t],w[t],E[t]+1),V||(q.push(q[t]),w.push(w[t]),E.push(E[t]+1),F.push(F[t]),t++))}else(C||N)&&c?!Q&&O&&U&&0==E[t]?(Z(q[t],w[t],T-1),V||(q.push(q[t]),w.push(w[t]),E.push(T-1),F.push(F[t]),t++)):0==E[t]?V=1:(Z(q[t],w[t],E[t]-1),V||(q.push(q[t]),w.push(w[t]),E.push(E[t]-1),F.push(F[t]),t++)):B&&t>G&&(F.pop(),q.pop(),w.pop(),E.pop(),t--);V&&!I&&(I=1,setTimeout(function(){z||(I=0)},150),!(-1<q[t]&&q[t]<X&&-1<w[t]&&w[t]<h)||"pI"==W&&!C&&16<q[t]||hitcube2||ja(ma).play());if(!V&&!z&&(u||r||d||l||s||c||B)){y.lossst_M=++ua;Da();Y();B?t>G&&sa.back():(C||!s&&!c&&!C)&&sa.forward();Y(1);Ea();I||(I=1,setTimeout(function(){z||(I=0)},150));if("px"==W&&(C||14<=G)&&20==q[t]&&10==w[t]){I=1;var n=0;for(f=0;f<G;f++)setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(--n);F.push(F[t]);t++;Y()},150*f);setTimeout(function(){AA("pz",1)},160*G);y.lossst_x=20;y.lossst_y=10}Fa();U&&!Aa&&(Aa=t)}}};onkeyup=function(){u=r=d=l=s=c=B=0};onload=function(){1<location.hash.length?AA("py",1):(setTimeout(function(){x=setInterval(function(){sa.forward()},500)},200),b.innerHTML="<center id=e>\ud83d\udc40</center>\n<center id=iw></center>\n<div id=iv style=perspective:30vh>\n<center id=menu>\n<h1>LOSSST</h1>\n<span onclick=newgame()>New game</span><br>\n"+(y.lossst_a&&!y.lossst_E?"<span onclick=AA(0,1)>Continue</span><br>":"")+"\n<span onclick=AA(\"pz\",1)>Puzzle editor</span><br>\n<span onclick=top.open('//goo.gl/iKqoCS')>Bonus",newgame=function(){for(i in localStorage)0==i.indexOf("lossst")&&-1==i.indexOf("e")&&delete localStorage[i];y.lossst_a=1;menu.innerHTML="<br><br><span onclick=intro(0)>Desssktop</span><br><br><span onclick=intro(1)>Mobile"},intro=function(k){clearInterval(x);_=$=0;x=setInterval(sa.forward,250);y.lossst_m=D=k;y.lossst_S=G=5;ta=y.lossst_t=0;ua=y.lossst_M=0;y.lossst_M=0;y.lossst_t=0;menu.innerHTML="";setTimeout(function(){e.style.margin=0},500);dir=1;inter=setInterval(function(){e.style.opacity=0;setTimeout(function(){e.style.opacity=1;dir=-dir;e.style.transform="scaleX("+dir+")"},150)},3E3);setTimeout(function(){iw.innerHTML="I lossst my kid !"},2E3);setTimeout(function(){iw.innerHTML=""},5E3);setTimeout(function(){clearInterval(inter);e.style.margin="-80vh 0 0"},7E3);setTimeout(AA,7500)})};AA=function(k,f){if(0===k||"pz"==k)clearInterval(x),_=$=0;"pz"==k&&(H=1,J=0);W=k||y.lossst_p||"px";b.outerHTML="<body id=b class="+W+">\n<div id=iv>\n<div id=a style=transform:translateX(-97vh)translateY(-50vh)rotateZ(90deg)translateZ(119vh);transform-origin:100vh+50vh>\n<div id=ig>"+(H?"<div class=t style=width:60vh;transform:translateX(70vh)translateY(1vh)translateZ(2vh)rotateX(-42deg)>\n<label style=width:100%;text-align:center>Create a pattern with the snake and share it !</label>\n<br style=line-height:6vh>\n<div style=text-align:left;padding-left:5vh>\n<label>Grid</label> <input id=ib type=range value=5 min=3 max=8 step=1>\n<span id=gridval>5</span>\n<br>\n<label>Snake</label> <input id=iq type=range value=5 min=5 max=40 step=1>\n<span id=it>5</span>\n</div>\n<input type=checkbox id=ik checked> <label for=ik id=im>ground</label>\n"+(y.lossst_e||y.lossst_s&&6<y.lossst_S?"<input type=checkbox id=wall> <label for=wall>wall</label>":"")+"\n"+(y.lossst_e||y.lossst_s?"<input type=checkbox id=wrap> <label for=wrap>wrap</label>":"")+"\n<br>\n<center>\n<button id=ij disabled>Share</button>\n</center>\n</div>":"")+"\n</div>\n<div id=ih></div>\n<div id=ie></div>\n<div id=ia></div>\n</div>\n</div>\n<center id=iz style='font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw'>\n<button id=kU class=h ontouchstart=TS(38) ontouchend=TE(38)>\u2191</button>\n<button id=kD class=h ontouchstart=TS(40) ontouchend=TE(40)>\u2193</button>\n<button id=kL class=h ontouchstart=TS(37) ontouchend=TE(37)>\u2190</button>\n<button id=kR class=h ontouchstart=TS(39) ontouchend=TE(39)>\u2192</button>\n<button id=kT class=h ontouchstart=TS(16) ontouchend=TE(16)>\u2b06\ufe0e</button>\n<button id=kB class=h ontouchstart=TS(17) ontouchend=TE(17)>\u2b07\ufe0e</button>\n<button id=kw class=h ontouchstart=TS(18) ontouchend=TE(18)>\u21a9</button>\n<button id=kx class=h ontouchstart=TS(82) ontouchend=TE(82)>\u00d7</button>\n<button id=ky class=h ontouchstart=TS(49) ontouchend=TE(49)>\u21bb</button>\n<button id=kz class=h ontouchstart=TS(51) ontouchend=TE(51)>\u21ba</button>\n</center>\n<center id=ii style='font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw'>";y.lossst_Apx0=1;Ba();if(D&&"py"==W||y.lossst_w)kU.className=kD.className=kL.className=kR.className="";if(D&&"py"==W||y.lossst_b)kw.className="";if(D&&"py"==W||y.lossst_r)kr.className="";if(D&&"py"==W||y.lossst_B)kT.className="",kB.className="";if(D&&"py"==W||y.lossst_c)ky.className="",kz.className="";H||(va=setInterval(function(){y.lossst_t=++ta},1E3));f&&(b.innerHTML+="<div style='position:fixed;font:8vh a;top:3vh;right:3vh'onclick=location='.'>\u00d7")}</script><style>@keyframes move{0%,100%{transform:rotateY(-10deg)}50%{transform:rotateY(10deg)}}*{margin:0;padding:0;font:2.5vh/5.5vh arial,sans-serif;vertical-align:middle;box-sizing:border-box;-webkit-touch-callout:none;-webkit-user-select:none;-webkit-tap-highlight-color:transparent;user-select:none;cursor:pointer;touch-action:manipulation}html,body{height:100%;background:#000;overflow:hidden;background:radial-gradient(#def 25%,#7ce)}a{color:#def}input,button{position:relative;z-index:2}input[type=range]::-webkit-slider-runnable-track,input[type=range]::-webkit-slider-thumb{background:#888;border:1px solid #000}input[type=range]::-moz-range-track,input[type=range]::-moz-range-thumb{background:#888;border:1px solid #000}#iv{width:0;height:0;perspective:120vh;position:absolute;top:50%;left:50%}#iv *{transform-style:preserve-3d}#a{width:0;height:0;transform-origin:18vh 0%;transition:transform 1s,transform-origin 1s}.z{position:fixed;top:0;left:0}.z>div{width:100%;height:100%;position:fixed}.z .u{transform:rotateY(90deg)translateX(-100%)rotateY(-90deg)}.z .l{transform:rotateX(-90deg)translateY(-50%)translateX(-50%)rotateY(-90deg)}.z .r{transform:rotateX(-90deg)translateY(-50%)translateX(50%)rotateY(90deg)}.z .f{transform:translateY(50%)rotateX(-90deg)translateY(-50%)}.z .b{transform:translateY(-50%)rotateX(-90deg)translateY(-50%)rotateY(180deg)}.z.q{width:32vh;height:32vh;transform:none}.z.q>div{background:transparent}.z.q .b{transition:opacity .5s;transform:translateY(-50%)rotateX(-90deg)translateY(-52%)}.z.q.w .d,.z.q .d{transition:opacity .5s;background:#0c5b0c}.sm,.sr{transform-origin:50% 50%;width:100%;height:100%;position:fixed}.sm{transition:transform .15s}.z.k{width:100%;height:100%}.z.k>div{box-shadow:0 0 0 .1vh #000 inset;text-align:center}.z.k .f{line-height:3vh}#ie .z.k>div{background:#FFA500}#ie .z.k .u{background:#dF8500}#ia .z.k>div,#a.haswall .z.k>div{background:#444}#ia .z.k .u,#a.haswall .z.k .u{background:#333}#ia .z.k .f{color:#fff}.ss{position:fixed;width:100%;height:100%;background:rgba(0,0,0,.25);transform:translateX(14%)translateY(14%)translateZ(-.25vh)}label{display:inline-block;width:22%}button{display:inline-block;width:23%;border:.2vh solid #000;margin:1vh 2% 0 0}input[type=range]{width:60%}#form{width:50vh;margin:auto}.o{float:left;outline:.4vh solid #888;opacity:0;transition:opacity .5s;background:#fff}.z.q.v{transform:translateZ(.1vh)}.z.q.v .o{opacity:1}.z.q.v .d{transform:none}.z.q.w>div{background:linear-gradient(45deg,rgba(200,200,200,.1),rgba(200,200,200,.3));box-shadow:0 0 .1vh rgba(255,255,255,.5)}.j{position:fixed;transform-origin:50% 100%;bottom:0}.m{animation:move 3s infinite}.e{color:rgba(0,0,0,.002);text-shadow:0px 0px rgba(0,0,0,.25);position:fixed;transform-origin:50% 100%;bottom:0}.tr,.h{font:11vh/12vh a}.a .tr{font:15vh/11vh a}.a .h,.c .h,.i .h,.a .p,.c .p,.i .p,.c .x.b,#iz button.h{display:none}.g,.g *,.p{font:4vh/5vh a;transition:opacity .5s .5s}.n,.n *{font:5vh/6vh a}.g.h,.p.h{opacity:0}.a .g{font:6vh/5vh a}.do{position:fixed;transform-origin:0% 100%;width:0;height:0}.do .y{position:fixed;width:15vh;height:20vh;background:radial-gradient(2vh at 90% 50%,gold 35%,transparent 40%),#a22;border-radius:1vh 1vh 0 0;transform-origin:0% 100%;transform:translateX(-7.5vh)translateY(-12.5vh)rotateX(-90deg);text-align:center;font-size:6vh;line-height:12vh;color:#fff;transition:transform 1s}.do .y.d1{background:radial-gradient(2vh at 90% 50%,gold 35%,transparent 40%),#222}.do.s .y{transform:translateX(-7.5vh)translateY(-12.5vh)rotateX(-90deg)rotateY(90deg)}.z.x div{background:linear-gradient(45deg,#640,#583808)}.z.x div.u{transform:rotateY(90deg)translateX(-5.4vh)translateZ(-.1vh)rotateY(-90deg);background:radial-gradient(#3F7D1F,#034301);background-size:280vh 140vh;width:5.3vh;height:5.3vh}.t{position:fixed;background:#fff;padding:.7vh;width:20vh;font:2vh/2.5vh arial,sans-serif;transform-origin:50% 100%;text-align:center;box-shadow:0 0 0 .2vh #000 inset;bottom:0}.t br{font:0/0 a}.t:before{content:"";width:3vh;height:3vh;background:#750;position:absolute;bottom:-3vh;left:8vh;border-left:.2vh solid;border-right:.2vh solid}.pz .t:before{left:28vh}label{text-align:left}#a{transition:transform 6s ease-in,transform-origin 6s ease-in;width:280vh;height:140vh;background:radial-gradient(#4F8D2F,#136321);border-radius:3vh}.px #a,.pI #a{background:radial-gradient(10vh at 51.3% 52%,#000 40%,transparent 50%),radial-gradient(15vh at 51.3% 52%,#640 40%,transparent 50%),radial-gradient(#4F8D2F,#136321)}#e{margin:99vh 0 0;transition:margin 1s;font:10vh/80vh a}#iw{font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw}#menu{color:#fff;width:55vh;transform:translateX(-27vh)translateY(-20vh)rotateX(-17deg)}#menu span{font:7vh/12vh arial,sans-serif}#menu h1{font:13vh/16vh arial,sans-serif;text-shadow:.1vh -.1vh #777,.2vh -.2vh #777,.3vh -.3vh #777}#menu span:hover{color:#ace;transform:rotateX(-10deg)}.pN #menu span:hover{color:#fff}#iz button{position:fixed;width:10vh;height:10vh;text-align:center;font:6vh/10vh a}#kU{right:14vh;bottom:14vh}#kD{right:14vh;bottom:2vh}#kL{right:26vh;bottom:2vh}#kR{right:2vh;bottom:2vh}#kT{left:2vh;top:2vh}#kB{left:2vh;top:14vh}#kw{bottom:2vh;left:2vh}#kx{bottom:14vh;left:2vh}#ky{top:2vh;right:18vh}#kz{top:2vh;right:6vh}#hpx0{opacity:0;transition:opacity .5s}</style></head><head></head><body id="b" class="pH">
<div id="iv">
<div id="a" style="transform: translateX(-95vh) translateY(-125vh) translateZ(45vh) rotateX(40deg) rotateZ(0rad); transform-origin: 95vh 125vh 0px; width: 100vh; height: 150vh; transition: transform 1s, transform-origin 1s;">
<div id="ig"><div id="tree0" class="j tr" style="left:80vh;transform:translateX(-7vh)translateY(114vh)rotateX(-70deg)">🌳</div><div id="treeshadow0" class="e h" style="left:80vh;transform:translateX(-7.5vh)translateY(113.5vh)rotateZ(144deg)scaleY(1.5)">🌳</div><div class="j n" style="left:44vh;transform:translateY(74vh)rotateX(-65deg)"><div class="m">🦆</div></div><div id="dpH0" class="do s" style="left:52.5vh;top:-7.5vh;transform:rotateZ(0rad)translateZ(0vh)"><div class="y d0" hidden="">18</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh"></div></div><div id="dpH1" class="do s" style="left:107.5vh;top:127.5vh;transform:rotateZ(1.5707963267948966rad)translateZ(0vh)"><div class="y d0">21</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh"></div></div></div>
<div id="ih"><div id="puzzle0" class="z q v " style="left:35vh;top:30vh;width:30vh;height:30vh"><div class="l"></div><div class="r"></div><div id="D0" class="d"><div class="o" id="g000" style="width:5vh;height:5vh;background:#fd0"></div><div class="o" id="g001" style="width:5vh;height:5vh;background:#fd0"></div><div class="o" id="g002" style="width:5vh;height:5vh;background:#44c"></div><div class="o" id="g003" style="width:5vh;height:5vh;background:#fd0"></div><div class="o" id="g004" style="width:5vh;height:5vh;background:#fd0"></div><div class="o" id="g005" style="width:5vh;height:5vh;background:#fd0"></div><div class="o" id="g010" style="width:5vh;height:5vh;background:#fd0"></div><div class="o" id="g011" style="width:5vh;height:5vh;background:#44c"></div><div class="o" id="g012" style="width:5vh;height:5vh;background:#44c"></div><div class="o" id="g013" style="width:5vh;height:5vh;background:#44c"></div><div class="o" id="g014" style="width:5vh;height:5vh;background:#44c"></div><div class="o" id="g015" style="width:5vh;height:5vh;background:#fd0"></div><div class="o" id="g020" style="width:5vh;height:5vh;background:#44c"></div><div class="o" id="g021" style="width:5vh;height:5vh;background:#44c"></div><div class="o" id="g022" style="width:5vh;height:5vh;background:#44c"></div><div class="o" id="g023" style="width:5vh;height:5vh;background:#44c"></div><div class="o" id="g024" style="width:5vh;height:5vh;background:#44c"></div><div class="o" id="g025" style="width:5vh;height:5vh;background:#44c"></div><div class="o" id="g030" style="width:5vh;height:5vh;background:#fd0"></div><div class="o" id="g031" style="width:5vh;height:5vh;background:#44c"></div><div class="o" id="g032" style="width:5vh;height:5vh;background:#44c"></div><div class="o" id="g033" style="width:5vh;height:5vh;background:#44c"></div><div class="o" id="g034" style="width:5vh;height:5vh;background:#44c"></div><div class="o" id="g035" style="width:5vh;height:5vh;background:#fd0"></div><div class="o" id="g040" style="width:5vh;height:5vh;background:#fd0"></div><div class="o" id="g041" style="width:5vh;height:5vh;background:#44c"></div><div class="o" id="g042" style="width:5vh;height:5vh;background:#44c"></div><div class="o" id="g043" style="width:5vh;height:5vh;background:#44c"></div><div class="o" id="g044" style="width:5vh;height:5vh;background:#44c"></div><div class="o" id="g045" style="width:5vh;height:5vh;background:#fd0"></div><div class="o" id="g050" style="width:5vh;height:5vh;background:#fd0"></div><div class="o" id="g051" style="width:5vh;height:5vh;background:#fd0"></div><div class="o" id="g052" style="width:5vh;height:5vh;background:#44c"></div><div class="o" id="g053" style="width:5vh;height:5vh;background:#fd0"></div><div class="o" id="g054" style="width:5vh;height:5vh;background:#fd0"></div><div class="o" id="g055" style="width:5vh;height:5vh;background:#fd0"></div></div><div id="B0" class="b"></div><div class="f"></div></div><div id="puzzle1" class="z q v " style="left:35vh;top:90vh;width:30vh;height:30vh"><div class="l"></div><div class="r"></div><div id="D1" class="d"><div class="o" id="g100" style="width:5vh;height:5vh;background:#44c"></div><div class="o" id="g101" style="width:5vh;height:5vh;background:#44c"></div><div class="o" id="g102" style="width:5vh;height:5vh;background:#fd0"></div><div class="o" id="g103" style="width:5vh;height:5vh;background:#fd0"></div><div class="o" id="g104" style="width:5vh;height:5vh;background:#fd0"></div><div class="o" id="g105" style="width:5vh;height:5vh;background:#44c"></div><div class="o" id="g110" style="width:5vh;height:5vh;background:#44c"></div><div class="o" id="g111" style="width:5vh;height:5vh;background:#fd0"></div><div class="o" id="g112" style="width:5vh;height:5vh;background:#fd0"></div><div class="o" id="g113" style="width:5vh;height:5vh;background:#fd0"></div><div class="o" id="g114" style="width:5vh;height:5vh;background:#fd0"></div><div class="o" id="g115" style="width:5vh;height:5vh;background:#44c"></div><div class="o" id="g120" style="width:5vh;height:5vh;background:#fd0"></div><div class="o" id="g121" style="width:5vh;height:5vh;background:#fd0"></div><div class="o" id="g122" style="width:5vh;height:5vh;background:#fd0"></div><div class="o" id="g123" style="width:5vh;height:5vh;background:#fd0"></div><div class="o" id="g124" style="width:5vh;height:5vh;background:#44c"></div><div class="o" id="g125" style="width:5vh;height:5vh;background:#44c"></div><div class="o" id="g130" style="width:5vh;height:5vh;background:#fd0"></div><div class="o" id="g131" style="width:5vh;height:5vh;background:#fd0"></div><div class="o" id="g132" style="width:5vh;height:5vh;background:#fd0"></div><div class="o" id="g133" style="width:5vh;height:5vh;background:#44c"></div><div class="o" id="g134" style="width:5vh;height:5vh;background:#44c"></div><div class="o" id="g135" style="width:5vh;height:5vh;background:#44c"></div><div class="o" id="g140" style="width:5vh;height:5vh;background:#fd0"></div><div class="o" id="g141" style="width:5vh;height:5vh;background:#fd0"></div><div class="o" id="g142" style="width:5vh;height:5vh;background:#44c"></div><div class="o" id="g143" style="width:5vh;height:5vh;background:#44c"></div><div class="o" id="g144" style="width:5vh;height:5vh;background:#44c"></div><div class="o" id="g145" style="width:5vh;height:5vh;background:#44c"></div><div class="o" id="g150" style="width:5vh;height:5vh;background:#44c"></div><div class="o" id="g151" style="width:5vh;height:5vh;background:#44c"></div><div class="o" id="g152" style="width:5vh;height:5vh;background:#44c"></div><div class="o" id="g153" style="width:5vh;height:5vh;background:#44c"></div><div class="o" id="g154" style="width:5vh;height:5vh;background:#44c"></div><div class="o" id="g155" style="width:5vh;height:5vh;background:#44c"></div></div><div id="B1" class="b"></div><div class="f"></div></div></div>
<div id="ie"></div>
<div id="ia"><div id="M0" class="sm" style="transform: translateX(95.25vh) translateY(125vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S0"></div><div id="R0" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T0"><div style="background:none;box-shadow:none;color:red;font-size:4vh;text-align:center;transform:rotateZ(180deg)translateY(-4vh)translateZ(1.5vh)">Y</div><div class="u" style="font:2.5vh/4vh a">👀</div><div class="f">‿</div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M1" class="sm" style="transform: translateX(100.25vh) translateY(125vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S1"></div><div id="R1" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T1"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M2" class="sm" style="transform: translateX(105.25vh) translateY(125vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S2"></div><div id="R2" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T2"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M3" class="sm" style="transform: translateX(110.25vh) translateY(125vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S3"></div><div id="R3" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T3"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M4" class="sm" style="transform: translateX(115.25vh) translateY(125vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S4"></div><div id="R4" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T4"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M5" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S5"></div><div id="R5" class="sr"><div class="z k" id="T5"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M6" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S6"></div><div id="R6" class="sr"><div class="z k" id="T6"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M7" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S7"></div><div id="R7" class="sr"><div class="z k" id="T7"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M8" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S8"></div><div id="R8" class="sr"><div class="z k" id="T8"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M9" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S9"></div><div id="R9" class="sr"><div class="z k" id="T9"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M10" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S10"></div><div id="R10" class="sr"><div class="z k" id="T10"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M11" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S11"></div><div id="R11" class="sr"><div class="z k" id="T11"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M12" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S12"></div><div id="R12" class="sr"><div class="z k" id="T12"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M13" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S13"></div><div id="R13" class="sr"><div class="z k" id="T13"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M14" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S14"></div><div id="R14" class="sr"><div class="z k" id="T14"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M15" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S15"></div><div id="R15" class="sr"><div class="z k" id="T15"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div></div>
</div>
</div>
<center id="iz" style="font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw">
<button id="kU" class="h" ontouchstart="TS(38)" ontouchend="TE(38)">↑</button>
<button id="kD" class="h" ontouchstart="TS(40)" ontouchend="TE(40)">↓</button>
<button id="kL" class="h" ontouchstart="TS(37)" ontouchend="TE(37)">←</button>
<button id="kR" class="h" ontouchstart="TS(39)" ontouchend="TE(39)">→</button>
<button id="kT" class="h" ontouchstart="TS(16)" ontouchend="TE(16)">⬆︎</button>
<button id="kB" class="h" ontouchstart="TS(17)" ontouchend="TE(17)">⬇︎</button>
<button id="kw" class="h" ontouchstart="TS(18)" ontouchend="TE(18)">↩</button>
<button id="kx" class="h" ontouchstart="TS(82)" ontouchend="TE(82)">×</button>
<button id="ky" class="h" ontouchstart="TS(49)" ontouchend="TE(49)">↻</button>
<button id="kz" class="h" ontouchstart="TS(51)" ontouchend="TE(51)">↺</button>
</center>
<center id="ii" style="font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw"></center><div style="position:fixed;font:8vh a;top:3vh;right:3vh" onclick="location='index.html'">×</div></body></html><html><head><title>LOSSST</title><meta content="width=device-width,user-scalable=no" name="viewport"><script>u=r=d=l=s=c=B=0;trees=[];apples=[];doors=[];cubes=[];hints=[];emoji=[];puzzles=[];TS=function(k){ba[k]&&clearInterval(ba[k]);onkeydown({which:"+n+"});ba[k]=setInterval(function(){onkeydown({which:k})},150)};TE=function(k){setTimeout(function(){clearInterval(ba[k]);onkeyup()},150)};var g=0;function ca(){a.style.transform="translateX(-"+q[t]*v+"vh)translateY(-"+w[t]*v+"vh)translateZ(45vh)rotateX(40deg)rotateZ("+g+"rad)"}var x=$=_=0;function da(){var k=0;this.i=function(f){k+=f/48E3*Math.PI*2;return k%=2*Math.PI}}function fa(k){var f=new da,n=new da,m=.1;this.i=function(){if(!k)return 0;var A=k+.4*Math.sin(n.i(3));A=440*Math.pow(2,(A-57)/12);m*=.9998;A=f.i(A);return Math.pow(Math.sin(A),1)*m}}function ha(k){function f(){var f=k.length/2;for(_=$;0>_;)_+=f;_%=f;f=new fa(k[2*_+0].charCodeAt(0)-48);for(var A=new fa(k[2*_+1].charCodeAt(0)-48),P=[],aa=0;48E3>aa;aa++){var ea=f.i(),na=A.i(),za=.5*ea+na;P.push(ea+.5*na);P.push(za)}n(P).play()}function n(f){function k(f){f=m(f);return f[0]+f[1]}function m(f){for(var k=0,m="",n=0;4>n;n++,k+=8)m+=String.fromCharCode(f>>k&255);return m}var n=2*f.length;n="RIFF"+m(n+36)+"WAVEfmt "+m(16)+k(1)+k(2)+m(48E3)+m(192E3)+k(4)+k(16)+"data"+m(n);for(var ea in f)n+=k(32767*f[ea]);return new Audio("data:audio/wav;base64,"+btoa(n))}$=-1;this.forward=function(){$++;f()};this.back=function(){$--;f()}}function ja(k){function f(f){f=n(f);return f[0]+f[1]}function n(f){for(var k=0,m="",n=0;4>n;n++,k+=8)m+=String.fromCharCode(f>>k&255);return m}for(var m=[],A=0;;A++){var P=k(A);if(null===P)break;m.push(P)}k=2*m.length;k="RIFF"+n(k+36)+"WAVEfmt "+n(16)+f(1)+f(1)+n(48E3)+n(96E3)+f(2)+f(16)+"data"+n(k);for(A in m)k+=f(1E4*m[A]);return new Audio("data:audio/wav;base64,"+btoa(k))}function ka(k){return 1E4<k?null:(Math.pow(k,1.055)&128?1:-1)*Math.pow((1E4-k)/1E4,2)/2}function la(k){return 25E3<k?null:((k^k>>3^k*k*7.3^k<<4)&65535)/65536*((25E3-k)/25E3)/2}function ma(k){return 5E3<k?null:(Math.pow(k+1E3*Math.sin(.01*k),.8)&200?.5:-.5)*Math.pow((5E3-k)/5E3,1)/2}function oa(k){if(16E3<k)return null;var f=Math.pow((16E3-k)/16E3,2.1)/2;return(k<16E3/7?k+10*Math.sin(-k/900)&16:k&13)?f:-f}function pa(k){return 9E4<k?null:(Math.pow(k+1E3*Math.sin(.01*k),.8)&200?.5:-.5)*Math.pow((9E4-k)/9E4,1)/4}var qa=new ha("nbo0risiubv0uisirbs0ui0i0b0c0f0gniojrlsjuivjymvjubv0ui0i0j0m0n0rsgu0vnxnzgx0vnunsg0n0o0n0g0s0o0nrisjulvgufsjufscrbo0ni0j0b0i0j0il`n0ogqgs`u0vgxgz`0gxl0nsouqvsxuuev0u`0`0eq0slulqcs0qcs0qbs0q`s0njo0reseujv0xeveuj0v0e0q0j0i0g0e0cu0scq00bv0ufr0sgn0vbr0xiz0zjr0sgu0vbx0zgx0vbubsg{0zb{`z^{0zi{fzgv0xiu0vjs0ulr0sbn0oll0nbl0jfi0g00bxc0`zb0^{`0]z^0[z]0Zz[0]z^0`zb0]uf0bxi0f{l0izr0ozn0ixr0nrulrnbo0risiufs0r`o0nb0czf0gzi0gzf0cub0i0j0mvn0m0j0irbscrbs`rbs`sbrbo`q0sgugv`x0zg{gz`s0x`s0v`x0vcx0ues0q`l00eu00`x00ev00`u00eq00`o`"),ra=new ha("p0r0sdk0rco0pdk0p0r0sdw0rcs0pdk0p0r0sdk0rck0pdk0p0r0sdw0rcs0pd0f0g0iwg0bwgx0wgurrnspur0bufwgubs0pkrcsdk0rco0pkk0p0r0sdk0rco0pk0l0k0iwg0b0k0g0n0kzs0nxi0f|l0izr0p0n0lwk0dwg0k0p0k|s0pur0kuo0k0i0l0k0isd0krj0kpd0k0p0rsd0krl0opd0f0g0iskw0riw0pgw0nfw0u`s0rbs0pd0k"),y=localStorage,z=0,C=+y.lossst_s||0,sa=C?ra:qa,D=+y.lossst_m||0,ta=+y.lossst_t||0,ua=+y.lossst_M||0,va=0,ba=[],wa=0,v=5,t=0,q=[],w=[],E=[],F=[],G=y.lossst_S=+y.lossst_S||5,H=0,I=0,J=null,K="0",L=[],M=[],xa=0,N=0,O=0,Q=0,R=0,S=0,T=0,ya=+y.lossst_T||0,Aa=0,U=0,V=0,W="",X=h=0;function Ba(){var k;navigator.userAgent.match(/Mac/)&&(iv.className="a");navigator.userAgent.match(/Fire|Edg/)&&(iv.className+=" c",wa=4E3);D&&(iv.className+=" i");b.className=W;C&&!H&&(ie.innerHTML="");cubes=[];doors=[];trees=[];apples=[];hints=[];emoji=[];if("pz"==W)X=40,h=20,puzzles=[[5,,1,,"0000000000000000000000000",16,9]],G=5,C=0;else if("py"==W)h=X=20,puzzles=[eval("["+location.hash.slice(1).replace(/[01]{2,}/g,'"$&"')+"]")],G=puzzles[0][1],puzzles[0][5]=puzzles[0][6]=8,C=!!puzzles[0][3],hints=[["Move: arrow keys<br>"+(C?"Up/Down: "+(D?"\u2b06\ufe0e/\u2b07\ufe0e":"Shift/Ctrl")+"<br>":"")+"backtrack: "+(D?"\u21a9":"Alt")+"<br>Reset: R",1,5,1,0,C,0]],delete y.lossst_ppy0;else if("px"==W){X=40;h=20;trees=[[13,9,0],[7,13,0],[35,8,0]];apples=[[11,11,0,0,0],[2,12,0,6,0],[38,10,0,7,0]];doors=[[41,10,Math.PI/2,8,0,"pA",1,0,10,0,0],[20,-2,0,14,0,"pD",1,10,19,0,0],[-2,11,-Math.PI/2,6,0,"pJ",1,14,5,1,1],[20,21,Math.PI,14,0,"pC",1,22,1,0,0],[5,21,Math.PI,5,0,"pI",1,36,1,0,1]];puzzles=[];cubes=[];for(f=9;15>f;f++)for(m=0;5>m;m++)2==m&&14==f||2==m&&13==f||3==m&&13==f||3==m&&12==f||2==m&&12==f||cubes.push([m,f]);hints=[["Move with<br>arrow keys"+(D?"":" or WASD/ZQSD"),19,5,0,13,0],["Use the "+(D?"\u21a9":"Alt")+" key to backtrack",1,9,0,13,0,1],["Approach red doors with the right length to open them",35,14,0,13,0],["\u2191<br>New puzzles !<hr>Puzzle editor<br>\u2193",19,8,14,0,0],["\u2190<br>New puzzles !",1,9,6,7,1,1]];emoji=[["\ud83d\udc3f\ufe0f",30,7],["\ud83c\udf30\ufe0f",29,7]]}else if("pA"==W)X=40,h=20,trees=[[35,15,0]],apples=[[33,16,0,0,6],[34,17,0,0,6],[37,15,0,0,6]],cubes=[],doors=[[-2,10,-Math.PI/2,8,0,"px",0,39,11,0,0],[35,21,Math.PI,11,0,"pB",1,35,1,0,0]],puzzles=[[6,,0,,"000000001000001110001110001000000000",2,3],[6,,0,,"000000011000011100010000011000000000",14,3],[6,,0,,"000000000100001100011000011100000000",26,3],[5,,0,,"0000001110011100110000000",2,13],[6,,0,,"000000011000011000001100001100000000",14,13],[6,,0,,"000000000100001100001110001100000000",26,13]],hints=[["Cover the black patterns to solve puzzles",9,9,1,0],["Solve all the puzzles in the room to unlock a new door",21,9,1,0],["Your progress is saved automatically",34,9,1,0]],emoji=[["\ud83d\udc0c",11,10]];else if("pB"==W)D&&(kx.className="",y.lossst_r=1),X=40,h=20,trees=[[4,7,0]],apples=[[1,8,0,0,12],[2,9,0,0,12]],doors=[[35,-2,0,8,0,"pA",0,35,19,0,0],[-2,10,-Math.PI/2,13,0,"pC",1,39,10,0,0]],puzzles=[[6,,0,,"000000011110011010011110000000000000",8,2],[7,,0,,"0000000001110000111000001100000110000010000000000",18,2],[6,,0,,"000000011000011110001010001110000000",28,2],[6,,0,,"000000011100001110001110001100000000",8,12],[6,,0,,"000000001110001110001110001010000000",18,12],[6,,0,,"000000011110011110001100001000000000",28,12]],hints=[["If you get stuck, "+(D?"click \u00d7":"press R")+" to exit a puzzle",35,11,1,0]],cubes=[[11,4],[21,16]],emoji=[["\ud83d\udc08",4,14]];else if("pC"==W)X=40,h=20,trees=[[35,8,0]],apples=[[34,11,0,0,18]],doors=[[41,10,Math.PI/2,8,0,"pB",0,1,10,0,0],[22,-2,0,14,0,"px",1,20,19,0,0]],puzzles=[[7,,0,,"0000000000000001111000111100001111000100000000000",2,3],[7,,0,,"0000000001110000101000011100001110000110000000000",26,3],[6,,0,,"000000001110011110011010001110000000",14,3],[7,,0,,"0000000001100000111000011100001110000110000000000",2,12],[7,,0,,"0000000000000001111100101010011111000000000000000",14,12],[6,,0,,"000000011000011100011110011110000000",26,12]],hints=[["\u2191<br>After this room, you can try a puzzle editor and a new kind of puzzles !",22,11,13,0,0]],cubes=[[29,5],[30,8],[17,6],[15,4],[15,7],[29,13],[30,13],[30,14],[18,15],[16,15],[6,13],[6,17],[7,8],[6,8],[5,8],[3,7],[3,8],[7,6],[7,5]],emoji=[["\ud83e\udd8b<br><br>",29,13]];else if("pD"==W){h=X=20;trees=[[10,2,0]];doors=[[10,21,Math.PI,14,0,"px",0,20,0,0,0],[-2,5,-Math.PI/2,14,0,"pE",0,24,12,0,0]];puzzles=[[7,,1,,"0100010011111000000000000000000000001111100100010",7,7]];hints=[["Now you're thinking with wraps !",2,2,0,14,0]];for(f=0;20>f;f++)cubes.push([f,10]);emoji=[["\ud83d\udc10",12,2]]}else if("pE"==W)h=X=25,trees=[[5,12,0]],apples=[[4,14,0,0,23]],doors=[[26,12,Math.PI/2,14,0,"pD",0,0,5,0,0],[-2,12,-Math.PI/2,15,0,"pF",1,79,5,0,0]],puzzles=[[7,,1,,"1000001000000000000000010100011011011000111000001",3,3],[6,,1,,"110011100001000000100001100001110011",15,17],[5,,1,,"1100111001100011001110011",16,4],[6,,1,,"000011000011110001110001000011000011",3,17]],hints=[["Reminder:<br>use "+(D?"\u21a9":"Alt")+" to backtrack,<br>"+(D?"\u00d7":"R")+" to exit a puzzle.",11,14,1,0,0]],emoji=[["\ud83d\udc12",12,20]];else if("pF"==W)X=80,h=20,trees=[[35,10,0]],apples=[[38,11,0,0,35]],doors=[[81,5,Math.PI/2,15,0,"pE",0,0,12,0,0],[-2,15,-Math.PI/2,16,0,"pG",1,19,5,0,0]],puzzles=[[5,,1,,"0111101001010110100011111",59,13],[5,,1,,"1111011000111100001011110",48,13],[5,,1,,"1111101000011110111001100",37,13],[5,,1,,"1111110000111001000011111",26,13],[5,,1,,"1100101101001110011101101",15,13],[5,,1,,"1111100001110010000111111",59,2],[5,,1,,"1000110111100011000111111",48,2],[5,,1,,"1000110101101011111110001",37,2],[5,,1,,"1111110001000110000111111",26,2],[5,,1,,"0111101100011100011011110",15,2],[5,,1,,"1111101111001110001100001",4,8],[5,,1,,"1010100101111010000111111",71,8]],hints=[["This room hides a surprise !",72,2,0,15,0],["\u2190<br>Exit",38,9,16,0,0]],cubes=[],emoji=[];else if("pG"==W)X=20,h=30,trees=[[5,25,0]],apples=[[4,24,0,0,37],[7,25,0,0,37],[2,26,0,0,37],[3,28,0,0,37]],doors=[[21,5,Math.PI/2,16,0,"pF",0,1,15,0,0],[10,31,Math.PI,20,0,"pH",1,10,1,0,0]],puzzles=[[6,,1,,"001000001110111111011100011000001000",7,6],[6,,1,,"110001100001000111000111100001110001",7,18]],emoji=[["\ud83d\udc01",9,14]];else if("pH"==W)X=20,h=30,trees=[[16,22]],apples=[[18,22,0,0,39]],doors=[[10,-2,0,18,0,"pG",0,10,29,0,0],[21,25,Math.PI/2,21,0,"pI",1,1,10,0,0]],puzzles=[[6,,1,,"001000011110111111011110011110001000",7,6],[6,,1,,"110001100001000011000111001111111111",7,18]],emoji=[["\ud83e\udd86",9,14]];else if("pI"==W){X=40;h=20;apples=[[38,2,0,5,0]];doors=[[-2,10,-Math.PI/2,1,0,"pH",0,19,25,0,0],[36,-2,0,6,0,"px",1,5,19,0,1]];puzzles=[];hints=[["Guess what, you finished the first half of the game !",5,9,1,0],["You can now move up and down with "+(D?"\u2b06\ufe0e and \u2b07\ufe0e":"Shift and Ctrl keys")+", and open black doors",30,11,1,0]];for(f=0;9>f;f++)cubes.push([30,f]);for(f=30;40>f;f++)cubes.push([f,8]);emoji=[["\ud83d\udc22",13,14]];trees=[[3,1],[15,2],[36,3],[26,5],[25,15],[33,9],[10,12],[36,14],[3,15]]}else"pJ"==W?(X=15,h=70,trees=[[2,62]],apples=[[2,65,0,0,47],[1,66,0,0,47]],doors=[[16,5,Math.PI/2,6,0,"px",0,1,11,0,1],[-2,65,-Math.PI/2,8,0,"pK",1,19,65,0,1]],puzzles=[[5,,0,"0000000000000000000001110",,2,2],[4,,0,"0000000001000110",,4,11],[5,,0,"0000000000000000101001110",,6,20],[5,,0,"0000000000000000111000100",,8,29],[4,,0,"0000000001100110","0000011001100000",2,38],[4,,0,"0000010001100100","0000011001100000",4,47],[4,,0,"0000011001000100","0000010001100000",6,56],[4,,0,"0000000001100110","0100011000100000",8,65]],hints=[["You now have to match the patterns on the walls...",10,2,1,0,1],["... and on the floor too !",10,40,1,0,1]],emoji=[["\ud83e\udd89",10,14]]):"pK"==W?(D&&(ky.className=kz.className="",y.lossst_c=1),X=20,h=75,trees=[[2,2]],apples=[[1,4,0,0,59],[2,5,0,0,59],[3,6,0,0,59],[4,2,0,0,59]],doors=[[21,65,Math.PI/2,7,0,"pJ",0,1,65,0,1],[-2,5,-Math.PI/2,12,0,"pL",1,14,5,0,1]],puzzles=[[5,,0,"0000000000010000110001110",,8,69],[6,,0,"000000000000000000000100001110011000",,12,58],[5,,0,"0000000000010000111001000",,2,58],[4,,0,"0000001001100110","0000001001100000",2,45],[5,,0,"0000000000000000010001110","0000000100001100110000000",12,45],[5,,0,"0000000000000000101001110","0000001110010100000000000",2,34],[5,,0,"0000000000000000011001100","0000001110011000010000000",12,34],[4,,1,"0000011001100110","0110000000000110",2,22],[4,,1,"1001000000001001","1001000000001001",12,22],[4,,1,"0000010011110010","0000111101100000",2,12],[4,,1,"0110010000000011","0000011100110000",12,12],[4,,1,"1101000000000001","1101000000010001",12,2]],hints=[["You can rotate the camera with "+(D?"<br>\u21bb and \u21ba":"the keys 1, 2 and 3"),15,68,1,0,1],["Can you guess what's coming next?",7,54,1,0,1],["3D puzzles with wrap ! Use "+(D?"\u2b06\ufe0e and \u2b07\ufe0e":"Shift and Ctrl")+" to wrap between top and bottom",7,24,1,0,1]],emoji=[["\ud83d\udc1e",3,70]]):"pL"==W?(X=15,h=80,trees=[[2,70]],apples=[[1,73,0,0,68],[3,75,0,0,68]],doors=[[16,5,Math.PI/2,12,0,"pK",0,1,5,0,1],[-2,75,-Math.PI/2,14,0,"pM",1,14,25,0,1]],puzzles=[[5,,0,"0000000000001001111100100",,2,2],[4,,0,"0000010001100000",,5,11],[5,,0,"0000000110000110111000010",,8,20],[5,,0,"0000000000001000111011111","0000000000111001111100000",2,29],[4,,0,"1000110011101111","0000001111110000",5,38],[4,,0,"0000100011001110","1110110010000000",8,45],[4,,1,"1000100110010001","0000100110010000",2,54],[4,,1,"0000001011110100","0000110011110011",5,63],[5,,1,"0100011000010000111001000","0000001110110000100000000",8,72]],cubes=[[6,12]],emoji=[["\ud83d\udc1d",3,20]]):"pM"==W?(X=15,h=30,trees=[[10,12]],apples=[[8,11,0,0,71],[9,10,0,0,71],[10,9,0,0,71],[11,10,0,0,71],[12,11,0,0,71],[7,12,0,0,71]],doors=[[16,25,Math.PI/2,14,0,"pL",0,1,75,0,1],[-2,5,-Math.PI/2,20,0,"pN",1,14,5,0,1]],puzzles=[[5,,1,"0001100110011001100010000","0001100110011001100010000",2,24],[5,,1,"1100010001000011000111000","0000011000110010000000000",4,13],[5,,1,"1101110001000001000011000","1100010000000001000111011",6,2]],emoji=[["\ud83d\udc13",1,14]]):"pN"==W&&(X=15,h=48,trees=[[10,44]],apples=[[7,45,0,0,75]],doors=[[16,5,Math.PI/2,20,0,"pM",0,1,5,0,1]],puzzles=[[4,,1,"0000111101101111","1000111111111000",5,38],[4,,1,"1111001001001111","1111101010101111",5,28],[4,,1,"1111010101011101","0001101101101111",5,18],[4,,1,"1111000100011110","1111110110011111",5,8]],emoji=[["\ud83d\udc09",13,46]]);a.style.width=X*v+"vh";a.style.height=h*v+"vh";H||(ig.innerHTML="");ih.innerHTML="";for(var f in trees)ig.innerHTML+="<div id=tree"+f+' class="j tr"style=left:'+trees[f][0]*v+"vh;transform:translateX(-7vh)translateY("+(trees[f][1]*v+4)+"vh)rotateX(-70deg)>\ud83c\udf33</div><div id=treeshadow"+f+' class="e h"style=left:'+trees[f][0]*v+"vh;transform:translateX(-7.5vh)translateY("+(trees[f][1]*v+3.5)+"vh)rotateZ(144deg)scaleY(1.5)>\ud83c\udf33";for(f in apples)y["lossst_a"+W+f]?delete apples[f]:ig.innerHTML+="<div id=a"+f+' class="j g '+(y["lossst_A"+W+f]?"":"h")+'"style=left:'+apples[f][0]*v+"vh;transform:translateY("+(apples[f][1]*v+4)+"vh)rotateX(-65deg)>"+("pN"==W?"<div>\u26bd</div>":"<div class=m>\ud83c\udf4e</div>")+"</div><div id=as"+f+' class="e p '+(y["lossst_A"+W+f]?"":"h")+'"style=left:'+apples[f][0]*v+"vh;transform:scaleX(-1)translateY("+(apples[f][1]*v+3)+"vh)rotateZ(212deg)>"+("pN"==W?"\u26bd":"\ud83c\udf4e");for(f in emoji)ig.innerHTML+='<div class="j n"style=left:'+(emoji[f][1]*v-1)+"vh;transform:translateY("+(emoji[f][2]*v+4)+"vh)rotateX(-65deg)><div class=m>"+emoji[f][0];for(f in doors)ig.innerHTML+="<div id=d"+(""+W+f)+' class="do'+(y["lossst_d"+W+f]?" s":"")+'"style=left:'+(doors[f][0]+.5)*v+"vh;top:"+(doors[f][1]+.5)*v+"vh;transform:rotateZ("+doors[f][2]+"rad)translateZ("+doors[f][9]*v+'vh)><div class="y d'+doors[f][10]+'"'+(doors[f][6]?"":"hidden")+">"+doors[f][3]+'</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh">';for(var n in puzzles)for(var m in cubes)y["lossst_p"+W+n]&&cubes[m][0]>=puzzles[n][5]&&cubes[m][0]<puzzles[n][5]+puzzles[n][0]&&cubes[m][1]>=puzzles[n][6]&&cubes[m][1]<puzzles[n][6]+puzzles[n][0]&&delete cubes[m];for(f in cubes)ig.innerHTML+="<div id=cube"+f+' class="z x"style=left:'+cubes[f][0]*v+"vh;top:"+cubes[f][1]*v+'vh;width:5vh;height:5vh><div class=f></div><div class=u style="background-position:'+(-300-cubes[f][0]*v)+"vh "+(-140-cubes[f][1]*v)+'vh"></div><div class=r></div><div class=l></div><div class=b>';for(f in hints)C^hints[f][5]||!(hints[f][3]&&hints[f][3]<=G||hints[f][4]&&hints[f][4]>=G)||(ig.innerHTML+="<div id=h"+(""+W+f)+" class=t style=left:"+hints[f][1]*v+"vh;transform:translateY("+(hints[f][2]*v+5)+"vh)translateZ("+(hints[f][6]*v||0)+"vh)rotateX(-70deg)translateY(-4vh)>"+hints[f][0]);y.lossst_x&&top.hpx0&&(hpx0.style.opacity=1);for(n in puzzles){T=puzzles[n][0];var A=k="";ih.innerHTML+="<div id=puzzle"+n+' class="z q v '+(puzzles[n][2]&&!y["lossst_p"+W+n]?"w":"")+'"style=left:'+puzzles[n][5]*v+"vh;top:"+puzzles[n][6]*v+"vh;width:"+puzzles[n][0]*v+"vh;height:"+T*v+"vh>"+(puzzles[n][2]?"<div class=l></div><div class=r></div>":"")+"<div id=D"+n+" class=d></div><div id=B"+n+" class=b></div>"+(puzzles[n][2]?"<div class=f>":"");var P="000",aa="fff";y["lossst_p"+W+n]&&(P="44c",aa="fd0",puzzles[n][2]=0);for(f=0;f<T;f++)for(m=0;m<T;m++)puzzles[n][3]&&(k+="<div class=o id=w"+n+f+m+" style=width:"+v+"vh;height:"+v+"vh;background:#"+("1"==puzzles[n][3][f*T+m]?P:aa)+"></div>"),puzzles[n][4]&&(A+="<div class=o id=g"+n+f+m+" style=width:"+v+"vh;height:"+v+"vh;background:#"+("1"==puzzles[n][4][f*T+m]?P:aa)+"></div>");top["D"+n]&&(top["D"+n].innerHTML+=A);top["B"+n]&&(top["B"+n].innerHTML+=k)}"pN"==W&&(ig.innerHTML+="<div style='position:fixed;transform:"+(D?"rotateZ(-90deg)translateX(-87vh)translateY(22vh)translateZ(365vh)":"rotateZ(-90deg)translateX(-83vh)translateY(6vh)translateZ(208vh)")+";font: 30vh/25vh a'>THE<br><br>END");H&&(y.lossst_e||y.lossst_s&&6<y.lossst_S||(ik.style.opacity=im.style.opacity=0,ik.style.position=im.style.position="fixed",ik.style.top=im.style.top="-9vh"),J=0,Y(1),xa=1,Q=O=N=0,puzzles[0][2]=0,setTimeout(function(){(ib.onchange=ib.oninput=resetgrid=function(){Ca();Y();ij.disabled=1;gridval.innerHTML=T=+ib.value;puzzle0.style.width=puzzle0.style.height=T*v+"vh";puzzles[0][0]=T;D0.innerHTML="";A=k=B0.innerHTML="";M=[];L=[];for(f=0;f<T;f++)for(M[f]=[],L[f]=[],m=0;m<T;m++)M[f][m]=0,L[f][m]=0;for(f=0;f<T;f++)for(m=0;m<T;m++)k+="<div class=o id=w"+K+f+m+" style=width:"+v+"vh;padding-top:"+v+"vh></div>",A+="<div class=o id=g"+K+f+m+" style=width:"+v+"vh;padding-top:"+v+"vh></div>";xa&&(D0.innerHTML+=A);N&&(B0.innerHTML+=k)})();iq.onchange=iq.oninput=function(){it.innerHTML=G=+iq.value;Ca();Y()};ik.onclick=function(){ik.checked?xa=1:top.wall&&(xa=0,C=N=1,wall.checked=!0);a.className=N?"haswall":"";resetgrid()};top.wall&&(wall.onclick=function(){wall.checked?(N=1,C=puzzles[0][3]=1):(N=C=0,xa=1,ik.checked=!0,puzzles[0][3]=0);a.className=N?"haswall":"";resetgrid()});top.wrap&&(wrap.onclick=function(){O=puzzles[0][2]=wrap.checked||0;puzzle0.className="z q v "+(O?"w":"");resetgrid()});print=function(k){var n="";for(f=0;f<T;f++)for(m=0;m<T;m++)n=top[k+"0"+f+m].style.background&&top[k+"0"+f+m].style.background.match(/255/)?n+0:n+1;return n};ij.onclick=function(){var f=[];f.push(T);f.push(G);f.push(O?1:0);f.push(N?print("w"):"");f.push(ik.checked?print("g"):"");open("//twitter.com/intent/tweet?text=I%20made%20a%20level%20for%20@MaximeEuziere's%20%23js13k%20game%20LOSSST!%0APlay%20here:%20js13kgames.com%2Fentries%2Flossst%0AMy%20level:%20js13kgames.com%2Fgames%2Flossst%23"+f+"%0A%23LOSSSTlevels")}},100));"px"!=W||y.lossst_x?(a.style.transition="transform 1s,transform-origin 1s",Ca()):(I=1,setTimeout(function(){Ca();Y();M0.style.transition="transform .5s"},2E3),setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(0);F.push(F[t]);t++;Y()},5500+wa),setTimeout(function(){M0.style.transition="";R0.style.transition="transform .2s";R0.style.transform="rotateZ("+-Math.PI/4+"rad)"},6500+wa),setTimeout(function(){R0.style.transform="rotateZ("+Math.PI/4+"rad)"},7E3+wa),setTimeout(function(){R0.style.transform=""},7500+wa),setTimeout(function(){S0.style.transition=R0.style.transition=""},8E3+wa),setTimeout(function(){clearInterval(x);z||(I=0);hpx0.style.opacity=1},8400),setTimeout(function(){a.style.transition="transform 1s,transform-origin 1s";y.lossst_x=20;y.lossst_y=10;b.innerHTML+="<div style='position:fixed;font:8vh a;top:3vh;right:3vh'onclick=location='index.html'>\u00d7";D&&(kU.className=kD.className=kL.className=kR.className="",y.lossst_w=1)},9E3));Y()}function Ca(){var k=C&&!H?ia:ie;k.innerHTML="";q=[];w=[];E=[];F=[];t=G-1;if("py"==W)for(i=0;i<G;i++)q[t-i]=1-i,w[t-i]=10,E[t-i]=0,F[t-i]=-Math.PI/2;else if(H)for(i=0;i<G;i++)q[t-i]=13-i,w[t-i]=12,E[t-i]=0,F[t-i]=-Math.PI/2;else if(y.lossst_x){var f=+y.lossst_x,n=+y.lossst_y,m=+y.lossst_z;"px"==W&&2>y.lossst_x&&(m=y.lossst_z=1);if("pI"==W&&z&&1==C)for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i-1,F[t-i]=0;else if(2>f)for(i=0;i<G;i++)q[t-i]=f-i,w[t-i]=n,E[t-i]=m,F[t-i]=-Math.PI/2;else if(f>X-2)for(i=0;i<G;i++)q[t-i]=f+i,w[t-i]=n,E[t-i]=m,F[t-i]=Math.PI/2;else if(2>n)for(i=0;i<G;i++)q[t-i]=f,w[t-i]=n-i,E[t-i]=m,F[t-i]=0;else if(n>h-2)for(i=0;i<G;i++)q[t-i]=f,w[t-i]=n+i,E[t-i]=m,F[t-i]=0;else for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i,F[t-i]=0}else if("px"==W)for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i-1,F[t-i]=0;for(i=0;i<Math.max(G+4,16);i++)k.innerHTML+="<div id=M"+i+" class=sm style=transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:"+(v-.7)+"vh;height:"+(v-.7)+"vh><div class=ss id=S"+i+"></div><div id=R"+i+' class=sr><div class="z k"id=T'+i+">"+(1>i?"<div style=background:none;box-shadow:none;color:red;font-size:4vh;text-align:center;transform:rotateZ(180deg)translateY(-4vh)translateZ(1.5vh)>Y</div>":"")+'<div class=u style="font:'+.5*v+"vh/"+.8*v+'vh a">'+(1>i?"\ud83d\udc40":"")+"</div><div class=f>"+(1>i?"\u203f":"")+"</div><div class=r></div><div class=l></div><div class=b>"}function Y(k){for(var f={a:0};f.a<G;f={a:f.a,j:f.j,m:f.m,o:f.o},f.a++)if(!k){var n=oldx=oldy=oldz=newx=newy=newz=0;O&&T&&(q[t-f.a-1]==R&&q[t-f.a]==R+T-1?(n=1,oldx=R-1,newx=R+T,oldy=newy=w[t-f.a],oldz=newz=E[t-f.a]):q[t-f.a-1]==R+T-1&&q[t-f.a]==R?(n=1,oldx=R+T,newx=R-1,oldy=newy=w[t-f.a],oldz=newz=E[t-f.a]):w[t-f.a-1]==S&&w[t-f.a]==S+T-1?(n=1,oldy=S-1,newy=S+T,oldx=newx=q[t-f.a],oldz=newz=E[t-f.a]):w[t-f.a-1]==S+T-1&&w[t-f.a]==S?(n=1,oldy=S+T,newy=S-1,oldx=newx=q[t-f.a],oldz=newz=E[t-f.a]):0==E[t-f.a-1]&&E[t-f.a]==T-1?(n=1,oldz=-1,newz=T,oldx=newx=q[t-f.a],oldy=newy=w[t-f.a]):E[t-f.a-1]==T-1&&0==E[t-f.a]&&(n=1,oldz=T,newz=-1,oldx=newx=q[t-f.a],oldy=newy=w[t-f.a]));if(n)top["R"+f.a].style.transform="rotateZ("+F[t-f.a]+"rad)",top["M"+f.a].style.transform="translateX("+(oldx*v+.5)+"vh)translateY("+(oldy*v+.5)+"vh)translateZ("+(oldz*v+.5)+"vh)scale(.01)scaleZ(.01)",setTimeout(function(f){return function(){top["M"+f.a].style.transition="none"}}(f),90),f.j=newx,f.m=newy,f.o=newz,setTimeout(function(f){return function(){top["M"+f.a].style.transform="translateX("+(f.j*v+.5)+"vh)translateY("+(f.m*v+.5)+"vh)translateZ("+(f.o*v+.5)+"vh)scale(.01)"}}(f),100),setTimeout(function(f){return function(){top["M"+f.a].style.transition="";top["M"+f.a].style.transform="translateX("+(q[t-f.a]*v+.25)+"vh)translateY("+w[t-f.a]*v+"vh)translateZ("+(E[t-f.a]*v+.5)+"vh)"}}(f),150);else try{top["M"+f.a].style.transform="translateX("+(q[t-f.a]*v+.25)+"vh)translateY("+w[t-f.a]*v+"vh)translateZ("+(E[t-f.a]*v+.5)+"vh)",top["R"+f.a].style.transform="rotateZ("+F[t-f.a]+"rad)"}catch(A){}try{top["S"+f.a].style.display=0==E[t-f.a]?"":"none"}catch(A){}}H?a.style.transform="translateX(-100vh)translateY(-37vh)translateZ(-5vh)rotateX(33deg)":null===J||y["lossst_p"+W+J]?(a.style.transform="translateX("+-q[t]*v+"vh)translateY("+-w[t]*v+"vh)translateZ(45vh)rotateX(40deg)rotateZ("+g+"rad)",a.style.transformOrigin=""+q[t]*v+"vh "+w[t]*v+"vh"):(a.style.transform="translateX("+(-(R+puzzles[J][0]/2)*v+5)+"vh)translateY("+(-(S+puzzles[J][0]/2)*v+8)+"vh)translateZ("+(90-puzzles[J][0]*(v+3))+"vh)rotateX(30deg)rotateZ("+g+"rad)",a.style.transformOrigin=""+((R+puzzles[J][0]/2)*v+5)+"vh "+((S+puzzles[J][0]/2-1)*v+8)+"vh");f=C?1:0;for(k=0;k<G;k++){if(0>=E[t-k]){f=0;break}for(m in cubes)cubes[m][0]==q[t-k]&&cubes[m][1]==w[t-k]&&1==E[t-k]&&(f=0)}if(f){for(k=0;k<G;k++)E[t-k]--;try{Y()}catch(A){for(var m=2*G;m--;)q.pop(),w.pop(),E.pop(),F.pop(),t--;Aa=0;Y()}}f=q[t];n=w[t];for(k in doors)(doors[k][10]&&C||!doors[k][10]&&!C)&&top["d"+W+k]&&0<doors[k][3]&&G>=doors[k][3]&&4>Math.hypot(f-doors[k][0],n-doors[k][1])&&!y["lossst_d"+W+k]&&(top["d"+W+k].className="do s",!doors[k][6]||"px"==W&&2<k||ja(pa).play(),y["lossst_d"+W+k]=1),top["d"+W+k]&&"do s"==top["d"+W+k].className&&2>Math.hypot(f-doors[k][0],n-doors[k][1])&&(y.lossst_p=W=doors[k][5],setTimeout(Ba,600),y.lossst_x=doors[k][7],y.lossst_y=doors[k][8],y.lossst_z=0);null!==J&&Da();H||(J=null);H||(L=[],M=[]);for(p in puzzles)if(f>=puzzles[p][5]&&f<puzzles[p][5]+puzzles[p][0]&&n>=puzzles[p][6]&&n<puzzles[p][6]+puzzles[p][0]){J=+p;Q=0;y["lossst_p"+W+p]&&(Q=1);K=p;xa=!!puzzles[p][4];N=!!puzzles[p][3];O=!!puzzles[p][2];R=puzzles[p][5];S=puzzles[p][6];T=puzzles[p][0];for(k=0;k<T;k++)for(L[k]=[],M[k]=[],m=0;m<T;m++)puzzles[p][3]&&(M[k][m]=+puzzles[p][3][k*puzzles[p][0]+m]),puzzles[p][4]&&(L[k][m]=+puzzles[p][4][k*puzzles[p][0]+m]);Da()}}function Z(k,f,n){V=0;if(0>k||k>=X||0>f||f>=h)V=1;for(var m in trees)k>=trees[m][0]-1&&k<=trees[m][0]&&f==trees[m][1]&&3>E[t]&&(V=1);for(m in hints)k>=hints[m][1]&&k<=hints[m][1]+3&&f==hints[m][2]&&G>=hints[m][3]&&(!hints[m][4]||G<=hints[m][4])&&(C&&hints[m][5]||!C&&!hints[m][5])&&(V=1);for(m in apples)if(y["lossst_A"+W+m]&&k==apples[m][0]&&f==apples[m][1]&&0==E[t])if(ja(ka).play(),"pN"==W){x=setInterval(sa.forward,150);y.lossst_E=1;setTimeout(function(){I=1;as0.remove();a0.style.transform="translateY(319vh)translateZ(2vh)rotateX(-65deg)rotateY(90deg)";a0.style.transition=a.style.transition="10s";a0.style.transform="translateY(15vh)translateZ(2vh)rotateX(-65deg)";a.style.transform=D?"translateX(-133vh)translateY(-249vh)translateZ(-373vh)rotateZ(90deg)":"translateX(-141vh)translateY(-227vh)translateZ(-185vh)rotateZ(90deg)"},200);var A={},P;for(P in puzzles)A.g=P,setTimeout(function(f){return function(){top["B"+f.g].style.transition=".5s";top["B"+f.g].style.transform="translateY(-125%)"}}(A),[1450,2500,3800,5400][A.g]),A={g:A.g};setTimeout(function(){clearInterval(va);y.lossst_E=1;y.lossst_e=1;b.style.background="#000";y.lossst_s=0;b.innerHTML="<div id=iv style=perspective:90vh><center id=menu style=width:75vh;transform:translateX(-38vh)translateY(-35vh)rotateX(-28deg)><span style=font-size:4vh;line-height:5vh><h1>Congrats!</h1><br>You completed the game in<br>"+ta+" seconds and "+ua+" moves!<br><br><a href=//twitter.com/intent/tweet?text=I%20played%20LOSSST,%20a%20%23js13k%20game%20by%20by%20@MaximeEuziere%0Amy%20score:%20"+ta+"%20seconds%20and%20"+ua+"%20moves!%0Ajs13kgames.com%2Fentries%2Flossst target=_blank style=color:#def;font-size:4vh>TWEET YOUR SCORE</a><br><br>Dev record:<br>854 seconds, 2452 moves<br><br>3D puzzle editor unlocked!<br><br><a href=. style=font-size:4vh>MAIN MENU"},15E3);n=document.querySelectorAll(".o");A={};for(var aa in n){A.h=aa;try{2==n[A.h].style.backgroundColor.match(/68/g).length&&setTimeout(function(f){return function(){top[n[f.h].id].style.background="#a00"}}(A),8E3+10*A.h)}catch(na){}A={h:A.h}}}else if(delete apples[m],top["a"+m].remove(),top["as"+m].remove(),G++,y.lossst_S=G,y["lossst_a"+W+m]=1,"pF"==W&&16==G){I=1;x=setInterval(sa.forward,150);z=1;a.style.transition="5s";a.style.transform="translateX(-180vh)translateY(-53vh)translateZ("+(D?-422:-180)+"vh)rotateZ(180deg)";setTimeout(function(){a.style.transition="1s";I=z=0;Y();ig.innerHTML+="<div class=t style=left:190vh;transform:translateY(50vh)rotateX(-55deg)translateY(-4vh)>\u2190<br>Exit";clearInterval(x)},1E4);n=document.querySelectorAll(".o");A={};for(var ea in n){A.f=ea;try{n[A.f].id.match(/g\d\d\d$/)&&2==n[A.f].style.backgroundColor.match(/68/g).length&&setTimeout(function(f){return function(){top[n[f.f].id].style.background="#a00"}}(A),5500+10*A.f)}catch(na){}A={f:A.f}}}for(m in cubes)k==cubes[m][0]&&f==cubes[m][1]&&0==n&&(V=1);for(m in emoji)"pC"!=W&&k==emoji[m][1]&&f==emoji[m][2]&&0==n&&(V=1);for(m in doors)top["d"+W+m]&&"do s"==top["d"+W+m].className&&2>=Math.hypot(k-doors[m][0],f-doors[m][1])&&(V=0);hitcube2=0;for(m=G-2;0<m;m--)q[t-m]==k&&w[t-m]==f&&E[t-m]==n&&(V=1,1==m&&(hitcube2=1));for(p in puzzles)puzzles[p][3]&&k>=puzzles[p][5]&&k<puzzles[p][5]+puzzles[p][0]&&(f==puzzles[p][6]-1&&w[t]==puzzles[p][6]&&!puzzles[p][2]||f==puzzles[p][6]&&w[t]==puzzles[p][6]-1)&&(V=1);if("pI"==W&&18==k&&!C){z=C=V=I=1;clearInterval(x);sa=ra;_=$=0;x=setInterval(ra.forward,250);y.lossst_s=1;y.lossst_S=G=5;for(k=0;21>k;k++)cubes.push([q[t-k],w[t-k]]),top["M"+k].id="",top["R"+k].id="",top["S"+k].id="",top["T"+k].id="";a.style.transition="2s";Ca();Y();a.style.transform="translateX(-105vh)translateY(-51vh)translateZ(80vh)rotateX(45deg)";a.style.transformOrigin="140vh 70vh";setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(0);F.push(F[t]);t++;Y()},3E3);setTimeout(function(){ii.innerHTML="Daddy!"},4E3);setTimeout(function(){ii.innerHTML=""},6E3);setTimeout(function(){ii.innerHTML="I lossst my soccer ball!"},7E3);setTimeout(function(){ii.innerHTML=""},9E3);setTimeout(function(){ii.innerHTML="But I found new moves!"},1E4);setTimeout(function(){ii.innerHTML="";z=I=0;clearInterval(x);a.style.transition="1s";Y();Ea();D&&(kT.className=kB.className="",y.lossst_B=1)},13500)}}function Da(){if(!Q&&null!==J){solved=1;H&&(ij.disabled=0);for(i=0;i<T;i++)for(j=0;j<T;j++)try{top["g"+K+i+j]&&(top["g"+K+i+j].style.background=L[i][j]?"#000":"#fff"),top["w"+K+i+j]&&(top["w"+K+i+j].style.background=M[i][j]?"#000":"#fff")}catch(m){}if(q[t]<R||q[t]>R+T-1||w[t]<S||w[t]>S+T-1||0>E[t]||E[t]>T-1)H&&(ij.disabled=1);else{for(i=0;i<G;i++){top["g"+K+(w[t-i]-S)+(q[t-i]-R)]&&(top["g"+K+(w[t-i]-S)+(q[t-i]-R)].style.background=L[w[t-i]-S][q[t-i]-R]?"#080":H?"#44c":"#f00");w[t-i]>=S&&w[t-i]<S+T&&top["w"+K+(T-1-E[t-i])+(q[t-i]-R)]&&(top["w"+K+(T-1-E[t-i])+(q[t-i]-R)].style.background=M[T-1-E[t-i]][q[t-i]-R]?"#080":H?"#44c":"#f00");if(q[t-i]<R||q[t-i]>R+T-1||w[t-i]<S||w[t-i]>S+T-1||E[t-i]>T-1)H&&(ij.disabled=1),solved=0;xa&&L[w[t-i]-S]&&!L[w[t-i]-S][q[t-i]-R]&&(solved=0);N&&M[T-1-E[t-i]]&&!M[T-1-E[t-i]][q[t-i]-R]&&(solved=0)}for(i=0;i<T;i++)for(j=0;j<T;j++){try{xa&&3==top["g"+K+i+j].style.backgroundColor.match(/0/g).length&&(solved=0)}catch(m){}try{N&&3==top["w"+K+i+j].style.backgroundColor.match(/0/g).length&&(solved=0)}catch(m){}}if(solved){Q=H?0:1;puzzles[J][2]=0;top["puzzle"+J].classList.remove("w");H||(y["lossst_p"+W+J]=1);for(i=0;i<T;i++)for(j=0;j<T;j++){try{top["g"+K+i+j].style.background=L[i][j]?"#44c":"#fd0"}catch(m){}try{top["w"+K+i+j].style.background=M[i][j]?"#44c":"#fd0"}catch(m){}}H||(ja(oa).play(),ya++,y.lossst_T=ya);var k=1,f={},n;for(n in cubes)f.b=n,cubes[f.b][0]>=puzzles[J][5]&&cubes[f.b][0]<puzzles[J][5]+puzzles[J][0]&&cubes[f.b][1]>=puzzles[J][6]&&cubes[f.b][1]<puzzles[J][6]+puzzles[J][0]&&(delete cubes[f.b],k++,setTimeout(function(f){return function(){top["cube"+f.b].remove()}}(f),200*k)),f={b:f.b}}}}}function Ea(){for(var k in apples)if(!y["lossst_A"+W+k]&&(0<apples[k][3]&&apples[k][3]==G||0<apples[k][4]&&apples[k][4]==ya)){I=1;D&&"px"==W&&1==k&&(kw.className="",y.lossst_b=1);var f=setTimeout;a.style.transform="translateX("+-apples[k][0]*v+"vh)translateY("+-apples[k][1]*v+"vh)translateZ(50vh)rotateX(35deg)";y["lossst_A"+W+k]=1;a.style.transformOrigin=""+apples[k][0]*v+"vh "+apples[k][1]*v+"vh";f(void 0,250);f=setTimeout;top["a"+k].className="j g";top["as"+k].className="e p";f(void 0,800);setTimeout(function(){ja(la).play()},850);setTimeout(function(){Y();z||(I=0)},2E3)}}function Fa(){U=0;H||(J=null);for(p in puzzles)q[t]>=puzzles[p][5]&&q[t]<puzzles[p][5]+puzzles[p][0]&&w[t]>=puzzles[p][6]&&w[t]<puzzles[p][6]+puzzles[p][0]&&0<=E[t]&&E[t]<puzzles[p][0]&&(J=+p,U=1)}onkeydown=function(k){top["lurd************************l**r************l*d***u**u"[k.which-37]]=1;18==k.which&&(B=1);16==k.which&&(s=1);17==k.which&&(c=1);if(!I){if(49==k.which||97==k.which)-1<g&&g--,ca();if(50==k.which||98==k.which)g=0,ca();if(51==k.which||99==k.which)1>g&&g++,ca()}Fa();U?Da():Aa=0;if(82==k.which&&U){if(Aa<=t)for(var f=Aa;f<=t;f++)q.pop(),w.pop(),E.pop(),F.pop(),setTimeout(function(){sa.back()},70*(t-f));t=Aa-1;Aa=0;Y();Da();y.lossst_M=++ua}else if(116!=k.which&&82!=k.which&&17!=k.which&&123!=k.which&&k.preventDefault&&k.preventDefault(),!I){V=0;if(l)!Q&&O&&U&&q[t]==R?(Z(R+T-1,w[t],E[t]),V||(q.push(R+T-1),w.push(w[t]),E.push(E[t]),F.push(Math.PI/2),t++)):(Z(q[t]-1,w[t],E[t]),V||(q.push(q[t]-1),w.push(w[t]),E.push(E[t]),F.push(Math.PI/2),t++));else if(r)!Q&&O&&U&&q[t]==R+T-1?(Z(R,w[t],E[t]),V||(q.push(R),w.push(w[t]),E.push(E[t]),F.push(-Math.PI/2),t++)):(Z(q[t]+1,w[t],E[t]),V||(q.push(q[t]+1),w.push(w[t]),E.push(E[t]),F.push(-Math.PI/2),t++));else if(u)!Q&&O&&U&&w[t]==S?(Z(q[t],S+T-1,E[t]),V||(q.push(q[t]),w.push(S+T-1),E.push(E[t]),F.push(Math.PI),t++)):(Z(q[t],w[t]-1,E[t]),V||(q.push(q[t]),w.push(w[t]-1),E.push(E[t]),F.push(Math.PI),t++));else if(d)!Q&&O&&U&&w[t]==S+T-1?(Z(q[t],S,E[t]),V||(q.push(q[t]),w.push(S),E.push(E[t]),F.push(0),t++)):(Z(q[t],w[t]+1,E[t]),V||(q.push(q[t]),w.push(w[t]+1),E.push(E[t]),F.push(0),t++));else if((C||N)&&s){if(!U){k=G-1;for(f in cubes)cubes[f][0]==q[t]&&cubes[f][1]==w[t]&&k++;if(E[t]==k)return}!Q&&O&&U&&E[t]==T-1?(Z(q[t],w[t],0),V||(q.push(q[t]),w.push(w[t]),E.push(0),F.push(F[t]),t++)):(Z(q[t],w[t],E[t]+1),V||(q.push(q[t]),w.push(w[t]),E.push(E[t]+1),F.push(F[t]),t++))}else(C||N)&&c?!Q&&O&&U&&0==E[t]?(Z(q[t],w[t],T-1),V||(q.push(q[t]),w.push(w[t]),E.push(T-1),F.push(F[t]),t++)):0==E[t]?V=1:(Z(q[t],w[t],E[t]-1),V||(q.push(q[t]),w.push(w[t]),E.push(E[t]-1),F.push(F[t]),t++)):B&&t>G&&(F.pop(),q.pop(),w.pop(),E.pop(),t--);V&&!I&&(I=1,setTimeout(function(){z||(I=0)},150),!(-1<q[t]&&q[t]<X&&-1<w[t]&&w[t]<h)||"pI"==W&&!C&&16<q[t]||hitcube2||ja(ma).play());if(!V&&!z&&(u||r||d||l||s||c||B)){y.lossst_M=++ua;Da();Y();B?t>G&&sa.back():(C||!s&&!c&&!C)&&sa.forward();Y(1);Ea();I||(I=1,setTimeout(function(){z||(I=0)},150));if("px"==W&&(C||14<=G)&&20==q[t]&&10==w[t]){I=1;var n=0;for(f=0;f<G;f++)setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(--n);F.push(F[t]);t++;Y()},150*f);setTimeout(function(){AA("pz",1)},160*G);y.lossst_x=20;y.lossst_y=10}Fa();U&&!Aa&&(Aa=t)}}};onkeyup=function(){u=r=d=l=s=c=B=0};onload=function(){1<location.hash.length?AA("py",1):(setTimeout(function(){x=setInterval(function(){sa.forward()},500)},200),b.innerHTML="<center id=e>\ud83d\udc40</center>\n<center id=iw></center>\n<div id=iv style=perspective:30vh>\n<center id=menu>\n<h1>LOSSST</h1>\n<span onclick=newgame()>New game</span><br>\n"+(y.lossst_a&&!y.lossst_E?"<span onclick=AA(0,1)>Continue</span><br>":"")+"\n<span onclick=AA(\"pz\",1)>Puzzle editor</span><br>\n<span onclick=top.open('//goo.gl/iKqoCS')>Bonus",newgame=function(){for(i in localStorage)0==i.indexOf("lossst")&&-1==i.indexOf("e")&&delete localStorage[i];y.lossst_a=1;menu.innerHTML="<br><br><span onclick=intro(0)>Desssktop</span><br><br><span onclick=intro(1)>Mobile"},intro=function(k){clearInterval(x);_=$=0;x=setInterval(sa.forward,250);y.lossst_m=D=k;y.lossst_S=G=5;ta=y.lossst_t=0;ua=y.lossst_M=0;y.lossst_M=0;y.lossst_t=0;menu.innerHTML="";setTimeout(function(){e.style.margin=0},500);dir=1;inter=setInterval(function(){e.style.opacity=0;setTimeout(function(){e.style.opacity=1;dir=-dir;e.style.transform="scaleX("+dir+")"},150)},3E3);setTimeout(function(){iw.innerHTML="I lossst my kid !"},2E3);setTimeout(function(){iw.innerHTML=""},5E3);setTimeout(function(){clearInterval(inter);e.style.margin="-80vh 0 0"},7E3);setTimeout(AA,7500)})};AA=function(k,f){if(0===k||"pz"==k)clearInterval(x),_=$=0;"pz"==k&&(H=1,J=0);W=k||y.lossst_p||"px";b.outerHTML="<body id=b class="+W+">\n<div id=iv>\n<div id=a style=transform:translateX(-97vh)translateY(-50vh)rotateZ(90deg)translateZ(119vh);transform-origin:100vh+50vh>\n<div id=ig>"+(H?"<div class=t style=width:60vh;transform:translateX(70vh)translateY(1vh)translateZ(2vh)rotateX(-42deg)>\n<label style=width:100%;text-align:center>Create a pattern with the snake and share it !</label>\n<br style=line-height:6vh>\n<div style=text-align:left;padding-left:5vh>\n<label>Grid</label> <input id=ib type=range value=5 min=3 max=8 step=1>\n<span id=gridval>5</span>\n<br>\n<label>Snake</label> <input id=iq type=range value=5 min=5 max=40 step=1>\n<span id=it>5</span>\n</div>\n<input type=checkbox id=ik checked> <label for=ik id=im>ground</label>\n"+(y.lossst_e||y.lossst_s&&6<y.lossst_S?"<input type=checkbox id=wall> <label for=wall>wall</label>":"")+"\n"+(y.lossst_e||y.lossst_s?"<input type=checkbox id=wrap> <label for=wrap>wrap</label>":"")+"\n<br>\n<center>\n<button id=ij disabled>Share</button>\n</center>\n</div>":"")+"\n</div>\n<div id=ih></div>\n<div id=ie></div>\n<div id=ia></div>\n</div>\n</div>\n<center id=iz style='font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw'>\n<button id=kU class=h ontouchstart=TS(38) ontouchend=TE(38)>\u2191</button>\n<button id=kD class=h ontouchstart=TS(40) ontouchend=TE(40)>\u2193</button>\n<button id=kL class=h ontouchstart=TS(37) ontouchend=TE(37)>\u2190</button>\n<button id=kR class=h ontouchstart=TS(39) ontouchend=TE(39)>\u2192</button>\n<button id=kT class=h ontouchstart=TS(16) ontouchend=TE(16)>\u2b06\ufe0e</button>\n<button id=kB class=h ontouchstart=TS(17) ontouchend=TE(17)>\u2b07\ufe0e</button>\n<button id=kw class=h ontouchstart=TS(18) ontouchend=TE(18)>\u21a9</button>\n<button id=kx class=h ontouchstart=TS(82) ontouchend=TE(82)>\u00d7</button>\n<button id=ky class=h ontouchstart=TS(49) ontouchend=TE(49)>\u21bb</button>\n<button id=kz class=h ontouchstart=TS(51) ontouchend=TE(51)>\u21ba</button>\n</center>\n<center id=ii style='font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw'>";y.lossst_Apx0=1;Ba();if(D&&"py"==W||y.lossst_w)kU.className=kD.className=kL.className=kR.className="";if(D&&"py"==W||y.lossst_b)kw.className="";if(D&&"py"==W||y.lossst_r)kr.className="";if(D&&"py"==W||y.lossst_B)kT.className="",kB.className="";if(D&&"py"==W||y.lossst_c)ky.className="",kz.className="";H||(va=setInterval(function(){y.lossst_t=++ta},1E3));f&&(b.innerHTML+="<div style='position:fixed;font:8vh a;top:3vh;right:3vh'onclick=location='.'>\u00d7")}</script><style>@keyframes move{0%,100%{transform:rotateY(-10deg)}50%{transform:rotateY(10deg)}}*{margin:0;padding:0;font:2.5vh/5.5vh arial,sans-serif;vertical-align:middle;box-sizing:border-box;-webkit-touch-callout:none;-webkit-user-select:none;-webkit-tap-highlight-color:transparent;user-select:none;cursor:pointer;touch-action:manipulation}html,body{height:100%;background:#000;overflow:hidden;background:radial-gradient(#def 25%,#7ce)}a{color:#def}input,button{position:relative;z-index:2}input[type=range]::-webkit-slider-runnable-track,input[type=range]::-webkit-slider-thumb{background:#888;border:1px solid #000}input[type=range]::-moz-range-track,input[type=range]::-moz-range-thumb{background:#888;border:1px solid #000}#iv{width:0;height:0;perspective:120vh;position:absolute;top:50%;left:50%}#iv *{transform-style:preserve-3d}#a{width:0;height:0;transform-origin:18vh 0%;transition:transform 1s,transform-origin 1s}.z{position:fixed;top:0;left:0}.z>div{width:100%;height:100%;position:fixed}.z .u{transform:rotateY(90deg)translateX(-100%)rotateY(-90deg)}.z .l{transform:rotateX(-90deg)translateY(-50%)translateX(-50%)rotateY(-90deg)}.z .r{transform:rotateX(-90deg)translateY(-50%)translateX(50%)rotateY(90deg)}.z .f{transform:translateY(50%)rotateX(-90deg)translateY(-50%)}.z .b{transform:translateY(-50%)rotateX(-90deg)translateY(-50%)rotateY(180deg)}.z.q{width:32vh;height:32vh;transform:none}.z.q>div{background:transparent}.z.q .b{transition:opacity .5s;transform:translateY(-50%)rotateX(-90deg)translateY(-52%)}.z.q.w .d,.z.q .d{transition:opacity .5s;background:#0c5b0c}.sm,.sr{transform-origin:50% 50%;width:100%;height:100%;position:fixed}.sm{transition:transform .15s}.z.k{width:100%;height:100%}.z.k>div{box-shadow:0 0 0 .1vh #000 inset;text-align:center}.z.k .f{line-height:3vh}#ie .z.k>div{background:#FFA500}#ie .z.k .u{background:#dF8500}#ia .z.k>div,#a.haswall .z.k>div{background:#444}#ia .z.k .u,#a.haswall .z.k .u{background:#333}#ia .z.k .f{color:#fff}.ss{position:fixed;width:100%;height:100%;background:rgba(0,0,0,.25);transform:translateX(14%)translateY(14%)translateZ(-.25vh)}label{display:inline-block;width:22%}button{display:inline-block;width:23%;border:.2vh solid #000;margin:1vh 2% 0 0}input[type=range]{width:60%}#form{width:50vh;margin:auto}.o{float:left;outline:.4vh solid #888;opacity:0;transition:opacity .5s;background:#fff}.z.q.v{transform:translateZ(.1vh)}.z.q.v .o{opacity:1}.z.q.v .d{transform:none}.z.q.w>div{background:linear-gradient(45deg,rgba(200,200,200,.1),rgba(200,200,200,.3));box-shadow:0 0 .1vh rgba(255,255,255,.5)}.j{position:fixed;transform-origin:50% 100%;bottom:0}.m{animation:move 3s infinite}.e{color:rgba(0,0,0,.002);text-shadow:0px 0px rgba(0,0,0,.25);position:fixed;transform-origin:50% 100%;bottom:0}.tr,.h{font:11vh/12vh a}.a .tr{font:15vh/11vh a}.a .h,.c .h,.i .h,.a .p,.c .p,.i .p,.c .x.b,#iz button.h{display:none}.g,.g *,.p{font:4vh/5vh a;transition:opacity .5s .5s}.n,.n *{font:5vh/6vh a}.g.h,.p.h{opacity:0}.a .g{font:6vh/5vh a}.do{position:fixed;transform-origin:0% 100%;width:0;height:0}.do .y{position:fixed;width:15vh;height:20vh;background:radial-gradient(2vh at 90% 50%,gold 35%,transparent 40%),#a22;border-radius:1vh 1vh 0 0;transform-origin:0% 100%;transform:translateX(-7.5vh)translateY(-12.5vh)rotateX(-90deg);text-align:center;font-size:6vh;line-height:12vh;color:#fff;transition:transform 1s}.do .y.d1{background:radial-gradient(2vh at 90% 50%,gold 35%,transparent 40%),#222}.do.s .y{transform:translateX(-7.5vh)translateY(-12.5vh)rotateX(-90deg)rotateY(90deg)}.z.x div{background:linear-gradient(45deg,#640,#583808)}.z.x div.u{transform:rotateY(90deg)translateX(-5.4vh)translateZ(-.1vh)rotateY(-90deg);background:radial-gradient(#3F7D1F,#034301);background-size:280vh 140vh;width:5.3vh;height:5.3vh}.t{position:fixed;background:#fff;padding:.7vh;width:20vh;font:2vh/2.5vh arial,sans-serif;transform-origin:50% 100%;text-align:center;box-shadow:0 0 0 .2vh #000 inset;bottom:0}.t br{font:0/0 a}.t:before{content:"";width:3vh;height:3vh;background:#750;position:absolute;bottom:-3vh;left:8vh;border-left:.2vh solid;border-right:.2vh solid}.pz .t:before{left:28vh}label{text-align:left}#a{transition:transform 6s ease-in,transform-origin 6s ease-in;width:280vh;height:140vh;background:radial-gradient(#4F8D2F,#136321);border-radius:3vh}.px #a,.pI #a{background:radial-gradient(10vh at 51.3% 52%,#000 40%,transparent 50%),radial-gradient(15vh at 51.3% 52%,#640 40%,transparent 50%),radial-gradient(#4F8D2F,#136321)}#e{margin:99vh 0 0;transition:margin 1s;font:10vh/80vh a}#iw{font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw}#menu{color:#fff;width:55vh;transform:translateX(-27vh)translateY(-20vh)rotateX(-17deg)}#menu span{font:7vh/12vh arial,sans-serif}#menu h1{font:13vh/16vh arial,sans-serif;text-shadow:.1vh -.1vh #777,.2vh -.2vh #777,.3vh -.3vh #777}#menu span:hover{color:#ace;transform:rotateX(-10deg)}.pN #menu span:hover{color:#fff}#iz button{position:fixed;width:10vh;height:10vh;text-align:center;font:6vh/10vh a}#kU{right:14vh;bottom:14vh}#kD{right:14vh;bottom:2vh}#kL{right:26vh;bottom:2vh}#kR{right:2vh;bottom:2vh}#kT{left:2vh;top:2vh}#kB{left:2vh;top:14vh}#kw{bottom:2vh;left:2vh}#kx{bottom:14vh;left:2vh}#ky{top:2vh;right:18vh}#kz{top:2vh;right:6vh}#hpx0{opacity:0;transition:opacity .5s}</style></head><head></head><body id="b" class="px">
<div id="iv">
<div id="a" style="transform: translateX(-25vh) translateY(-80vh) translateZ(45vh) rotateX(40deg) rotateZ(0rad); transform-origin: 25vh 80vh 0px; width: 200vh; height: 100vh; transition: transform 1s, transform-origin 1s;">
<div id="ig"><div id="tree0" class="j tr" style="left:65vh;transform:translateX(-7vh)translateY(49vh)rotateX(-70deg)">🌳</div><div id="treeshadow0" class="e h" style="left:65vh;transform:translateX(-7.5vh)translateY(48.5vh)rotateZ(144deg)scaleY(1.5)">🌳</div><div id="tree1" class="j tr" style="left:35vh;transform:translateX(-7vh)translateY(69vh)rotateX(-70deg)">🌳</div><div id="treeshadow1" class="e h" style="left:35vh;transform:translateX(-7.5vh)translateY(68.5vh)rotateZ(144deg)scaleY(1.5)">🌳</div><div id="tree2" class="j tr" style="left:175vh;transform:translateX(-7vh)translateY(44vh)rotateX(-70deg)">🌳</div><div id="treeshadow2" class="e h" style="left:175vh;transform:translateX(-7.5vh)translateY(43.5vh)rotateZ(144deg)scaleY(1.5)">🌳</div><div class="j n" style="left:149vh;transform:translateY(39vh)rotateX(-65deg)"><div class="m">🐿️</div></div><div class="j n" style="left:144vh;transform:translateY(39vh)rotateX(-65deg)"><div class="m">🌰️</div></div><div id="dpx0" class="do s" style="left:207.5vh;top:52.5vh;transform:rotateZ(1.5707963267948966rad)translateZ(0vh)"><div class="y d0">8</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh"></div></div><div id="dpx1" class="do s" style="left:102.5vh;top:-7.5vh;transform:rotateZ(0rad)translateZ(0vh)"><div class="y d0">14</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh"></div></div><div id="dpx2" class="do" style="left:-7.5vh;top:57.5vh;transform:rotateZ(-1.5707963267948966rad)translateZ(5vh)"><div class="y d1">6</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh"></div></div><div id="dpx3" class="do s" style="left:102.5vh;top:107.5vh;transform:rotateZ(3.141592653589793rad)translateZ(0vh)"><div class="y d0">14</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh"></div></div><div id="dpx4" class="do s" style="left:27.5vh;top:107.5vh;transform:rotateZ(3.141592653589793rad)translateZ(0vh)"><div class="y d1">5</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh"></div></div><div id="cube0" class="z x" style="left:0vh;top:45vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-300vh -185vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube1" class="z x" style="left:5vh;top:45vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-305vh -185vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube2" class="z x" style="left:10vh;top:45vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-310vh -185vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube3" class="z x" style="left:15vh;top:45vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-315vh -185vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube4" class="z x" style="left:20vh;top:45vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-320vh -185vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube5" class="z x" style="left:0vh;top:50vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-300vh -190vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube6" class="z x" style="left:5vh;top:50vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-305vh -190vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube7" class="z x" style="left:10vh;top:50vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-310vh -190vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube8" class="z x" style="left:15vh;top:50vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-315vh -190vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube9" class="z x" style="left:20vh;top:50vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-320vh -190vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube10" class="z x" style="left:0vh;top:55vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-300vh -195vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube11" class="z x" style="left:5vh;top:55vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-305vh -195vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube12" class="z x" style="left:10vh;top:55vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-310vh -195vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube13" class="z x" style="left:15vh;top:55vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-315vh -195vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube14" class="z x" style="left:20vh;top:55vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-320vh -195vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube15" class="z x" style="left:0vh;top:60vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-300vh -200vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube16" class="z x" style="left:5vh;top:60vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-305vh -200vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube17" class="z x" style="left:20vh;top:60vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-320vh -200vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube18" class="z x" style="left:0vh;top:65vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-300vh -205vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube19" class="z x" style="left:5vh;top:65vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-305vh -205vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube20" class="z x" style="left:20vh;top:65vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-320vh -205vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube21" class="z x" style="left:0vh;top:70vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-300vh -210vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube22" class="z x" style="left:5vh;top:70vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-305vh -210vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube23" class="z x" style="left:15vh;top:70vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-315vh -210vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="cube24" class="z x" style="left:20vh;top:70vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-320vh -210vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div><div id="hpx4" class="t" style="left:5vh;transform:translateY(50vh)translateZ(5vh)rotateX(-70deg)translateY(-4vh)">←<br>New puzzles !</div></div>
<div id="ih"></div>
<div id="ie"></div>
<div id="ia"><div id="M0" class="sm" style="transform: translateX(25.25vh) translateY(80vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S0"></div><div id="R0" class="sr" style="transform: rotateZ(3.14159rad);"><div class="z k" id="T0"><div style="background:none;box-shadow:none;color:red;font-size:4vh;text-align:center;transform:rotateZ(180deg)translateY(-4vh)translateZ(1.5vh)">Y</div><div class="u" style="font:2.5vh/4vh a">👀</div><div class="f">‿</div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M1" class="sm" style="transform: translateX(25.25vh) translateY(85vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S1"></div><div id="R1" class="sr" style="transform: rotateZ(3.14159rad);"><div class="z k" id="T1"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M2" class="sm" style="transform: translateX(25.25vh) translateY(90vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S2"></div><div id="R2" class="sr" style="transform: rotateZ(3.14159rad);"><div class="z k" id="T2"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M3" class="sm" style="transform: translateX(25.25vh) translateY(95vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S3"></div><div id="R3" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T3"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M4" class="sm" style="transform: translateX(25.25vh) translateY(100vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S4"></div><div id="R4" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T4"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M5" class="sm" style="transform: translateX(25.25vh) translateY(105vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S5"></div><div id="R5" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T5"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M6" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S6"></div><div id="R6" class="sr"><div class="z k" id="T6"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M7" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S7"></div><div id="R7" class="sr"><div class="z k" id="T7"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M8" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S8"></div><div id="R8" class="sr"><div class="z k" id="T8"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M9" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S9"></div><div id="R9" class="sr"><div class="z k" id="T9"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M10" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S10"></div><div id="R10" class="sr"><div class="z k" id="T10"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M11" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S11"></div><div id="R11" class="sr"><div class="z k" id="T11"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M12" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S12"></div><div id="R12" class="sr"><div class="z k" id="T12"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M13" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S13"></div><div id="R13" class="sr"><div class="z k" id="T13"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M14" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S14"></div><div id="R14" class="sr"><div class="z k" id="T14"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M15" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S15"></div><div id="R15" class="sr"><div class="z k" id="T15"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div></div>
</div>
</div>
<center id="iz" style="font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw">
<button id="kU" class="h" ontouchstart="TS(38)" ontouchend="TE(38)">↑</button>
<button id="kD" class="h" ontouchstart="TS(40)" ontouchend="TE(40)">↓</button>
<button id="kL" class="h" ontouchstart="TS(37)" ontouchend="TE(37)">←</button>
<button id="kR" class="h" ontouchstart="TS(39)" ontouchend="TE(39)">→</button>
<button id="kT" class="h" ontouchstart="TS(16)" ontouchend="TE(16)">⬆︎</button>
<button id="kB" class="h" ontouchstart="TS(17)" ontouchend="TE(17)">⬇︎</button>
<button id="kw" class="h" ontouchstart="TS(18)" ontouchend="TE(18)">↩</button>
<button id="kx" class="h" ontouchstart="TS(82)" ontouchend="TE(82)">×</button>
<button id="ky" class="h" ontouchstart="TS(49)" ontouchend="TE(49)">↻</button>
<button id="kz" class="h" ontouchstart="TS(51)" ontouchend="TE(51)">↺</button>
</center>
<center id="ii" style="font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw"></center><div style="position:fixed;font:8vh a;top:3vh;right:3vh" onclick="location='index.html'">×</div></body></html><html><head><title>LOSSST</title><meta content="width=device-width,user-scalable=no" name="viewport"><script>u=r=d=l=s=c=B=0;trees=[];apples=[];doors=[];cubes=[];hints=[];emoji=[];puzzles=[];TS=function(k){ba[k]&&clearInterval(ba[k]);onkeydown({which:"+n+"});ba[k]=setInterval(function(){onkeydown({which:k})},150)};TE=function(k){setTimeout(function(){clearInterval(ba[k]);onkeyup()},150)};var g=0;function ca(){a.style.transform="translateX(-"+q[t]*v+"vh)translateY(-"+w[t]*v+"vh)translateZ(45vh)rotateX(40deg)rotateZ("+g+"rad)"}var x=$=_=0;function da(){var k=0;this.i=function(f){k+=f/48E3*Math.PI*2;return k%=2*Math.PI}}function fa(k){var f=new da,n=new da,m=.1;this.i=function(){if(!k)return 0;var A=k+.4*Math.sin(n.i(3));A=440*Math.pow(2,(A-57)/12);m*=.9998;A=f.i(A);return Math.pow(Math.sin(A),1)*m}}function ha(k){function f(){var f=k.length/2;for(_=$;0>_;)_+=f;_%=f;f=new fa(k[2*_+0].charCodeAt(0)-48);for(var A=new fa(k[2*_+1].charCodeAt(0)-48),P=[],aa=0;48E3>aa;aa++){var ea=f.i(),na=A.i(),za=.5*ea+na;P.push(ea+.5*na);P.push(za)}n(P).play()}function n(f){function k(f){f=m(f);return f[0]+f[1]}function m(f){for(var k=0,m="",n=0;4>n;n++,k+=8)m+=String.fromCharCode(f>>k&255);return m}var n=2*f.length;n="RIFF"+m(n+36)+"WAVEfmt "+m(16)+k(1)+k(2)+m(48E3)+m(192E3)+k(4)+k(16)+"data"+m(n);for(var ea in f)n+=k(32767*f[ea]);return new Audio("data:audio/wav;base64,"+btoa(n))}$=-1;this.forward=function(){$++;f()};this.back=function(){$--;f()}}function ja(k){function f(f){f=n(f);return f[0]+f[1]}function n(f){for(var k=0,m="",n=0;4>n;n++,k+=8)m+=String.fromCharCode(f>>k&255);return m}for(var m=[],A=0;;A++){var P=k(A);if(null===P)break;m.push(P)}k=2*m.length;k="RIFF"+n(k+36)+"WAVEfmt "+n(16)+f(1)+f(1)+n(48E3)+n(96E3)+f(2)+f(16)+"data"+n(k);for(A in m)k+=f(1E4*m[A]);return new Audio("data:audio/wav;base64,"+btoa(k))}function ka(k){return 1E4<k?null:(Math.pow(k,1.055)&128?1:-1)*Math.pow((1E4-k)/1E4,2)/2}function la(k){return 25E3<k?null:((k^k>>3^k*k*7.3^k<<4)&65535)/65536*((25E3-k)/25E3)/2}function ma(k){return 5E3<k?null:(Math.pow(k+1E3*Math.sin(.01*k),.8)&200?.5:-.5)*Math.pow((5E3-k)/5E3,1)/2}function oa(k){if(16E3<k)return null;var f=Math.pow((16E3-k)/16E3,2.1)/2;return(k<16E3/7?k+10*Math.sin(-k/900)&16:k&13)?f:-f}function pa(k){return 9E4<k?null:(Math.pow(k+1E3*Math.sin(.01*k),.8)&200?.5:-.5)*Math.pow((9E4-k)/9E4,1)/4}var qa=new ha("nbo0risiubv0uisirbs0ui0i0b0c0f0gniojrlsjuivjymvjubv0ui0i0j0m0n0rsgu0vnxnzgx0vnunsg0n0o0n0g0s0o0nrisjulvgufsjufscrbo0ni0j0b0i0j0il`n0ogqgs`u0vgxgz`0gxl0nsouqvsxuuev0u`0`0eq0slulqcs0qcs0qbs0q`s0njo0reseujv0xeveuj0v0e0q0j0i0g0e0cu0scq00bv0ufr0sgn0vbr0xiz0zjr0sgu0vbx0zgx0vbubsg{0zb{`z^{0zi{fzgv0xiu0vjs0ulr0sbn0oll0nbl0jfi0g00bxc0`zb0^{`0]z^0[z]0Zz[0]z^0`zb0]uf0bxi0f{l0izr0ozn0ixr0nrulrnbo0risiufs0r`o0nb0czf0gzi0gzf0cub0i0j0mvn0m0j0irbscrbs`rbs`sbrbo`q0sgugv`x0zg{gz`s0x`s0v`x0vcx0ues0q`l00eu00`x00ev00`u00eq00`o`"),ra=new ha("p0r0sdk0rco0pdk0p0r0sdw0rcs0pdk0p0r0sdk0rck0pdk0p0r0sdw0rcs0pd0f0g0iwg0bwgx0wgurrnspur0bufwgubs0pkrcsdk0rco0pkk0p0r0sdk0rco0pk0l0k0iwg0b0k0g0n0kzs0nxi0f|l0izr0p0n0lwk0dwg0k0p0k|s0pur0kuo0k0i0l0k0isd0krj0kpd0k0p0rsd0krl0opd0f0g0iskw0riw0pgw0nfw0u`s0rbs0pd0k"),y=localStorage,z=0,C=+y.lossst_s||0,sa=C?ra:qa,D=+y.lossst_m||0,ta=+y.lossst_t||0,ua=+y.lossst_M||0,va=0,ba=[],wa=0,v=5,t=0,q=[],w=[],E=[],F=[],G=y.lossst_S=+y.lossst_S||5,H=0,I=0,J=null,K="0",L=[],M=[],xa=0,N=0,O=0,Q=0,R=0,S=0,T=0,ya=+y.lossst_T||0,Aa=0,U=0,V=0,W="",X=h=0;function Ba(){var k;navigator.userAgent.match(/Mac/)&&(iv.className="a");navigator.userAgent.match(/Fire|Edg/)&&(iv.className+=" c",wa=4E3);D&&(iv.className+=" i");b.className=W;C&&!H&&(ie.innerHTML="");cubes=[];doors=[];trees=[];apples=[];hints=[];emoji=[];if("pz"==W)X=40,h=20,puzzles=[[5,,1,,"0000000000000000000000000",16,9]],G=5,C=0;else if("py"==W)h=X=20,puzzles=[eval("["+location.hash.slice(1).replace(/[01]{2,}/g,'"$&"')+"]")],G=puzzles[0][1],puzzles[0][5]=puzzles[0][6]=8,C=!!puzzles[0][3],hints=[["Move: arrow keys<br>"+(C?"Up/Down: "+(D?"\u2b06\ufe0e/\u2b07\ufe0e":"Shift/Ctrl")+"<br>":"")+"backtrack: "+(D?"\u21a9":"Alt")+"<br>Reset: R",1,5,1,0,C,0]],delete y.lossst_ppy0;else if("px"==W){X=40;h=20;trees=[[13,9,0],[7,13,0],[35,8,0]];apples=[[11,11,0,0,0],[2,12,0,6,0],[38,10,0,7,0]];doors=[[41,10,Math.PI/2,8,0,"pA",1,0,10,0,0],[20,-2,0,14,0,"pD",1,10,19,0,0],[-2,11,-Math.PI/2,6,0,"pJ",1,14,5,1,1],[20,21,Math.PI,14,0,"pC",1,22,1,0,0],[5,21,Math.PI,5,0,"pI",1,36,1,0,1]];puzzles=[];cubes=[];for(f=9;15>f;f++)for(m=0;5>m;m++)2==m&&14==f||2==m&&13==f||3==m&&13==f||3==m&&12==f||2==m&&12==f||cubes.push([m,f]);hints=[["Move with<br>arrow keys"+(D?"":" or WASD/ZQSD"),19,5,0,13,0],["Use the "+(D?"\u21a9":"Alt")+" key to backtrack",1,9,0,13,0,1],["Approach red doors with the right length to open them",35,14,0,13,0],["\u2191<br>New puzzles !<hr>Puzzle editor<br>\u2193",19,8,14,0,0],["\u2190<br>New puzzles !",1,9,6,7,1,1]];emoji=[["\ud83d\udc3f\ufe0f",30,7],["\ud83c\udf30\ufe0f",29,7]]}else if("pA"==W)X=40,h=20,trees=[[35,15,0]],apples=[[33,16,0,0,6],[34,17,0,0,6],[37,15,0,0,6]],cubes=[],doors=[[-2,10,-Math.PI/2,8,0,"px",0,39,11,0,0],[35,21,Math.PI,11,0,"pB",1,35,1,0,0]],puzzles=[[6,,0,,"000000001000001110001110001000000000",2,3],[6,,0,,"000000011000011100010000011000000000",14,3],[6,,0,,"000000000100001100011000011100000000",26,3],[5,,0,,"0000001110011100110000000",2,13],[6,,0,,"000000011000011000001100001100000000",14,13],[6,,0,,"000000000100001100001110001100000000",26,13]],hints=[["Cover the black patterns to solve puzzles",9,9,1,0],["Solve all the puzzles in the room to unlock a new door",21,9,1,0],["Your progress is saved automatically",34,9,1,0]],emoji=[["\ud83d\udc0c",11,10]];else if("pB"==W)D&&(kx.className="",y.lossst_r=1),X=40,h=20,trees=[[4,7,0]],apples=[[1,8,0,0,12],[2,9,0,0,12]],doors=[[35,-2,0,8,0,"pA",0,35,19,0,0],[-2,10,-Math.PI/2,13,0,"pC",1,39,10,0,0]],puzzles=[[6,,0,,"000000011110011010011110000000000000",8,2],[7,,0,,"0000000001110000111000001100000110000010000000000",18,2],[6,,0,,"000000011000011110001010001110000000",28,2],[6,,0,,"000000011100001110001110001100000000",8,12],[6,,0,,"000000001110001110001110001010000000",18,12],[6,,0,,"000000011110011110001100001000000000",28,12]],hints=[["If you get stuck, "+(D?"click \u00d7":"press R")+" to exit a puzzle",35,11,1,0]],cubes=[[11,4],[21,16]],emoji=[["\ud83d\udc08",4,14]];else if("pC"==W)X=40,h=20,trees=[[35,8,0]],apples=[[34,11,0,0,18]],doors=[[41,10,Math.PI/2,8,0,"pB",0,1,10,0,0],[22,-2,0,14,0,"px",1,20,19,0,0]],puzzles=[[7,,0,,"0000000000000001111000111100001111000100000000000",2,3],[7,,0,,"0000000001110000101000011100001110000110000000000",26,3],[6,,0,,"000000001110011110011010001110000000",14,3],[7,,0,,"0000000001100000111000011100001110000110000000000",2,12],[7,,0,,"0000000000000001111100101010011111000000000000000",14,12],[6,,0,,"000000011000011100011110011110000000",26,12]],hints=[["\u2191<br>After this room, you can try a puzzle editor and a new kind of puzzles !",22,11,13,0,0]],cubes=[[29,5],[30,8],[17,6],[15,4],[15,7],[29,13],[30,13],[30,14],[18,15],[16,15],[6,13],[6,17],[7,8],[6,8],[5,8],[3,7],[3,8],[7,6],[7,5]],emoji=[["\ud83e\udd8b<br><br>",29,13]];else if("pD"==W){h=X=20;trees=[[10,2,0]];doors=[[10,21,Math.PI,14,0,"px",0,20,0,0,0],[-2,5,-Math.PI/2,14,0,"pE",0,24,12,0,0]];puzzles=[[7,,1,,"0100010011111000000000000000000000001111100100010",7,7]];hints=[["Now you're thinking with wraps !",2,2,0,14,0]];for(f=0;20>f;f++)cubes.push([f,10]);emoji=[["\ud83d\udc10",12,2]]}else if("pE"==W)h=X=25,trees=[[5,12,0]],apples=[[4,14,0,0,23]],doors=[[26,12,Math.PI/2,14,0,"pD",0,0,5,0,0],[-2,12,-Math.PI/2,15,0,"pF",1,79,5,0,0]],puzzles=[[7,,1,,"1000001000000000000000010100011011011000111000001",3,3],[6,,1,,"110011100001000000100001100001110011",15,17],[5,,1,,"1100111001100011001110011",16,4],[6,,1,,"000011000011110001110001000011000011",3,17]],hints=[["Reminder:<br>use "+(D?"\u21a9":"Alt")+" to backtrack,<br>"+(D?"\u00d7":"R")+" to exit a puzzle.",11,14,1,0,0]],emoji=[["\ud83d\udc12",12,20]];else if("pF"==W)X=80,h=20,trees=[[35,10,0]],apples=[[38,11,0,0,35]],doors=[[81,5,Math.PI/2,15,0,"pE",0,0,12,0,0],[-2,15,-Math.PI/2,16,0,"pG",1,19,5,0,0]],puzzles=[[5,,1,,"0111101001010110100011111",59,13],[5,,1,,"1111011000111100001011110",48,13],[5,,1,,"1111101000011110111001100",37,13],[5,,1,,"1111110000111001000011111",26,13],[5,,1,,"1100101101001110011101101",15,13],[5,,1,,"1111100001110010000111111",59,2],[5,,1,,"1000110111100011000111111",48,2],[5,,1,,"1000110101101011111110001",37,2],[5,,1,,"1111110001000110000111111",26,2],[5,,1,,"0111101100011100011011110",15,2],[5,,1,,"1111101111001110001100001",4,8],[5,,1,,"1010100101111010000111111",71,8]],hints=[["This room hides a surprise !",72,2,0,15,0],["\u2190<br>Exit",38,9,16,0,0]],cubes=[],emoji=[];else if("pG"==W)X=20,h=30,trees=[[5,25,0]],apples=[[4,24,0,0,37],[7,25,0,0,37],[2,26,0,0,37],[3,28,0,0,37]],doors=[[21,5,Math.PI/2,16,0,"pF",0,1,15,0,0],[10,31,Math.PI,20,0,"pH",1,10,1,0,0]],puzzles=[[6,,1,,"001000001110111111011100011000001000",7,6],[6,,1,,"110001100001000111000111100001110001",7,18]],emoji=[["\ud83d\udc01",9,14]];else if("pH"==W)X=20,h=30,trees=[[16,22]],apples=[[18,22,0,0,39]],doors=[[10,-2,0,18,0,"pG",0,10,29,0,0],[21,25,Math.PI/2,21,0,"pI",1,1,10,0,0]],puzzles=[[6,,1,,"001000011110111111011110011110001000",7,6],[6,,1,,"110001100001000011000111001111111111",7,18]],emoji=[["\ud83e\udd86",9,14]];else if("pI"==W){X=40;h=20;apples=[[38,2,0,5,0]];doors=[[-2,10,-Math.PI/2,1,0,"pH",0,19,25,0,0],[36,-2,0,6,0,"px",1,5,19,0,1]];puzzles=[];hints=[["Guess what, you finished the first half of the game !",5,9,1,0],["You can now move up and down with "+(D?"\u2b06\ufe0e and \u2b07\ufe0e":"Shift and Ctrl keys")+", and open black doors",30,11,1,0]];for(f=0;9>f;f++)cubes.push([30,f]);for(f=30;40>f;f++)cubes.push([f,8]);emoji=[["\ud83d\udc22",13,14]];trees=[[3,1],[15,2],[36,3],[26,5],[25,15],[33,9],[10,12],[36,14],[3,15]]}else"pJ"==W?(X=15,h=70,trees=[[2,62]],apples=[[2,65,0,0,47],[1,66,0,0,47]],doors=[[16,5,Math.PI/2,6,0,"px",0,1,11,0,1],[-2,65,-Math.PI/2,8,0,"pK",1,19,65,0,1]],puzzles=[[5,,0,"0000000000000000000001110",,2,2],[4,,0,"0000000001000110",,4,11],[5,,0,"0000000000000000101001110",,6,20],[5,,0,"0000000000000000111000100",,8,29],[4,,0,"0000000001100110","0000011001100000",2,38],[4,,0,"0000010001100100","0000011001100000",4,47],[4,,0,"0000011001000100","0000010001100000",6,56],[4,,0,"0000000001100110","0100011000100000",8,65]],hints=[["You now have to match the patterns on the walls...",10,2,1,0,1],["... and on the floor too !",10,40,1,0,1]],emoji=[["\ud83e\udd89",10,14]]):"pK"==W?(D&&(ky.className=kz.className="",y.lossst_c=1),X=20,h=75,trees=[[2,2]],apples=[[1,4,0,0,59],[2,5,0,0,59],[3,6,0,0,59],[4,2,0,0,59]],doors=[[21,65,Math.PI/2,7,0,"pJ",0,1,65,0,1],[-2,5,-Math.PI/2,12,0,"pL",1,14,5,0,1]],puzzles=[[5,,0,"0000000000010000110001110",,8,69],[6,,0,"000000000000000000000100001110011000",,12,58],[5,,0,"0000000000010000111001000",,2,58],[4,,0,"0000001001100110","0000001001100000",2,45],[5,,0,"0000000000000000010001110","0000000100001100110000000",12,45],[5,,0,"0000000000000000101001110","0000001110010100000000000",2,34],[5,,0,"0000000000000000011001100","0000001110011000010000000",12,34],[4,,1,"0000011001100110","0110000000000110",2,22],[4,,1,"1001000000001001","1001000000001001",12,22],[4,,1,"0000010011110010","0000111101100000",2,12],[4,,1,"0110010000000011","0000011100110000",12,12],[4,,1,"1101000000000001","1101000000010001",12,2]],hints=[["You can rotate the camera with "+(D?"<br>\u21bb and \u21ba":"the keys 1, 2 and 3"),15,68,1,0,1],["Can you guess what's coming next?",7,54,1,0,1],["3D puzzles with wrap ! Use "+(D?"\u2b06\ufe0e and \u2b07\ufe0e":"Shift and Ctrl")+" to wrap between top and bottom",7,24,1,0,1]],emoji=[["\ud83d\udc1e",3,70]]):"pL"==W?(X=15,h=80,trees=[[2,70]],apples=[[1,73,0,0,68],[3,75,0,0,68]],doors=[[16,5,Math.PI/2,12,0,"pK",0,1,5,0,1],[-2,75,-Math.PI/2,14,0,"pM",1,14,25,0,1]],puzzles=[[5,,0,"0000000000001001111100100",,2,2],[4,,0,"0000010001100000",,5,11],[5,,0,"0000000110000110111000010",,8,20],[5,,0,"0000000000001000111011111","0000000000111001111100000",2,29],[4,,0,"1000110011101111","0000001111110000",5,38],[4,,0,"0000100011001110","1110110010000000",8,45],[4,,1,"1000100110010001","0000100110010000",2,54],[4,,1,"0000001011110100","0000110011110011",5,63],[5,,1,"0100011000010000111001000","0000001110110000100000000",8,72]],cubes=[[6,12]],emoji=[["\ud83d\udc1d",3,20]]):"pM"==W?(X=15,h=30,trees=[[10,12]],apples=[[8,11,0,0,71],[9,10,0,0,71],[10,9,0,0,71],[11,10,0,0,71],[12,11,0,0,71],[7,12,0,0,71]],doors=[[16,25,Math.PI/2,14,0,"pL",0,1,75,0,1],[-2,5,-Math.PI/2,20,0,"pN",1,14,5,0,1]],puzzles=[[5,,1,"0001100110011001100010000","0001100110011001100010000",2,24],[5,,1,"1100010001000011000111000","0000011000110010000000000",4,13],[5,,1,"1101110001000001000011000","1100010000000001000111011",6,2]],emoji=[["\ud83d\udc13",1,14]]):"pN"==W&&(X=15,h=48,trees=[[10,44]],apples=[[7,45,0,0,75]],doors=[[16,5,Math.PI/2,20,0,"pM",0,1,5,0,1]],puzzles=[[4,,1,"0000111101101111","1000111111111000",5,38],[4,,1,"1111001001001111","1111101010101111",5,28],[4,,1,"1111010101011101","0001101101101111",5,18],[4,,1,"1111000100011110","1111110110011111",5,8]],emoji=[["\ud83d\udc09",13,46]]);a.style.width=X*v+"vh";a.style.height=h*v+"vh";H||(ig.innerHTML="");ih.innerHTML="";for(var f in trees)ig.innerHTML+="<div id=tree"+f+' class="j tr"style=left:'+trees[f][0]*v+"vh;transform:translateX(-7vh)translateY("+(trees[f][1]*v+4)+"vh)rotateX(-70deg)>\ud83c\udf33</div><div id=treeshadow"+f+' class="e h"style=left:'+trees[f][0]*v+"vh;transform:translateX(-7.5vh)translateY("+(trees[f][1]*v+3.5)+"vh)rotateZ(144deg)scaleY(1.5)>\ud83c\udf33";for(f in apples)y["lossst_a"+W+f]?delete apples[f]:ig.innerHTML+="<div id=a"+f+' class="j g '+(y["lossst_A"+W+f]?"":"h")+'"style=left:'+apples[f][0]*v+"vh;transform:translateY("+(apples[f][1]*v+4)+"vh)rotateX(-65deg)>"+("pN"==W?"<div>\u26bd</div>":"<div class=m>\ud83c\udf4e</div>")+"</div><div id=as"+f+' class="e p '+(y["lossst_A"+W+f]?"":"h")+'"style=left:'+apples[f][0]*v+"vh;transform:scaleX(-1)translateY("+(apples[f][1]*v+3)+"vh)rotateZ(212deg)>"+("pN"==W?"\u26bd":"\ud83c\udf4e");for(f in emoji)ig.innerHTML+='<div class="j n"style=left:'+(emoji[f][1]*v-1)+"vh;transform:translateY("+(emoji[f][2]*v+4)+"vh)rotateX(-65deg)><div class=m>"+emoji[f][0];for(f in doors)ig.innerHTML+="<div id=d"+(""+W+f)+' class="do'+(y["lossst_d"+W+f]?" s":"")+'"style=left:'+(doors[f][0]+.5)*v+"vh;top:"+(doors[f][1]+.5)*v+"vh;transform:rotateZ("+doors[f][2]+"rad)translateZ("+doors[f][9]*v+'vh)><div class="y d'+doors[f][10]+'"'+(doors[f][6]?"":"hidden")+">"+doors[f][3]+'</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh">';for(var n in puzzles)for(var m in cubes)y["lossst_p"+W+n]&&cubes[m][0]>=puzzles[n][5]&&cubes[m][0]<puzzles[n][5]+puzzles[n][0]&&cubes[m][1]>=puzzles[n][6]&&cubes[m][1]<puzzles[n][6]+puzzles[n][0]&&delete cubes[m];for(f in cubes)ig.innerHTML+="<div id=cube"+f+' class="z x"style=left:'+cubes[f][0]*v+"vh;top:"+cubes[f][1]*v+'vh;width:5vh;height:5vh><div class=f></div><div class=u style="background-position:'+(-300-cubes[f][0]*v)+"vh "+(-140-cubes[f][1]*v)+'vh"></div><div class=r></div><div class=l></div><div class=b>';for(f in hints)C^hints[f][5]||!(hints[f][3]&&hints[f][3]<=G||hints[f][4]&&hints[f][4]>=G)||(ig.innerHTML+="<div id=h"+(""+W+f)+" class=t style=left:"+hints[f][1]*v+"vh;transform:translateY("+(hints[f][2]*v+5)+"vh)translateZ("+(hints[f][6]*v||0)+"vh)rotateX(-70deg)translateY(-4vh)>"+hints[f][0]);y.lossst_x&&top.hpx0&&(hpx0.style.opacity=1);for(n in puzzles){T=puzzles[n][0];var A=k="";ih.innerHTML+="<div id=puzzle"+n+' class="z q v '+(puzzles[n][2]&&!y["lossst_p"+W+n]?"w":"")+'"style=left:'+puzzles[n][5]*v+"vh;top:"+puzzles[n][6]*v+"vh;width:"+puzzles[n][0]*v+"vh;height:"+T*v+"vh>"+(puzzles[n][2]?"<div class=l></div><div class=r></div>":"")+"<div id=D"+n+" class=d></div><div id=B"+n+" class=b></div>"+(puzzles[n][2]?"<div class=f>":"");var P="000",aa="fff";y["lossst_p"+W+n]&&(P="44c",aa="fd0",puzzles[n][2]=0);for(f=0;f<T;f++)for(m=0;m<T;m++)puzzles[n][3]&&(k+="<div class=o id=w"+n+f+m+" style=width:"+v+"vh;height:"+v+"vh;background:#"+("1"==puzzles[n][3][f*T+m]?P:aa)+"></div>"),puzzles[n][4]&&(A+="<div class=o id=g"+n+f+m+" style=width:"+v+"vh;height:"+v+"vh;background:#"+("1"==puzzles[n][4][f*T+m]?P:aa)+"></div>");top["D"+n]&&(top["D"+n].innerHTML+=A);top["B"+n]&&(top["B"+n].innerHTML+=k)}"pN"==W&&(ig.innerHTML+="<div style='position:fixed;transform:"+(D?"rotateZ(-90deg)translateX(-87vh)translateY(22vh)translateZ(365vh)":"rotateZ(-90deg)translateX(-83vh)translateY(6vh)translateZ(208vh)")+";font: 30vh/25vh a'>THE<br><br>END");H&&(y.lossst_e||y.lossst_s&&6<y.lossst_S||(ik.style.opacity=im.style.opacity=0,ik.style.position=im.style.position="fixed",ik.style.top=im.style.top="-9vh"),J=0,Y(1),xa=1,Q=O=N=0,puzzles[0][2]=0,setTimeout(function(){(ib.onchange=ib.oninput=resetgrid=function(){Ca();Y();ij.disabled=1;gridval.innerHTML=T=+ib.value;puzzle0.style.width=puzzle0.style.height=T*v+"vh";puzzles[0][0]=T;D0.innerHTML="";A=k=B0.innerHTML="";M=[];L=[];for(f=0;f<T;f++)for(M[f]=[],L[f]=[],m=0;m<T;m++)M[f][m]=0,L[f][m]=0;for(f=0;f<T;f++)for(m=0;m<T;m++)k+="<div class=o id=w"+K+f+m+" style=width:"+v+"vh;padding-top:"+v+"vh></div>",A+="<div class=o id=g"+K+f+m+" style=width:"+v+"vh;padding-top:"+v+"vh></div>";xa&&(D0.innerHTML+=A);N&&(B0.innerHTML+=k)})();iq.onchange=iq.oninput=function(){it.innerHTML=G=+iq.value;Ca();Y()};ik.onclick=function(){ik.checked?xa=1:top.wall&&(xa=0,C=N=1,wall.checked=!0);a.className=N?"haswall":"";resetgrid()};top.wall&&(wall.onclick=function(){wall.checked?(N=1,C=puzzles[0][3]=1):(N=C=0,xa=1,ik.checked=!0,puzzles[0][3]=0);a.className=N?"haswall":"";resetgrid()});top.wrap&&(wrap.onclick=function(){O=puzzles[0][2]=wrap.checked||0;puzzle0.className="z q v "+(O?"w":"");resetgrid()});print=function(k){var n="";for(f=0;f<T;f++)for(m=0;m<T;m++)n=top[k+"0"+f+m].style.background&&top[k+"0"+f+m].style.background.match(/255/)?n+0:n+1;return n};ij.onclick=function(){var f=[];f.push(T);f.push(G);f.push(O?1:0);f.push(N?print("w"):"");f.push(ik.checked?print("g"):"");open("//twitter.com/intent/tweet?text=I%20made%20a%20level%20for%20@MaximeEuziere's%20%23js13k%20game%20LOSSST!%0APlay%20here:%20js13kgames.com%2Fentries%2Flossst%0AMy%20level:%20js13kgames.com%2Fgames%2Flossst%23"+f+"%0A%23LOSSSTlevels")}},100));"px"!=W||y.lossst_x?(a.style.transition="transform 1s,transform-origin 1s",Ca()):(I=1,setTimeout(function(){Ca();Y();M0.style.transition="transform .5s"},2E3),setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(0);F.push(F[t]);t++;Y()},5500+wa),setTimeout(function(){M0.style.transition="";R0.style.transition="transform .2s";R0.style.transform="rotateZ("+-Math.PI/4+"rad)"},6500+wa),setTimeout(function(){R0.style.transform="rotateZ("+Math.PI/4+"rad)"},7E3+wa),setTimeout(function(){R0.style.transform=""},7500+wa),setTimeout(function(){S0.style.transition=R0.style.transition=""},8E3+wa),setTimeout(function(){clearInterval(x);z||(I=0);hpx0.style.opacity=1},8400),setTimeout(function(){a.style.transition="transform 1s,transform-origin 1s";y.lossst_x=20;y.lossst_y=10;b.innerHTML+="<div style='position:fixed;font:8vh a;top:3vh;right:3vh'onclick=location='index.html'>\u00d7";D&&(kU.className=kD.className=kL.className=kR.className="",y.lossst_w=1)},9E3));Y()}function Ca(){var k=C&&!H?ia:ie;k.innerHTML="";q=[];w=[];E=[];F=[];t=G-1;if("py"==W)for(i=0;i<G;i++)q[t-i]=1-i,w[t-i]=10,E[t-i]=0,F[t-i]=-Math.PI/2;else if(H)for(i=0;i<G;i++)q[t-i]=13-i,w[t-i]=12,E[t-i]=0,F[t-i]=-Math.PI/2;else if(y.lossst_x){var f=+y.lossst_x,n=+y.lossst_y,m=+y.lossst_z;"px"==W&&2>y.lossst_x&&(m=y.lossst_z=1);if("pI"==W&&z&&1==C)for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i-1,F[t-i]=0;else if(2>f)for(i=0;i<G;i++)q[t-i]=f-i,w[t-i]=n,E[t-i]=m,F[t-i]=-Math.PI/2;else if(f>X-2)for(i=0;i<G;i++)q[t-i]=f+i,w[t-i]=n,E[t-i]=m,F[t-i]=Math.PI/2;else if(2>n)for(i=0;i<G;i++)q[t-i]=f,w[t-i]=n-i,E[t-i]=m,F[t-i]=0;else if(n>h-2)for(i=0;i<G;i++)q[t-i]=f,w[t-i]=n+i,E[t-i]=m,F[t-i]=0;else for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i,F[t-i]=0}else if("px"==W)for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i-1,F[t-i]=0;for(i=0;i<Math.max(G+4,16);i++)k.innerHTML+="<div id=M"+i+" class=sm style=transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:"+(v-.7)+"vh;height:"+(v-.7)+"vh><div class=ss id=S"+i+"></div><div id=R"+i+' class=sr><div class="z k"id=T'+i+">"+(1>i?"<div style=background:none;box-shadow:none;color:red;font-size:4vh;text-align:center;transform:rotateZ(180deg)translateY(-4vh)translateZ(1.5vh)>Y</div>":"")+'<div class=u style="font:'+.5*v+"vh/"+.8*v+'vh a">'+(1>i?"\ud83d\udc40":"")+"</div><div class=f>"+(1>i?"\u203f":"")+"</div><div class=r></div><div class=l></div><div class=b>"}function Y(k){for(var f={a:0};f.a<G;f={a:f.a,j:f.j,m:f.m,o:f.o},f.a++)if(!k){var n=oldx=oldy=oldz=newx=newy=newz=0;O&&T&&(q[t-f.a-1]==R&&q[t-f.a]==R+T-1?(n=1,oldx=R-1,newx=R+T,oldy=newy=w[t-f.a],oldz=newz=E[t-f.a]):q[t-f.a-1]==R+T-1&&q[t-f.a]==R?(n=1,oldx=R+T,newx=R-1,oldy=newy=w[t-f.a],oldz=newz=E[t-f.a]):w[t-f.a-1]==S&&w[t-f.a]==S+T-1?(n=1,oldy=S-1,newy=S+T,oldx=newx=q[t-f.a],oldz=newz=E[t-f.a]):w[t-f.a-1]==S+T-1&&w[t-f.a]==S?(n=1,oldy=S+T,newy=S-1,oldx=newx=q[t-f.a],oldz=newz=E[t-f.a]):0==E[t-f.a-1]&&E[t-f.a]==T-1?(n=1,oldz=-1,newz=T,oldx=newx=q[t-f.a],oldy=newy=w[t-f.a]):E[t-f.a-1]==T-1&&0==E[t-f.a]&&(n=1,oldz=T,newz=-1,oldx=newx=q[t-f.a],oldy=newy=w[t-f.a]));if(n)top["R"+f.a].style.transform="rotateZ("+F[t-f.a]+"rad)",top["M"+f.a].style.transform="translateX("+(oldx*v+.5)+"vh)translateY("+(oldy*v+.5)+"vh)translateZ("+(oldz*v+.5)+"vh)scale(.01)scaleZ(.01)",setTimeout(function(f){return function(){top["M"+f.a].style.transition="none"}}(f),90),f.j=newx,f.m=newy,f.o=newz,setTimeout(function(f){return function(){top["M"+f.a].style.transform="translateX("+(f.j*v+.5)+"vh)translateY("+(f.m*v+.5)+"vh)translateZ("+(f.o*v+.5)+"vh)scale(.01)"}}(f),100),setTimeout(function(f){return function(){top["M"+f.a].style.transition="";top["M"+f.a].style.transform="translateX("+(q[t-f.a]*v+.25)+"vh)translateY("+w[t-f.a]*v+"vh)translateZ("+(E[t-f.a]*v+.5)+"vh)"}}(f),150);else try{top["M"+f.a].style.transform="translateX("+(q[t-f.a]*v+.25)+"vh)translateY("+w[t-f.a]*v+"vh)translateZ("+(E[t-f.a]*v+.5)+"vh)",top["R"+f.a].style.transform="rotateZ("+F[t-f.a]+"rad)"}catch(A){}try{top["S"+f.a].style.display=0==E[t-f.a]?"":"none"}catch(A){}}H?a.style.transform="translateX(-100vh)translateY(-37vh)translateZ(-5vh)rotateX(33deg)":null===J||y["lossst_p"+W+J]?(a.style.transform="translateX("+-q[t]*v+"vh)translateY("+-w[t]*v+"vh)translateZ(45vh)rotateX(40deg)rotateZ("+g+"rad)",a.style.transformOrigin=""+q[t]*v+"vh "+w[t]*v+"vh"):(a.style.transform="translateX("+(-(R+puzzles[J][0]/2)*v+5)+"vh)translateY("+(-(S+puzzles[J][0]/2)*v+8)+"vh)translateZ("+(90-puzzles[J][0]*(v+3))+"vh)rotateX(30deg)rotateZ("+g+"rad)",a.style.transformOrigin=""+((R+puzzles[J][0]/2)*v+5)+"vh "+((S+puzzles[J][0]/2-1)*v+8)+"vh");f=C?1:0;for(k=0;k<G;k++){if(0>=E[t-k]){f=0;break}for(m in cubes)cubes[m][0]==q[t-k]&&cubes[m][1]==w[t-k]&&1==E[t-k]&&(f=0)}if(f){for(k=0;k<G;k++)E[t-k]--;try{Y()}catch(A){for(var m=2*G;m--;)q.pop(),w.pop(),E.pop(),F.pop(),t--;Aa=0;Y()}}f=q[t];n=w[t];for(k in doors)(doors[k][10]&&C||!doors[k][10]&&!C)&&top["d"+W+k]&&0<doors[k][3]&&G>=doors[k][3]&&4>Math.hypot(f-doors[k][0],n-doors[k][1])&&!y["lossst_d"+W+k]&&(top["d"+W+k].className="do s",!doors[k][6]||"px"==W&&2<k||ja(pa).play(),y["lossst_d"+W+k]=1),top["d"+W+k]&&"do s"==top["d"+W+k].className&&2>Math.hypot(f-doors[k][0],n-doors[k][1])&&(y.lossst_p=W=doors[k][5],setTimeout(Ba,600),y.lossst_x=doors[k][7],y.lossst_y=doors[k][8],y.lossst_z=0);null!==J&&Da();H||(J=null);H||(L=[],M=[]);for(p in puzzles)if(f>=puzzles[p][5]&&f<puzzles[p][5]+puzzles[p][0]&&n>=puzzles[p][6]&&n<puzzles[p][6]+puzzles[p][0]){J=+p;Q=0;y["lossst_p"+W+p]&&(Q=1);K=p;xa=!!puzzles[p][4];N=!!puzzles[p][3];O=!!puzzles[p][2];R=puzzles[p][5];S=puzzles[p][6];T=puzzles[p][0];for(k=0;k<T;k++)for(L[k]=[],M[k]=[],m=0;m<T;m++)puzzles[p][3]&&(M[k][m]=+puzzles[p][3][k*puzzles[p][0]+m]),puzzles[p][4]&&(L[k][m]=+puzzles[p][4][k*puzzles[p][0]+m]);Da()}}function Z(k,f,n){V=0;if(0>k||k>=X||0>f||f>=h)V=1;for(var m in trees)k>=trees[m][0]-1&&k<=trees[m][0]&&f==trees[m][1]&&3>E[t]&&(V=1);for(m in hints)k>=hints[m][1]&&k<=hints[m][1]+3&&f==hints[m][2]&&G>=hints[m][3]&&(!hints[m][4]||G<=hints[m][4])&&(C&&hints[m][5]||!C&&!hints[m][5])&&(V=1);for(m in apples)if(y["lossst_A"+W+m]&&k==apples[m][0]&&f==apples[m][1]&&0==E[t])if(ja(ka).play(),"pN"==W){x=setInterval(sa.forward,150);y.lossst_E=1;setTimeout(function(){I=1;as0.remove();a0.style.transform="translateY(319vh)translateZ(2vh)rotateX(-65deg)rotateY(90deg)";a0.style.transition=a.style.transition="10s";a0.style.transform="translateY(15vh)translateZ(2vh)rotateX(-65deg)";a.style.transform=D?"translateX(-133vh)translateY(-249vh)translateZ(-373vh)rotateZ(90deg)":"translateX(-141vh)translateY(-227vh)translateZ(-185vh)rotateZ(90deg)"},200);var A={},P;for(P in puzzles)A.g=P,setTimeout(function(f){return function(){top["B"+f.g].style.transition=".5s";top["B"+f.g].style.transform="translateY(-125%)"}}(A),[1450,2500,3800,5400][A.g]),A={g:A.g};setTimeout(function(){clearInterval(va);y.lossst_E=1;y.lossst_e=1;b.style.background="#000";y.lossst_s=0;b.innerHTML="<div id=iv style=perspective:90vh><center id=menu style=width:75vh;transform:translateX(-38vh)translateY(-35vh)rotateX(-28deg)><span style=font-size:4vh;line-height:5vh><h1>Congrats!</h1><br>You completed the game in<br>"+ta+" seconds and "+ua+" moves!<br><br><a href=//twitter.com/intent/tweet?text=I%20played%20LOSSST,%20a%20%23js13k%20game%20by%20by%20@MaximeEuziere%0Amy%20score:%20"+ta+"%20seconds%20and%20"+ua+"%20moves!%0Ajs13kgames.com%2Fentries%2Flossst target=_blank style=color:#def;font-size:4vh>TWEET YOUR SCORE</a><br><br>Dev record:<br>854 seconds, 2452 moves<br><br>3D puzzle editor unlocked!<br><br><a href=. style=font-size:4vh>MAIN MENU"},15E3);n=document.querySelectorAll(".o");A={};for(var aa in n){A.h=aa;try{2==n[A.h].style.backgroundColor.match(/68/g).length&&setTimeout(function(f){return function(){top[n[f.h].id].style.background="#a00"}}(A),8E3+10*A.h)}catch(na){}A={h:A.h}}}else if(delete apples[m],top["a"+m].remove(),top["as"+m].remove(),G++,y.lossst_S=G,y["lossst_a"+W+m]=1,"pF"==W&&16==G){I=1;x=setInterval(sa.forward,150);z=1;a.style.transition="5s";a.style.transform="translateX(-180vh)translateY(-53vh)translateZ("+(D?-422:-180)+"vh)rotateZ(180deg)";setTimeout(function(){a.style.transition="1s";I=z=0;Y();ig.innerHTML+="<div class=t style=left:190vh;transform:translateY(50vh)rotateX(-55deg)translateY(-4vh)>\u2190<br>Exit";clearInterval(x)},1E4);n=document.querySelectorAll(".o");A={};for(var ea in n){A.f=ea;try{n[A.f].id.match(/g\d\d\d$/)&&2==n[A.f].style.backgroundColor.match(/68/g).length&&setTimeout(function(f){return function(){top[n[f.f].id].style.background="#a00"}}(A),5500+10*A.f)}catch(na){}A={f:A.f}}}for(m in cubes)k==cubes[m][0]&&f==cubes[m][1]&&0==n&&(V=1);for(m in emoji)"pC"!=W&&k==emoji[m][1]&&f==emoji[m][2]&&0==n&&(V=1);for(m in doors)top["d"+W+m]&&"do s"==top["d"+W+m].className&&2>=Math.hypot(k-doors[m][0],f-doors[m][1])&&(V=0);hitcube2=0;for(m=G-2;0<m;m--)q[t-m]==k&&w[t-m]==f&&E[t-m]==n&&(V=1,1==m&&(hitcube2=1));for(p in puzzles)puzzles[p][3]&&k>=puzzles[p][5]&&k<puzzles[p][5]+puzzles[p][0]&&(f==puzzles[p][6]-1&&w[t]==puzzles[p][6]&&!puzzles[p][2]||f==puzzles[p][6]&&w[t]==puzzles[p][6]-1)&&(V=1);if("pI"==W&&18==k&&!C){z=C=V=I=1;clearInterval(x);sa=ra;_=$=0;x=setInterval(ra.forward,250);y.lossst_s=1;y.lossst_S=G=5;for(k=0;21>k;k++)cubes.push([q[t-k],w[t-k]]),top["M"+k].id="",top["R"+k].id="",top["S"+k].id="",top["T"+k].id="";a.style.transition="2s";Ca();Y();a.style.transform="translateX(-105vh)translateY(-51vh)translateZ(80vh)rotateX(45deg)";a.style.transformOrigin="140vh 70vh";setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(0);F.push(F[t]);t++;Y()},3E3);setTimeout(function(){ii.innerHTML="Daddy!"},4E3);setTimeout(function(){ii.innerHTML=""},6E3);setTimeout(function(){ii.innerHTML="I lossst my soccer ball!"},7E3);setTimeout(function(){ii.innerHTML=""},9E3);setTimeout(function(){ii.innerHTML="But I found new moves!"},1E4);setTimeout(function(){ii.innerHTML="";z=I=0;clearInterval(x);a.style.transition="1s";Y();Ea();D&&(kT.className=kB.className="",y.lossst_B=1)},13500)}}function Da(){if(!Q&&null!==J){solved=1;H&&(ij.disabled=0);for(i=0;i<T;i++)for(j=0;j<T;j++)try{top["g"+K+i+j]&&(top["g"+K+i+j].style.background=L[i][j]?"#000":"#fff"),top["w"+K+i+j]&&(top["w"+K+i+j].style.background=M[i][j]?"#000":"#fff")}catch(m){}if(q[t]<R||q[t]>R+T-1||w[t]<S||w[t]>S+T-1||0>E[t]||E[t]>T-1)H&&(ij.disabled=1);else{for(i=0;i<G;i++){top["g"+K+(w[t-i]-S)+(q[t-i]-R)]&&(top["g"+K+(w[t-i]-S)+(q[t-i]-R)].style.background=L[w[t-i]-S][q[t-i]-R]?"#080":H?"#44c":"#f00");w[t-i]>=S&&w[t-i]<S+T&&top["w"+K+(T-1-E[t-i])+(q[t-i]-R)]&&(top["w"+K+(T-1-E[t-i])+(q[t-i]-R)].style.background=M[T-1-E[t-i]][q[t-i]-R]?"#080":H?"#44c":"#f00");if(q[t-i]<R||q[t-i]>R+T-1||w[t-i]<S||w[t-i]>S+T-1||E[t-i]>T-1)H&&(ij.disabled=1),solved=0;xa&&L[w[t-i]-S]&&!L[w[t-i]-S][q[t-i]-R]&&(solved=0);N&&M[T-1-E[t-i]]&&!M[T-1-E[t-i]][q[t-i]-R]&&(solved=0)}for(i=0;i<T;i++)for(j=0;j<T;j++){try{xa&&3==top["g"+K+i+j].style.backgroundColor.match(/0/g).length&&(solved=0)}catch(m){}try{N&&3==top["w"+K+i+j].style.backgroundColor.match(/0/g).length&&(solved=0)}catch(m){}}if(solved){Q=H?0:1;puzzles[J][2]=0;top["puzzle"+J].classList.remove("w");H||(y["lossst_p"+W+J]=1);for(i=0;i<T;i++)for(j=0;j<T;j++){try{top["g"+K+i+j].style.background=L[i][j]?"#44c":"#fd0"}catch(m){}try{top["w"+K+i+j].style.background=M[i][j]?"#44c":"#fd0"}catch(m){}}H||(ja(oa).play(),ya++,y.lossst_T=ya);var k=1,f={},n;for(n in cubes)f.b=n,cubes[f.b][0]>=puzzles[J][5]&&cubes[f.b][0]<puzzles[J][5]+puzzles[J][0]&&cubes[f.b][1]>=puzzles[J][6]&&cubes[f.b][1]<puzzles[J][6]+puzzles[J][0]&&(delete cubes[f.b],k++,setTimeout(function(f){return function(){top["cube"+f.b].remove()}}(f),200*k)),f={b:f.b}}}}}function Ea(){for(var k in apples)if(!y["lossst_A"+W+k]&&(0<apples[k][3]&&apples[k][3]==G||0<apples[k][4]&&apples[k][4]==ya)){I=1;D&&"px"==W&&1==k&&(kw.className="",y.lossst_b=1);var f=setTimeout;a.style.transform="translateX("+-apples[k][0]*v+"vh)translateY("+-apples[k][1]*v+"vh)translateZ(50vh)rotateX(35deg)";y["lossst_A"+W+k]=1;a.style.transformOrigin=""+apples[k][0]*v+"vh "+apples[k][1]*v+"vh";f(void 0,250);f=setTimeout;top["a"+k].className="j g";top["as"+k].className="e p";f(void 0,800);setTimeout(function(){ja(la).play()},850);setTimeout(function(){Y();z||(I=0)},2E3)}}function Fa(){U=0;H||(J=null);for(p in puzzles)q[t]>=puzzles[p][5]&&q[t]<puzzles[p][5]+puzzles[p][0]&&w[t]>=puzzles[p][6]&&w[t]<puzzles[p][6]+puzzles[p][0]&&0<=E[t]&&E[t]<puzzles[p][0]&&(J=+p,U=1)}onkeydown=function(k){top["lurd************************l**r************l*d***u**u"[k.which-37]]=1;18==k.which&&(B=1);16==k.which&&(s=1);17==k.which&&(c=1);if(!I){if(49==k.which||97==k.which)-1<g&&g--,ca();if(50==k.which||98==k.which)g=0,ca();if(51==k.which||99==k.which)1>g&&g++,ca()}Fa();U?Da():Aa=0;if(82==k.which&&U){if(Aa<=t)for(var f=Aa;f<=t;f++)q.pop(),w.pop(),E.pop(),F.pop(),setTimeout(function(){sa.back()},70*(t-f));t=Aa-1;Aa=0;Y();Da();y.lossst_M=++ua}else if(116!=k.which&&82!=k.which&&17!=k.which&&123!=k.which&&k.preventDefault&&k.preventDefault(),!I){V=0;if(l)!Q&&O&&U&&q[t]==R?(Z(R+T-1,w[t],E[t]),V||(q.push(R+T-1),w.push(w[t]),E.push(E[t]),F.push(Math.PI/2),t++)):(Z(q[t]-1,w[t],E[t]),V||(q.push(q[t]-1),w.push(w[t]),E.push(E[t]),F.push(Math.PI/2),t++));else if(r)!Q&&O&&U&&q[t]==R+T-1?(Z(R,w[t],E[t]),V||(q.push(R),w.push(w[t]),E.push(E[t]),F.push(-Math.PI/2),t++)):(Z(q[t]+1,w[t],E[t]),V||(q.push(q[t]+1),w.push(w[t]),E.push(E[t]),F.push(-Math.PI/2),t++));else if(u)!Q&&O&&U&&w[t]==S?(Z(q[t],S+T-1,E[t]),V||(q.push(q[t]),w.push(S+T-1),E.push(E[t]),F.push(Math.PI),t++)):(Z(q[t],w[t]-1,E[t]),V||(q.push(q[t]),w.push(w[t]-1),E.push(E[t]),F.push(Math.PI),t++));else if(d)!Q&&O&&U&&w[t]==S+T-1?(Z(q[t],S,E[t]),V||(q.push(q[t]),w.push(S),E.push(E[t]),F.push(0),t++)):(Z(q[t],w[t]+1,E[t]),V||(q.push(q[t]),w.push(w[t]+1),E.push(E[t]),F.push(0),t++));else if((C||N)&&s){if(!U){k=G-1;for(f in cubes)cubes[f][0]==q[t]&&cubes[f][1]==w[t]&&k++;if(E[t]==k)return}!Q&&O&&U&&E[t]==T-1?(Z(q[t],w[t],0),V||(q.push(q[t]),w.push(w[t]),E.push(0),F.push(F[t]),t++)):(Z(q[t],w[t],E[t]+1),V||(q.push(q[t]),w.push(w[t]),E.push(E[t]+1),F.push(F[t]),t++))}else(C||N)&&c?!Q&&O&&U&&0==E[t]?(Z(q[t],w[t],T-1),V||(q.push(q[t]),w.push(w[t]),E.push(T-1),F.push(F[t]),t++)):0==E[t]?V=1:(Z(q[t],w[t],E[t]-1),V||(q.push(q[t]),w.push(w[t]),E.push(E[t]-1),F.push(F[t]),t++)):B&&t>G&&(F.pop(),q.pop(),w.pop(),E.pop(),t--);V&&!I&&(I=1,setTimeout(function(){z||(I=0)},150),!(-1<q[t]&&q[t]<X&&-1<w[t]&&w[t]<h)||"pI"==W&&!C&&16<q[t]||hitcube2||ja(ma).play());if(!V&&!z&&(u||r||d||l||s||c||B)){y.lossst_M=++ua;Da();Y();B?t>G&&sa.back():(C||!s&&!c&&!C)&&sa.forward();Y(1);Ea();I||(I=1,setTimeout(function(){z||(I=0)},150));if("px"==W&&(C||14<=G)&&20==q[t]&&10==w[t]){I=1;var n=0;for(f=0;f<G;f++)setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(--n);F.push(F[t]);t++;Y()},150*f);setTimeout(function(){AA("pz",1)},160*G);y.lossst_x=20;y.lossst_y=10}Fa();U&&!Aa&&(Aa=t)}}};onkeyup=function(){u=r=d=l=s=c=B=0};onload=function(){1<location.hash.length?AA("py",1):(setTimeout(function(){x=setInterval(function(){sa.forward()},500)},200),b.innerHTML="<center id=e>\ud83d\udc40</center>\n<center id=iw></center>\n<div id=iv style=perspective:30vh>\n<center id=menu>\n<h1>LOSSST</h1>\n<span onclick=newgame()>New game</span><br>\n"+(y.lossst_a&&!y.lossst_E?"<span onclick=AA(0,1)>Continue</span><br>":"")+"\n<span onclick=AA(\"pz\",1)>Puzzle editor</span><br>\n<span onclick=top.open('//goo.gl/iKqoCS')>Bonus",newgame=function(){for(i in localStorage)0==i.indexOf("lossst")&&-1==i.indexOf("e")&&delete localStorage[i];y.lossst_a=1;menu.innerHTML="<br><br><span onclick=intro(0)>Desssktop</span><br><br><span onclick=intro(1)>Mobile"},intro=function(k){clearInterval(x);_=$=0;x=setInterval(sa.forward,250);y.lossst_m=D=k;y.lossst_S=G=5;ta=y.lossst_t=0;ua=y.lossst_M=0;y.lossst_M=0;y.lossst_t=0;menu.innerHTML="";setTimeout(function(){e.style.margin=0},500);dir=1;inter=setInterval(function(){e.style.opacity=0;setTimeout(function(){e.style.opacity=1;dir=-dir;e.style.transform="scaleX("+dir+")"},150)},3E3);setTimeout(function(){iw.innerHTML="I lossst my kid !"},2E3);setTimeout(function(){iw.innerHTML=""},5E3);setTimeout(function(){clearInterval(inter);e.style.margin="-80vh 0 0"},7E3);setTimeout(AA,7500)})};AA=function(k,f){if(0===k||"pz"==k)clearInterval(x),_=$=0;"pz"==k&&(H=1,J=0);W=k||y.lossst_p||"px";b.outerHTML="<body id=b class="+W+">\n<div id=iv>\n<div id=a style=transform:translateX(-97vh)translateY(-50vh)rotateZ(90deg)translateZ(119vh);transform-origin:100vh+50vh>\n<div id=ig>"+(H?"<div class=t style=width:60vh;transform:translateX(70vh)translateY(1vh)translateZ(2vh)rotateX(-42deg)>\n<label style=width:100%;text-align:center>Create a pattern with the snake and share it !</label>\n<br style=line-height:6vh>\n<div style=text-align:left;padding-left:5vh>\n<label>Grid</label> <input id=ib type=range value=5 min=3 max=8 step=1>\n<span id=gridval>5</span>\n<br>\n<label>Snake</label> <input id=iq type=range value=5 min=5 max=40 step=1>\n<span id=it>5</span>\n</div>\n<input type=checkbox id=ik checked> <label for=ik id=im>ground</label>\n"+(y.lossst_e||y.lossst_s&&6<y.lossst_S?"<input type=checkbox id=wall> <label for=wall>wall</label>":"")+"\n"+(y.lossst_e||y.lossst_s?"<input type=checkbox id=wrap> <label for=wrap>wrap</label>":"")+"\n<br>\n<center>\n<button id=ij disabled>Share</button>\n</center>\n</div>":"")+"\n</div>\n<div id=ih></div>\n<div id=ie></div>\n<div id=ia></div>\n</div>\n</div>\n<center id=iz style='font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw'>\n<button id=kU class=h ontouchstart=TS(38) ontouchend=TE(38)>\u2191</button>\n<button id=kD class=h ontouchstart=TS(40) ontouchend=TE(40)>\u2193</button>\n<button id=kL class=h ontouchstart=TS(37) ontouchend=TE(37)>\u2190</button>\n<button id=kR class=h ontouchstart=TS(39) ontouchend=TE(39)>\u2192</button>\n<button id=kT class=h ontouchstart=TS(16) ontouchend=TE(16)>\u2b06\ufe0e</button>\n<button id=kB class=h ontouchstart=TS(17) ontouchend=TE(17)>\u2b07\ufe0e</button>\n<button id=kw class=h ontouchstart=TS(18) ontouchend=TE(18)>\u21a9</button>\n<button id=kx class=h ontouchstart=TS(82) ontouchend=TE(82)>\u00d7</button>\n<button id=ky class=h ontouchstart=TS(49) ontouchend=TE(49)>\u21bb</button>\n<button id=kz class=h ontouchstart=TS(51) ontouchend=TE(51)>\u21ba</button>\n</center>\n<center id=ii style='font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw'>";y.lossst_Apx0=1;Ba();if(D&&"py"==W||y.lossst_w)kU.className=kD.className=kL.className=kR.className="";if(D&&"py"==W||y.lossst_b)kw.className="";if(D&&"py"==W||y.lossst_r)kr.className="";if(D&&"py"==W||y.lossst_B)kT.className="",kB.className="";if(D&&"py"==W||y.lossst_c)ky.className="",kz.className="";H||(va=setInterval(function(){y.lossst_t=++ta},1E3));f&&(b.innerHTML+="<div style='position:fixed;font:8vh a;top:3vh;right:3vh'onclick=location='.'>\u00d7")}</script><style>@keyframes move{0%,100%{transform:rotateY(-10deg)}50%{transform:rotateY(10deg)}}*{margin:0;padding:0;font:2.5vh/5.5vh arial,sans-serif;vertical-align:middle;box-sizing:border-box;-webkit-touch-callout:none;-webkit-user-select:none;-webkit-tap-highlight-color:transparent;user-select:none;cursor:pointer;touch-action:manipulation}html,body{height:100%;background:#000;overflow:hidden;background:radial-gradient(#def 25%,#7ce)}a{color:#def}input,button{position:relative;z-index:2}input[type=range]::-webkit-slider-runnable-track,input[type=range]::-webkit-slider-thumb{background:#888;border:1px solid #000}input[type=range]::-moz-range-track,input[type=range]::-moz-range-thumb{background:#888;border:1px solid #000}#iv{width:0;height:0;perspective:120vh;position:absolute;top:50%;left:50%}#iv *{transform-style:preserve-3d}#a{width:0;height:0;transform-origin:18vh 0%;transition:transform 1s,transform-origin 1s}.z{position:fixed;top:0;left:0}.z>div{width:100%;height:100%;position:fixed}.z .u{transform:rotateY(90deg)translateX(-100%)rotateY(-90deg)}.z .l{transform:rotateX(-90deg)translateY(-50%)translateX(-50%)rotateY(-90deg)}.z .r{transform:rotateX(-90deg)translateY(-50%)translateX(50%)rotateY(90deg)}.z .f{transform:translateY(50%)rotateX(-90deg)translateY(-50%)}.z .b{transform:translateY(-50%)rotateX(-90deg)translateY(-50%)rotateY(180deg)}.z.q{width:32vh;height:32vh;transform:none}.z.q>div{background:transparent}.z.q .b{transition:opacity .5s;transform:translateY(-50%)rotateX(-90deg)translateY(-52%)}.z.q.w .d,.z.q .d{transition:opacity .5s;background:#0c5b0c}.sm,.sr{transform-origin:50% 50%;width:100%;height:100%;position:fixed}.sm{transition:transform .15s}.z.k{width:100%;height:100%}.z.k>div{box-shadow:0 0 0 .1vh #000 inset;text-align:center}.z.k .f{line-height:3vh}#ie .z.k>div{background:#FFA500}#ie .z.k .u{background:#dF8500}#ia .z.k>div,#a.haswall .z.k>div{background:#444}#ia .z.k .u,#a.haswall .z.k .u{background:#333}#ia .z.k .f{color:#fff}.ss{position:fixed;width:100%;height:100%;background:rgba(0,0,0,.25);transform:translateX(14%)translateY(14%)translateZ(-.25vh)}label{display:inline-block;width:22%}button{display:inline-block;width:23%;border:.2vh solid #000;margin:1vh 2% 0 0}input[type=range]{width:60%}#form{width:50vh;margin:auto}.o{float:left;outline:.4vh solid #888;opacity:0;transition:opacity .5s;background:#fff}.z.q.v{transform:translateZ(.1vh)}.z.q.v .o{opacity:1}.z.q.v .d{transform:none}.z.q.w>div{background:linear-gradient(45deg,rgba(200,200,200,.1),rgba(200,200,200,.3));box-shadow:0 0 .1vh rgba(255,255,255,.5)}.j{position:fixed;transform-origin:50% 100%;bottom:0}.m{animation:move 3s infinite}.e{color:rgba(0,0,0,.002);text-shadow:0px 0px rgba(0,0,0,.25);position:fixed;transform-origin:50% 100%;bottom:0}.tr,.h{font:11vh/12vh a}.a .tr{font:15vh/11vh a}.a .h,.c .h,.i .h,.a .p,.c .p,.i .p,.c .x.b,#iz button.h{display:none}.g,.g *,.p{font:4vh/5vh a;transition:opacity .5s .5s}.n,.n *{font:5vh/6vh a}.g.h,.p.h{opacity:0}.a .g{font:6vh/5vh a}.do{position:fixed;transform-origin:0% 100%;width:0;height:0}.do .y{position:fixed;width:15vh;height:20vh;background:radial-gradient(2vh at 90% 50%,gold 35%,transparent 40%),#a22;border-radius:1vh 1vh 0 0;transform-origin:0% 100%;transform:translateX(-7.5vh)translateY(-12.5vh)rotateX(-90deg);text-align:center;font-size:6vh;line-height:12vh;color:#fff;transition:transform 1s}.do .y.d1{background:radial-gradient(2vh at 90% 50%,gold 35%,transparent 40%),#222}.do.s .y{transform:translateX(-7.5vh)translateY(-12.5vh)rotateX(-90deg)rotateY(90deg)}.z.x div{background:linear-gradient(45deg,#640,#583808)}.z.x div.u{transform:rotateY(90deg)translateX(-5.4vh)translateZ(-.1vh)rotateY(-90deg);background:radial-gradient(#3F7D1F,#034301);background-size:280vh 140vh;width:5.3vh;height:5.3vh}.t{position:fixed;background:#fff;padding:.7vh;width:20vh;font:2vh/2.5vh arial,sans-serif;transform-origin:50% 100%;text-align:center;box-shadow:0 0 0 .2vh #000 inset;bottom:0}.t br{font:0/0 a}.t:before{content:"";width:3vh;height:3vh;background:#750;position:absolute;bottom:-3vh;left:8vh;border-left:.2vh solid;border-right:.2vh solid}.pz .t:before{left:28vh}label{text-align:left}#a{transition:transform 6s ease-in,transform-origin 6s ease-in;width:280vh;height:140vh;background:radial-gradient(#4F8D2F,#136321);border-radius:3vh}.px #a,.pI #a{background:radial-gradient(10vh at 51.3% 52%,#000 40%,transparent 50%),radial-gradient(15vh at 51.3% 52%,#640 40%,transparent 50%),radial-gradient(#4F8D2F,#136321)}#e{margin:99vh 0 0;transition:margin 1s;font:10vh/80vh a}#iw{font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw}#menu{color:#fff;width:55vh;transform:translateX(-27vh)translateY(-20vh)rotateX(-17deg)}#menu span{font:7vh/12vh arial,sans-serif}#menu h1{font:13vh/16vh arial,sans-serif;text-shadow:.1vh -.1vh #777,.2vh -.2vh #777,.3vh -.3vh #777}#menu span:hover{color:#ace;transform:rotateX(-10deg)}.pN #menu span:hover{color:#fff}#iz button{position:fixed;width:10vh;height:10vh;text-align:center;font:6vh/10vh a}#kU{right:14vh;bottom:14vh}#kD{right:14vh;bottom:2vh}#kL{right:26vh;bottom:2vh}#kR{right:2vh;bottom:2vh}#kT{left:2vh;top:2vh}#kB{left:2vh;top:14vh}#kw{bottom:2vh;left:2vh}#kx{bottom:14vh;left:2vh}#ky{top:2vh;right:18vh}#kz{top:2vh;right:6vh}#hpx0{opacity:0;transition:opacity .5s}</style></head><head></head><body id="b" class="pJ">
<div id="iv">
<div id="a" style="transform: translateX(-50vh) translateY(-25vh) translateZ(45vh) rotateX(40deg) rotateZ(0rad); transform-origin: 50vh 25vh 0px; width: 75vh; height: 350vh; transition: transform 1s, transform-origin 1s;">
<div id="ig"><div id="tree0" class="j tr" style="left:10vh;transform:translateX(-7vh)translateY(314vh)rotateX(-70deg)">🌳</div><div id="treeshadow0" class="e h" style="left:10vh;transform:translateX(-7.5vh)translateY(313.5vh)rotateZ(144deg)scaleY(1.5)">🌳</div><div id="a0" class="j g h" style="left:10vh;transform:translateY(329vh)rotateX(-65deg)"><div class="m">🍎</div></div><div id="as0" class="e p h" style="left:10vh;transform:scaleX(-1)translateY(328vh)rotateZ(212deg)">🍎</div><div id="a1" class="j g h" style="left:5vh;transform:translateY(334vh)rotateX(-65deg)"><div class="m">🍎</div></div><div id="as1" class="e p h" style="left:5vh;transform:scaleX(-1)translateY(333vh)rotateZ(212deg)">🍎</div><div class="j n" style="left:49vh;transform:translateY(74vh)rotateX(-65deg)"><div class="m">🦉</div></div><div id="dpJ0" class="do s" style="left:82.5vh;top:27.5vh;transform:rotateZ(1.5707963267948966rad)translateZ(0vh)"><div class="y d1" hidden="">6</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh"></div></div><div id="dpJ1" class="do" style="left:-7.5vh;top:327.5vh;transform:rotateZ(-1.5707963267948966rad)translateZ(0vh)"><div class="y d1">8</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh"></div></div><div id="hpJ0" class="t" style="left:50vh;transform:translateY(15vh)translateZ(0vh)rotateX(-70deg)translateY(-4vh)">You now have to match the patterns on the walls...</div><div id="hpJ1" class="t" style="left:50vh;transform:translateY(205vh)translateZ(0vh)rotateX(-70deg)translateY(-4vh)">... and on the floor too !</div></div>
<div id="ih"><div id="puzzle0" class="z q v " style="left:10vh;top:10vh;width:25vh;height:25vh"><div id="D0" class="d"></div><div id="B0" class="b"><div class="o" id="w000" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w001" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w002" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w003" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w004" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w010" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w011" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w012" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w013" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w014" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w020" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w021" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w022" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w023" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w024" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w030" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w031" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w032" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w033" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w034" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w040" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w041" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w042" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w043" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w044" style="width:5vh;height:5vh;background:#fff"></div></div></div><div id="puzzle1" class="z q v " style="left:20vh;top:55vh;width:20vh;height:20vh"><div id="D1" class="d"></div><div id="B1" class="b"><div class="o" id="w100" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w101" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w102" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w103" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w110" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w111" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w112" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w113" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w120" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w121" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w122" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w123" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w130" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w131" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w132" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w133" style="width:5vh;height:5vh;background:#fff"></div></div></div><div id="puzzle2" class="z q v " style="left:30vh;top:100vh;width:25vh;height:25vh"><div id="D2" class="d"></div><div id="B2" class="b"><div class="o" id="w200" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w201" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w202" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w203" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w204" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w210" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w211" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w212" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w213" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w214" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w220" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w221" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w222" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w223" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w224" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w230" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w231" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w232" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w233" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w234" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w240" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w241" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w242" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w243" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w244" style="width:5vh;height:5vh;background:#fff"></div></div></div><div id="puzzle3" class="z q v " style="left:40vh;top:145vh;width:25vh;height:25vh"><div id="D3" class="d"></div><div id="B3" class="b"><div class="o" id="w300" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w301" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w302" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w303" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w304" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w310" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w311" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w312" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w313" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w314" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w320" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w321" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w322" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w323" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w324" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w330" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w331" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w332" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w333" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w334" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w340" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w341" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w342" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w343" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w344" style="width:5vh;height:5vh;background:#fff"></div></div></div><div id="puzzle4" class="z q v " style="left:10vh;top:190vh;width:20vh;height:20vh"><div id="D4" class="d"><div class="o" id="g400" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g401" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g402" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g403" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g410" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g411" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g412" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g413" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g420" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g421" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g422" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g423" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g430" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g431" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g432" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g433" style="width:5vh;height:5vh;background:#fff"></div></div><div id="B4" class="b"><div class="o" id="w400" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w401" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w402" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w403" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w410" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w411" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w412" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w413" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w420" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w421" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w422" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w423" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w430" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w431" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w432" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w433" style="width:5vh;height:5vh;background:#fff"></div></div></div><div id="puzzle5" class="z q v " style="left:20vh;top:235vh;width:20vh;height:20vh"><div id="D5" class="d"><div class="o" id="g500" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g501" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g502" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g503" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g510" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g511" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g512" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g513" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g520" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g521" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g522" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g523" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g530" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g531" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g532" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g533" style="width:5vh;height:5vh;background:#fff"></div></div><div id="B5" class="b"><div class="o" id="w500" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w501" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w502" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w503" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w510" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w511" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w512" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w513" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w520" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w521" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w522" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w523" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w530" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w531" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w532" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w533" style="width:5vh;height:5vh;background:#fff"></div></div></div><div id="puzzle6" class="z q v " style="left:30vh;top:280vh;width:20vh;height:20vh"><div id="D6" class="d"><div class="o" id="g600" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g601" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g602" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g603" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g610" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g611" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g612" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g613" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g620" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g621" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g622" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g623" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g630" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g631" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g632" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g633" style="width:5vh;height:5vh;background:#fff"></div></div><div id="B6" class="b"><div class="o" id="w600" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w601" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w602" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w603" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w610" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w611" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w612" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w613" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w620" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w621" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w622" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w623" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w630" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w631" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w632" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w633" style="width:5vh;height:5vh;background:#fff"></div></div></div><div id="puzzle7" class="z q v " style="left:40vh;top:325vh;width:20vh;height:20vh"><div id="D7" class="d"><div class="o" id="g700" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g701" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g702" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g703" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g710" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g711" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g712" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g713" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g720" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g721" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g722" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g723" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g730" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g731" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g732" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g733" style="width:5vh;height:5vh;background:#fff"></div></div><div id="B7" class="b"><div class="o" id="w700" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w701" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w702" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w703" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w710" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w711" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w712" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w713" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w720" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w721" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w722" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w723" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w730" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w731" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w732" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w733" style="width:5vh;height:5vh;background:#fff"></div></div></div></div>
<div id="ie"></div>
<div id="ia"><div id="M0" class="sm" style="transform: translateX(50.25vh) translateY(25vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S0"></div><div id="R0" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T0"><div style="background:none;box-shadow:none;color:red;font-size:4vh;text-align:center;transform:rotateZ(180deg)translateY(-4vh)translateZ(1.5vh)">Y</div><div class="u" style="font:2.5vh/4vh a">👀</div><div class="f">‿</div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M1" class="sm" style="transform: translateX(55.25vh) translateY(25vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S1"></div><div id="R1" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T1"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M2" class="sm" style="transform: translateX(60.25vh) translateY(25vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S2"></div><div id="R2" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T2"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M3" class="sm" style="transform: translateX(65.25vh) translateY(25vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S3"></div><div id="R3" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T3"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M4" class="sm" style="transform: translateX(70.25vh) translateY(25vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S4"></div><div id="R4" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T4"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M5" class="sm" style="transform: translateX(75.25vh) translateY(25vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S5"></div><div id="R5" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T5"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M6" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S6"></div><div id="R6" class="sr"><div class="z k" id="T6"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M7" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S7"></div><div id="R7" class="sr"><div class="z k" id="T7"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M8" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S8"></div><div id="R8" class="sr"><div class="z k" id="T8"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M9" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S9"></div><div id="R9" class="sr"><div class="z k" id="T9"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M10" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S10"></div><div id="R10" class="sr"><div class="z k" id="T10"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M11" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S11"></div><div id="R11" class="sr"><div class="z k" id="T11"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M12" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S12"></div><div id="R12" class="sr"><div class="z k" id="T12"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M13" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S13"></div><div id="R13" class="sr"><div class="z k" id="T13"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M14" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S14"></div><div id="R14" class="sr"><div class="z k" id="T14"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M15" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S15"></div><div id="R15" class="sr"><div class="z k" id="T15"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div></div>
</div>
</div>
<center id="iz" style="font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw">
<button id="kU" class="h" ontouchstart="TS(38)" ontouchend="TE(38)">↑</button>
<button id="kD" class="h" ontouchstart="TS(40)" ontouchend="TE(40)">↓</button>
<button id="kL" class="h" ontouchstart="TS(37)" ontouchend="TE(37)">←</button>
<button id="kR" class="h" ontouchstart="TS(39)" ontouchend="TE(39)">→</button>
<button id="kT" class="h" ontouchstart="TS(16)" ontouchend="TE(16)">⬆︎</button>
<button id="kB" class="h" ontouchstart="TS(17)" ontouchend="TE(17)">⬇︎</button>
<button id="kw" class="h" ontouchstart="TS(18)" ontouchend="TE(18)">↩</button>
<button id="kx" class="h" ontouchstart="TS(82)" ontouchend="TE(82)">×</button>
<button id="ky" class="h" ontouchstart="TS(49)" ontouchend="TE(49)">↻</button>
<button id="kz" class="h" ontouchstart="TS(51)" ontouchend="TE(51)">↺</button>
</center>
<center id="ii" style="font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw"></center><div style="position:fixed;font:8vh a;top:3vh;right:3vh" onclick="location='index.html'">×</div></body></html><html><head><title>LOSSST</title><meta content="width=device-width,user-scalable=no" name="viewport"><script>u=r=d=l=s=c=B=0;trees=[];apples=[];doors=[];cubes=[];hints=[];emoji=[];puzzles=[];TS=function(k){ba[k]&&clearInterval(ba[k]);onkeydown({which:"+n+"});ba[k]=setInterval(function(){onkeydown({which:k})},150)};TE=function(k){setTimeout(function(){clearInterval(ba[k]);onkeyup()},150)};var g=0;function ca(){a.style.transform="translateX(-"+q[t]*v+"vh)translateY(-"+w[t]*v+"vh)translateZ(45vh)rotateX(40deg)rotateZ("+g+"rad)"}var x=$=_=0;function da(){var k=0;this.i=function(f){k+=f/48E3*Math.PI*2;return k%=2*Math.PI}}function fa(k){var f=new da,n=new da,m=.1;this.i=function(){if(!k)return 0;var A=k+.4*Math.sin(n.i(3));A=440*Math.pow(2,(A-57)/12);m*=.9998;A=f.i(A);return Math.pow(Math.sin(A),1)*m}}function ha(k){function f(){var f=k.length/2;for(_=$;0>_;)_+=f;_%=f;f=new fa(k[2*_+0].charCodeAt(0)-48);for(var A=new fa(k[2*_+1].charCodeAt(0)-48),P=[],aa=0;48E3>aa;aa++){var ea=f.i(),na=A.i(),za=.5*ea+na;P.push(ea+.5*na);P.push(za)}n(P).play()}function n(f){function k(f){f=m(f);return f[0]+f[1]}function m(f){for(var k=0,m="",n=0;4>n;n++,k+=8)m+=String.fromCharCode(f>>k&255);return m}var n=2*f.length;n="RIFF"+m(n+36)+"WAVEfmt "+m(16)+k(1)+k(2)+m(48E3)+m(192E3)+k(4)+k(16)+"data"+m(n);for(var ea in f)n+=k(32767*f[ea]);return new Audio("data:audio/wav;base64,"+btoa(n))}$=-1;this.forward=function(){$++;f()};this.back=function(){$--;f()}}function ja(k){function f(f){f=n(f);return f[0]+f[1]}function n(f){for(var k=0,m="",n=0;4>n;n++,k+=8)m+=String.fromCharCode(f>>k&255);return m}for(var m=[],A=0;;A++){var P=k(A);if(null===P)break;m.push(P)}k=2*m.length;k="RIFF"+n(k+36)+"WAVEfmt "+n(16)+f(1)+f(1)+n(48E3)+n(96E3)+f(2)+f(16)+"data"+n(k);for(A in m)k+=f(1E4*m[A]);return new Audio("data:audio/wav;base64,"+btoa(k))}function ka(k){return 1E4<k?null:(Math.pow(k,1.055)&128?1:-1)*Math.pow((1E4-k)/1E4,2)/2}function la(k){return 25E3<k?null:((k^k>>3^k*k*7.3^k<<4)&65535)/65536*((25E3-k)/25E3)/2}function ma(k){return 5E3<k?null:(Math.pow(k+1E3*Math.sin(.01*k),.8)&200?.5:-.5)*Math.pow((5E3-k)/5E3,1)/2}function oa(k){if(16E3<k)return null;var f=Math.pow((16E3-k)/16E3,2.1)/2;return(k<16E3/7?k+10*Math.sin(-k/900)&16:k&13)?f:-f}function pa(k){return 9E4<k?null:(Math.pow(k+1E3*Math.sin(.01*k),.8)&200?.5:-.5)*Math.pow((9E4-k)/9E4,1)/4}var qa=new ha("nbo0risiubv0uisirbs0ui0i0b0c0f0gniojrlsjuivjymvjubv0ui0i0j0m0n0rsgu0vnxnzgx0vnunsg0n0o0n0g0s0o0nrisjulvgufsjufscrbo0ni0j0b0i0j0il`n0ogqgs`u0vgxgz`0gxl0nsouqvsxuuev0u`0`0eq0slulqcs0qcs0qbs0q`s0njo0reseujv0xeveuj0v0e0q0j0i0g0e0cu0scq00bv0ufr0sgn0vbr0xiz0zjr0sgu0vbx0zgx0vbubsg{0zb{`z^{0zi{fzgv0xiu0vjs0ulr0sbn0oll0nbl0jfi0g00bxc0`zb0^{`0]z^0[z]0Zz[0]z^0`zb0]uf0bxi0f{l0izr0ozn0ixr0nrulrnbo0risiufs0r`o0nb0czf0gzi0gzf0cub0i0j0mvn0m0j0irbscrbs`rbs`sbrbo`q0sgugv`x0zg{gz`s0x`s0v`x0vcx0ues0q`l00eu00`x00ev00`u00eq00`o`"),ra=new ha("p0r0sdk0rco0pdk0p0r0sdw0rcs0pdk0p0r0sdk0rck0pdk0p0r0sdw0rcs0pd0f0g0iwg0bwgx0wgurrnspur0bufwgubs0pkrcsdk0rco0pkk0p0r0sdk0rco0pk0l0k0iwg0b0k0g0n0kzs0nxi0f|l0izr0p0n0lwk0dwg0k0p0k|s0pur0kuo0k0i0l0k0isd0krj0kpd0k0p0rsd0krl0opd0f0g0iskw0riw0pgw0nfw0u`s0rbs0pd0k"),y=localStorage,z=0,C=+y.lossst_s||0,sa=C?ra:qa,D=+y.lossst_m||0,ta=+y.lossst_t||0,ua=+y.lossst_M||0,va=0,ba=[],wa=0,v=5,t=0,q=[],w=[],E=[],F=[],G=y.lossst_S=+y.lossst_S||5,H=0,I=0,J=null,K="0",L=[],M=[],xa=0,N=0,O=0,Q=0,R=0,S=0,T=0,ya=+y.lossst_T||0,Aa=0,U=0,V=0,W="",X=h=0;function Ba(){var k;navigator.userAgent.match(/Mac/)&&(iv.className="a");navigator.userAgent.match(/Fire|Edg/)&&(iv.className+=" c",wa=4E3);D&&(iv.className+=" i");b.className=W;C&&!H&&(ie.innerHTML="");cubes=[];doors=[];trees=[];apples=[];hints=[];emoji=[];if("pz"==W)X=40,h=20,puzzles=[[5,,1,,"0000000000000000000000000",16,9]],G=5,C=0;else if("py"==W)h=X=20,puzzles=[eval("["+location.hash.slice(1).replace(/[01]{2,}/g,'"$&"')+"]")],G=puzzles[0][1],puzzles[0][5]=puzzles[0][6]=8,C=!!puzzles[0][3],hints=[["Move: arrow keys<br>"+(C?"Up/Down: "+(D?"\u2b06\ufe0e/\u2b07\ufe0e":"Shift/Ctrl")+"<br>":"")+"backtrack: "+(D?"\u21a9":"Alt")+"<br>Reset: R",1,5,1,0,C,0]],delete y.lossst_ppy0;else if("px"==W){X=40;h=20;trees=[[13,9,0],[7,13,0],[35,8,0]];apples=[[11,11,0,0,0],[2,12,0,6,0],[38,10,0,7,0]];doors=[[41,10,Math.PI/2,8,0,"pA",1,0,10,0,0],[20,-2,0,14,0,"pD",1,10,19,0,0],[-2,11,-Math.PI/2,6,0,"pJ",1,14,5,1,1],[20,21,Math.PI,14,0,"pC",1,22,1,0,0],[5,21,Math.PI,5,0,"pI",1,36,1,0,1]];puzzles=[];cubes=[];for(f=9;15>f;f++)for(m=0;5>m;m++)2==m&&14==f||2==m&&13==f||3==m&&13==f||3==m&&12==f||2==m&&12==f||cubes.push([m,f]);hints=[["Move with<br>arrow keys"+(D?"":" or WASD/ZQSD"),19,5,0,13,0],["Use the "+(D?"\u21a9":"Alt")+" key to backtrack",1,9,0,13,0,1],["Approach red doors with the right length to open them",35,14,0,13,0],["\u2191<br>New puzzles !<hr>Puzzle editor<br>\u2193",19,8,14,0,0],["\u2190<br>New puzzles !",1,9,6,7,1,1]];emoji=[["\ud83d\udc3f\ufe0f",30,7],["\ud83c\udf30\ufe0f",29,7]]}else if("pA"==W)X=40,h=20,trees=[[35,15,0]],apples=[[33,16,0,0,6],[34,17,0,0,6],[37,15,0,0,6]],cubes=[],doors=[[-2,10,-Math.PI/2,8,0,"px",0,39,11,0,0],[35,21,Math.PI,11,0,"pB",1,35,1,0,0]],puzzles=[[6,,0,,"000000001000001110001110001000000000",2,3],[6,,0,,"000000011000011100010000011000000000",14,3],[6,,0,,"000000000100001100011000011100000000",26,3],[5,,0,,"0000001110011100110000000",2,13],[6,,0,,"000000011000011000001100001100000000",14,13],[6,,0,,"000000000100001100001110001100000000",26,13]],hints=[["Cover the black patterns to solve puzzles",9,9,1,0],["Solve all the puzzles in the room to unlock a new door",21,9,1,0],["Your progress is saved automatically",34,9,1,0]],emoji=[["\ud83d\udc0c",11,10]];else if("pB"==W)D&&(kx.className="",y.lossst_r=1),X=40,h=20,trees=[[4,7,0]],apples=[[1,8,0,0,12],[2,9,0,0,12]],doors=[[35,-2,0,8,0,"pA",0,35,19,0,0],[-2,10,-Math.PI/2,13,0,"pC",1,39,10,0,0]],puzzles=[[6,,0,,"000000011110011010011110000000000000",8,2],[7,,0,,"0000000001110000111000001100000110000010000000000",18,2],[6,,0,,"000000011000011110001010001110000000",28,2],[6,,0,,"000000011100001110001110001100000000",8,12],[6,,0,,"000000001110001110001110001010000000",18,12],[6,,0,,"000000011110011110001100001000000000",28,12]],hints=[["If you get stuck, "+(D?"click \u00d7":"press R")+" to exit a puzzle",35,11,1,0]],cubes=[[11,4],[21,16]],emoji=[["\ud83d\udc08",4,14]];else if("pC"==W)X=40,h=20,trees=[[35,8,0]],apples=[[34,11,0,0,18]],doors=[[41,10,Math.PI/2,8,0,"pB",0,1,10,0,0],[22,-2,0,14,0,"px",1,20,19,0,0]],puzzles=[[7,,0,,"0000000000000001111000111100001111000100000000000",2,3],[7,,0,,"0000000001110000101000011100001110000110000000000",26,3],[6,,0,,"000000001110011110011010001110000000",14,3],[7,,0,,"0000000001100000111000011100001110000110000000000",2,12],[7,,0,,"0000000000000001111100101010011111000000000000000",14,12],[6,,0,,"000000011000011100011110011110000000",26,12]],hints=[["\u2191<br>After this room, you can try a puzzle editor and a new kind of puzzles !",22,11,13,0,0]],cubes=[[29,5],[30,8],[17,6],[15,4],[15,7],[29,13],[30,13],[30,14],[18,15],[16,15],[6,13],[6,17],[7,8],[6,8],[5,8],[3,7],[3,8],[7,6],[7,5]],emoji=[["\ud83e\udd8b<br><br>",29,13]];else if("pD"==W){h=X=20;trees=[[10,2,0]];doors=[[10,21,Math.PI,14,0,"px",0,20,0,0,0],[-2,5,-Math.PI/2,14,0,"pE",0,24,12,0,0]];puzzles=[[7,,1,,"0100010011111000000000000000000000001111100100010",7,7]];hints=[["Now you're thinking with wraps !",2,2,0,14,0]];for(f=0;20>f;f++)cubes.push([f,10]);emoji=[["\ud83d\udc10",12,2]]}else if("pE"==W)h=X=25,trees=[[5,12,0]],apples=[[4,14,0,0,23]],doors=[[26,12,Math.PI/2,14,0,"pD",0,0,5,0,0],[-2,12,-Math.PI/2,15,0,"pF",1,79,5,0,0]],puzzles=[[7,,1,,"1000001000000000000000010100011011011000111000001",3,3],[6,,1,,"110011100001000000100001100001110011",15,17],[5,,1,,"1100111001100011001110011",16,4],[6,,1,,"000011000011110001110001000011000011",3,17]],hints=[["Reminder:<br>use "+(D?"\u21a9":"Alt")+" to backtrack,<br>"+(D?"\u00d7":"R")+" to exit a puzzle.",11,14,1,0,0]],emoji=[["\ud83d\udc12",12,20]];else if("pF"==W)X=80,h=20,trees=[[35,10,0]],apples=[[38,11,0,0,35]],doors=[[81,5,Math.PI/2,15,0,"pE",0,0,12,0,0],[-2,15,-Math.PI/2,16,0,"pG",1,19,5,0,0]],puzzles=[[5,,1,,"0111101001010110100011111",59,13],[5,,1,,"1111011000111100001011110",48,13],[5,,1,,"1111101000011110111001100",37,13],[5,,1,,"1111110000111001000011111",26,13],[5,,1,,"1100101101001110011101101",15,13],[5,,1,,"1111100001110010000111111",59,2],[5,,1,,"1000110111100011000111111",48,2],[5,,1,,"1000110101101011111110001",37,2],[5,,1,,"1111110001000110000111111",26,2],[5,,1,,"0111101100011100011011110",15,2],[5,,1,,"1111101111001110001100001",4,8],[5,,1,,"1010100101111010000111111",71,8]],hints=[["This room hides a surprise !",72,2,0,15,0],["\u2190<br>Exit",38,9,16,0,0]],cubes=[],emoji=[];else if("pG"==W)X=20,h=30,trees=[[5,25,0]],apples=[[4,24,0,0,37],[7,25,0,0,37],[2,26,0,0,37],[3,28,0,0,37]],doors=[[21,5,Math.PI/2,16,0,"pF",0,1,15,0,0],[10,31,Math.PI,20,0,"pH",1,10,1,0,0]],puzzles=[[6,,1,,"001000001110111111011100011000001000",7,6],[6,,1,,"110001100001000111000111100001110001",7,18]],emoji=[["\ud83d\udc01",9,14]];else if("pH"==W)X=20,h=30,trees=[[16,22]],apples=[[18,22,0,0,39]],doors=[[10,-2,0,18,0,"pG",0,10,29,0,0],[21,25,Math.PI/2,21,0,"pI",1,1,10,0,0]],puzzles=[[6,,1,,"001000011110111111011110011110001000",7,6],[6,,1,,"110001100001000011000111001111111111",7,18]],emoji=[["\ud83e\udd86",9,14]];else if("pI"==W){X=40;h=20;apples=[[38,2,0,5,0]];doors=[[-2,10,-Math.PI/2,1,0,"pH",0,19,25,0,0],[36,-2,0,6,0,"px",1,5,19,0,1]];puzzles=[];hints=[["Guess what, you finished the first half of the game !",5,9,1,0],["You can now move up and down with "+(D?"\u2b06\ufe0e and \u2b07\ufe0e":"Shift and Ctrl keys")+", and open black doors",30,11,1,0]];for(f=0;9>f;f++)cubes.push([30,f]);for(f=30;40>f;f++)cubes.push([f,8]);emoji=[["\ud83d\udc22",13,14]];trees=[[3,1],[15,2],[36,3],[26,5],[25,15],[33,9],[10,12],[36,14],[3,15]]}else"pJ"==W?(X=15,h=70,trees=[[2,62]],apples=[[2,65,0,0,47],[1,66,0,0,47]],doors=[[16,5,Math.PI/2,6,0,"px",0,1,11,0,1],[-2,65,-Math.PI/2,8,0,"pK",1,19,65,0,1]],puzzles=[[5,,0,"0000000000000000000001110",,2,2],[4,,0,"0000000001000110",,4,11],[5,,0,"0000000000000000101001110",,6,20],[5,,0,"0000000000000000111000100",,8,29],[4,,0,"0000000001100110","0000011001100000",2,38],[4,,0,"0000010001100100","0000011001100000",4,47],[4,,0,"0000011001000100","0000010001100000",6,56],[4,,0,"0000000001100110","0100011000100000",8,65]],hints=[["You now have to match the patterns on the walls...",10,2,1,0,1],["... and on the floor too !",10,40,1,0,1]],emoji=[["\ud83e\udd89",10,14]]):"pK"==W?(D&&(ky.className=kz.className="",y.lossst_c=1),X=20,h=75,trees=[[2,2]],apples=[[1,4,0,0,59],[2,5,0,0,59],[3,6,0,0,59],[4,2,0,0,59]],doors=[[21,65,Math.PI/2,7,0,"pJ",0,1,65,0,1],[-2,5,-Math.PI/2,12,0,"pL",1,14,5,0,1]],puzzles=[[5,,0,"0000000000010000110001110",,8,69],[6,,0,"000000000000000000000100001110011000",,12,58],[5,,0,"0000000000010000111001000",,2,58],[4,,0,"0000001001100110","0000001001100000",2,45],[5,,0,"0000000000000000010001110","0000000100001100110000000",12,45],[5,,0,"0000000000000000101001110","0000001110010100000000000",2,34],[5,,0,"0000000000000000011001100","0000001110011000010000000",12,34],[4,,1,"0000011001100110","0110000000000110",2,22],[4,,1,"1001000000001001","1001000000001001",12,22],[4,,1,"0000010011110010","0000111101100000",2,12],[4,,1,"0110010000000011","0000011100110000",12,12],[4,,1,"1101000000000001","1101000000010001",12,2]],hints=[["You can rotate the camera with "+(D?"<br>\u21bb and \u21ba":"the keys 1, 2 and 3"),15,68,1,0,1],["Can you guess what's coming next?",7,54,1,0,1],["3D puzzles with wrap ! Use "+(D?"\u2b06\ufe0e and \u2b07\ufe0e":"Shift and Ctrl")+" to wrap between top and bottom",7,24,1,0,1]],emoji=[["\ud83d\udc1e",3,70]]):"pL"==W?(X=15,h=80,trees=[[2,70]],apples=[[1,73,0,0,68],[3,75,0,0,68]],doors=[[16,5,Math.PI/2,12,0,"pK",0,1,5,0,1],[-2,75,-Math.PI/2,14,0,"pM",1,14,25,0,1]],puzzles=[[5,,0,"0000000000001001111100100",,2,2],[4,,0,"0000010001100000",,5,11],[5,,0,"0000000110000110111000010",,8,20],[5,,0,"0000000000001000111011111","0000000000111001111100000",2,29],[4,,0,"1000110011101111","0000001111110000",5,38],[4,,0,"0000100011001110","1110110010000000",8,45],[4,,1,"1000100110010001","0000100110010000",2,54],[4,,1,"0000001011110100","0000110011110011",5,63],[5,,1,"0100011000010000111001000","0000001110110000100000000",8,72]],cubes=[[6,12]],emoji=[["\ud83d\udc1d",3,20]]):"pM"==W?(X=15,h=30,trees=[[10,12]],apples=[[8,11,0,0,71],[9,10,0,0,71],[10,9,0,0,71],[11,10,0,0,71],[12,11,0,0,71],[7,12,0,0,71]],doors=[[16,25,Math.PI/2,14,0,"pL",0,1,75,0,1],[-2,5,-Math.PI/2,20,0,"pN",1,14,5,0,1]],puzzles=[[5,,1,"0001100110011001100010000","0001100110011001100010000",2,24],[5,,1,"1100010001000011000111000","0000011000110010000000000",4,13],[5,,1,"1101110001000001000011000","1100010000000001000111011",6,2]],emoji=[["\ud83d\udc13",1,14]]):"pN"==W&&(X=15,h=48,trees=[[10,44]],apples=[[7,45,0,0,75]],doors=[[16,5,Math.PI/2,20,0,"pM",0,1,5,0,1]],puzzles=[[4,,1,"0000111101101111","1000111111111000",5,38],[4,,1,"1111001001001111","1111101010101111",5,28],[4,,1,"1111010101011101","0001101101101111",5,18],[4,,1,"1111000100011110","1111110110011111",5,8]],emoji=[["\ud83d\udc09",13,46]]);a.style.width=X*v+"vh";a.style.height=h*v+"vh";H||(ig.innerHTML="");ih.innerHTML="";for(var f in trees)ig.innerHTML+="<div id=tree"+f+' class="j tr"style=left:'+trees[f][0]*v+"vh;transform:translateX(-7vh)translateY("+(trees[f][1]*v+4)+"vh)rotateX(-70deg)>\ud83c\udf33</div><div id=treeshadow"+f+' class="e h"style=left:'+trees[f][0]*v+"vh;transform:translateX(-7.5vh)translateY("+(trees[f][1]*v+3.5)+"vh)rotateZ(144deg)scaleY(1.5)>\ud83c\udf33";for(f in apples)y["lossst_a"+W+f]?delete apples[f]:ig.innerHTML+="<div id=a"+f+' class="j g '+(y["lossst_A"+W+f]?"":"h")+'"style=left:'+apples[f][0]*v+"vh;transform:translateY("+(apples[f][1]*v+4)+"vh)rotateX(-65deg)>"+("pN"==W?"<div>\u26bd</div>":"<div class=m>\ud83c\udf4e</div>")+"</div><div id=as"+f+' class="e p '+(y["lossst_A"+W+f]?"":"h")+'"style=left:'+apples[f][0]*v+"vh;transform:scaleX(-1)translateY("+(apples[f][1]*v+3)+"vh)rotateZ(212deg)>"+("pN"==W?"\u26bd":"\ud83c\udf4e");for(f in emoji)ig.innerHTML+='<div class="j n"style=left:'+(emoji[f][1]*v-1)+"vh;transform:translateY("+(emoji[f][2]*v+4)+"vh)rotateX(-65deg)><div class=m>"+emoji[f][0];for(f in doors)ig.innerHTML+="<div id=d"+(""+W+f)+' class="do'+(y["lossst_d"+W+f]?" s":"")+'"style=left:'+(doors[f][0]+.5)*v+"vh;top:"+(doors[f][1]+.5)*v+"vh;transform:rotateZ("+doors[f][2]+"rad)translateZ("+doors[f][9]*v+'vh)><div class="y d'+doors[f][10]+'"'+(doors[f][6]?"":"hidden")+">"+doors[f][3]+'</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh">';for(var n in puzzles)for(var m in cubes)y["lossst_p"+W+n]&&cubes[m][0]>=puzzles[n][5]&&cubes[m][0]<puzzles[n][5]+puzzles[n][0]&&cubes[m][1]>=puzzles[n][6]&&cubes[m][1]<puzzles[n][6]+puzzles[n][0]&&delete cubes[m];for(f in cubes)ig.innerHTML+="<div id=cube"+f+' class="z x"style=left:'+cubes[f][0]*v+"vh;top:"+cubes[f][1]*v+'vh;width:5vh;height:5vh><div class=f></div><div class=u style="background-position:'+(-300-cubes[f][0]*v)+"vh "+(-140-cubes[f][1]*v)+'vh"></div><div class=r></div><div class=l></div><div class=b>';for(f in hints)C^hints[f][5]||!(hints[f][3]&&hints[f][3]<=G||hints[f][4]&&hints[f][4]>=G)||(ig.innerHTML+="<div id=h"+(""+W+f)+" class=t style=left:"+hints[f][1]*v+"vh;transform:translateY("+(hints[f][2]*v+5)+"vh)translateZ("+(hints[f][6]*v||0)+"vh)rotateX(-70deg)translateY(-4vh)>"+hints[f][0]);y.lossst_x&&top.hpx0&&(hpx0.style.opacity=1);for(n in puzzles){T=puzzles[n][0];var A=k="";ih.innerHTML+="<div id=puzzle"+n+' class="z q v '+(puzzles[n][2]&&!y["lossst_p"+W+n]?"w":"")+'"style=left:'+puzzles[n][5]*v+"vh;top:"+puzzles[n][6]*v+"vh;width:"+puzzles[n][0]*v+"vh;height:"+T*v+"vh>"+(puzzles[n][2]?"<div class=l></div><div class=r></div>":"")+"<div id=D"+n+" class=d></div><div id=B"+n+" class=b></div>"+(puzzles[n][2]?"<div class=f>":"");var P="000",aa="fff";y["lossst_p"+W+n]&&(P="44c",aa="fd0",puzzles[n][2]=0);for(f=0;f<T;f++)for(m=0;m<T;m++)puzzles[n][3]&&(k+="<div class=o id=w"+n+f+m+" style=width:"+v+"vh;height:"+v+"vh;background:#"+("1"==puzzles[n][3][f*T+m]?P:aa)+"></div>"),puzzles[n][4]&&(A+="<div class=o id=g"+n+f+m+" style=width:"+v+"vh;height:"+v+"vh;background:#"+("1"==puzzles[n][4][f*T+m]?P:aa)+"></div>");top["D"+n]&&(top["D"+n].innerHTML+=A);top["B"+n]&&(top["B"+n].innerHTML+=k)}"pN"==W&&(ig.innerHTML+="<div style='position:fixed;transform:"+(D?"rotateZ(-90deg)translateX(-87vh)translateY(22vh)translateZ(365vh)":"rotateZ(-90deg)translateX(-83vh)translateY(6vh)translateZ(208vh)")+";font: 30vh/25vh a'>THE<br><br>END");H&&(y.lossst_e||y.lossst_s&&6<y.lossst_S||(ik.style.opacity=im.style.opacity=0,ik.style.position=im.style.position="fixed",ik.style.top=im.style.top="-9vh"),J=0,Y(1),xa=1,Q=O=N=0,puzzles[0][2]=0,setTimeout(function(){(ib.onchange=ib.oninput=resetgrid=function(){Ca();Y();ij.disabled=1;gridval.innerHTML=T=+ib.value;puzzle0.style.width=puzzle0.style.height=T*v+"vh";puzzles[0][0]=T;D0.innerHTML="";A=k=B0.innerHTML="";M=[];L=[];for(f=0;f<T;f++)for(M[f]=[],L[f]=[],m=0;m<T;m++)M[f][m]=0,L[f][m]=0;for(f=0;f<T;f++)for(m=0;m<T;m++)k+="<div class=o id=w"+K+f+m+" style=width:"+v+"vh;padding-top:"+v+"vh></div>",A+="<div class=o id=g"+K+f+m+" style=width:"+v+"vh;padding-top:"+v+"vh></div>";xa&&(D0.innerHTML+=A);N&&(B0.innerHTML+=k)})();iq.onchange=iq.oninput=function(){it.innerHTML=G=+iq.value;Ca();Y()};ik.onclick=function(){ik.checked?xa=1:top.wall&&(xa=0,C=N=1,wall.checked=!0);a.className=N?"haswall":"";resetgrid()};top.wall&&(wall.onclick=function(){wall.checked?(N=1,C=puzzles[0][3]=1):(N=C=0,xa=1,ik.checked=!0,puzzles[0][3]=0);a.className=N?"haswall":"";resetgrid()});top.wrap&&(wrap.onclick=function(){O=puzzles[0][2]=wrap.checked||0;puzzle0.className="z q v "+(O?"w":"");resetgrid()});print=function(k){var n="";for(f=0;f<T;f++)for(m=0;m<T;m++)n=top[k+"0"+f+m].style.background&&top[k+"0"+f+m].style.background.match(/255/)?n+0:n+1;return n};ij.onclick=function(){var f=[];f.push(T);f.push(G);f.push(O?1:0);f.push(N?print("w"):"");f.push(ik.checked?print("g"):"");open("//twitter.com/intent/tweet?text=I%20made%20a%20level%20for%20@MaximeEuziere's%20%23js13k%20game%20LOSSST!%0APlay%20here:%20js13kgames.com%2Fentries%2Flossst%0AMy%20level:%20js13kgames.com%2Fgames%2Flossst%23"+f+"%0A%23LOSSSTlevels")}},100));"px"!=W||y.lossst_x?(a.style.transition="transform 1s,transform-origin 1s",Ca()):(I=1,setTimeout(function(){Ca();Y();M0.style.transition="transform .5s"},2E3),setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(0);F.push(F[t]);t++;Y()},5500+wa),setTimeout(function(){M0.style.transition="";R0.style.transition="transform .2s";R0.style.transform="rotateZ("+-Math.PI/4+"rad)"},6500+wa),setTimeout(function(){R0.style.transform="rotateZ("+Math.PI/4+"rad)"},7E3+wa),setTimeout(function(){R0.style.transform=""},7500+wa),setTimeout(function(){S0.style.transition=R0.style.transition=""},8E3+wa),setTimeout(function(){clearInterval(x);z||(I=0);hpx0.style.opacity=1},8400),setTimeout(function(){a.style.transition="transform 1s,transform-origin 1s";y.lossst_x=20;y.lossst_y=10;b.innerHTML+="<div style='position:fixed;font:8vh a;top:3vh;right:3vh'onclick=location='index.html'>\u00d7";D&&(kU.className=kD.className=kL.className=kR.className="",y.lossst_w=1)},9E3));Y()}function Ca(){var k=C&&!H?ia:ie;k.innerHTML="";q=[];w=[];E=[];F=[];t=G-1;if("py"==W)for(i=0;i<G;i++)q[t-i]=1-i,w[t-i]=10,E[t-i]=0,F[t-i]=-Math.PI/2;else if(H)for(i=0;i<G;i++)q[t-i]=13-i,w[t-i]=12,E[t-i]=0,F[t-i]=-Math.PI/2;else if(y.lossst_x){var f=+y.lossst_x,n=+y.lossst_y,m=+y.lossst_z;"px"==W&&2>y.lossst_x&&(m=y.lossst_z=1);if("pI"==W&&z&&1==C)for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i-1,F[t-i]=0;else if(2>f)for(i=0;i<G;i++)q[t-i]=f-i,w[t-i]=n,E[t-i]=m,F[t-i]=-Math.PI/2;else if(f>X-2)for(i=0;i<G;i++)q[t-i]=f+i,w[t-i]=n,E[t-i]=m,F[t-i]=Math.PI/2;else if(2>n)for(i=0;i<G;i++)q[t-i]=f,w[t-i]=n-i,E[t-i]=m,F[t-i]=0;else if(n>h-2)for(i=0;i<G;i++)q[t-i]=f,w[t-i]=n+i,E[t-i]=m,F[t-i]=0;else for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i,F[t-i]=0}else if("px"==W)for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i-1,F[t-i]=0;for(i=0;i<Math.max(G+4,16);i++)k.innerHTML+="<div id=M"+i+" class=sm style=transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:"+(v-.7)+"vh;height:"+(v-.7)+"vh><div class=ss id=S"+i+"></div><div id=R"+i+' class=sr><div class="z k"id=T'+i+">"+(1>i?"<div style=background:none;box-shadow:none;color:red;font-size:4vh;text-align:center;transform:rotateZ(180deg)translateY(-4vh)translateZ(1.5vh)>Y</div>":"")+'<div class=u style="font:'+.5*v+"vh/"+.8*v+'vh a">'+(1>i?"\ud83d\udc40":"")+"</div><div class=f>"+(1>i?"\u203f":"")+"</div><div class=r></div><div class=l></div><div class=b>"}function Y(k){for(var f={a:0};f.a<G;f={a:f.a,j:f.j,m:f.m,o:f.o},f.a++)if(!k){var n=oldx=oldy=oldz=newx=newy=newz=0;O&&T&&(q[t-f.a-1]==R&&q[t-f.a]==R+T-1?(n=1,oldx=R-1,newx=R+T,oldy=newy=w[t-f.a],oldz=newz=E[t-f.a]):q[t-f.a-1]==R+T-1&&q[t-f.a]==R?(n=1,oldx=R+T,newx=R-1,oldy=newy=w[t-f.a],oldz=newz=E[t-f.a]):w[t-f.a-1]==S&&w[t-f.a]==S+T-1?(n=1,oldy=S-1,newy=S+T,oldx=newx=q[t-f.a],oldz=newz=E[t-f.a]):w[t-f.a-1]==S+T-1&&w[t-f.a]==S?(n=1,oldy=S+T,newy=S-1,oldx=newx=q[t-f.a],oldz=newz=E[t-f.a]):0==E[t-f.a-1]&&E[t-f.a]==T-1?(n=1,oldz=-1,newz=T,oldx=newx=q[t-f.a],oldy=newy=w[t-f.a]):E[t-f.a-1]==T-1&&0==E[t-f.a]&&(n=1,oldz=T,newz=-1,oldx=newx=q[t-f.a],oldy=newy=w[t-f.a]));if(n)top["R"+f.a].style.transform="rotateZ("+F[t-f.a]+"rad)",top["M"+f.a].style.transform="translateX("+(oldx*v+.5)+"vh)translateY("+(oldy*v+.5)+"vh)translateZ("+(oldz*v+.5)+"vh)scale(.01)scaleZ(.01)",setTimeout(function(f){return function(){top["M"+f.a].style.transition="none"}}(f),90),f.j=newx,f.m=newy,f.o=newz,setTimeout(function(f){return function(){top["M"+f.a].style.transform="translateX("+(f.j*v+.5)+"vh)translateY("+(f.m*v+.5)+"vh)translateZ("+(f.o*v+.5)+"vh)scale(.01)"}}(f),100),setTimeout(function(f){return function(){top["M"+f.a].style.transition="";top["M"+f.a].style.transform="translateX("+(q[t-f.a]*v+.25)+"vh)translateY("+w[t-f.a]*v+"vh)translateZ("+(E[t-f.a]*v+.5)+"vh)"}}(f),150);else try{top["M"+f.a].style.transform="translateX("+(q[t-f.a]*v+.25)+"vh)translateY("+w[t-f.a]*v+"vh)translateZ("+(E[t-f.a]*v+.5)+"vh)",top["R"+f.a].style.transform="rotateZ("+F[t-f.a]+"rad)"}catch(A){}try{top["S"+f.a].style.display=0==E[t-f.a]?"":"none"}catch(A){}}H?a.style.transform="translateX(-100vh)translateY(-37vh)translateZ(-5vh)rotateX(33deg)":null===J||y["lossst_p"+W+J]?(a.style.transform="translateX("+-q[t]*v+"vh)translateY("+-w[t]*v+"vh)translateZ(45vh)rotateX(40deg)rotateZ("+g+"rad)",a.style.transformOrigin=""+q[t]*v+"vh "+w[t]*v+"vh"):(a.style.transform="translateX("+(-(R+puzzles[J][0]/2)*v+5)+"vh)translateY("+(-(S+puzzles[J][0]/2)*v+8)+"vh)translateZ("+(90-puzzles[J][0]*(v+3))+"vh)rotateX(30deg)rotateZ("+g+"rad)",a.style.transformOrigin=""+((R+puzzles[J][0]/2)*v+5)+"vh "+((S+puzzles[J][0]/2-1)*v+8)+"vh");f=C?1:0;for(k=0;k<G;k++){if(0>=E[t-k]){f=0;break}for(m in cubes)cubes[m][0]==q[t-k]&&cubes[m][1]==w[t-k]&&1==E[t-k]&&(f=0)}if(f){for(k=0;k<G;k++)E[t-k]--;try{Y()}catch(A){for(var m=2*G;m--;)q.pop(),w.pop(),E.pop(),F.pop(),t--;Aa=0;Y()}}f=q[t];n=w[t];for(k in doors)(doors[k][10]&&C||!doors[k][10]&&!C)&&top["d"+W+k]&&0<doors[k][3]&&G>=doors[k][3]&&4>Math.hypot(f-doors[k][0],n-doors[k][1])&&!y["lossst_d"+W+k]&&(top["d"+W+k].className="do s",!doors[k][6]||"px"==W&&2<k||ja(pa).play(),y["lossst_d"+W+k]=1),top["d"+W+k]&&"do s"==top["d"+W+k].className&&2>Math.hypot(f-doors[k][0],n-doors[k][1])&&(y.lossst_p=W=doors[k][5],setTimeout(Ba,600),y.lossst_x=doors[k][7],y.lossst_y=doors[k][8],y.lossst_z=0);null!==J&&Da();H||(J=null);H||(L=[],M=[]);for(p in puzzles)if(f>=puzzles[p][5]&&f<puzzles[p][5]+puzzles[p][0]&&n>=puzzles[p][6]&&n<puzzles[p][6]+puzzles[p][0]){J=+p;Q=0;y["lossst_p"+W+p]&&(Q=1);K=p;xa=!!puzzles[p][4];N=!!puzzles[p][3];O=!!puzzles[p][2];R=puzzles[p][5];S=puzzles[p][6];T=puzzles[p][0];for(k=0;k<T;k++)for(L[k]=[],M[k]=[],m=0;m<T;m++)puzzles[p][3]&&(M[k][m]=+puzzles[p][3][k*puzzles[p][0]+m]),puzzles[p][4]&&(L[k][m]=+puzzles[p][4][k*puzzles[p][0]+m]);Da()}}function Z(k,f,n){V=0;if(0>k||k>=X||0>f||f>=h)V=1;for(var m in trees)k>=trees[m][0]-1&&k<=trees[m][0]&&f==trees[m][1]&&3>E[t]&&(V=1);for(m in hints)k>=hints[m][1]&&k<=hints[m][1]+3&&f==hints[m][2]&&G>=hints[m][3]&&(!hints[m][4]||G<=hints[m][4])&&(C&&hints[m][5]||!C&&!hints[m][5])&&(V=1);for(m in apples)if(y["lossst_A"+W+m]&&k==apples[m][0]&&f==apples[m][1]&&0==E[t])if(ja(ka).play(),"pN"==W){x=setInterval(sa.forward,150);y.lossst_E=1;setTimeout(function(){I=1;as0.remove();a0.style.transform="translateY(319vh)translateZ(2vh)rotateX(-65deg)rotateY(90deg)";a0.style.transition=a.style.transition="10s";a0.style.transform="translateY(15vh)translateZ(2vh)rotateX(-65deg)";a.style.transform=D?"translateX(-133vh)translateY(-249vh)translateZ(-373vh)rotateZ(90deg)":"translateX(-141vh)translateY(-227vh)translateZ(-185vh)rotateZ(90deg)"},200);var A={},P;for(P in puzzles)A.g=P,setTimeout(function(f){return function(){top["B"+f.g].style.transition=".5s";top["B"+f.g].style.transform="translateY(-125%)"}}(A),[1450,2500,3800,5400][A.g]),A={g:A.g};setTimeout(function(){clearInterval(va);y.lossst_E=1;y.lossst_e=1;b.style.background="#000";y.lossst_s=0;b.innerHTML="<div id=iv style=perspective:90vh><center id=menu style=width:75vh;transform:translateX(-38vh)translateY(-35vh)rotateX(-28deg)><span style=font-size:4vh;line-height:5vh><h1>Congrats!</h1><br>You completed the game in<br>"+ta+" seconds and "+ua+" moves!<br><br><a href=//twitter.com/intent/tweet?text=I%20played%20LOSSST,%20a%20%23js13k%20game%20by%20by%20@MaximeEuziere%0Amy%20score:%20"+ta+"%20seconds%20and%20"+ua+"%20moves!%0Ajs13kgames.com%2Fentries%2Flossst target=_blank style=color:#def;font-size:4vh>TWEET YOUR SCORE</a><br><br>Dev record:<br>854 seconds, 2452 moves<br><br>3D puzzle editor unlocked!<br><br><a href=. style=font-size:4vh>MAIN MENU"},15E3);n=document.querySelectorAll(".o");A={};for(var aa in n){A.h=aa;try{2==n[A.h].style.backgroundColor.match(/68/g).length&&setTimeout(function(f){return function(){top[n[f.h].id].style.background="#a00"}}(A),8E3+10*A.h)}catch(na){}A={h:A.h}}}else if(delete apples[m],top["a"+m].remove(),top["as"+m].remove(),G++,y.lossst_S=G,y["lossst_a"+W+m]=1,"pF"==W&&16==G){I=1;x=setInterval(sa.forward,150);z=1;a.style.transition="5s";a.style.transform="translateX(-180vh)translateY(-53vh)translateZ("+(D?-422:-180)+"vh)rotateZ(180deg)";setTimeout(function(){a.style.transition="1s";I=z=0;Y();ig.innerHTML+="<div class=t style=left:190vh;transform:translateY(50vh)rotateX(-55deg)translateY(-4vh)>\u2190<br>Exit";clearInterval(x)},1E4);n=document.querySelectorAll(".o");A={};for(var ea in n){A.f=ea;try{n[A.f].id.match(/g\d\d\d$/)&&2==n[A.f].style.backgroundColor.match(/68/g).length&&setTimeout(function(f){return function(){top[n[f.f].id].style.background="#a00"}}(A),5500+10*A.f)}catch(na){}A={f:A.f}}}for(m in cubes)k==cubes[m][0]&&f==cubes[m][1]&&0==n&&(V=1);for(m in emoji)"pC"!=W&&k==emoji[m][1]&&f==emoji[m][2]&&0==n&&(V=1);for(m in doors)top["d"+W+m]&&"do s"==top["d"+W+m].className&&2>=Math.hypot(k-doors[m][0],f-doors[m][1])&&(V=0);hitcube2=0;for(m=G-2;0<m;m--)q[t-m]==k&&w[t-m]==f&&E[t-m]==n&&(V=1,1==m&&(hitcube2=1));for(p in puzzles)puzzles[p][3]&&k>=puzzles[p][5]&&k<puzzles[p][5]+puzzles[p][0]&&(f==puzzles[p][6]-1&&w[t]==puzzles[p][6]&&!puzzles[p][2]||f==puzzles[p][6]&&w[t]==puzzles[p][6]-1)&&(V=1);if("pI"==W&&18==k&&!C){z=C=V=I=1;clearInterval(x);sa=ra;_=$=0;x=setInterval(ra.forward,250);y.lossst_s=1;y.lossst_S=G=5;for(k=0;21>k;k++)cubes.push([q[t-k],w[t-k]]),top["M"+k].id="",top["R"+k].id="",top["S"+k].id="",top["T"+k].id="";a.style.transition="2s";Ca();Y();a.style.transform="translateX(-105vh)translateY(-51vh)translateZ(80vh)rotateX(45deg)";a.style.transformOrigin="140vh 70vh";setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(0);F.push(F[t]);t++;Y()},3E3);setTimeout(function(){ii.innerHTML="Daddy!"},4E3);setTimeout(function(){ii.innerHTML=""},6E3);setTimeout(function(){ii.innerHTML="I lossst my soccer ball!"},7E3);setTimeout(function(){ii.innerHTML=""},9E3);setTimeout(function(){ii.innerHTML="But I found new moves!"},1E4);setTimeout(function(){ii.innerHTML="";z=I=0;clearInterval(x);a.style.transition="1s";Y();Ea();D&&(kT.className=kB.className="",y.lossst_B=1)},13500)}}function Da(){if(!Q&&null!==J){solved=1;H&&(ij.disabled=0);for(i=0;i<T;i++)for(j=0;j<T;j++)try{top["g"+K+i+j]&&(top["g"+K+i+j].style.background=L[i][j]?"#000":"#fff"),top["w"+K+i+j]&&(top["w"+K+i+j].style.background=M[i][j]?"#000":"#fff")}catch(m){}if(q[t]<R||q[t]>R+T-1||w[t]<S||w[t]>S+T-1||0>E[t]||E[t]>T-1)H&&(ij.disabled=1);else{for(i=0;i<G;i++){top["g"+K+(w[t-i]-S)+(q[t-i]-R)]&&(top["g"+K+(w[t-i]-S)+(q[t-i]-R)].style.background=L[w[t-i]-S][q[t-i]-R]?"#080":H?"#44c":"#f00");w[t-i]>=S&&w[t-i]<S+T&&top["w"+K+(T-1-E[t-i])+(q[t-i]-R)]&&(top["w"+K+(T-1-E[t-i])+(q[t-i]-R)].style.background=M[T-1-E[t-i]][q[t-i]-R]?"#080":H?"#44c":"#f00");if(q[t-i]<R||q[t-i]>R+T-1||w[t-i]<S||w[t-i]>S+T-1||E[t-i]>T-1)H&&(ij.disabled=1),solved=0;xa&&L[w[t-i]-S]&&!L[w[t-i]-S][q[t-i]-R]&&(solved=0);N&&M[T-1-E[t-i]]&&!M[T-1-E[t-i]][q[t-i]-R]&&(solved=0)}for(i=0;i<T;i++)for(j=0;j<T;j++){try{xa&&3==top["g"+K+i+j].style.backgroundColor.match(/0/g).length&&(solved=0)}catch(m){}try{N&&3==top["w"+K+i+j].style.backgroundColor.match(/0/g).length&&(solved=0)}catch(m){}}if(solved){Q=H?0:1;puzzles[J][2]=0;top["puzzle"+J].classList.remove("w");H||(y["lossst_p"+W+J]=1);for(i=0;i<T;i++)for(j=0;j<T;j++){try{top["g"+K+i+j].style.background=L[i][j]?"#44c":"#fd0"}catch(m){}try{top["w"+K+i+j].style.background=M[i][j]?"#44c":"#fd0"}catch(m){}}H||(ja(oa).play(),ya++,y.lossst_T=ya);var k=1,f={},n;for(n in cubes)f.b=n,cubes[f.b][0]>=puzzles[J][5]&&cubes[f.b][0]<puzzles[J][5]+puzzles[J][0]&&cubes[f.b][1]>=puzzles[J][6]&&cubes[f.b][1]<puzzles[J][6]+puzzles[J][0]&&(delete cubes[f.b],k++,setTimeout(function(f){return function(){top["cube"+f.b].remove()}}(f),200*k)),f={b:f.b}}}}}function Ea(){for(var k in apples)if(!y["lossst_A"+W+k]&&(0<apples[k][3]&&apples[k][3]==G||0<apples[k][4]&&apples[k][4]==ya)){I=1;D&&"px"==W&&1==k&&(kw.className="",y.lossst_b=1);var f=setTimeout;a.style.transform="translateX("+-apples[k][0]*v+"vh)translateY("+-apples[k][1]*v+"vh)translateZ(50vh)rotateX(35deg)";y["lossst_A"+W+k]=1;a.style.transformOrigin=""+apples[k][0]*v+"vh "+apples[k][1]*v+"vh";f(void 0,250);f=setTimeout;top["a"+k].className="j g";top["as"+k].className="e p";f(void 0,800);setTimeout(function(){ja(la).play()},850);setTimeout(function(){Y();z||(I=0)},2E3)}}function Fa(){U=0;H||(J=null);for(p in puzzles)q[t]>=puzzles[p][5]&&q[t]<puzzles[p][5]+puzzles[p][0]&&w[t]>=puzzles[p][6]&&w[t]<puzzles[p][6]+puzzles[p][0]&&0<=E[t]&&E[t]<puzzles[p][0]&&(J=+p,U=1)}onkeydown=function(k){top["lurd************************l**r************l*d***u**u"[k.which-37]]=1;18==k.which&&(B=1);16==k.which&&(s=1);17==k.which&&(c=1);if(!I){if(49==k.which||97==k.which)-1<g&&g--,ca();if(50==k.which||98==k.which)g=0,ca();if(51==k.which||99==k.which)1>g&&g++,ca()}Fa();U?Da():Aa=0;if(82==k.which&&U){if(Aa<=t)for(var f=Aa;f<=t;f++)q.pop(),w.pop(),E.pop(),F.pop(),setTimeout(function(){sa.back()},70*(t-f));t=Aa-1;Aa=0;Y();Da();y.lossst_M=++ua}else if(116!=k.which&&82!=k.which&&17!=k.which&&123!=k.which&&k.preventDefault&&k.preventDefault(),!I){V=0;if(l)!Q&&O&&U&&q[t]==R?(Z(R+T-1,w[t],E[t]),V||(q.push(R+T-1),w.push(w[t]),E.push(E[t]),F.push(Math.PI/2),t++)):(Z(q[t]-1,w[t],E[t]),V||(q.push(q[t]-1),w.push(w[t]),E.push(E[t]),F.push(Math.PI/2),t++));else if(r)!Q&&O&&U&&q[t]==R+T-1?(Z(R,w[t],E[t]),V||(q.push(R),w.push(w[t]),E.push(E[t]),F.push(-Math.PI/2),t++)):(Z(q[t]+1,w[t],E[t]),V||(q.push(q[t]+1),w.push(w[t]),E.push(E[t]),F.push(-Math.PI/2),t++));else if(u)!Q&&O&&U&&w[t]==S?(Z(q[t],S+T-1,E[t]),V||(q.push(q[t]),w.push(S+T-1),E.push(E[t]),F.push(Math.PI),t++)):(Z(q[t],w[t]-1,E[t]),V||(q.push(q[t]),w.push(w[t]-1),E.push(E[t]),F.push(Math.PI),t++));else if(d)!Q&&O&&U&&w[t]==S+T-1?(Z(q[t],S,E[t]),V||(q.push(q[t]),w.push(S),E.push(E[t]),F.push(0),t++)):(Z(q[t],w[t]+1,E[t]),V||(q.push(q[t]),w.push(w[t]+1),E.push(E[t]),F.push(0),t++));else if((C||N)&&s){if(!U){k=G-1;for(f in cubes)cubes[f][0]==q[t]&&cubes[f][1]==w[t]&&k++;if(E[t]==k)return}!Q&&O&&U&&E[t]==T-1?(Z(q[t],w[t],0),V||(q.push(q[t]),w.push(w[t]),E.push(0),F.push(F[t]),t++)):(Z(q[t],w[t],E[t]+1),V||(q.push(q[t]),w.push(w[t]),E.push(E[t]+1),F.push(F[t]),t++))}else(C||N)&&c?!Q&&O&&U&&0==E[t]?(Z(q[t],w[t],T-1),V||(q.push(q[t]),w.push(w[t]),E.push(T-1),F.push(F[t]),t++)):0==E[t]?V=1:(Z(q[t],w[t],E[t]-1),V||(q.push(q[t]),w.push(w[t]),E.push(E[t]-1),F.push(F[t]),t++)):B&&t>G&&(F.pop(),q.pop(),w.pop(),E.pop(),t--);V&&!I&&(I=1,setTimeout(function(){z||(I=0)},150),!(-1<q[t]&&q[t]<X&&-1<w[t]&&w[t]<h)||"pI"==W&&!C&&16<q[t]||hitcube2||ja(ma).play());if(!V&&!z&&(u||r||d||l||s||c||B)){y.lossst_M=++ua;Da();Y();B?t>G&&sa.back():(C||!s&&!c&&!C)&&sa.forward();Y(1);Ea();I||(I=1,setTimeout(function(){z||(I=0)},150));if("px"==W&&(C||14<=G)&&20==q[t]&&10==w[t]){I=1;var n=0;for(f=0;f<G;f++)setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(--n);F.push(F[t]);t++;Y()},150*f);setTimeout(function(){AA("pz",1)},160*G);y.lossst_x=20;y.lossst_y=10}Fa();U&&!Aa&&(Aa=t)}}};onkeyup=function(){u=r=d=l=s=c=B=0};onload=function(){1<location.hash.length?AA("py",1):(setTimeout(function(){x=setInterval(function(){sa.forward()},500)},200),b.innerHTML="<center id=e>\ud83d\udc40</center>\n<center id=iw></center>\n<div id=iv style=perspective:30vh>\n<center id=menu>\n<h1>LOSSST</h1>\n<span onclick=newgame()>New game</span><br>\n"+(y.lossst_a&&!y.lossst_E?"<span onclick=AA(0,1)>Continue</span><br>":"")+"\n<span onclick=AA(\"pz\",1)>Puzzle editor</span><br>\n<span onclick=top.open('//goo.gl/iKqoCS')>Bonus",newgame=function(){for(i in localStorage)0==i.indexOf("lossst")&&-1==i.indexOf("e")&&delete localStorage[i];y.lossst_a=1;menu.innerHTML="<br><br><span onclick=intro(0)>Desssktop</span><br><br><span onclick=intro(1)>Mobile"},intro=function(k){clearInterval(x);_=$=0;x=setInterval(sa.forward,250);y.lossst_m=D=k;y.lossst_S=G=5;ta=y.lossst_t=0;ua=y.lossst_M=0;y.lossst_M=0;y.lossst_t=0;menu.innerHTML="";setTimeout(function(){e.style.margin=0},500);dir=1;inter=setInterval(function(){e.style.opacity=0;setTimeout(function(){e.style.opacity=1;dir=-dir;e.style.transform="scaleX("+dir+")"},150)},3E3);setTimeout(function(){iw.innerHTML="I lossst my kid !"},2E3);setTimeout(function(){iw.innerHTML=""},5E3);setTimeout(function(){clearInterval(inter);e.style.margin="-80vh 0 0"},7E3);setTimeout(AA,7500)})};AA=function(k,f){if(0===k||"pz"==k)clearInterval(x),_=$=0;"pz"==k&&(H=1,J=0);W=k||y.lossst_p||"px";b.outerHTML="<body id=b class="+W+">\n<div id=iv>\n<div id=a style=transform:translateX(-97vh)translateY(-50vh)rotateZ(90deg)translateZ(119vh);transform-origin:100vh+50vh>\n<div id=ig>"+(H?"<div class=t style=width:60vh;transform:translateX(70vh)translateY(1vh)translateZ(2vh)rotateX(-42deg)>\n<label style=width:100%;text-align:center>Create a pattern with the snake and share it !</label>\n<br style=line-height:6vh>\n<div style=text-align:left;padding-left:5vh>\n<label>Grid</label> <input id=ib type=range value=5 min=3 max=8 step=1>\n<span id=gridval>5</span>\n<br>\n<label>Snake</label> <input id=iq type=range value=5 min=5 max=40 step=1>\n<span id=it>5</span>\n</div>\n<input type=checkbox id=ik checked> <label for=ik id=im>ground</label>\n"+(y.lossst_e||y.lossst_s&&6<y.lossst_S?"<input type=checkbox id=wall> <label for=wall>wall</label>":"")+"\n"+(y.lossst_e||y.lossst_s?"<input type=checkbox id=wrap> <label for=wrap>wrap</label>":"")+"\n<br>\n<center>\n<button id=ij disabled>Share</button>\n</center>\n</div>":"")+"\n</div>\n<div id=ih></div>\n<div id=ie></div>\n<div id=ia></div>\n</div>\n</div>\n<center id=iz style='font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw'>\n<button id=kU class=h ontouchstart=TS(38) ontouchend=TE(38)>\u2191</button>\n<button id=kD class=h ontouchstart=TS(40) ontouchend=TE(40)>\u2193</button>\n<button id=kL class=h ontouchstart=TS(37) ontouchend=TE(37)>\u2190</button>\n<button id=kR class=h ontouchstart=TS(39) ontouchend=TE(39)>\u2192</button>\n<button id=kT class=h ontouchstart=TS(16) ontouchend=TE(16)>\u2b06\ufe0e</button>\n<button id=kB class=h ontouchstart=TS(17) ontouchend=TE(17)>\u2b07\ufe0e</button>\n<button id=kw class=h ontouchstart=TS(18) ontouchend=TE(18)>\u21a9</button>\n<button id=kx class=h ontouchstart=TS(82) ontouchend=TE(82)>\u00d7</button>\n<button id=ky class=h ontouchstart=TS(49) ontouchend=TE(49)>\u21bb</button>\n<button id=kz class=h ontouchstart=TS(51) ontouchend=TE(51)>\u21ba</button>\n</center>\n<center id=ii style='font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw'>";y.lossst_Apx0=1;Ba();if(D&&"py"==W||y.lossst_w)kU.className=kD.className=kL.className=kR.className="";if(D&&"py"==W||y.lossst_b)kw.className="";if(D&&"py"==W||y.lossst_r)kr.className="";if(D&&"py"==W||y.lossst_B)kT.className="",kB.className="";if(D&&"py"==W||y.lossst_c)ky.className="",kz.className="";H||(va=setInterval(function(){y.lossst_t=++ta},1E3));f&&(b.innerHTML+="<div style='position:fixed;font:8vh a;top:3vh;right:3vh'onclick=location='.'>\u00d7")}</script><style>@keyframes move{0%,100%{transform:rotateY(-10deg)}50%{transform:rotateY(10deg)}}*{margin:0;padding:0;font:2.5vh/5.5vh arial,sans-serif;vertical-align:middle;box-sizing:border-box;-webkit-touch-callout:none;-webkit-user-select:none;-webkit-tap-highlight-color:transparent;user-select:none;cursor:pointer;touch-action:manipulation}html,body{height:100%;background:#000;overflow:hidden;background:radial-gradient(#def 25%,#7ce)}a{color:#def}input,button{position:relative;z-index:2}input[type=range]::-webkit-slider-runnable-track,input[type=range]::-webkit-slider-thumb{background:#888;border:1px solid #000}input[type=range]::-moz-range-track,input[type=range]::-moz-range-thumb{background:#888;border:1px solid #000}#iv{width:0;height:0;perspective:120vh;position:absolute;top:50%;left:50%}#iv *{transform-style:preserve-3d}#a{width:0;height:0;transform-origin:18vh 0%;transition:transform 1s,transform-origin 1s}.z{position:fixed;top:0;left:0}.z>div{width:100%;height:100%;position:fixed}.z .u{transform:rotateY(90deg)translateX(-100%)rotateY(-90deg)}.z .l{transform:rotateX(-90deg)translateY(-50%)translateX(-50%)rotateY(-90deg)}.z .r{transform:rotateX(-90deg)translateY(-50%)translateX(50%)rotateY(90deg)}.z .f{transform:translateY(50%)rotateX(-90deg)translateY(-50%)}.z .b{transform:translateY(-50%)rotateX(-90deg)translateY(-50%)rotateY(180deg)}.z.q{width:32vh;height:32vh;transform:none}.z.q>div{background:transparent}.z.q .b{transition:opacity .5s;transform:translateY(-50%)rotateX(-90deg)translateY(-52%)}.z.q.w .d,.z.q .d{transition:opacity .5s;background:#0c5b0c}.sm,.sr{transform-origin:50% 50%;width:100%;height:100%;position:fixed}.sm{transition:transform .15s}.z.k{width:100%;height:100%}.z.k>div{box-shadow:0 0 0 .1vh #000 inset;text-align:center}.z.k .f{line-height:3vh}#ie .z.k>div{background:#FFA500}#ie .z.k .u{background:#dF8500}#ia .z.k>div,#a.haswall .z.k>div{background:#444}#ia .z.k .u,#a.haswall .z.k .u{background:#333}#ia .z.k .f{color:#fff}.ss{position:fixed;width:100%;height:100%;background:rgba(0,0,0,.25);transform:translateX(14%)translateY(14%)translateZ(-.25vh)}label{display:inline-block;width:22%}button{display:inline-block;width:23%;border:.2vh solid #000;margin:1vh 2% 0 0}input[type=range]{width:60%}#form{width:50vh;margin:auto}.o{float:left;outline:.4vh solid #888;opacity:0;transition:opacity .5s;background:#fff}.z.q.v{transform:translateZ(.1vh)}.z.q.v .o{opacity:1}.z.q.v .d{transform:none}.z.q.w>div{background:linear-gradient(45deg,rgba(200,200,200,.1),rgba(200,200,200,.3));box-shadow:0 0 .1vh rgba(255,255,255,.5)}.j{position:fixed;transform-origin:50% 100%;bottom:0}.m{animation:move 3s infinite}.e{color:rgba(0,0,0,.002);text-shadow:0px 0px rgba(0,0,0,.25);position:fixed;transform-origin:50% 100%;bottom:0}.tr,.h{font:11vh/12vh a}.a .tr{font:15vh/11vh a}.a .h,.c .h,.i .h,.a .p,.c .p,.i .p,.c .x.b,#iz button.h{display:none}.g,.g *,.p{font:4vh/5vh a;transition:opacity .5s .5s}.n,.n *{font:5vh/6vh a}.g.h,.p.h{opacity:0}.a .g{font:6vh/5vh a}.do{position:fixed;transform-origin:0% 100%;width:0;height:0}.do .y{position:fixed;width:15vh;height:20vh;background:radial-gradient(2vh at 90% 50%,gold 35%,transparent 40%),#a22;border-radius:1vh 1vh 0 0;transform-origin:0% 100%;transform:translateX(-7.5vh)translateY(-12.5vh)rotateX(-90deg);text-align:center;font-size:6vh;line-height:12vh;color:#fff;transition:transform 1s}.do .y.d1{background:radial-gradient(2vh at 90% 50%,gold 35%,transparent 40%),#222}.do.s .y{transform:translateX(-7.5vh)translateY(-12.5vh)rotateX(-90deg)rotateY(90deg)}.z.x div{background:linear-gradient(45deg,#640,#583808)}.z.x div.u{transform:rotateY(90deg)translateX(-5.4vh)translateZ(-.1vh)rotateY(-90deg);background:radial-gradient(#3F7D1F,#034301);background-size:280vh 140vh;width:5.3vh;height:5.3vh}.t{position:fixed;background:#fff;padding:.7vh;width:20vh;font:2vh/2.5vh arial,sans-serif;transform-origin:50% 100%;text-align:center;box-shadow:0 0 0 .2vh #000 inset;bottom:0}.t br{font:0/0 a}.t:before{content:"";width:3vh;height:3vh;background:#750;position:absolute;bottom:-3vh;left:8vh;border-left:.2vh solid;border-right:.2vh solid}.pz .t:before{left:28vh}label{text-align:left}#a{transition:transform 6s ease-in,transform-origin 6s ease-in;width:280vh;height:140vh;background:radial-gradient(#4F8D2F,#136321);border-radius:3vh}.px #a,.pI #a{background:radial-gradient(10vh at 51.3% 52%,#000 40%,transparent 50%),radial-gradient(15vh at 51.3% 52%,#640 40%,transparent 50%),radial-gradient(#4F8D2F,#136321)}#e{margin:99vh 0 0;transition:margin 1s;font:10vh/80vh a}#iw{font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw}#menu{color:#fff;width:55vh;transform:translateX(-27vh)translateY(-20vh)rotateX(-17deg)}#menu span{font:7vh/12vh arial,sans-serif}#menu h1{font:13vh/16vh arial,sans-serif;text-shadow:.1vh -.1vh #777,.2vh -.2vh #777,.3vh -.3vh #777}#menu span:hover{color:#ace;transform:rotateX(-10deg)}.pN #menu span:hover{color:#fff}#iz button{position:fixed;width:10vh;height:10vh;text-align:center;font:6vh/10vh a}#kU{right:14vh;bottom:14vh}#kD{right:14vh;bottom:2vh}#kL{right:26vh;bottom:2vh}#kR{right:2vh;bottom:2vh}#kT{left:2vh;top:2vh}#kB{left:2vh;top:14vh}#kw{bottom:2vh;left:2vh}#kx{bottom:14vh;left:2vh}#ky{top:2vh;right:18vh}#kz{top:2vh;right:6vh}#hpx0{opacity:0;transition:opacity .5s}</style></head><head></head><body id="b" class="pK">
<div id="iv">
<div id="a" style="transform: translateX(-95vh) translateY(-325vh) translateZ(45vh) rotateX(40deg) rotateZ(0rad); transform-origin: 95vh 325vh 0px; width: 100vh; height: 375vh; transition: transform 1s, transform-origin 1s;">
<div id="ig"><div id="tree0" class="j tr" style="left:10vh;transform:translateX(-7vh)translateY(14vh)rotateX(-70deg)">🌳</div><div id="treeshadow0" class="e h" style="left:10vh;transform:translateX(-7.5vh)translateY(13.5vh)rotateZ(144deg)scaleY(1.5)">🌳</div><div id="a0" class="j g h" style="left:5vh;transform:translateY(24vh)rotateX(-65deg)"><div class="m">🍎</div></div><div id="as0" class="e p h" style="left:5vh;transform:scaleX(-1)translateY(23vh)rotateZ(212deg)">🍎</div><div id="a1" class="j g h" style="left:10vh;transform:translateY(29vh)rotateX(-65deg)"><div class="m">🍎</div></div><div id="as1" class="e p h" style="left:10vh;transform:scaleX(-1)translateY(28vh)rotateZ(212deg)">🍎</div><div id="a2" class="j g h" style="left:15vh;transform:translateY(34vh)rotateX(-65deg)"><div class="m">🍎</div></div><div id="as2" class="e p h" style="left:15vh;transform:scaleX(-1)translateY(33vh)rotateZ(212deg)">🍎</div><div id="a3" class="j g h" style="left:20vh;transform:translateY(14vh)rotateX(-65deg)"><div class="m">🍎</div></div><div id="as3" class="e p h" style="left:20vh;transform:scaleX(-1)translateY(13vh)rotateZ(212deg)">🍎</div><div class="j n" style="left:14vh;transform:translateY(354vh)rotateX(-65deg)"><div class="m">🐞</div></div><div id="dpK0" class="do s" style="left:107.5vh;top:327.5vh;transform:rotateZ(1.5707963267948966rad)translateZ(0vh)"><div class="y d1" hidden="">7</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh"></div></div><div id="dpK1" class="do" style="left:-7.5vh;top:27.5vh;transform:rotateZ(-1.5707963267948966rad)translateZ(0vh)"><div class="y d1">12</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh"></div></div><div id="hpK0" class="t" style="left:75vh;transform:translateY(345vh)translateZ(0vh)rotateX(-70deg)translateY(-4vh)">You can rotate the camera with the keys 1, 2 and 3</div><div id="hpK1" class="t" style="left:35vh;transform:translateY(275vh)translateZ(0vh)rotateX(-70deg)translateY(-4vh)">Can you guess what's coming next?</div><div id="hpK2" class="t" style="left:35vh;transform:translateY(125vh)translateZ(0vh)rotateX(-70deg)translateY(-4vh)">3D puzzles with wrap ! Use Shift and Ctrl to wrap between top and bottom</div></div>
<div id="ih"><div id="puzzle0" class="z q v " style="left:40vh;top:345vh;width:25vh;height:25vh"><div id="D0" class="d"></div><div id="B0" class="b"><div class="o" id="w000" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w001" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w002" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w003" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w004" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w010" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w011" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w012" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w013" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w014" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w020" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w021" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w022" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w023" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w024" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w030" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w031" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w032" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w033" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w034" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w040" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w041" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w042" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w043" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w044" style="width:5vh;height:5vh;background:#fff"></div></div></div><div id="puzzle1" class="z q v " style="left:60vh;top:290vh;width:30vh;height:30vh"><div id="D1" class="d"></div><div id="B1" class="b"><div class="o" id="w100" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w101" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w102" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w103" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w104" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w105" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w110" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w111" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w112" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w113" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w114" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w115" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w120" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w121" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w122" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w123" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w124" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w125" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w130" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w131" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w132" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w133" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w134" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w135" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w140" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w141" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w142" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w143" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w144" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w145" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w150" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w151" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w152" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w153" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w154" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w155" style="width:5vh;height:5vh;background:#fff"></div></div></div><div id="puzzle2" class="z q v " style="left:10vh;top:290vh;width:25vh;height:25vh"><div id="D2" class="d"></div><div id="B2" class="b"><div class="o" id="w200" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w201" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w202" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w203" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w204" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w210" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w211" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w212" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w213" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w214" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w220" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w221" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w222" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w223" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w224" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w230" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w231" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w232" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w233" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w234" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w240" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w241" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w242" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w243" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w244" style="width:5vh;height:5vh;background:#fff"></div></div></div><div id="puzzle3" class="z q v " style="left:10vh;top:225vh;width:20vh;height:20vh"><div id="D3" class="d"><div class="o" id="g300" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g301" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g302" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g303" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g310" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g311" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g312" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g313" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g320" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g321" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g322" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g323" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g330" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g331" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g332" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g333" style="width:5vh;height:5vh;background:#fff"></div></div><div id="B3" class="b"><div class="o" id="w300" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w301" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w302" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w303" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w310" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w311" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w312" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w313" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w320" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w321" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w322" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w323" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w330" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w331" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w332" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w333" style="width:5vh;height:5vh;background:#fff"></div></div></div><div id="puzzle4" class="z q v " style="left:60vh;top:225vh;width:25vh;height:25vh"><div id="D4" class="d"><div class="o" id="g400" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g401" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g402" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g403" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g404" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g410" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g411" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g412" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g413" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g414" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g420" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g421" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g422" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g423" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g424" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g430" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g431" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g432" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g433" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g434" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g440" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g441" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g442" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g443" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g444" style="width:5vh;height:5vh;background:#fff"></div></div><div id="B4" class="b"><div class="o" id="w400" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w401" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w402" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w403" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w404" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w410" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w411" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w412" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w413" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w414" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w420" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w421" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w422" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w423" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w424" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w430" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w431" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w432" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w433" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w434" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w440" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w441" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w442" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w443" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w444" style="width:5vh;height:5vh;background:#fff"></div></div></div><div id="puzzle5" class="z q v " style="left:10vh;top:170vh;width:25vh;height:25vh"><div id="D5" class="d"><div class="o" id="g500" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g501" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g502" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g503" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g504" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g510" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g511" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g512" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g513" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g514" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g520" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g521" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g522" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g523" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g524" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g530" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g531" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g532" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g533" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g534" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g540" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g541" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g542" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g543" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g544" style="width:5vh;height:5vh;background:#fff"></div></div><div id="B5" class="b"><div class="o" id="w500" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w501" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w502" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w503" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w504" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w510" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w511" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w512" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w513" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w514" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w520" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w521" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w522" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w523" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w524" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w530" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w531" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w532" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w533" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w534" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w540" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w541" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w542" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w543" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w544" style="width:5vh;height:5vh;background:#fff"></div></div></div><div id="puzzle6" class="z q v " style="left:60vh;top:170vh;width:25vh;height:25vh"><div id="D6" class="d"><div class="o" id="g600" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g601" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g602" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g603" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g604" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g610" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g611" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g612" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g613" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g614" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g620" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g621" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g622" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g623" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g624" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g630" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g631" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g632" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g633" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g634" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g640" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g641" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g642" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g643" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g644" style="width:5vh;height:5vh;background:#fff"></div></div><div id="B6" class="b"><div class="o" id="w600" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w601" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w602" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w603" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w604" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w610" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w611" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w612" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w613" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w614" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w620" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w621" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w622" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w623" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w624" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w630" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w631" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w632" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w633" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w634" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w640" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w641" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w642" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w643" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w644" style="width:5vh;height:5vh;background:#fff"></div></div></div><div id="puzzle7" class="z q v w" style="left:10vh;top:110vh;width:20vh;height:20vh"><div class="l"></div><div class="r"></div><div id="D7" class="d"><div class="o" id="g700" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g701" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g702" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g703" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g710" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g711" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g712" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g713" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g720" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g721" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g722" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g723" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g730" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g731" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g732" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g733" style="width:5vh;height:5vh;background:#fff"></div></div><div id="B7" class="b"><div class="o" id="w700" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w701" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w702" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w703" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w710" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w711" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w712" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w713" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w720" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w721" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w722" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w723" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w730" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w731" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w732" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w733" style="width:5vh;height:5vh;background:#fff"></div></div><div class="f"></div></div><div id="puzzle8" class="z q v w" style="left:60vh;top:110vh;width:20vh;height:20vh"><div class="l"></div><div class="r"></div><div id="D8" class="d"><div class="o" id="g800" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g801" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g802" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g803" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g810" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g811" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g812" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g813" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g820" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g821" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g822" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g823" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g830" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g831" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g832" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g833" style="width:5vh;height:5vh;background:#000"></div></div><div id="B8" class="b"><div class="o" id="w800" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w801" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w802" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w803" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w810" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w811" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w812" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w813" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w820" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w821" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w822" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w823" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w830" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w831" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w832" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w833" style="width:5vh;height:5vh;background:#000"></div></div><div class="f"></div></div><div id="puzzle9" class="z q v w" style="left:10vh;top:60vh;width:20vh;height:20vh"><div class="l"></div><div class="r"></div><div id="D9" class="d"><div class="o" id="g900" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g901" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g902" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g903" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g910" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g911" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g912" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g913" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g920" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g921" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g922" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g923" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g930" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g931" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g932" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g933" style="width:5vh;height:5vh;background:#fff"></div></div><div id="B9" class="b"><div class="o" id="w900" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w901" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w902" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w903" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w910" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w911" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w912" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w913" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w920" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w921" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w922" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w923" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w930" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w931" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w932" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w933" style="width:5vh;height:5vh;background:#fff"></div></div><div class="f"></div></div><div id="puzzle10" class="z q v w" style="left:60vh;top:60vh;width:20vh;height:20vh"><div class="l"></div><div class="r"></div><div id="D10" class="d"><div class="o" id="g1000" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g1001" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g1002" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g1003" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g1010" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g1011" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g1012" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g1013" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g1020" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g1021" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g1022" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g1023" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g1030" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g1031" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g1032" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g1033" style="width:5vh;height:5vh;background:#fff"></div></div><div id="B10" class="b"><div class="o" id="w1000" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w1001" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w1002" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w1003" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w1010" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w1011" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w1012" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w1013" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w1020" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w1021" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w1022" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w1023" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w1030" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w1031" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w1032" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w1033" style="width:5vh;height:5vh;background:#000"></div></div><div class="f"></div></div><div id="puzzle11" class="z q v w" style="left:60vh;top:10vh;width:20vh;height:20vh"><div class="l"></div><div class="r"></div><div id="D11" class="d"><div class="o" id="g1100" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g1101" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g1102" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g1103" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g1110" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g1111" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g1112" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g1113" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g1120" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g1121" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g1122" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g1123" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g1130" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g1131" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g1132" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g1133" style="width:5vh;height:5vh;background:#000"></div></div><div id="B11" class="b"><div class="o" id="w1100" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w1101" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w1102" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w1103" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w1110" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w1111" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w1112" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w1113" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w1120" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w1121" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w1122" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w1123" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w1130" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w1131" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w1132" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w1133" style="width:5vh;height:5vh;background:#000"></div></div><div class="f"></div></div></div>
<div id="ie"></div>
<div id="ia"><div id="M0" class="sm" style="transform: translateX(95.25vh) translateY(325vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S0"></div><div id="R0" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T0"><div style="background:none;box-shadow:none;color:red;font-size:4vh;text-align:center;transform:rotateZ(180deg)translateY(-4vh)translateZ(1.5vh)">Y</div><div class="u" style="font:2.5vh/4vh a">👀</div><div class="f">‿</div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M1" class="sm" style="transform: translateX(100.25vh) translateY(325vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S1"></div><div id="R1" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T1"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M2" class="sm" style="transform: translateX(105.25vh) translateY(325vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S2"></div><div id="R2" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T2"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M3" class="sm" style="transform: translateX(110.25vh) translateY(325vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S3"></div><div id="R3" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T3"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M4" class="sm" style="transform: translateX(115.25vh) translateY(325vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S4"></div><div id="R4" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T4"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M5" class="sm" style="transform: translateX(120.25vh) translateY(325vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S5"></div><div id="R5" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T5"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M6" class="sm" style="transform: translateX(125.25vh) translateY(325vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S6"></div><div id="R6" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T6"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M7" class="sm" style="transform: translateX(130.25vh) translateY(325vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S7"></div><div id="R7" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T7"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M8" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S8"></div><div id="R8" class="sr"><div class="z k" id="T8"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M9" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S9"></div><div id="R9" class="sr"><div class="z k" id="T9"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M10" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S10"></div><div id="R10" class="sr"><div class="z k" id="T10"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M11" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S11"></div><div id="R11" class="sr"><div class="z k" id="T11"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M12" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S12"></div><div id="R12" class="sr"><div class="z k" id="T12"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M13" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S13"></div><div id="R13" class="sr"><div class="z k" id="T13"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M14" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S14"></div><div id="R14" class="sr"><div class="z k" id="T14"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M15" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S15"></div><div id="R15" class="sr"><div class="z k" id="T15"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div></div>
</div>
</div>
<center id="iz" style="font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw">
<button id="kU" class="h" ontouchstart="TS(38)" ontouchend="TE(38)">↑</button>
<button id="kD" class="h" ontouchstart="TS(40)" ontouchend="TE(40)">↓</button>
<button id="kL" class="h" ontouchstart="TS(37)" ontouchend="TE(37)">←</button>
<button id="kR" class="h" ontouchstart="TS(39)" ontouchend="TE(39)">→</button>
<button id="kT" class="h" ontouchstart="TS(16)" ontouchend="TE(16)">⬆︎</button>
<button id="kB" class="h" ontouchstart="TS(17)" ontouchend="TE(17)">⬇︎</button>
<button id="kw" class="h" ontouchstart="TS(18)" ontouchend="TE(18)">↩</button>
<button id="kx" class="h" ontouchstart="TS(82)" ontouchend="TE(82)">×</button>
<button id="ky" class="h" ontouchstart="TS(49)" ontouchend="TE(49)">↻</button>
<button id="kz" class="h" ontouchstart="TS(51)" ontouchend="TE(51)">↺</button>
</center>
<center id="ii" style="font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw"></center><div style="position:fixed;font:8vh a;top:3vh;right:3vh" onclick="location='index.html'">×</div></body></html><html><head><title>LOSSST</title><meta content="width=device-width,user-scalable=no" name="viewport"><script>u=r=d=l=s=c=B=0;trees=[];apples=[];doors=[];cubes=[];hints=[];emoji=[];puzzles=[];TS=function(k){ba[k]&&clearInterval(ba[k]);onkeydown({which:"+n+"});ba[k]=setInterval(function(){onkeydown({which:k})},150)};TE=function(k){setTimeout(function(){clearInterval(ba[k]);onkeyup()},150)};var g=0;function ca(){a.style.transform="translateX(-"+q[t]*v+"vh)translateY(-"+w[t]*v+"vh)translateZ(45vh)rotateX(40deg)rotateZ("+g+"rad)"}var x=$=_=0;function da(){var k=0;this.i=function(f){k+=f/48E3*Math.PI*2;return k%=2*Math.PI}}function fa(k){var f=new da,n=new da,m=.1;this.i=function(){if(!k)return 0;var A=k+.4*Math.sin(n.i(3));A=440*Math.pow(2,(A-57)/12);m*=.9998;A=f.i(A);return Math.pow(Math.sin(A),1)*m}}function ha(k){function f(){var f=k.length/2;for(_=$;0>_;)_+=f;_%=f;f=new fa(k[2*_+0].charCodeAt(0)-48);for(var A=new fa(k[2*_+1].charCodeAt(0)-48),P=[],aa=0;48E3>aa;aa++){var ea=f.i(),na=A.i(),za=.5*ea+na;P.push(ea+.5*na);P.push(za)}n(P).play()}function n(f){function k(f){f=m(f);return f[0]+f[1]}function m(f){for(var k=0,m="",n=0;4>n;n++,k+=8)m+=String.fromCharCode(f>>k&255);return m}var n=2*f.length;n="RIFF"+m(n+36)+"WAVEfmt "+m(16)+k(1)+k(2)+m(48E3)+m(192E3)+k(4)+k(16)+"data"+m(n);for(var ea in f)n+=k(32767*f[ea]);return new Audio("data:audio/wav;base64,"+btoa(n))}$=-1;this.forward=function(){$++;f()};this.back=function(){$--;f()}}function ja(k){function f(f){f=n(f);return f[0]+f[1]}function n(f){for(var k=0,m="",n=0;4>n;n++,k+=8)m+=String.fromCharCode(f>>k&255);return m}for(var m=[],A=0;;A++){var P=k(A);if(null===P)break;m.push(P)}k=2*m.length;k="RIFF"+n(k+36)+"WAVEfmt "+n(16)+f(1)+f(1)+n(48E3)+n(96E3)+f(2)+f(16)+"data"+n(k);for(A in m)k+=f(1E4*m[A]);return new Audio("data:audio/wav;base64,"+btoa(k))}function ka(k){return 1E4<k?null:(Math.pow(k,1.055)&128?1:-1)*Math.pow((1E4-k)/1E4,2)/2}function la(k){return 25E3<k?null:((k^k>>3^k*k*7.3^k<<4)&65535)/65536*((25E3-k)/25E3)/2}function ma(k){return 5E3<k?null:(Math.pow(k+1E3*Math.sin(.01*k),.8)&200?.5:-.5)*Math.pow((5E3-k)/5E3,1)/2}function oa(k){if(16E3<k)return null;var f=Math.pow((16E3-k)/16E3,2.1)/2;return(k<16E3/7?k+10*Math.sin(-k/900)&16:k&13)?f:-f}function pa(k){return 9E4<k?null:(Math.pow(k+1E3*Math.sin(.01*k),.8)&200?.5:-.5)*Math.pow((9E4-k)/9E4,1)/4}var qa=new ha("nbo0risiubv0uisirbs0ui0i0b0c0f0gniojrlsjuivjymvjubv0ui0i0j0m0n0rsgu0vnxnzgx0vnunsg0n0o0n0g0s0o0nrisjulvgufsjufscrbo0ni0j0b0i0j0il`n0ogqgs`u0vgxgz`0gxl0nsouqvsxuuev0u`0`0eq0slulqcs0qcs0qbs0q`s0njo0reseujv0xeveuj0v0e0q0j0i0g0e0cu0scq00bv0ufr0sgn0vbr0xiz0zjr0sgu0vbx0zgx0vbubsg{0zb{`z^{0zi{fzgv0xiu0vjs0ulr0sbn0oll0nbl0jfi0g00bxc0`zb0^{`0]z^0[z]0Zz[0]z^0`zb0]uf0bxi0f{l0izr0ozn0ixr0nrulrnbo0risiufs0r`o0nb0czf0gzi0gzf0cub0i0j0mvn0m0j0irbscrbs`rbs`sbrbo`q0sgugv`x0zg{gz`s0x`s0v`x0vcx0ues0q`l00eu00`x00ev00`u00eq00`o`"),ra=new ha("p0r0sdk0rco0pdk0p0r0sdw0rcs0pdk0p0r0sdk0rck0pdk0p0r0sdw0rcs0pd0f0g0iwg0bwgx0wgurrnspur0bufwgubs0pkrcsdk0rco0pkk0p0r0sdk0rco0pk0l0k0iwg0b0k0g0n0kzs0nxi0f|l0izr0p0n0lwk0dwg0k0p0k|s0pur0kuo0k0i0l0k0isd0krj0kpd0k0p0rsd0krl0opd0f0g0iskw0riw0pgw0nfw0u`s0rbs0pd0k"),y=localStorage,z=0,C=+y.lossst_s||0,sa=C?ra:qa,D=+y.lossst_m||0,ta=+y.lossst_t||0,ua=+y.lossst_M||0,va=0,ba=[],wa=0,v=5,t=0,q=[],w=[],E=[],F=[],G=y.lossst_S=+y.lossst_S||5,H=0,I=0,J=null,K="0",L=[],M=[],xa=0,N=0,O=0,Q=0,R=0,S=0,T=0,ya=+y.lossst_T||0,Aa=0,U=0,V=0,W="",X=h=0;function Ba(){var k;navigator.userAgent.match(/Mac/)&&(iv.className="a");navigator.userAgent.match(/Fire|Edg/)&&(iv.className+=" c",wa=4E3);D&&(iv.className+=" i");b.className=W;C&&!H&&(ie.innerHTML="");cubes=[];doors=[];trees=[];apples=[];hints=[];emoji=[];if("pz"==W)X=40,h=20,puzzles=[[5,,1,,"0000000000000000000000000",16,9]],G=5,C=0;else if("py"==W)h=X=20,puzzles=[eval("["+location.hash.slice(1).replace(/[01]{2,}/g,'"$&"')+"]")],G=puzzles[0][1],puzzles[0][5]=puzzles[0][6]=8,C=!!puzzles[0][3],hints=[["Move: arrow keys<br>"+(C?"Up/Down: "+(D?"\u2b06\ufe0e/\u2b07\ufe0e":"Shift/Ctrl")+"<br>":"")+"backtrack: "+(D?"\u21a9":"Alt")+"<br>Reset: R",1,5,1,0,C,0]],delete y.lossst_ppy0;else if("px"==W){X=40;h=20;trees=[[13,9,0],[7,13,0],[35,8,0]];apples=[[11,11,0,0,0],[2,12,0,6,0],[38,10,0,7,0]];doors=[[41,10,Math.PI/2,8,0,"pA",1,0,10,0,0],[20,-2,0,14,0,"pD",1,10,19,0,0],[-2,11,-Math.PI/2,6,0,"pJ",1,14,5,1,1],[20,21,Math.PI,14,0,"pC",1,22,1,0,0],[5,21,Math.PI,5,0,"pI",1,36,1,0,1]];puzzles=[];cubes=[];for(f=9;15>f;f++)for(m=0;5>m;m++)2==m&&14==f||2==m&&13==f||3==m&&13==f||3==m&&12==f||2==m&&12==f||cubes.push([m,f]);hints=[["Move with<br>arrow keys"+(D?"":" or WASD/ZQSD"),19,5,0,13,0],["Use the "+(D?"\u21a9":"Alt")+" key to backtrack",1,9,0,13,0,1],["Approach red doors with the right length to open them",35,14,0,13,0],["\u2191<br>New puzzles !<hr>Puzzle editor<br>\u2193",19,8,14,0,0],["\u2190<br>New puzzles !",1,9,6,7,1,1]];emoji=[["\ud83d\udc3f\ufe0f",30,7],["\ud83c\udf30\ufe0f",29,7]]}else if("pA"==W)X=40,h=20,trees=[[35,15,0]],apples=[[33,16,0,0,6],[34,17,0,0,6],[37,15,0,0,6]],cubes=[],doors=[[-2,10,-Math.PI/2,8,0,"px",0,39,11,0,0],[35,21,Math.PI,11,0,"pB",1,35,1,0,0]],puzzles=[[6,,0,,"000000001000001110001110001000000000",2,3],[6,,0,,"000000011000011100010000011000000000",14,3],[6,,0,,"000000000100001100011000011100000000",26,3],[5,,0,,"0000001110011100110000000",2,13],[6,,0,,"000000011000011000001100001100000000",14,13],[6,,0,,"000000000100001100001110001100000000",26,13]],hints=[["Cover the black patterns to solve puzzles",9,9,1,0],["Solve all the puzzles in the room to unlock a new door",21,9,1,0],["Your progress is saved automatically",34,9,1,0]],emoji=[["\ud83d\udc0c",11,10]];else if("pB"==W)D&&(kx.className="",y.lossst_r=1),X=40,h=20,trees=[[4,7,0]],apples=[[1,8,0,0,12],[2,9,0,0,12]],doors=[[35,-2,0,8,0,"pA",0,35,19,0,0],[-2,10,-Math.PI/2,13,0,"pC",1,39,10,0,0]],puzzles=[[6,,0,,"000000011110011010011110000000000000",8,2],[7,,0,,"0000000001110000111000001100000110000010000000000",18,2],[6,,0,,"000000011000011110001010001110000000",28,2],[6,,0,,"000000011100001110001110001100000000",8,12],[6,,0,,"000000001110001110001110001010000000",18,12],[6,,0,,"000000011110011110001100001000000000",28,12]],hints=[["If you get stuck, "+(D?"click \u00d7":"press R")+" to exit a puzzle",35,11,1,0]],cubes=[[11,4],[21,16]],emoji=[["\ud83d\udc08",4,14]];else if("pC"==W)X=40,h=20,trees=[[35,8,0]],apples=[[34,11,0,0,18]],doors=[[41,10,Math.PI/2,8,0,"pB",0,1,10,0,0],[22,-2,0,14,0,"px",1,20,19,0,0]],puzzles=[[7,,0,,"0000000000000001111000111100001111000100000000000",2,3],[7,,0,,"0000000001110000101000011100001110000110000000000",26,3],[6,,0,,"000000001110011110011010001110000000",14,3],[7,,0,,"0000000001100000111000011100001110000110000000000",2,12],[7,,0,,"0000000000000001111100101010011111000000000000000",14,12],[6,,0,,"000000011000011100011110011110000000",26,12]],hints=[["\u2191<br>After this room, you can try a puzzle editor and a new kind of puzzles !",22,11,13,0,0]],cubes=[[29,5],[30,8],[17,6],[15,4],[15,7],[29,13],[30,13],[30,14],[18,15],[16,15],[6,13],[6,17],[7,8],[6,8],[5,8],[3,7],[3,8],[7,6],[7,5]],emoji=[["\ud83e\udd8b<br><br>",29,13]];else if("pD"==W){h=X=20;trees=[[10,2,0]];doors=[[10,21,Math.PI,14,0,"px",0,20,0,0,0],[-2,5,-Math.PI/2,14,0,"pE",0,24,12,0,0]];puzzles=[[7,,1,,"0100010011111000000000000000000000001111100100010",7,7]];hints=[["Now you're thinking with wraps !",2,2,0,14,0]];for(f=0;20>f;f++)cubes.push([f,10]);emoji=[["\ud83d\udc10",12,2]]}else if("pE"==W)h=X=25,trees=[[5,12,0]],apples=[[4,14,0,0,23]],doors=[[26,12,Math.PI/2,14,0,"pD",0,0,5,0,0],[-2,12,-Math.PI/2,15,0,"pF",1,79,5,0,0]],puzzles=[[7,,1,,"1000001000000000000000010100011011011000111000001",3,3],[6,,1,,"110011100001000000100001100001110011",15,17],[5,,1,,"1100111001100011001110011",16,4],[6,,1,,"000011000011110001110001000011000011",3,17]],hints=[["Reminder:<br>use "+(D?"\u21a9":"Alt")+" to backtrack,<br>"+(D?"\u00d7":"R")+" to exit a puzzle.",11,14,1,0,0]],emoji=[["\ud83d\udc12",12,20]];else if("pF"==W)X=80,h=20,trees=[[35,10,0]],apples=[[38,11,0,0,35]],doors=[[81,5,Math.PI/2,15,0,"pE",0,0,12,0,0],[-2,15,-Math.PI/2,16,0,"pG",1,19,5,0,0]],puzzles=[[5,,1,,"0111101001010110100011111",59,13],[5,,1,,"1111011000111100001011110",48,13],[5,,1,,"1111101000011110111001100",37,13],[5,,1,,"1111110000111001000011111",26,13],[5,,1,,"1100101101001110011101101",15,13],[5,,1,,"1111100001110010000111111",59,2],[5,,1,,"1000110111100011000111111",48,2],[5,,1,,"1000110101101011111110001",37,2],[5,,1,,"1111110001000110000111111",26,2],[5,,1,,"0111101100011100011011110",15,2],[5,,1,,"1111101111001110001100001",4,8],[5,,1,,"1010100101111010000111111",71,8]],hints=[["This room hides a surprise !",72,2,0,15,0],["\u2190<br>Exit",38,9,16,0,0]],cubes=[],emoji=[];else if("pG"==W)X=20,h=30,trees=[[5,25,0]],apples=[[4,24,0,0,37],[7,25,0,0,37],[2,26,0,0,37],[3,28,0,0,37]],doors=[[21,5,Math.PI/2,16,0,"pF",0,1,15,0,0],[10,31,Math.PI,20,0,"pH",1,10,1,0,0]],puzzles=[[6,,1,,"001000001110111111011100011000001000",7,6],[6,,1,,"110001100001000111000111100001110001",7,18]],emoji=[["\ud83d\udc01",9,14]];else if("pH"==W)X=20,h=30,trees=[[16,22]],apples=[[18,22,0,0,39]],doors=[[10,-2,0,18,0,"pG",0,10,29,0,0],[21,25,Math.PI/2,21,0,"pI",1,1,10,0,0]],puzzles=[[6,,1,,"001000011110111111011110011110001000",7,6],[6,,1,,"110001100001000011000111001111111111",7,18]],emoji=[["\ud83e\udd86",9,14]];else if("pI"==W){X=40;h=20;apples=[[38,2,0,5,0]];doors=[[-2,10,-Math.PI/2,1,0,"pH",0,19,25,0,0],[36,-2,0,6,0,"px",1,5,19,0,1]];puzzles=[];hints=[["Guess what, you finished the first half of the game !",5,9,1,0],["You can now move up and down with "+(D?"\u2b06\ufe0e and \u2b07\ufe0e":"Shift and Ctrl keys")+", and open black doors",30,11,1,0]];for(f=0;9>f;f++)cubes.push([30,f]);for(f=30;40>f;f++)cubes.push([f,8]);emoji=[["\ud83d\udc22",13,14]];trees=[[3,1],[15,2],[36,3],[26,5],[25,15],[33,9],[10,12],[36,14],[3,15]]}else"pJ"==W?(X=15,h=70,trees=[[2,62]],apples=[[2,65,0,0,47],[1,66,0,0,47]],doors=[[16,5,Math.PI/2,6,0,"px",0,1,11,0,1],[-2,65,-Math.PI/2,8,0,"pK",1,19,65,0,1]],puzzles=[[5,,0,"0000000000000000000001110",,2,2],[4,,0,"0000000001000110",,4,11],[5,,0,"0000000000000000101001110",,6,20],[5,,0,"0000000000000000111000100",,8,29],[4,,0,"0000000001100110","0000011001100000",2,38],[4,,0,"0000010001100100","0000011001100000",4,47],[4,,0,"0000011001000100","0000010001100000",6,56],[4,,0,"0000000001100110","0100011000100000",8,65]],hints=[["You now have to match the patterns on the walls...",10,2,1,0,1],["... and on the floor too !",10,40,1,0,1]],emoji=[["\ud83e\udd89",10,14]]):"pK"==W?(D&&(ky.className=kz.className="",y.lossst_c=1),X=20,h=75,trees=[[2,2]],apples=[[1,4,0,0,59],[2,5,0,0,59],[3,6,0,0,59],[4,2,0,0,59]],doors=[[21,65,Math.PI/2,7,0,"pJ",0,1,65,0,1],[-2,5,-Math.PI/2,12,0,"pL",1,14,5,0,1]],puzzles=[[5,,0,"0000000000010000110001110",,8,69],[6,,0,"000000000000000000000100001110011000",,12,58],[5,,0,"0000000000010000111001000",,2,58],[4,,0,"0000001001100110","0000001001100000",2,45],[5,,0,"0000000000000000010001110","0000000100001100110000000",12,45],[5,,0,"0000000000000000101001110","0000001110010100000000000",2,34],[5,,0,"0000000000000000011001100","0000001110011000010000000",12,34],[4,,1,"0000011001100110","0110000000000110",2,22],[4,,1,"1001000000001001","1001000000001001",12,22],[4,,1,"0000010011110010","0000111101100000",2,12],[4,,1,"0110010000000011","0000011100110000",12,12],[4,,1,"1101000000000001","1101000000010001",12,2]],hints=[["You can rotate the camera with "+(D?"<br>\u21bb and \u21ba":"the keys 1, 2 and 3"),15,68,1,0,1],["Can you guess what's coming next?",7,54,1,0,1],["3D puzzles with wrap ! Use "+(D?"\u2b06\ufe0e and \u2b07\ufe0e":"Shift and Ctrl")+" to wrap between top and bottom",7,24,1,0,1]],emoji=[["\ud83d\udc1e",3,70]]):"pL"==W?(X=15,h=80,trees=[[2,70]],apples=[[1,73,0,0,68],[3,75,0,0,68]],doors=[[16,5,Math.PI/2,12,0,"pK",0,1,5,0,1],[-2,75,-Math.PI/2,14,0,"pM",1,14,25,0,1]],puzzles=[[5,,0,"0000000000001001111100100",,2,2],[4,,0,"0000010001100000",,5,11],[5,,0,"0000000110000110111000010",,8,20],[5,,0,"0000000000001000111011111","0000000000111001111100000",2,29],[4,,0,"1000110011101111","0000001111110000",5,38],[4,,0,"0000100011001110","1110110010000000",8,45],[4,,1,"1000100110010001","0000100110010000",2,54],[4,,1,"0000001011110100","0000110011110011",5,63],[5,,1,"0100011000010000111001000","0000001110110000100000000",8,72]],cubes=[[6,12]],emoji=[["\ud83d\udc1d",3,20]]):"pM"==W?(X=15,h=30,trees=[[10,12]],apples=[[8,11,0,0,71],[9,10,0,0,71],[10,9,0,0,71],[11,10,0,0,71],[12,11,0,0,71],[7,12,0,0,71]],doors=[[16,25,Math.PI/2,14,0,"pL",0,1,75,0,1],[-2,5,-Math.PI/2,20,0,"pN",1,14,5,0,1]],puzzles=[[5,,1,"0001100110011001100010000","0001100110011001100010000",2,24],[5,,1,"1100010001000011000111000","0000011000110010000000000",4,13],[5,,1,"1101110001000001000011000","1100010000000001000111011",6,2]],emoji=[["\ud83d\udc13",1,14]]):"pN"==W&&(X=15,h=48,trees=[[10,44]],apples=[[7,45,0,0,75]],doors=[[16,5,Math.PI/2,20,0,"pM",0,1,5,0,1]],puzzles=[[4,,1,"0000111101101111","1000111111111000",5,38],[4,,1,"1111001001001111","1111101010101111",5,28],[4,,1,"1111010101011101","0001101101101111",5,18],[4,,1,"1111000100011110","1111110110011111",5,8]],emoji=[["\ud83d\udc09",13,46]]);a.style.width=X*v+"vh";a.style.height=h*v+"vh";H||(ig.innerHTML="");ih.innerHTML="";for(var f in trees)ig.innerHTML+="<div id=tree"+f+' class="j tr"style=left:'+trees[f][0]*v+"vh;transform:translateX(-7vh)translateY("+(trees[f][1]*v+4)+"vh)rotateX(-70deg)>\ud83c\udf33</div><div id=treeshadow"+f+' class="e h"style=left:'+trees[f][0]*v+"vh;transform:translateX(-7.5vh)translateY("+(trees[f][1]*v+3.5)+"vh)rotateZ(144deg)scaleY(1.5)>\ud83c\udf33";for(f in apples)y["lossst_a"+W+f]?delete apples[f]:ig.innerHTML+="<div id=a"+f+' class="j g '+(y["lossst_A"+W+f]?"":"h")+'"style=left:'+apples[f][0]*v+"vh;transform:translateY("+(apples[f][1]*v+4)+"vh)rotateX(-65deg)>"+("pN"==W?"<div>\u26bd</div>":"<div class=m>\ud83c\udf4e</div>")+"</div><div id=as"+f+' class="e p '+(y["lossst_A"+W+f]?"":"h")+'"style=left:'+apples[f][0]*v+"vh;transform:scaleX(-1)translateY("+(apples[f][1]*v+3)+"vh)rotateZ(212deg)>"+("pN"==W?"\u26bd":"\ud83c\udf4e");for(f in emoji)ig.innerHTML+='<div class="j n"style=left:'+(emoji[f][1]*v-1)+"vh;transform:translateY("+(emoji[f][2]*v+4)+"vh)rotateX(-65deg)><div class=m>"+emoji[f][0];for(f in doors)ig.innerHTML+="<div id=d"+(""+W+f)+' class="do'+(y["lossst_d"+W+f]?" s":"")+'"style=left:'+(doors[f][0]+.5)*v+"vh;top:"+(doors[f][1]+.5)*v+"vh;transform:rotateZ("+doors[f][2]+"rad)translateZ("+doors[f][9]*v+'vh)><div class="y d'+doors[f][10]+'"'+(doors[f][6]?"":"hidden")+">"+doors[f][3]+'</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh">';for(var n in puzzles)for(var m in cubes)y["lossst_p"+W+n]&&cubes[m][0]>=puzzles[n][5]&&cubes[m][0]<puzzles[n][5]+puzzles[n][0]&&cubes[m][1]>=puzzles[n][6]&&cubes[m][1]<puzzles[n][6]+puzzles[n][0]&&delete cubes[m];for(f in cubes)ig.innerHTML+="<div id=cube"+f+' class="z x"style=left:'+cubes[f][0]*v+"vh;top:"+cubes[f][1]*v+'vh;width:5vh;height:5vh><div class=f></div><div class=u style="background-position:'+(-300-cubes[f][0]*v)+"vh "+(-140-cubes[f][1]*v)+'vh"></div><div class=r></div><div class=l></div><div class=b>';for(f in hints)C^hints[f][5]||!(hints[f][3]&&hints[f][3]<=G||hints[f][4]&&hints[f][4]>=G)||(ig.innerHTML+="<div id=h"+(""+W+f)+" class=t style=left:"+hints[f][1]*v+"vh;transform:translateY("+(hints[f][2]*v+5)+"vh)translateZ("+(hints[f][6]*v||0)+"vh)rotateX(-70deg)translateY(-4vh)>"+hints[f][0]);y.lossst_x&&top.hpx0&&(hpx0.style.opacity=1);for(n in puzzles){T=puzzles[n][0];var A=k="";ih.innerHTML+="<div id=puzzle"+n+' class="z q v '+(puzzles[n][2]&&!y["lossst_p"+W+n]?"w":"")+'"style=left:'+puzzles[n][5]*v+"vh;top:"+puzzles[n][6]*v+"vh;width:"+puzzles[n][0]*v+"vh;height:"+T*v+"vh>"+(puzzles[n][2]?"<div class=l></div><div class=r></div>":"")+"<div id=D"+n+" class=d></div><div id=B"+n+" class=b></div>"+(puzzles[n][2]?"<div class=f>":"");var P="000",aa="fff";y["lossst_p"+W+n]&&(P="44c",aa="fd0",puzzles[n][2]=0);for(f=0;f<T;f++)for(m=0;m<T;m++)puzzles[n][3]&&(k+="<div class=o id=w"+n+f+m+" style=width:"+v+"vh;height:"+v+"vh;background:#"+("1"==puzzles[n][3][f*T+m]?P:aa)+"></div>"),puzzles[n][4]&&(A+="<div class=o id=g"+n+f+m+" style=width:"+v+"vh;height:"+v+"vh;background:#"+("1"==puzzles[n][4][f*T+m]?P:aa)+"></div>");top["D"+n]&&(top["D"+n].innerHTML+=A);top["B"+n]&&(top["B"+n].innerHTML+=k)}"pN"==W&&(ig.innerHTML+="<div style='position:fixed;transform:"+(D?"rotateZ(-90deg)translateX(-87vh)translateY(22vh)translateZ(365vh)":"rotateZ(-90deg)translateX(-83vh)translateY(6vh)translateZ(208vh)")+";font: 30vh/25vh a'>THE<br><br>END");H&&(y.lossst_e||y.lossst_s&&6<y.lossst_S||(ik.style.opacity=im.style.opacity=0,ik.style.position=im.style.position="fixed",ik.style.top=im.style.top="-9vh"),J=0,Y(1),xa=1,Q=O=N=0,puzzles[0][2]=0,setTimeout(function(){(ib.onchange=ib.oninput=resetgrid=function(){Ca();Y();ij.disabled=1;gridval.innerHTML=T=+ib.value;puzzle0.style.width=puzzle0.style.height=T*v+"vh";puzzles[0][0]=T;D0.innerHTML="";A=k=B0.innerHTML="";M=[];L=[];for(f=0;f<T;f++)for(M[f]=[],L[f]=[],m=0;m<T;m++)M[f][m]=0,L[f][m]=0;for(f=0;f<T;f++)for(m=0;m<T;m++)k+="<div class=o id=w"+K+f+m+" style=width:"+v+"vh;padding-top:"+v+"vh></div>",A+="<div class=o id=g"+K+f+m+" style=width:"+v+"vh;padding-top:"+v+"vh></div>";xa&&(D0.innerHTML+=A);N&&(B0.innerHTML+=k)})();iq.onchange=iq.oninput=function(){it.innerHTML=G=+iq.value;Ca();Y()};ik.onclick=function(){ik.checked?xa=1:top.wall&&(xa=0,C=N=1,wall.checked=!0);a.className=N?"haswall":"";resetgrid()};top.wall&&(wall.onclick=function(){wall.checked?(N=1,C=puzzles[0][3]=1):(N=C=0,xa=1,ik.checked=!0,puzzles[0][3]=0);a.className=N?"haswall":"";resetgrid()});top.wrap&&(wrap.onclick=function(){O=puzzles[0][2]=wrap.checked||0;puzzle0.className="z q v "+(O?"w":"");resetgrid()});print=function(k){var n="";for(f=0;f<T;f++)for(m=0;m<T;m++)n=top[k+"0"+f+m].style.background&&top[k+"0"+f+m].style.background.match(/255/)?n+0:n+1;return n};ij.onclick=function(){var f=[];f.push(T);f.push(G);f.push(O?1:0);f.push(N?print("w"):"");f.push(ik.checked?print("g"):"");open("//twitter.com/intent/tweet?text=I%20made%20a%20level%20for%20@MaximeEuziere's%20%23js13k%20game%20LOSSST!%0APlay%20here:%20js13kgames.com%2Fentries%2Flossst%0AMy%20level:%20js13kgames.com%2Fgames%2Flossst%23"+f+"%0A%23LOSSSTlevels")}},100));"px"!=W||y.lossst_x?(a.style.transition="transform 1s,transform-origin 1s",Ca()):(I=1,setTimeout(function(){Ca();Y();M0.style.transition="transform .5s"},2E3),setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(0);F.push(F[t]);t++;Y()},5500+wa),setTimeout(function(){M0.style.transition="";R0.style.transition="transform .2s";R0.style.transform="rotateZ("+-Math.PI/4+"rad)"},6500+wa),setTimeout(function(){R0.style.transform="rotateZ("+Math.PI/4+"rad)"},7E3+wa),setTimeout(function(){R0.style.transform=""},7500+wa),setTimeout(function(){S0.style.transition=R0.style.transition=""},8E3+wa),setTimeout(function(){clearInterval(x);z||(I=0);hpx0.style.opacity=1},8400),setTimeout(function(){a.style.transition="transform 1s,transform-origin 1s";y.lossst_x=20;y.lossst_y=10;b.innerHTML+="<div style='position:fixed;font:8vh a;top:3vh;right:3vh'onclick=location='index.html'>\u00d7";D&&(kU.className=kD.className=kL.className=kR.className="",y.lossst_w=1)},9E3));Y()}function Ca(){var k=C&&!H?ia:ie;k.innerHTML="";q=[];w=[];E=[];F=[];t=G-1;if("py"==W)for(i=0;i<G;i++)q[t-i]=1-i,w[t-i]=10,E[t-i]=0,F[t-i]=-Math.PI/2;else if(H)for(i=0;i<G;i++)q[t-i]=13-i,w[t-i]=12,E[t-i]=0,F[t-i]=-Math.PI/2;else if(y.lossst_x){var f=+y.lossst_x,n=+y.lossst_y,m=+y.lossst_z;"px"==W&&2>y.lossst_x&&(m=y.lossst_z=1);if("pI"==W&&z&&1==C)for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i-1,F[t-i]=0;else if(2>f)for(i=0;i<G;i++)q[t-i]=f-i,w[t-i]=n,E[t-i]=m,F[t-i]=-Math.PI/2;else if(f>X-2)for(i=0;i<G;i++)q[t-i]=f+i,w[t-i]=n,E[t-i]=m,F[t-i]=Math.PI/2;else if(2>n)for(i=0;i<G;i++)q[t-i]=f,w[t-i]=n-i,E[t-i]=m,F[t-i]=0;else if(n>h-2)for(i=0;i<G;i++)q[t-i]=f,w[t-i]=n+i,E[t-i]=m,F[t-i]=0;else for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i,F[t-i]=0}else if("px"==W)for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i-1,F[t-i]=0;for(i=0;i<Math.max(G+4,16);i++)k.innerHTML+="<div id=M"+i+" class=sm style=transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:"+(v-.7)+"vh;height:"+(v-.7)+"vh><div class=ss id=S"+i+"></div><div id=R"+i+' class=sr><div class="z k"id=T'+i+">"+(1>i?"<div style=background:none;box-shadow:none;color:red;font-size:4vh;text-align:center;transform:rotateZ(180deg)translateY(-4vh)translateZ(1.5vh)>Y</div>":"")+'<div class=u style="font:'+.5*v+"vh/"+.8*v+'vh a">'+(1>i?"\ud83d\udc40":"")+"</div><div class=f>"+(1>i?"\u203f":"")+"</div><div class=r></div><div class=l></div><div class=b>"}function Y(k){for(var f={a:0};f.a<G;f={a:f.a,j:f.j,m:f.m,o:f.o},f.a++)if(!k){var n=oldx=oldy=oldz=newx=newy=newz=0;O&&T&&(q[t-f.a-1]==R&&q[t-f.a]==R+T-1?(n=1,oldx=R-1,newx=R+T,oldy=newy=w[t-f.a],oldz=newz=E[t-f.a]):q[t-f.a-1]==R+T-1&&q[t-f.a]==R?(n=1,oldx=R+T,newx=R-1,oldy=newy=w[t-f.a],oldz=newz=E[t-f.a]):w[t-f.a-1]==S&&w[t-f.a]==S+T-1?(n=1,oldy=S-1,newy=S+T,oldx=newx=q[t-f.a],oldz=newz=E[t-f.a]):w[t-f.a-1]==S+T-1&&w[t-f.a]==S?(n=1,oldy=S+T,newy=S-1,oldx=newx=q[t-f.a],oldz=newz=E[t-f.a]):0==E[t-f.a-1]&&E[t-f.a]==T-1?(n=1,oldz=-1,newz=T,oldx=newx=q[t-f.a],oldy=newy=w[t-f.a]):E[t-f.a-1]==T-1&&0==E[t-f.a]&&(n=1,oldz=T,newz=-1,oldx=newx=q[t-f.a],oldy=newy=w[t-f.a]));if(n)top["R"+f.a].style.transform="rotateZ("+F[t-f.a]+"rad)",top["M"+f.a].style.transform="translateX("+(oldx*v+.5)+"vh)translateY("+(oldy*v+.5)+"vh)translateZ("+(oldz*v+.5)+"vh)scale(.01)scaleZ(.01)",setTimeout(function(f){return function(){top["M"+f.a].style.transition="none"}}(f),90),f.j=newx,f.m=newy,f.o=newz,setTimeout(function(f){return function(){top["M"+f.a].style.transform="translateX("+(f.j*v+.5)+"vh)translateY("+(f.m*v+.5)+"vh)translateZ("+(f.o*v+.5)+"vh)scale(.01)"}}(f),100),setTimeout(function(f){return function(){top["M"+f.a].style.transition="";top["M"+f.a].style.transform="translateX("+(q[t-f.a]*v+.25)+"vh)translateY("+w[t-f.a]*v+"vh)translateZ("+(E[t-f.a]*v+.5)+"vh)"}}(f),150);else try{top["M"+f.a].style.transform="translateX("+(q[t-f.a]*v+.25)+"vh)translateY("+w[t-f.a]*v+"vh)translateZ("+(E[t-f.a]*v+.5)+"vh)",top["R"+f.a].style.transform="rotateZ("+F[t-f.a]+"rad)"}catch(A){}try{top["S"+f.a].style.display=0==E[t-f.a]?"":"none"}catch(A){}}H?a.style.transform="translateX(-100vh)translateY(-37vh)translateZ(-5vh)rotateX(33deg)":null===J||y["lossst_p"+W+J]?(a.style.transform="translateX("+-q[t]*v+"vh)translateY("+-w[t]*v+"vh)translateZ(45vh)rotateX(40deg)rotateZ("+g+"rad)",a.style.transformOrigin=""+q[t]*v+"vh "+w[t]*v+"vh"):(a.style.transform="translateX("+(-(R+puzzles[J][0]/2)*v+5)+"vh)translateY("+(-(S+puzzles[J][0]/2)*v+8)+"vh)translateZ("+(90-puzzles[J][0]*(v+3))+"vh)rotateX(30deg)rotateZ("+g+"rad)",a.style.transformOrigin=""+((R+puzzles[J][0]/2)*v+5)+"vh "+((S+puzzles[J][0]/2-1)*v+8)+"vh");f=C?1:0;for(k=0;k<G;k++){if(0>=E[t-k]){f=0;break}for(m in cubes)cubes[m][0]==q[t-k]&&cubes[m][1]==w[t-k]&&1==E[t-k]&&(f=0)}if(f){for(k=0;k<G;k++)E[t-k]--;try{Y()}catch(A){for(var m=2*G;m--;)q.pop(),w.pop(),E.pop(),F.pop(),t--;Aa=0;Y()}}f=q[t];n=w[t];for(k in doors)(doors[k][10]&&C||!doors[k][10]&&!C)&&top["d"+W+k]&&0<doors[k][3]&&G>=doors[k][3]&&4>Math.hypot(f-doors[k][0],n-doors[k][1])&&!y["lossst_d"+W+k]&&(top["d"+W+k].className="do s",!doors[k][6]||"px"==W&&2<k||ja(pa).play(),y["lossst_d"+W+k]=1),top["d"+W+k]&&"do s"==top["d"+W+k].className&&2>Math.hypot(f-doors[k][0],n-doors[k][1])&&(y.lossst_p=W=doors[k][5],setTimeout(Ba,600),y.lossst_x=doors[k][7],y.lossst_y=doors[k][8],y.lossst_z=0);null!==J&&Da();H||(J=null);H||(L=[],M=[]);for(p in puzzles)if(f>=puzzles[p][5]&&f<puzzles[p][5]+puzzles[p][0]&&n>=puzzles[p][6]&&n<puzzles[p][6]+puzzles[p][0]){J=+p;Q=0;y["lossst_p"+W+p]&&(Q=1);K=p;xa=!!puzzles[p][4];N=!!puzzles[p][3];O=!!puzzles[p][2];R=puzzles[p][5];S=puzzles[p][6];T=puzzles[p][0];for(k=0;k<T;k++)for(L[k]=[],M[k]=[],m=0;m<T;m++)puzzles[p][3]&&(M[k][m]=+puzzles[p][3][k*puzzles[p][0]+m]),puzzles[p][4]&&(L[k][m]=+puzzles[p][4][k*puzzles[p][0]+m]);Da()}}function Z(k,f,n){V=0;if(0>k||k>=X||0>f||f>=h)V=1;for(var m in trees)k>=trees[m][0]-1&&k<=trees[m][0]&&f==trees[m][1]&&3>E[t]&&(V=1);for(m in hints)k>=hints[m][1]&&k<=hints[m][1]+3&&f==hints[m][2]&&G>=hints[m][3]&&(!hints[m][4]||G<=hints[m][4])&&(C&&hints[m][5]||!C&&!hints[m][5])&&(V=1);for(m in apples)if(y["lossst_A"+W+m]&&k==apples[m][0]&&f==apples[m][1]&&0==E[t])if(ja(ka).play(),"pN"==W){x=setInterval(sa.forward,150);y.lossst_E=1;setTimeout(function(){I=1;as0.remove();a0.style.transform="translateY(319vh)translateZ(2vh)rotateX(-65deg)rotateY(90deg)";a0.style.transition=a.style.transition="10s";a0.style.transform="translateY(15vh)translateZ(2vh)rotateX(-65deg)";a.style.transform=D?"translateX(-133vh)translateY(-249vh)translateZ(-373vh)rotateZ(90deg)":"translateX(-141vh)translateY(-227vh)translateZ(-185vh)rotateZ(90deg)"},200);var A={},P;for(P in puzzles)A.g=P,setTimeout(function(f){return function(){top["B"+f.g].style.transition=".5s";top["B"+f.g].style.transform="translateY(-125%)"}}(A),[1450,2500,3800,5400][A.g]),A={g:A.g};setTimeout(function(){clearInterval(va);y.lossst_E=1;y.lossst_e=1;b.style.background="#000";y.lossst_s=0;b.innerHTML="<div id=iv style=perspective:90vh><center id=menu style=width:75vh;transform:translateX(-38vh)translateY(-35vh)rotateX(-28deg)><span style=font-size:4vh;line-height:5vh><h1>Congrats!</h1><br>You completed the game in<br>"+ta+" seconds and "+ua+" moves!<br><br><a href=//twitter.com/intent/tweet?text=I%20played%20LOSSST,%20a%20%23js13k%20game%20by%20by%20@MaximeEuziere%0Amy%20score:%20"+ta+"%20seconds%20and%20"+ua+"%20moves!%0Ajs13kgames.com%2Fentries%2Flossst target=_blank style=color:#def;font-size:4vh>TWEET YOUR SCORE</a><br><br>Dev record:<br>854 seconds, 2452 moves<br><br>3D puzzle editor unlocked!<br><br><a href=. style=font-size:4vh>MAIN MENU"},15E3);n=document.querySelectorAll(".o");A={};for(var aa in n){A.h=aa;try{2==n[A.h].style.backgroundColor.match(/68/g).length&&setTimeout(function(f){return function(){top[n[f.h].id].style.background="#a00"}}(A),8E3+10*A.h)}catch(na){}A={h:A.h}}}else if(delete apples[m],top["a"+m].remove(),top["as"+m].remove(),G++,y.lossst_S=G,y["lossst_a"+W+m]=1,"pF"==W&&16==G){I=1;x=setInterval(sa.forward,150);z=1;a.style.transition="5s";a.style.transform="translateX(-180vh)translateY(-53vh)translateZ("+(D?-422:-180)+"vh)rotateZ(180deg)";setTimeout(function(){a.style.transition="1s";I=z=0;Y();ig.innerHTML+="<div class=t style=left:190vh;transform:translateY(50vh)rotateX(-55deg)translateY(-4vh)>\u2190<br>Exit";clearInterval(x)},1E4);n=document.querySelectorAll(".o");A={};for(var ea in n){A.f=ea;try{n[A.f].id.match(/g\d\d\d$/)&&2==n[A.f].style.backgroundColor.match(/68/g).length&&setTimeout(function(f){return function(){top[n[f.f].id].style.background="#a00"}}(A),5500+10*A.f)}catch(na){}A={f:A.f}}}for(m in cubes)k==cubes[m][0]&&f==cubes[m][1]&&0==n&&(V=1);for(m in emoji)"pC"!=W&&k==emoji[m][1]&&f==emoji[m][2]&&0==n&&(V=1);for(m in doors)top["d"+W+m]&&"do s"==top["d"+W+m].className&&2>=Math.hypot(k-doors[m][0],f-doors[m][1])&&(V=0);hitcube2=0;for(m=G-2;0<m;m--)q[t-m]==k&&w[t-m]==f&&E[t-m]==n&&(V=1,1==m&&(hitcube2=1));for(p in puzzles)puzzles[p][3]&&k>=puzzles[p][5]&&k<puzzles[p][5]+puzzles[p][0]&&(f==puzzles[p][6]-1&&w[t]==puzzles[p][6]&&!puzzles[p][2]||f==puzzles[p][6]&&w[t]==puzzles[p][6]-1)&&(V=1);if("pI"==W&&18==k&&!C){z=C=V=I=1;clearInterval(x);sa=ra;_=$=0;x=setInterval(ra.forward,250);y.lossst_s=1;y.lossst_S=G=5;for(k=0;21>k;k++)cubes.push([q[t-k],w[t-k]]),top["M"+k].id="",top["R"+k].id="",top["S"+k].id="",top["T"+k].id="";a.style.transition="2s";Ca();Y();a.style.transform="translateX(-105vh)translateY(-51vh)translateZ(80vh)rotateX(45deg)";a.style.transformOrigin="140vh 70vh";setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(0);F.push(F[t]);t++;Y()},3E3);setTimeout(function(){ii.innerHTML="Daddy!"},4E3);setTimeout(function(){ii.innerHTML=""},6E3);setTimeout(function(){ii.innerHTML="I lossst my soccer ball!"},7E3);setTimeout(function(){ii.innerHTML=""},9E3);setTimeout(function(){ii.innerHTML="But I found new moves!"},1E4);setTimeout(function(){ii.innerHTML="";z=I=0;clearInterval(x);a.style.transition="1s";Y();Ea();D&&(kT.className=kB.className="",y.lossst_B=1)},13500)}}function Da(){if(!Q&&null!==J){solved=1;H&&(ij.disabled=0);for(i=0;i<T;i++)for(j=0;j<T;j++)try{top["g"+K+i+j]&&(top["g"+K+i+j].style.background=L[i][j]?"#000":"#fff"),top["w"+K+i+j]&&(top["w"+K+i+j].style.background=M[i][j]?"#000":"#fff")}catch(m){}if(q[t]<R||q[t]>R+T-1||w[t]<S||w[t]>S+T-1||0>E[t]||E[t]>T-1)H&&(ij.disabled=1);else{for(i=0;i<G;i++){top["g"+K+(w[t-i]-S)+(q[t-i]-R)]&&(top["g"+K+(w[t-i]-S)+(q[t-i]-R)].style.background=L[w[t-i]-S][q[t-i]-R]?"#080":H?"#44c":"#f00");w[t-i]>=S&&w[t-i]<S+T&&top["w"+K+(T-1-E[t-i])+(q[t-i]-R)]&&(top["w"+K+(T-1-E[t-i])+(q[t-i]-R)].style.background=M[T-1-E[t-i]][q[t-i]-R]?"#080":H?"#44c":"#f00");if(q[t-i]<R||q[t-i]>R+T-1||w[t-i]<S||w[t-i]>S+T-1||E[t-i]>T-1)H&&(ij.disabled=1),solved=0;xa&&L[w[t-i]-S]&&!L[w[t-i]-S][q[t-i]-R]&&(solved=0);N&&M[T-1-E[t-i]]&&!M[T-1-E[t-i]][q[t-i]-R]&&(solved=0)}for(i=0;i<T;i++)for(j=0;j<T;j++){try{xa&&3==top["g"+K+i+j].style.backgroundColor.match(/0/g).length&&(solved=0)}catch(m){}try{N&&3==top["w"+K+i+j].style.backgroundColor.match(/0/g).length&&(solved=0)}catch(m){}}if(solved){Q=H?0:1;puzzles[J][2]=0;top["puzzle"+J].classList.remove("w");H||(y["lossst_p"+W+J]=1);for(i=0;i<T;i++)for(j=0;j<T;j++){try{top["g"+K+i+j].style.background=L[i][j]?"#44c":"#fd0"}catch(m){}try{top["w"+K+i+j].style.background=M[i][j]?"#44c":"#fd0"}catch(m){}}H||(ja(oa).play(),ya++,y.lossst_T=ya);var k=1,f={},n;for(n in cubes)f.b=n,cubes[f.b][0]>=puzzles[J][5]&&cubes[f.b][0]<puzzles[J][5]+puzzles[J][0]&&cubes[f.b][1]>=puzzles[J][6]&&cubes[f.b][1]<puzzles[J][6]+puzzles[J][0]&&(delete cubes[f.b],k++,setTimeout(function(f){return function(){top["cube"+f.b].remove()}}(f),200*k)),f={b:f.b}}}}}function Ea(){for(var k in apples)if(!y["lossst_A"+W+k]&&(0<apples[k][3]&&apples[k][3]==G||0<apples[k][4]&&apples[k][4]==ya)){I=1;D&&"px"==W&&1==k&&(kw.className="",y.lossst_b=1);var f=setTimeout;a.style.transform="translateX("+-apples[k][0]*v+"vh)translateY("+-apples[k][1]*v+"vh)translateZ(50vh)rotateX(35deg)";y["lossst_A"+W+k]=1;a.style.transformOrigin=""+apples[k][0]*v+"vh "+apples[k][1]*v+"vh";f(void 0,250);f=setTimeout;top["a"+k].className="j g";top["as"+k].className="e p";f(void 0,800);setTimeout(function(){ja(la).play()},850);setTimeout(function(){Y();z||(I=0)},2E3)}}function Fa(){U=0;H||(J=null);for(p in puzzles)q[t]>=puzzles[p][5]&&q[t]<puzzles[p][5]+puzzles[p][0]&&w[t]>=puzzles[p][6]&&w[t]<puzzles[p][6]+puzzles[p][0]&&0<=E[t]&&E[t]<puzzles[p][0]&&(J=+p,U=1)}onkeydown=function(k){top["lurd************************l**r************l*d***u**u"[k.which-37]]=1;18==k.which&&(B=1);16==k.which&&(s=1);17==k.which&&(c=1);if(!I){if(49==k.which||97==k.which)-1<g&&g--,ca();if(50==k.which||98==k.which)g=0,ca();if(51==k.which||99==k.which)1>g&&g++,ca()}Fa();U?Da():Aa=0;if(82==k.which&&U){if(Aa<=t)for(var f=Aa;f<=t;f++)q.pop(),w.pop(),E.pop(),F.pop(),setTimeout(function(){sa.back()},70*(t-f));t=Aa-1;Aa=0;Y();Da();y.lossst_M=++ua}else if(116!=k.which&&82!=k.which&&17!=k.which&&123!=k.which&&k.preventDefault&&k.preventDefault(),!I){V=0;if(l)!Q&&O&&U&&q[t]==R?(Z(R+T-1,w[t],E[t]),V||(q.push(R+T-1),w.push(w[t]),E.push(E[t]),F.push(Math.PI/2),t++)):(Z(q[t]-1,w[t],E[t]),V||(q.push(q[t]-1),w.push(w[t]),E.push(E[t]),F.push(Math.PI/2),t++));else if(r)!Q&&O&&U&&q[t]==R+T-1?(Z(R,w[t],E[t]),V||(q.push(R),w.push(w[t]),E.push(E[t]),F.push(-Math.PI/2),t++)):(Z(q[t]+1,w[t],E[t]),V||(q.push(q[t]+1),w.push(w[t]),E.push(E[t]),F.push(-Math.PI/2),t++));else if(u)!Q&&O&&U&&w[t]==S?(Z(q[t],S+T-1,E[t]),V||(q.push(q[t]),w.push(S+T-1),E.push(E[t]),F.push(Math.PI),t++)):(Z(q[t],w[t]-1,E[t]),V||(q.push(q[t]),w.push(w[t]-1),E.push(E[t]),F.push(Math.PI),t++));else if(d)!Q&&O&&U&&w[t]==S+T-1?(Z(q[t],S,E[t]),V||(q.push(q[t]),w.push(S),E.push(E[t]),F.push(0),t++)):(Z(q[t],w[t]+1,E[t]),V||(q.push(q[t]),w.push(w[t]+1),E.push(E[t]),F.push(0),t++));else if((C||N)&&s){if(!U){k=G-1;for(f in cubes)cubes[f][0]==q[t]&&cubes[f][1]==w[t]&&k++;if(E[t]==k)return}!Q&&O&&U&&E[t]==T-1?(Z(q[t],w[t],0),V||(q.push(q[t]),w.push(w[t]),E.push(0),F.push(F[t]),t++)):(Z(q[t],w[t],E[t]+1),V||(q.push(q[t]),w.push(w[t]),E.push(E[t]+1),F.push(F[t]),t++))}else(C||N)&&c?!Q&&O&&U&&0==E[t]?(Z(q[t],w[t],T-1),V||(q.push(q[t]),w.push(w[t]),E.push(T-1),F.push(F[t]),t++)):0==E[t]?V=1:(Z(q[t],w[t],E[t]-1),V||(q.push(q[t]),w.push(w[t]),E.push(E[t]-1),F.push(F[t]),t++)):B&&t>G&&(F.pop(),q.pop(),w.pop(),E.pop(),t--);V&&!I&&(I=1,setTimeout(function(){z||(I=0)},150),!(-1<q[t]&&q[t]<X&&-1<w[t]&&w[t]<h)||"pI"==W&&!C&&16<q[t]||hitcube2||ja(ma).play());if(!V&&!z&&(u||r||d||l||s||c||B)){y.lossst_M=++ua;Da();Y();B?t>G&&sa.back():(C||!s&&!c&&!C)&&sa.forward();Y(1);Ea();I||(I=1,setTimeout(function(){z||(I=0)},150));if("px"==W&&(C||14<=G)&&20==q[t]&&10==w[t]){I=1;var n=0;for(f=0;f<G;f++)setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(--n);F.push(F[t]);t++;Y()},150*f);setTimeout(function(){AA("pz",1)},160*G);y.lossst_x=20;y.lossst_y=10}Fa();U&&!Aa&&(Aa=t)}}};onkeyup=function(){u=r=d=l=s=c=B=0};onload=function(){1<location.hash.length?AA("py",1):(setTimeout(function(){x=setInterval(function(){sa.forward()},500)},200),b.innerHTML="<center id=e>\ud83d\udc40</center>\n<center id=iw></center>\n<div id=iv style=perspective:30vh>\n<center id=menu>\n<h1>LOSSST</h1>\n<span onclick=newgame()>New game</span><br>\n"+(y.lossst_a&&!y.lossst_E?"<span onclick=AA(0,1)>Continue</span><br>":"")+"\n<span onclick=AA(\"pz\",1)>Puzzle editor</span><br>\n<span onclick=top.open('//goo.gl/iKqoCS')>Bonus",newgame=function(){for(i in localStorage)0==i.indexOf("lossst")&&-1==i.indexOf("e")&&delete localStorage[i];y.lossst_a=1;menu.innerHTML="<br><br><span onclick=intro(0)>Desssktop</span><br><br><span onclick=intro(1)>Mobile"},intro=function(k){clearInterval(x);_=$=0;x=setInterval(sa.forward,250);y.lossst_m=D=k;y.lossst_S=G=5;ta=y.lossst_t=0;ua=y.lossst_M=0;y.lossst_M=0;y.lossst_t=0;menu.innerHTML="";setTimeout(function(){e.style.margin=0},500);dir=1;inter=setInterval(function(){e.style.opacity=0;setTimeout(function(){e.style.opacity=1;dir=-dir;e.style.transform="scaleX("+dir+")"},150)},3E3);setTimeout(function(){iw.innerHTML="I lossst my kid !"},2E3);setTimeout(function(){iw.innerHTML=""},5E3);setTimeout(function(){clearInterval(inter);e.style.margin="-80vh 0 0"},7E3);setTimeout(AA,7500)})};AA=function(k,f){if(0===k||"pz"==k)clearInterval(x),_=$=0;"pz"==k&&(H=1,J=0);W=k||y.lossst_p||"px";b.outerHTML="<body id=b class="+W+">\n<div id=iv>\n<div id=a style=transform:translateX(-97vh)translateY(-50vh)rotateZ(90deg)translateZ(119vh);transform-origin:100vh+50vh>\n<div id=ig>"+(H?"<div class=t style=width:60vh;transform:translateX(70vh)translateY(1vh)translateZ(2vh)rotateX(-42deg)>\n<label style=width:100%;text-align:center>Create a pattern with the snake and share it !</label>\n<br style=line-height:6vh>\n<div style=text-align:left;padding-left:5vh>\n<label>Grid</label> <input id=ib type=range value=5 min=3 max=8 step=1>\n<span id=gridval>5</span>\n<br>\n<label>Snake</label> <input id=iq type=range value=5 min=5 max=40 step=1>\n<span id=it>5</span>\n</div>\n<input type=checkbox id=ik checked> <label for=ik id=im>ground</label>\n"+(y.lossst_e||y.lossst_s&&6<y.lossst_S?"<input type=checkbox id=wall> <label for=wall>wall</label>":"")+"\n"+(y.lossst_e||y.lossst_s?"<input type=checkbox id=wrap> <label for=wrap>wrap</label>":"")+"\n<br>\n<center>\n<button id=ij disabled>Share</button>\n</center>\n</div>":"")+"\n</div>\n<div id=ih></div>\n<div id=ie></div>\n<div id=ia></div>\n</div>\n</div>\n<center id=iz style='font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw'>\n<button id=kU class=h ontouchstart=TS(38) ontouchend=TE(38)>\u2191</button>\n<button id=kD class=h ontouchstart=TS(40) ontouchend=TE(40)>\u2193</button>\n<button id=kL class=h ontouchstart=TS(37) ontouchend=TE(37)>\u2190</button>\n<button id=kR class=h ontouchstart=TS(39) ontouchend=TE(39)>\u2192</button>\n<button id=kT class=h ontouchstart=TS(16) ontouchend=TE(16)>\u2b06\ufe0e</button>\n<button id=kB class=h ontouchstart=TS(17) ontouchend=TE(17)>\u2b07\ufe0e</button>\n<button id=kw class=h ontouchstart=TS(18) ontouchend=TE(18)>\u21a9</button>\n<button id=kx class=h ontouchstart=TS(82) ontouchend=TE(82)>\u00d7</button>\n<button id=ky class=h ontouchstart=TS(49) ontouchend=TE(49)>\u21bb</button>\n<button id=kz class=h ontouchstart=TS(51) ontouchend=TE(51)>\u21ba</button>\n</center>\n<center id=ii style='font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw'>";y.lossst_Apx0=1;Ba();if(D&&"py"==W||y.lossst_w)kU.className=kD.className=kL.className=kR.className="";if(D&&"py"==W||y.lossst_b)kw.className="";if(D&&"py"==W||y.lossst_r)kr.className="";if(D&&"py"==W||y.lossst_B)kT.className="",kB.className="";if(D&&"py"==W||y.lossst_c)ky.className="",kz.className="";H||(va=setInterval(function(){y.lossst_t=++ta},1E3));f&&(b.innerHTML+="<div style='position:fixed;font:8vh a;top:3vh;right:3vh'onclick=location='.'>\u00d7")}</script><style>@keyframes move{0%,100%{transform:rotateY(-10deg)}50%{transform:rotateY(10deg)}}*{margin:0;padding:0;font:2.5vh/5.5vh arial,sans-serif;vertical-align:middle;box-sizing:border-box;-webkit-touch-callout:none;-webkit-user-select:none;-webkit-tap-highlight-color:transparent;user-select:none;cursor:pointer;touch-action:manipulation}html,body{height:100%;background:#000;overflow:hidden;background:radial-gradient(#def 25%,#7ce)}a{color:#def}input,button{position:relative;z-index:2}input[type=range]::-webkit-slider-runnable-track,input[type=range]::-webkit-slider-thumb{background:#888;border:1px solid #000}input[type=range]::-moz-range-track,input[type=range]::-moz-range-thumb{background:#888;border:1px solid #000}#iv{width:0;height:0;perspective:120vh;position:absolute;top:50%;left:50%}#iv *{transform-style:preserve-3d}#a{width:0;height:0;transform-origin:18vh 0%;transition:transform 1s,transform-origin 1s}.z{position:fixed;top:0;left:0}.z>div{width:100%;height:100%;position:fixed}.z .u{transform:rotateY(90deg)translateX(-100%)rotateY(-90deg)}.z .l{transform:rotateX(-90deg)translateY(-50%)translateX(-50%)rotateY(-90deg)}.z .r{transform:rotateX(-90deg)translateY(-50%)translateX(50%)rotateY(90deg)}.z .f{transform:translateY(50%)rotateX(-90deg)translateY(-50%)}.z .b{transform:translateY(-50%)rotateX(-90deg)translateY(-50%)rotateY(180deg)}.z.q{width:32vh;height:32vh;transform:none}.z.q>div{background:transparent}.z.q .b{transition:opacity .5s;transform:translateY(-50%)rotateX(-90deg)translateY(-52%)}.z.q.w .d,.z.q .d{transition:opacity .5s;background:#0c5b0c}.sm,.sr{transform-origin:50% 50%;width:100%;height:100%;position:fixed}.sm{transition:transform .15s}.z.k{width:100%;height:100%}.z.k>div{box-shadow:0 0 0 .1vh #000 inset;text-align:center}.z.k .f{line-height:3vh}#ie .z.k>div{background:#FFA500}#ie .z.k .u{background:#dF8500}#ia .z.k>div,#a.haswall .z.k>div{background:#444}#ia .z.k .u,#a.haswall .z.k .u{background:#333}#ia .z.k .f{color:#fff}.ss{position:fixed;width:100%;height:100%;background:rgba(0,0,0,.25);transform:translateX(14%)translateY(14%)translateZ(-.25vh)}label{display:inline-block;width:22%}button{display:inline-block;width:23%;border:.2vh solid #000;margin:1vh 2% 0 0}input[type=range]{width:60%}#form{width:50vh;margin:auto}.o{float:left;outline:.4vh solid #888;opacity:0;transition:opacity .5s;background:#fff}.z.q.v{transform:translateZ(.1vh)}.z.q.v .o{opacity:1}.z.q.v .d{transform:none}.z.q.w>div{background:linear-gradient(45deg,rgba(200,200,200,.1),rgba(200,200,200,.3));box-shadow:0 0 .1vh rgba(255,255,255,.5)}.j{position:fixed;transform-origin:50% 100%;bottom:0}.m{animation:move 3s infinite}.e{color:rgba(0,0,0,.002);text-shadow:0px 0px rgba(0,0,0,.25);position:fixed;transform-origin:50% 100%;bottom:0}.tr,.h{font:11vh/12vh a}.a .tr{font:15vh/11vh a}.a .h,.c .h,.i .h,.a .p,.c .p,.i .p,.c .x.b,#iz button.h{display:none}.g,.g *,.p{font:4vh/5vh a;transition:opacity .5s .5s}.n,.n *{font:5vh/6vh a}.g.h,.p.h{opacity:0}.a .g{font:6vh/5vh a}.do{position:fixed;transform-origin:0% 100%;width:0;height:0}.do .y{position:fixed;width:15vh;height:20vh;background:radial-gradient(2vh at 90% 50%,gold 35%,transparent 40%),#a22;border-radius:1vh 1vh 0 0;transform-origin:0% 100%;transform:translateX(-7.5vh)translateY(-12.5vh)rotateX(-90deg);text-align:center;font-size:6vh;line-height:12vh;color:#fff;transition:transform 1s}.do .y.d1{background:radial-gradient(2vh at 90% 50%,gold 35%,transparent 40%),#222}.do.s .y{transform:translateX(-7.5vh)translateY(-12.5vh)rotateX(-90deg)rotateY(90deg)}.z.x div{background:linear-gradient(45deg,#640,#583808)}.z.x div.u{transform:rotateY(90deg)translateX(-5.4vh)translateZ(-.1vh)rotateY(-90deg);background:radial-gradient(#3F7D1F,#034301);background-size:280vh 140vh;width:5.3vh;height:5.3vh}.t{position:fixed;background:#fff;padding:.7vh;width:20vh;font:2vh/2.5vh arial,sans-serif;transform-origin:50% 100%;text-align:center;box-shadow:0 0 0 .2vh #000 inset;bottom:0}.t br{font:0/0 a}.t:before{content:"";width:3vh;height:3vh;background:#750;position:absolute;bottom:-3vh;left:8vh;border-left:.2vh solid;border-right:.2vh solid}.pz .t:before{left:28vh}label{text-align:left}#a{transition:transform 6s ease-in,transform-origin 6s ease-in;width:280vh;height:140vh;background:radial-gradient(#4F8D2F,#136321);border-radius:3vh}.px #a,.pI #a{background:radial-gradient(10vh at 51.3% 52%,#000 40%,transparent 50%),radial-gradient(15vh at 51.3% 52%,#640 40%,transparent 50%),radial-gradient(#4F8D2F,#136321)}#e{margin:99vh 0 0;transition:margin 1s;font:10vh/80vh a}#iw{font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw}#menu{color:#fff;width:55vh;transform:translateX(-27vh)translateY(-20vh)rotateX(-17deg)}#menu span{font:7vh/12vh arial,sans-serif}#menu h1{font:13vh/16vh arial,sans-serif;text-shadow:.1vh -.1vh #777,.2vh -.2vh #777,.3vh -.3vh #777}#menu span:hover{color:#ace;transform:rotateX(-10deg)}.pN #menu span:hover{color:#fff}#iz button{position:fixed;width:10vh;height:10vh;text-align:center;font:6vh/10vh a}#kU{right:14vh;bottom:14vh}#kD{right:14vh;bottom:2vh}#kL{right:26vh;bottom:2vh}#kR{right:2vh;bottom:2vh}#kT{left:2vh;top:2vh}#kB{left:2vh;top:14vh}#kw{bottom:2vh;left:2vh}#kx{bottom:14vh;left:2vh}#ky{top:2vh;right:18vh}#kz{top:2vh;right:6vh}#hpx0{opacity:0;transition:opacity .5s}</style></head><head></head><body id="b" class="pL">
<div id="iv">
<div id="a" style="transform: translateX(-30vh) translateY(-15vh) translateZ(45vh) rotateX(40deg) rotateZ(0rad); transform-origin: 30vh 15vh 0px; width: 75vh; height: 400vh; transition: transform 1s, transform-origin 1s;">
<div id="ig"><div id="tree0" class="j tr" style="left:10vh;transform:translateX(-7vh)translateY(354vh)rotateX(-70deg)">🌳</div><div id="treeshadow0" class="e h" style="left:10vh;transform:translateX(-7.5vh)translateY(353.5vh)rotateZ(144deg)scaleY(1.5)">🌳</div><div id="a0" class="j g h" style="left:5vh;transform:translateY(369vh)rotateX(-65deg)"><div class="m">🍎</div></div><div id="as0" class="e p h" style="left:5vh;transform:scaleX(-1)translateY(368vh)rotateZ(212deg)">🍎</div><div id="a1" class="j g h" style="left:15vh;transform:translateY(379vh)rotateX(-65deg)"><div class="m">🍎</div></div><div id="as1" class="e p h" style="left:15vh;transform:scaleX(-1)translateY(378vh)rotateZ(212deg)">🍎</div><div class="j n" style="left:14vh;transform:translateY(104vh)rotateX(-65deg)"><div class="m">🐝</div></div><div id="dpL0" class="do s" style="left:82.5vh;top:27.5vh;transform:rotateZ(1.5707963267948966rad)translateZ(0vh)"><div class="y d1" hidden="">12</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh"></div></div><div id="dpL1" class="do" style="left:-7.5vh;top:377.5vh;transform:rotateZ(-1.5707963267948966rad)translateZ(0vh)"><div class="y d1">14</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh"></div></div><div id="cube0" class="z x" style="left:30vh;top:60vh;width:5vh;height:5vh"><div class="f"></div><div class="u" style="background-position:-330vh -200vh"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div>
<div id="ih"><div id="puzzle0" class="z q v" style="left:10vh;top:10vh;width:25vh;height:25vh"><div id="D0" class="d"></div><div id="B0" class="b"><div class="o" id="w000" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w001" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w002" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w003" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w004" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w010" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w011" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w012" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w013" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w014" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w020" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w021" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w022" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w023" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w024" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w030" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w031" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w032" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w033" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w034" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w040" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w041" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w042" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w043" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w044" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div></div></div><div id="puzzle1" class="z q v " style="left:25vh;top:55vh;width:20vh;height:20vh"><div id="D1" class="d"></div><div id="B1" class="b"><div class="o" id="w100" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w101" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w102" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w103" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w110" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w111" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w112" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w113" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w120" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w121" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w122" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w123" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w130" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w131" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w132" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w133" style="width:5vh;height:5vh;background:#fff"></div></div></div><div id="puzzle2" class="z q v " style="left:40vh;top:100vh;width:25vh;height:25vh"><div id="D2" class="d"></div><div id="B2" class="b"><div class="o" id="w200" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w201" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w202" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w203" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w204" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w210" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w211" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w212" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w213" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w214" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w220" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w221" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w222" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w223" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w224" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w230" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w231" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w232" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w233" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w234" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w240" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w241" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w242" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w243" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w244" style="width:5vh;height:5vh;background:#fff"></div></div></div><div id="puzzle3" class="z q v " style="left:10vh;top:145vh;width:25vh;height:25vh"><div id="D3" class="d"><div class="o" id="g300" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g301" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g302" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g303" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g304" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g310" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g311" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g312" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g313" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g314" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g320" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g321" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g322" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g323" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g324" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g330" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g331" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g332" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g333" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g334" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g340" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g341" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g342" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g343" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g344" style="width:5vh;height:5vh;background:#fff"></div></div><div id="B3" class="b"><div class="o" id="w300" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w301" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w302" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w303" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w304" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w310" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w311" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w312" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w313" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w314" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w320" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w321" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w322" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w323" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w324" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w330" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w331" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w332" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w333" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w334" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w340" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w341" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w342" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w343" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w344" style="width:5vh;height:5vh;background:#000"></div></div></div><div id="puzzle4" class="z q v " style="left:25vh;top:190vh;width:20vh;height:20vh"><div id="D4" class="d"><div class="o" id="g400" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g401" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g402" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g403" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g410" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g411" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g412" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g413" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g420" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g421" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g422" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g423" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g430" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g431" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g432" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g433" style="width:5vh;height:5vh;background:#fff"></div></div><div id="B4" class="b"><div class="o" id="w400" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w401" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w402" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w403" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w410" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w411" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w412" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w413" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w420" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w421" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w422" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w423" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w430" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w431" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w432" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w433" style="width:5vh;height:5vh;background:#000"></div></div></div><div id="puzzle5" class="z q v " style="left:40vh;top:225vh;width:20vh;height:20vh"><div id="D5" class="d"><div class="o" id="g500" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g501" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g502" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g503" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g510" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g511" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g512" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g513" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g520" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g521" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g522" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g523" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g530" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g531" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g532" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g533" style="width:5vh;height:5vh;background:#fff"></div></div><div id="B5" class="b"><div class="o" id="w500" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w501" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w502" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w503" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w510" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w511" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w512" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w513" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w520" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w521" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w522" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w523" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w530" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w531" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w532" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w533" style="width:5vh;height:5vh;background:#fff"></div></div></div><div id="puzzle6" class="z q v w" style="left:10vh;top:270vh;width:20vh;height:20vh"><div class="l"></div><div class="r"></div><div id="D6" class="d"><div class="o" id="g600" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g601" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g602" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g603" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g610" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g611" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g612" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g613" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g620" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g621" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g622" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g623" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g630" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g631" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g632" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g633" style="width:5vh;height:5vh;background:#fff"></div></div><div id="B6" class="b"><div class="o" id="w600" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w601" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w602" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w603" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w610" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w611" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w612" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w613" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w620" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w621" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w622" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w623" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w630" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w631" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w632" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w633" style="width:5vh;height:5vh;background:#000"></div></div><div class="f"></div></div><div id="puzzle7" class="z q v w" style="left:25vh;top:315vh;width:20vh;height:20vh"><div class="l"></div><div class="r"></div><div id="D7" class="d"><div class="o" id="g700" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g701" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g702" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g703" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g710" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g711" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g712" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g713" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g720" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g721" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g722" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g723" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g730" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g731" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g732" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g733" style="width:5vh;height:5vh;background:#000"></div></div><div id="B7" class="b"><div class="o" id="w700" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w701" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w702" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w703" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w710" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w711" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w712" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w713" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w720" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w721" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w722" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w723" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w730" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w731" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w732" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w733" style="width:5vh;height:5vh;background:#fff"></div></div><div class="f"></div></div><div id="puzzle8" class="z q v w" style="left:40vh;top:360vh;width:25vh;height:25vh"><div class="l"></div><div class="r"></div><div id="D8" class="d"><div class="o" id="g800" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g801" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g802" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g803" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g804" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g810" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g811" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g812" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g813" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g814" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g820" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g821" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g822" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g823" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g824" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g830" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g831" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="g832" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g833" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g834" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g840" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g841" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g842" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g843" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="g844" style="width:5vh;height:5vh;background:#fff"></div></div><div id="B8" class="b"><div class="o" id="w800" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w801" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w802" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w803" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w804" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w810" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w811" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w812" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w813" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w814" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w820" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w821" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w822" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w823" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w824" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w830" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w831" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w832" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w833" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w834" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w840" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w841" style="width:5vh;height:5vh;background:#000"></div><div class="o" id="w842" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w843" style="width:5vh;height:5vh;background:#fff"></div><div class="o" id="w844" style="width:5vh;height:5vh;background:#fff"></div></div><div class="f"></div></div></div>
<div id="ie"></div>
<div id="ia"><div id="M0" class="sm" style="transform: translateX(30.25vh) translateY(15vh) translateZ(5.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S0" style="display: none;"></div><div id="R0" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id="T0"><div style="background:none;box-shadow:none;color:red;font-size:4vh;text-align:center;transform:rotateZ(180deg)translateY(-4vh)translateZ(1.5vh)">Y</div><div class="u" style="font:2.5vh/4vh a">👀</div><div class="f">‿</div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M1" class="sm" style="transform: translateX(25.25vh) translateY(15vh) translateZ(5.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S1" style="display: none;"></div><div id="R1" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id="T1"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M2" class="sm" style="transform: translateX(20.25vh) translateY(15vh) translateZ(5.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S2" style="display: none;"></div><div id="R2" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id="T2"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M3" class="sm" style="transform: translateX(15.25vh) translateY(15vh) translateZ(5.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S3" style="display: none;"></div><div id="R3" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id="T3"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M4" class="sm" style="transform: translateX(10.25vh) translateY(15vh) translateZ(5.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S4" style="display: none;"></div><div id="R4" class="sr" style="transform: rotateZ(3.14159rad);"><div class="z k" id="T4"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M5" class="sm" style="transform: translateX(10.25vh) translateY(20vh) translateZ(5.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S5" style="display: none;"></div><div id="R5" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T5"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M6" class="sm" style="transform: translateX(15.25vh) translateY(20vh) translateZ(5.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S6" style="display: none;"></div><div id="R6" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T6"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M7" class="sm" style="transform: translateX(20.25vh) translateY(20vh) translateZ(5.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S7" style="display: none;"></div><div id="R7" class="sr" style="transform: rotateZ(3.14159rad);"><div class="z k" id="T7"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M8" class="sm" style="transform: translateX(20.25vh) translateY(20vh) translateZ(10.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S8" style="display: none;"></div><div id="R8" class="sr" style="transform: rotateZ(3.14159rad);"><div class="z k" id="T8"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M9" class="sm" style="transform: translateX(20.25vh) translateY(25vh) translateZ(10.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S9" style="display: none;"></div><div id="R9" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T9"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M10" class="sm" style="transform: translateX(20.25vh) translateY(25vh) translateZ(5.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S10" style="display: none;"></div><div id="R10" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T10"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M11" class="sm" style="transform: translateX(20.25vh) translateY(25vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S11"></div><div id="R11" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T11"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M12" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S12"></div><div id="R12" class="sr"><div class="z k" id="T12"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M13" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S13"></div><div id="R13" class="sr"><div class="z k" id="T13"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M14" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S14"></div><div id="R14" class="sr"><div class="z k" id="T14"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M15" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S15"></div><div id="R15" class="sr"><div class="z k" id="T15"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div></div>
</div>
</div>
<center id="iz" style="font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw">
<button id="kU" class="h" ontouchstart="TS(38)" ontouchend="TE(38)">↑</button>
<button id="kD" class="h" ontouchstart="TS(40)" ontouchend="TE(40)">↓</button>
<button id="kL" class="h" ontouchstart="TS(37)" ontouchend="TE(37)">←</button>
<button id="kR" class="h" ontouchstart="TS(39)" ontouchend="TE(39)">→</button>
<button id="kT" class="h" ontouchstart="TS(16)" ontouchend="TE(16)">⬆︎</button>
<button id="kB" class="h" ontouchstart="TS(17)" ontouchend="TE(17)">⬇︎</button>
<button id="kw" class="h" ontouchstart="TS(18)" ontouchend="TE(18)">↩</button>
<button id="kx" class="h" ontouchstart="TS(82)" ontouchend="TE(82)">×</button>
<button id="ky" class="h" ontouchstart="TS(49)" ontouchend="TE(49)">↻</button>
<button id="kz" class="h" ontouchstart="TS(51)" ontouchend="TE(51)">↺</button>
</center>
<center id="ii" style="font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw"></center><div style="position:fixed;font:8vh a;top:3vh;right:3vh" onclick="location='index.html'">×</div></body></html><html><head><title>LOSSST</title><meta content="width=device-width,user-scalable=no" name="viewport"><script>u=r=d=l=s=c=B=0;trees=[];apples=[];doors=[];cubes=[];hints=[];emoji=[];puzzles=[];TS=function(k){ba[k]&&clearInterval(ba[k]);onkeydown({which:"+n+"});ba[k]=setInterval(function(){onkeydown({which:k})},150)};TE=function(k){setTimeout(function(){clearInterval(ba[k]);onkeyup()},150)};var g=0;function ca(){a.style.transform="translateX(-"+q[t]*v+"vh)translateY(-"+w[t]*v+"vh)translateZ(45vh)rotateX(40deg)rotateZ("+g+"rad)"}var x=$=_=0;function da(){var k=0;this.i=function(f){k+=f/48E3*Math.PI*2;return k%=2*Math.PI}}function fa(k){var f=new da,n=new da,m=.1;this.i=function(){if(!k)return 0;var A=k+.4*Math.sin(n.i(3));A=440*Math.pow(2,(A-57)/12);m*=.9998;A=f.i(A);return Math.pow(Math.sin(A),1)*m}}function ha(k){function f(){var f=k.length/2;for(_=$;0>_;)_+=f;_%=f;f=new fa(k[2*_+0].charCodeAt(0)-48);for(var A=new fa(k[2*_+1].charCodeAt(0)-48),P=[],aa=0;48E3>aa;aa++){var ea=f.i(),na=A.i(),za=.5*ea+na;P.push(ea+.5*na);P.push(za)}n(P).play()}function n(f){function k(f){f=m(f);return f[0]+f[1]}function m(f){for(var k=0,m="",n=0;4>n;n++,k+=8)m+=String.fromCharCode(f>>k&255);return m}var n=2*f.length;n="RIFF"+m(n+36)+"WAVEfmt "+m(16)+k(1)+k(2)+m(48E3)+m(192E3)+k(4)+k(16)+"data"+m(n);for(var ea in f)n+=k(32767*f[ea]);return new Audio("data:audio/wav;base64,"+btoa(n))}$=-1;this.forward=function(){$++;f()};this.back=function(){$--;f()}}function ja(k){function f(f){f=n(f);return f[0]+f[1]}function n(f){for(var k=0,m="",n=0;4>n;n++,k+=8)m+=String.fromCharCode(f>>k&255);return m}for(var m=[],A=0;;A++){var P=k(A);if(null===P)break;m.push(P)}k=2*m.length;k="RIFF"+n(k+36)+"WAVEfmt "+n(16)+f(1)+f(1)+n(48E3)+n(96E3)+f(2)+f(16)+"data"+n(k);for(A in m)k+=f(1E4*m[A]);return new Audio("data:audio/wav;base64,"+btoa(k))}function ka(k){return 1E4<k?null:(Math.pow(k,1.055)&128?1:-1)*Math.pow((1E4-k)/1E4,2)/2}function la(k){return 25E3<k?null:((k^k>>3^k*k*7.3^k<<4)&65535)/65536*((25E3-k)/25E3)/2}function ma(k){return 5E3<k?null:(Math.pow(k+1E3*Math.sin(.01*k),.8)&200?.5:-.5)*Math.pow((5E3-k)/5E3,1)/2}function oa(k){if(16E3<k)return null;var f=Math.pow((16E3-k)/16E3,2.1)/2;return(k<16E3/7?k+10*Math.sin(-k/900)&16:k&13)?f:-f}function pa(k){return 9E4<k?null:(Math.pow(k+1E3*Math.sin(.01*k),.8)&200?.5:-.5)*Math.pow((9E4-k)/9E4,1)/4}var qa=new ha("nbo0risiubv0uisirbs0ui0i0b0c0f0gniojrlsjuivjymvjubv0ui0i0j0m0n0rsgu0vnxnzgx0vnunsg0n0o0n0g0s0o0nrisjulvgufsjufscrbo0ni0j0b0i0j0il`n0ogqgs`u0vgxgz`0gxl0nsouqvsxuuev0u`0`0eq0slulqcs0qcs0qbs0q`s0njo0reseujv0xeveuj0v0e0q0j0i0g0e0cu0scq00bv0ufr0sgn0vbr0xiz0zjr0sgu0vbx0zgx0vbubsg{0zb{`z^{0zi{fzgv0xiu0vjs0ulr0sbn0oll0nbl0jfi0g00bxc0`zb0^{`0]z^0[z]0Zz[0]z^0`zb0]uf0bxi0f{l0izr0ozn0ixr0nrulrnbo0risiufs0r`o0nb0czf0gzi0gzf0cub0i0j0mvn0m0j0irbscrbs`rbs`sbrbo`q0sgugv`x0zg{gz`s0x`s0v`x0vcx0ues0q`l00eu00`x00ev00`u00eq00`o`"),ra=new ha("p0r0sdk0rco0pdk0p0r0sdw0rcs0pdk0p0r0sdk0rck0pdk0p0r0sdw0rcs0pd0f0g0iwg0bwgx0wgurrnspur0bufwgubs0pkrcsdk0rco0pkk0p0r0sdk0rco0pk0l0k0iwg0b0k0g0n0kzs0nxi0f|l0izr0p0n0lwk0dwg0k0p0k|s0pur0kuo0k0i0l0k0isd0krj0kpd0k0p0rsd0krl0opd0f0g0iskw0riw0pgw0nfw0u`s0rbs0pd0k"),y=localStorage,z=0,C=+y.lossst_s||0,sa=C?ra:qa,D=+y.lossst_m||0,ta=+y.lossst_t||0,ua=+y.lossst_M||0,va=0,ba=[],wa=0,v=5,t=0,q=[],w=[],E=[],F=[],G=y.lossst_S=+y.lossst_S||5,H=0,I=0,J=null,K="0",L=[],M=[],xa=0,N=0,O=0,Q=0,R=0,S=0,T=0,ya=+y.lossst_T||0,Aa=0,U=0,V=0,W="",X=h=0;function Ba(){var k;navigator.userAgent.match(/Mac/)&&(iv.className="a");navigator.userAgent.match(/Fire|Edg/)&&(iv.className+=" c",wa=4E3);D&&(iv.className+=" i");b.className=W;C&&!H&&(ie.innerHTML="");cubes=[];doors=[];trees=[];apples=[];hints=[];emoji=[];if("pz"==W)X=40,h=20,puzzles=[[5,,1,,"0000000000000000000000000",16,9]],G=5,C=0;else if("py"==W)h=X=20,puzzles=[eval("["+location.hash.slice(1).replace(/[01]{2,}/g,'"$&"')+"]")],G=puzzles[0][1],puzzles[0][5]=puzzles[0][6]=8,C=!!puzzles[0][3],hints=[["Move: arrow keys<br>"+(C?"Up/Down: "+(D?"\u2b06\ufe0e/\u2b07\ufe0e":"Shift/Ctrl")+"<br>":"")+"backtrack: "+(D?"\u21a9":"Alt")+"<br>Reset: R",1,5,1,0,C,0]],delete y.lossst_ppy0;else if("px"==W){X=40;h=20;trees=[[13,9,0],[7,13,0],[35,8,0]];apples=[[11,11,0,0,0],[2,12,0,6,0],[38,10,0,7,0]];doors=[[41,10,Math.PI/2,8,0,"pA",1,0,10,0,0],[20,-2,0,14,0,"pD",1,10,19,0,0],[-2,11,-Math.PI/2,6,0,"pJ",1,14,5,1,1],[20,21,Math.PI,14,0,"pC",1,22,1,0,0],[5,21,Math.PI,5,0,"pI",1,36,1,0,1]];puzzles=[];cubes=[];for(f=9;15>f;f++)for(m=0;5>m;m++)2==m&&14==f||2==m&&13==f||3==m&&13==f||3==m&&12==f||2==m&&12==f||cubes.push([m,f]);hints=[["Move with<br>arrow keys"+(D?"":" or WASD/ZQSD"),19,5,0,13,0],["Use the "+(D?"\u21a9":"Alt")+" key to backtrack",1,9,0,13,0,1],["Approach red doors with the right length to open them",35,14,0,13,0],["\u2191<br>New puzzles !<hr>Puzzle editor<br>\u2193",19,8,14,0,0],["\u2190<br>New puzzles !",1,9,6,7,1,1]];emoji=[["\ud83d\udc3f\ufe0f",30,7],["\ud83c\udf30\ufe0f",29,7]]}else if("pA"==W)X=40,h=20,trees=[[35,15,0]],apples=[[33,16,0,0,6],[34,17,0,0,6],[37,15,0,0,6]],cubes=[],doors=[[-2,10,-Math.PI/2,8,0,"px",0,39,11,0,0],[35,21,Math.PI,11,0,"pB",1,35,1,0,0]],puzzles=[[6,,0,,"000000001000001110001110001000000000",2,3],[6,,0,,"000000011000011100010000011000000000",14,3],[6,,0,,"000000000100001100011000011100000000",26,3],[5,,0,,"0000001110011100110000000",2,13],[6,,0,,"000000011000011000001100001100000000",14,13],[6,,0,,"000000000100001100001110001100000000",26,13]],hints=[["Cover the black patterns to solve puzzles",9,9,1,0],["Solve all the puzzles in the room to unlock a new door",21,9,1,0],["Your progress is saved automatically",34,9,1,0]],emoji=[["\ud83d\udc0c",11,10]];else if("pB"==W)D&&(kx.className="",y.lossst_r=1),X=40,h=20,trees=[[4,7,0]],apples=[[1,8,0,0,12],[2,9,0,0,12]],doors=[[35,-2,0,8,0,"pA",0,35,19,0,0],[-2,10,-Math.PI/2,13,0,"pC",1,39,10,0,0]],puzzles=[[6,,0,,"000000011110011010011110000000000000",8,2],[7,,0,,"0000000001110000111000001100000110000010000000000",18,2],[6,,0,,"000000011000011110001010001110000000",28,2],[6,,0,,"000000011100001110001110001100000000",8,12],[6,,0,,"000000001110001110001110001010000000",18,12],[6,,0,,"000000011110011110001100001000000000",28,12]],hints=[["If you get stuck, "+(D?"click \u00d7":"press R")+" to exit a puzzle",35,11,1,0]],cubes=[[11,4],[21,16]],emoji=[["\ud83d\udc08",4,14]];else if("pC"==W)X=40,h=20,trees=[[35,8,0]],apples=[[34,11,0,0,18]],doors=[[41,10,Math.PI/2,8,0,"pB",0,1,10,0,0],[22,-2,0,14,0,"px",1,20,19,0,0]],puzzles=[[7,,0,,"0000000000000001111000111100001111000100000000000",2,3],[7,,0,,"0000000001110000101000011100001110000110000000000",26,3],[6,,0,,"000000001110011110011010001110000000",14,3],[7,,0,,"0000000001100000111000011100001110000110000000000",2,12],[7,,0,,"0000000000000001111100101010011111000000000000000",14,12],[6,,0,,"000000011000011100011110011110000000",26,12]],hints=[["\u2191<br>After this room, you can try a puzzle editor and a new kind of puzzles !",22,11,13,0,0]],cubes=[[29,5],[30,8],[17,6],[15,4],[15,7],[29,13],[30,13],[30,14],[18,15],[16,15],[6,13],[6,17],[7,8],[6,8],[5,8],[3,7],[3,8],[7,6],[7,5]],emoji=[["\ud83e\udd8b<br><br>",29,13]];else if("pD"==W){h=X=20;trees=[[10,2,0]];doors=[[10,21,Math.PI,14,0,"px",0,20,0,0,0],[-2,5,-Math.PI/2,14,0,"pE",0,24,12,0,0]];puzzles=[[7,,1,,"0100010011111000000000000000000000001111100100010",7,7]];hints=[["Now you're thinking with wraps !",2,2,0,14,0]];for(f=0;20>f;f++)cubes.push([f,10]);emoji=[["\ud83d\udc10",12,2]]}else if("pE"==W)h=X=25,trees=[[5,12,0]],apples=[[4,14,0,0,23]],doors=[[26,12,Math.PI/2,14,0,"pD",0,0,5,0,0],[-2,12,-Math.PI/2,15,0,"pF",1,79,5,0,0]],puzzles=[[7,,1,,"1000001000000000000000010100011011011000111000001",3,3],[6,,1,,"110011100001000000100001100001110011",15,17],[5,,1,,"1100111001100011001110011",16,4],[6,,1,,"000011000011110001110001000011000011",3,17]],hints=[["Reminder:<br>use "+(D?"\u21a9":"Alt")+" to backtrack,<br>"+(D?"\u00d7":"R")+" to exit a puzzle.",11,14,1,0,0]],emoji=[["\ud83d\udc12",12,20]];else if("pF"==W)X=80,h=20,trees=[[35,10,0]],apples=[[38,11,0,0,35]],doors=[[81,5,Math.PI/2,15,0,"pE",0,0,12,0,0],[-2,15,-Math.PI/2,16,0,"pG",1,19,5,0,0]],puzzles=[[5,,1,,"0111101001010110100011111",59,13],[5,,1,,"1111011000111100001011110",48,13],[5,,1,,"1111101000011110111001100",37,13],[5,,1,,"1111110000111001000011111",26,13],[5,,1,,"1100101101001110011101101",15,13],[5,,1,,"1111100001110010000111111",59,2],[5,,1,,"1000110111100011000111111",48,2],[5,,1,,"1000110101101011111110001",37,2],[5,,1,,"1111110001000110000111111",26,2],[5,,1,,"0111101100011100011011110",15,2],[5,,1,,"1111101111001110001100001",4,8],[5,,1,,"1010100101111010000111111",71,8]],hints=[["This room hides a surprise !",72,2,0,15,0],["\u2190<br>Exit",38,9,16,0,0]],cubes=[],emoji=[];else if("pG"==W)X=20,h=30,trees=[[5,25,0]],apples=[[4,24,0,0,37],[7,25,0,0,37],[2,26,0,0,37],[3,28,0,0,37]],doors=[[21,5,Math.PI/2,16,0,"pF",0,1,15,0,0],[10,31,Math.PI,20,0,"pH",1,10,1,0,0]],puzzles=[[6,,1,,"001000001110111111011100011000001000",7,6],[6,,1,,"110001100001000111000111100001110001",7,18]],emoji=[["\ud83d\udc01",9,14]];else if("pH"==W)X=20,h=30,trees=[[16,22]],apples=[[18,22,0,0,39]],doors=[[10,-2,0,18,0,"pG",0,10,29,0,0],[21,25,Math.PI/2,21,0,"pI",1,1,10,0,0]],puzzles=[[6,,1,,"001000011110111111011110011110001000",7,6],[6,,1,,"110001100001000011000111001111111111",7,18]],emoji=[["\ud83e\udd86",9,14]];else if("pI"==W){X=40;h=20;apples=[[38,2,0,5,0]];doors=[[-2,10,-Math.PI/2,1,0,"pH",0,19,25,0,0],[36,-2,0,6,0,"px",1,5,19,0,1]];puzzles=[];hints=[["Guess what, you finished the first half of the game !",5,9,1,0],["You can now move up and down with "+(D?"\u2b06\ufe0e and \u2b07\ufe0e":"Shift and Ctrl keys")+", and open black doors",30,11,1,0]];for(f=0;9>f;f++)cubes.push([30,f]);for(f=30;40>f;f++)cubes.push([f,8]);emoji=[["\ud83d\udc22",13,14]];trees=[[3,1],[15,2],[36,3],[26,5],[25,15],[33,9],[10,12],[36,14],[3,15]]}else"pJ"==W?(X=15,h=70,trees=[[2,62]],apples=[[2,65,0,0,47],[1,66,0,0,47]],doors=[[16,5,Math.PI/2,6,0,"px",0,1,11,0,1],[-2,65,-Math.PI/2,8,0,"pK",1,19,65,0,1]],puzzles=[[5,,0,"0000000000000000000001110",,2,2],[4,,0,"0000000001000110",,4,11],[5,,0,"0000000000000000101001110",,6,20],[5,,0,"0000000000000000111000100",,8,29],[4,,0,"0000000001100110","0000011001100000",2,38],[4,,0,"0000010001100100","0000011001100000",4,47],[4,,0,"0000011001000100","0000010001100000",6,56],[4,,0,"0000000001100110","0100011000100000",8,65]],hints=[["You now have to match the patterns on the walls...",10,2,1,0,1],["... and on the floor too !",10,40,1,0,1]],emoji=[["\ud83e\udd89",10,14]]):"pK"==W?(D&&(ky.className=kz.className="",y.lossst_c=1),X=20,h=75,trees=[[2,2]],apples=[[1,4,0,0,59],[2,5,0,0,59],[3,6,0,0,59],[4,2,0,0,59]],doors=[[21,65,Math.PI/2,7,0,"pJ",0,1,65,0,1],[-2,5,-Math.PI/2,12,0,"pL",1,14,5,0,1]],puzzles=[[5,,0,"0000000000010000110001110",,8,69],[6,,0,"000000000000000000000100001110011000",,12,58],[5,,0,"0000000000010000111001000",,2,58],[4,,0,"0000001001100110","0000001001100000",2,45],[5,,0,"0000000000000000010001110","0000000100001100110000000",12,45],[5,,0,"0000000000000000101001110","0000001110010100000000000",2,34],[5,,0,"0000000000000000011001100","0000001110011000010000000",12,34],[4,,1,"0000011001100110","0110000000000110",2,22],[4,,1,"1001000000001001","1001000000001001",12,22],[4,,1,"0000010011110010","0000111101100000",2,12],[4,,1,"0110010000000011","0000011100110000",12,12],[4,,1,"1101000000000001","1101000000010001",12,2]],hints=[["You can rotate the camera with "+(D?"<br>\u21bb and \u21ba":"the keys 1, 2 and 3"),15,68,1,0,1],["Can you guess what's coming next?",7,54,1,0,1],["3D puzzles with wrap ! Use "+(D?"\u2b06\ufe0e and \u2b07\ufe0e":"Shift and Ctrl")+" to wrap between top and bottom",7,24,1,0,1]],emoji=[["\ud83d\udc1e",3,70]]):"pL"==W?(X=15,h=80,trees=[[2,70]],apples=[[1,73,0,0,68],[3,75,0,0,68]],doors=[[16,5,Math.PI/2,12,0,"pK",0,1,5,0,1],[-2,75,-Math.PI/2,14,0,"pM",1,14,25,0,1]],puzzles=[[5,,0,"0000000000001001111100100",,2,2],[4,,0,"0000010001100000",,5,11],[5,,0,"0000000110000110111000010",,8,20],[5,,0,"0000000000001000111011111","0000000000111001111100000",2,29],[4,,0,"1000110011101111","0000001111110000",5,38],[4,,0,"0000100011001110","1110110010000000",8,45],[4,,1,"1000100110010001","0000100110010000",2,54],[4,,1,"0000001011110100","0000110011110011",5,63],[5,,1,"0100011000010000111001000","0000001110110000100000000",8,72]],cubes=[[6,12]],emoji=[["\ud83d\udc1d",3,20]]):"pM"==W?(X=15,h=30,trees=[[10,12]],apples=[[8,11,0,0,71],[9,10,0,0,71],[10,9,0,0,71],[11,10,0,0,71],[12,11,0,0,71],[7,12,0,0,71]],doors=[[16,25,Math.PI/2,14,0,"pL",0,1,75,0,1],[-2,5,-Math.PI/2,20,0,"pN",1,14,5,0,1]],puzzles=[[5,,1,"0001100110011001100010000","0001100110011001100010000",2,24],[5,,1,"1100010001000011000111000","0000011000110010000000000",4,13],[5,,1,"1101110001000001000011000","1100010000000001000111011",6,2]],emoji=[["\ud83d\udc13",1,14]]):"pN"==W&&(X=15,h=48,trees=[[10,44]],apples=[[7,45,0,0,75]],doors=[[16,5,Math.PI/2,20,0,"pM",0,1,5,0,1]],puzzles=[[4,,1,"0000111101101111","1000111111111000",5,38],[4,,1,"1111001001001111","1111101010101111",5,28],[4,,1,"1111010101011101","0001101101101111",5,18],[4,,1,"1111000100011110","1111110110011111",5,8]],emoji=[["\ud83d\udc09",13,46]]);a.style.width=X*v+"vh";a.style.height=h*v+"vh";H||(ig.innerHTML="");ih.innerHTML="";for(var f in trees)ig.innerHTML+="<div id=tree"+f+' class="j tr"style=left:'+trees[f][0]*v+"vh;transform:translateX(-7vh)translateY("+(trees[f][1]*v+4)+"vh)rotateX(-70deg)>\ud83c\udf33</div><div id=treeshadow"+f+' class="e h"style=left:'+trees[f][0]*v+"vh;transform:translateX(-7.5vh)translateY("+(trees[f][1]*v+3.5)+"vh)rotateZ(144deg)scaleY(1.5)>\ud83c\udf33";for(f in apples)y["lossst_a"+W+f]?delete apples[f]:ig.innerHTML+="<div id=a"+f+' class="j g '+(y["lossst_A"+W+f]?"":"h")+'"style=left:'+apples[f][0]*v+"vh;transform:translateY("+(apples[f][1]*v+4)+"vh)rotateX(-65deg)>"+("pN"==W?"<div>\u26bd</div>":"<div class=m>\ud83c\udf4e</div>")+"</div><div id=as"+f+' class="e p '+(y["lossst_A"+W+f]?"":"h")+'"style=left:'+apples[f][0]*v+"vh;transform:scaleX(-1)translateY("+(apples[f][1]*v+3)+"vh)rotateZ(212deg)>"+("pN"==W?"\u26bd":"\ud83c\udf4e");for(f in emoji)ig.innerHTML+='<div class="j n"style=left:'+(emoji[f][1]*v-1)+"vh;transform:translateY("+(emoji[f][2]*v+4)+"vh)rotateX(-65deg)><div class=m>"+emoji[f][0];for(f in doors)ig.innerHTML+="<div id=d"+(""+W+f)+' class="do'+(y["lossst_d"+W+f]?" s":"")+'"style=left:'+(doors[f][0]+.5)*v+"vh;top:"+(doors[f][1]+.5)*v+"vh;transform:rotateZ("+doors[f][2]+"rad)translateZ("+doors[f][9]*v+'vh)><div class="y d'+doors[f][10]+'"'+(doors[f][6]?"":"hidden")+">"+doors[f][3]+'</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh">';for(var n in puzzles)for(var m in cubes)y["lossst_p"+W+n]&&cubes[m][0]>=puzzles[n][5]&&cubes[m][0]<puzzles[n][5]+puzzles[n][0]&&cubes[m][1]>=puzzles[n][6]&&cubes[m][1]<puzzles[n][6]+puzzles[n][0]&&delete cubes[m];for(f in cubes)ig.innerHTML+="<div id=cube"+f+' class="z x"style=left:'+cubes[f][0]*v+"vh;top:"+cubes[f][1]*v+'vh;width:5vh;height:5vh><div class=f></div><div class=u style="background-position:'+(-300-cubes[f][0]*v)+"vh "+(-140-cubes[f][1]*v)+'vh"></div><div class=r></div><div class=l></div><div class=b>';for(f in hints)C^hints[f][5]||!(hints[f][3]&&hints[f][3]<=G||hints[f][4]&&hints[f][4]>=G)||(ig.innerHTML+="<div id=h"+(""+W+f)+" class=t style=left:"+hints[f][1]*v+"vh;transform:translateY("+(hints[f][2]*v+5)+"vh)translateZ("+(hints[f][6]*v||0)+"vh)rotateX(-70deg)translateY(-4vh)>"+hints[f][0]);y.lossst_x&&top.hpx0&&(hpx0.style.opacity=1);for(n in puzzles){T=puzzles[n][0];var A=k="";ih.innerHTML+="<div id=puzzle"+n+' class="z q v '+(puzzles[n][2]&&!y["lossst_p"+W+n]?"w":"")+'"style=left:'+puzzles[n][5]*v+"vh;top:"+puzzles[n][6]*v+"vh;width:"+puzzles[n][0]*v+"vh;height:"+T*v+"vh>"+(puzzles[n][2]?"<div class=l></div><div class=r></div>":"")+"<div id=D"+n+" class=d></div><div id=B"+n+" class=b></div>"+(puzzles[n][2]?"<div class=f>":"");var P="000",aa="fff";y["lossst_p"+W+n]&&(P="44c",aa="fd0",puzzles[n][2]=0);for(f=0;f<T;f++)for(m=0;m<T;m++)puzzles[n][3]&&(k+="<div class=o id=w"+n+f+m+" style=width:"+v+"vh;height:"+v+"vh;background:#"+("1"==puzzles[n][3][f*T+m]?P:aa)+"></div>"),puzzles[n][4]&&(A+="<div class=o id=g"+n+f+m+" style=width:"+v+"vh;height:"+v+"vh;background:#"+("1"==puzzles[n][4][f*T+m]?P:aa)+"></div>");top["D"+n]&&(top["D"+n].innerHTML+=A);top["B"+n]&&(top["B"+n].innerHTML+=k)}"pN"==W&&(ig.innerHTML+="<div style='position:fixed;transform:"+(D?"rotateZ(-90deg)translateX(-87vh)translateY(22vh)translateZ(365vh)":"rotateZ(-90deg)translateX(-83vh)translateY(6vh)translateZ(208vh)")+";font: 30vh/25vh a'>THE<br><br>END");H&&(y.lossst_e||y.lossst_s&&6<y.lossst_S||(ik.style.opacity=im.style.opacity=0,ik.style.position=im.style.position="fixed",ik.style.top=im.style.top="-9vh"),J=0,Y(1),xa=1,Q=O=N=0,puzzles[0][2]=0,setTimeout(function(){(ib.onchange=ib.oninput=resetgrid=function(){Ca();Y();ij.disabled=1;gridval.innerHTML=T=+ib.value;puzzle0.style.width=puzzle0.style.height=T*v+"vh";puzzles[0][0]=T;D0.innerHTML="";A=k=B0.innerHTML="";M=[];L=[];for(f=0;f<T;f++)for(M[f]=[],L[f]=[],m=0;m<T;m++)M[f][m]=0,L[f][m]=0;for(f=0;f<T;f++)for(m=0;m<T;m++)k+="<div class=o id=w"+K+f+m+" style=width:"+v+"vh;padding-top:"+v+"vh></div>",A+="<div class=o id=g"+K+f+m+" style=width:"+v+"vh;padding-top:"+v+"vh></div>";xa&&(D0.innerHTML+=A);N&&(B0.innerHTML+=k)})();iq.onchange=iq.oninput=function(){it.innerHTML=G=+iq.value;Ca();Y()};ik.onclick=function(){ik.checked?xa=1:top.wall&&(xa=0,C=N=1,wall.checked=!0);a.className=N?"haswall":"";resetgrid()};top.wall&&(wall.onclick=function(){wall.checked?(N=1,C=puzzles[0][3]=1):(N=C=0,xa=1,ik.checked=!0,puzzles[0][3]=0);a.className=N?"haswall":"";resetgrid()});top.wrap&&(wrap.onclick=function(){O=puzzles[0][2]=wrap.checked||0;puzzle0.className="z q v "+(O?"w":"");resetgrid()});print=function(k){var n="";for(f=0;f<T;f++)for(m=0;m<T;m++)n=top[k+"0"+f+m].style.background&&top[k+"0"+f+m].style.background.match(/255/)?n+0:n+1;return n};ij.onclick=function(){var f=[];f.push(T);f.push(G);f.push(O?1:0);f.push(N?print("w"):"");f.push(ik.checked?print("g"):"");open("//twitter.com/intent/tweet?text=I%20made%20a%20level%20for%20@MaximeEuziere's%20%23js13k%20game%20LOSSST!%0APlay%20here:%20js13kgames.com%2Fentries%2Flossst%0AMy%20level:%20js13kgames.com%2Fgames%2Flossst%23"+f+"%0A%23LOSSSTlevels")}},100));"px"!=W||y.lossst_x?(a.style.transition="transform 1s,transform-origin 1s",Ca()):(I=1,setTimeout(function(){Ca();Y();M0.style.transition="transform .5s"},2E3),setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(0);F.push(F[t]);t++;Y()},5500+wa),setTimeout(function(){M0.style.transition="";R0.style.transition="transform .2s";R0.style.transform="rotateZ("+-Math.PI/4+"rad)"},6500+wa),setTimeout(function(){R0.style.transform="rotateZ("+Math.PI/4+"rad)"},7E3+wa),setTimeout(function(){R0.style.transform=""},7500+wa),setTimeout(function(){S0.style.transition=R0.style.transition=""},8E3+wa),setTimeout(function(){clearInterval(x);z||(I=0);hpx0.style.opacity=1},8400),setTimeout(function(){a.style.transition="transform 1s,transform-origin 1s";y.lossst_x=20;y.lossst_y=10;b.innerHTML+="<div style='position:fixed;font:8vh a;top:3vh;right:3vh'onclick=location='index.html'>\u00d7";D&&(kU.className=kD.className=kL.className=kR.className="",y.lossst_w=1)},9E3));Y()}function Ca(){var k=C&&!H?ia:ie;k.innerHTML="";q=[];w=[];E=[];F=[];t=G-1;if("py"==W)for(i=0;i<G;i++)q[t-i]=1-i,w[t-i]=10,E[t-i]=0,F[t-i]=-Math.PI/2;else if(H)for(i=0;i<G;i++)q[t-i]=13-i,w[t-i]=12,E[t-i]=0,F[t-i]=-Math.PI/2;else if(y.lossst_x){var f=+y.lossst_x,n=+y.lossst_y,m=+y.lossst_z;"px"==W&&2>y.lossst_x&&(m=y.lossst_z=1);if("pI"==W&&z&&1==C)for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i-1,F[t-i]=0;else if(2>f)for(i=0;i<G;i++)q[t-i]=f-i,w[t-i]=n,E[t-i]=m,F[t-i]=-Math.PI/2;else if(f>X-2)for(i=0;i<G;i++)q[t-i]=f+i,w[t-i]=n,E[t-i]=m,F[t-i]=Math.PI/2;else if(2>n)for(i=0;i<G;i++)q[t-i]=f,w[t-i]=n-i,E[t-i]=m,F[t-i]=0;else if(n>h-2)for(i=0;i<G;i++)q[t-i]=f,w[t-i]=n+i,E[t-i]=m,F[t-i]=0;else for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i,F[t-i]=0}else if("px"==W)for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i-1,F[t-i]=0;for(i=0;i<Math.max(G+4,16);i++)k.innerHTML+="<div id=M"+i+" class=sm style=transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:"+(v-.7)+"vh;height:"+(v-.7)+"vh><div class=ss id=S"+i+"></div><div id=R"+i+' class=sr><div class="z k"id=T'+i+">"+(1>i?"<div style=background:none;box-shadow:none;color:red;font-size:4vh;text-align:center;transform:rotateZ(180deg)translateY(-4vh)translateZ(1.5vh)>Y</div>":"")+'<div class=u style="font:'+.5*v+"vh/"+.8*v+'vh a">'+(1>i?"\ud83d\udc40":"")+"</div><div class=f>"+(1>i?"\u203f":"")+"</div><div class=r></div><div class=l></div><div class=b>"}function Y(k){for(var f={a:0};f.a<G;f={a:f.a,j:f.j,m:f.m,o:f.o},f.a++)if(!k){var n=oldx=oldy=oldz=newx=newy=newz=0;O&&T&&(q[t-f.a-1]==R&&q[t-f.a]==R+T-1?(n=1,oldx=R-1,newx=R+T,oldy=newy=w[t-f.a],oldz=newz=E[t-f.a]):q[t-f.a-1]==R+T-1&&q[t-f.a]==R?(n=1,oldx=R+T,newx=R-1,oldy=newy=w[t-f.a],oldz=newz=E[t-f.a]):w[t-f.a-1]==S&&w[t-f.a]==S+T-1?(n=1,oldy=S-1,newy=S+T,oldx=newx=q[t-f.a],oldz=newz=E[t-f.a]):w[t-f.a-1]==S+T-1&&w[t-f.a]==S?(n=1,oldy=S+T,newy=S-1,oldx=newx=q[t-f.a],oldz=newz=E[t-f.a]):0==E[t-f.a-1]&&E[t-f.a]==T-1?(n=1,oldz=-1,newz=T,oldx=newx=q[t-f.a],oldy=newy=w[t-f.a]):E[t-f.a-1]==T-1&&0==E[t-f.a]&&(n=1,oldz=T,newz=-1,oldx=newx=q[t-f.a],oldy=newy=w[t-f.a]));if(n)top["R"+f.a].style.transform="rotateZ("+F[t-f.a]+"rad)",top["M"+f.a].style.transform="translateX("+(oldx*v+.5)+"vh)translateY("+(oldy*v+.5)+"vh)translateZ("+(oldz*v+.5)+"vh)scale(.01)scaleZ(.01)",setTimeout(function(f){return function(){top["M"+f.a].style.transition="none"}}(f),90),f.j=newx,f.m=newy,f.o=newz,setTimeout(function(f){return function(){top["M"+f.a].style.transform="translateX("+(f.j*v+.5)+"vh)translateY("+(f.m*v+.5)+"vh)translateZ("+(f.o*v+.5)+"vh)scale(.01)"}}(f),100),setTimeout(function(f){return function(){top["M"+f.a].style.transition="";top["M"+f.a].style.transform="translateX("+(q[t-f.a]*v+.25)+"vh)translateY("+w[t-f.a]*v+"vh)translateZ("+(E[t-f.a]*v+.5)+"vh)"}}(f),150);else try{top["M"+f.a].style.transform="translateX("+(q[t-f.a]*v+.25)+"vh)translateY("+w[t-f.a]*v+"vh)translateZ("+(E[t-f.a]*v+.5)+"vh)",top["R"+f.a].style.transform="rotateZ("+F[t-f.a]+"rad)"}catch(A){}try{top["S"+f.a].style.display=0==E[t-f.a]?"":"none"}catch(A){}}H?a.style.transform="translateX(-100vh)translateY(-37vh)translateZ(-5vh)rotateX(33deg)":null===J||y["lossst_p"+W+J]?(a.style.transform="translateX("+-q[t]*v+"vh)translateY("+-w[t]*v+"vh)translateZ(45vh)rotateX(40deg)rotateZ("+g+"rad)",a.style.transformOrigin=""+q[t]*v+"vh "+w[t]*v+"vh"):(a.style.transform="translateX("+(-(R+puzzles[J][0]/2)*v+5)+"vh)translateY("+(-(S+puzzles[J][0]/2)*v+8)+"vh)translateZ("+(90-puzzles[J][0]*(v+3))+"vh)rotateX(30deg)rotateZ("+g+"rad)",a.style.transformOrigin=""+((R+puzzles[J][0]/2)*v+5)+"vh "+((S+puzzles[J][0]/2-1)*v+8)+"vh");f=C?1:0;for(k=0;k<G;k++){if(0>=E[t-k]){f=0;break}for(m in cubes)cubes[m][0]==q[t-k]&&cubes[m][1]==w[t-k]&&1==E[t-k]&&(f=0)}if(f){for(k=0;k<G;k++)E[t-k]--;try{Y()}catch(A){for(var m=2*G;m--;)q.pop(),w.pop(),E.pop(),F.pop(),t--;Aa=0;Y()}}f=q[t];n=w[t];for(k in doors)(doors[k][10]&&C||!doors[k][10]&&!C)&&top["d"+W+k]&&0<doors[k][3]&&G>=doors[k][3]&&4>Math.hypot(f-doors[k][0],n-doors[k][1])&&!y["lossst_d"+W+k]&&(top["d"+W+k].className="do s",!doors[k][6]||"px"==W&&2<k||ja(pa).play(),y["lossst_d"+W+k]=1),top["d"+W+k]&&"do s"==top["d"+W+k].className&&2>Math.hypot(f-doors[k][0],n-doors[k][1])&&(y.lossst_p=W=doors[k][5],setTimeout(Ba,600),y.lossst_x=doors[k][7],y.lossst_y=doors[k][8],y.lossst_z=0);null!==J&&Da();H||(J=null);H||(L=[],M=[]);for(p in puzzles)if(f>=puzzles[p][5]&&f<puzzles[p][5]+puzzles[p][0]&&n>=puzzles[p][6]&&n<puzzles[p][6]+puzzles[p][0]){J=+p;Q=0;y["lossst_p"+W+p]&&(Q=1);K=p;xa=!!puzzles[p][4];N=!!puzzles[p][3];O=!!puzzles[p][2];R=puzzles[p][5];S=puzzles[p][6];T=puzzles[p][0];for(k=0;k<T;k++)for(L[k]=[],M[k]=[],m=0;m<T;m++)puzzles[p][3]&&(M[k][m]=+puzzles[p][3][k*puzzles[p][0]+m]),puzzles[p][4]&&(L[k][m]=+puzzles[p][4][k*puzzles[p][0]+m]);Da()}}function Z(k,f,n){V=0;if(0>k||k>=X||0>f||f>=h)V=1;for(var m in trees)k>=trees[m][0]-1&&k<=trees[m][0]&&f==trees[m][1]&&3>E[t]&&(V=1);for(m in hints)k>=hints[m][1]&&k<=hints[m][1]+3&&f==hints[m][2]&&G>=hints[m][3]&&(!hints[m][4]||G<=hints[m][4])&&(C&&hints[m][5]||!C&&!hints[m][5])&&(V=1);for(m in apples)if(y["lossst_A"+W+m]&&k==apples[m][0]&&f==apples[m][1]&&0==E[t])if(ja(ka).play(),"pN"==W){x=setInterval(sa.forward,150);y.lossst_E=1;setTimeout(function(){I=1;as0.remove();a0.style.transform="translateY(319vh)translateZ(2vh)rotateX(-65deg)rotateY(90deg)";a0.style.transition=a.style.transition="10s";a0.style.transform="translateY(15vh)translateZ(2vh)rotateX(-65deg)";a.style.transform=D?"translateX(-133vh)translateY(-249vh)translateZ(-373vh)rotateZ(90deg)":"translateX(-141vh)translateY(-227vh)translateZ(-185vh)rotateZ(90deg)"},200);var A={},P;for(P in puzzles)A.g=P,setTimeout(function(f){return function(){top["B"+f.g].style.transition=".5s";top["B"+f.g].style.transform="translateY(-125%)"}}(A),[1450,2500,3800,5400][A.g]),A={g:A.g};setTimeout(function(){clearInterval(va);y.lossst_E=1;y.lossst_e=1;b.style.background="#000";y.lossst_s=0;b.innerHTML="<div id=iv style=perspective:90vh><center id=menu style=width:75vh;transform:translateX(-38vh)translateY(-35vh)rotateX(-28deg)><span style=font-size:4vh;line-height:5vh><h1>Congrats!</h1><br>You completed the game in<br>"+ta+" seconds and "+ua+" moves!<br><br><a href=//twitter.com/intent/tweet?text=I%20played%20LOSSST,%20a%20%23js13k%20game%20by%20by%20@MaximeEuziere%0Amy%20score:%20"+ta+"%20seconds%20and%20"+ua+"%20moves!%0Ajs13kgames.com%2Fentries%2Flossst target=_blank style=color:#def;font-size:4vh>TWEET YOUR SCORE</a><br><br>Dev record:<br>854 seconds, 2452 moves<br><br>3D puzzle editor unlocked!<br><br><a href=. style=font-size:4vh>MAIN MENU"},15E3);n=document.querySelectorAll(".o");A={};for(var aa in n){A.h=aa;try{2==n[A.h].style.backgroundColor.match(/68/g).length&&setTimeout(function(f){return function(){top[n[f.h].id].style.background="#a00"}}(A),8E3+10*A.h)}catch(na){}A={h:A.h}}}else if(delete apples[m],top["a"+m].remove(),top["as"+m].remove(),G++,y.lossst_S=G,y["lossst_a"+W+m]=1,"pF"==W&&16==G){I=1;x=setInterval(sa.forward,150);z=1;a.style.transition="5s";a.style.transform="translateX(-180vh)translateY(-53vh)translateZ("+(D?-422:-180)+"vh)rotateZ(180deg)";setTimeout(function(){a.style.transition="1s";I=z=0;Y();ig.innerHTML+="<div class=t style=left:190vh;transform:translateY(50vh)rotateX(-55deg)translateY(-4vh)>\u2190<br>Exit";clearInterval(x)},1E4);n=document.querySelectorAll(".o");A={};for(var ea in n){A.f=ea;try{n[A.f].id.match(/g\d\d\d$/)&&2==n[A.f].style.backgroundColor.match(/68/g).length&&setTimeout(function(f){return function(){top[n[f.f].id].style.background="#a00"}}(A),5500+10*A.f)}catch(na){}A={f:A.f}}}for(m in cubes)k==cubes[m][0]&&f==cubes[m][1]&&0==n&&(V=1);for(m in emoji)"pC"!=W&&k==emoji[m][1]&&f==emoji[m][2]&&0==n&&(V=1);for(m in doors)top["d"+W+m]&&"do s"==top["d"+W+m].className&&2>=Math.hypot(k-doors[m][0],f-doors[m][1])&&(V=0);hitcube2=0;for(m=G-2;0<m;m--)q[t-m]==k&&w[t-m]==f&&E[t-m]==n&&(V=1,1==m&&(hitcube2=1));for(p in puzzles)puzzles[p][3]&&k>=puzzles[p][5]&&k<puzzles[p][5]+puzzles[p][0]&&(f==puzzles[p][6]-1&&w[t]==puzzles[p][6]&&!puzzles[p][2]||f==puzzles[p][6]&&w[t]==puzzles[p][6]-1)&&(V=1);if("pI"==W&&18==k&&!C){z=C=V=I=1;clearInterval(x);sa=ra;_=$=0;x=setInterval(ra.forward,250);y.lossst_s=1;y.lossst_S=G=5;for(k=0;21>k;k++)cubes.push([q[t-k],w[t-k]]),top["M"+k].id="",top["R"+k].id="",top["S"+k].id="",top["T"+k].id="";a.style.transition="2s";Ca();Y();a.style.transform="translateX(-105vh)translateY(-51vh)translateZ(80vh)rotateX(45deg)";a.style.transformOrigin="140vh 70vh";setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(0);F.push(F[t]);t++;Y()},3E3);setTimeout(function(){ii.innerHTML="Daddy!"},4E3);setTimeout(function(){ii.innerHTML=""},6E3);setTimeout(function(){ii.innerHTML="I lossst my soccer ball!"},7E3);setTimeout(function(){ii.innerHTML=""},9E3);setTimeout(function(){ii.innerHTML="But I found new moves!"},1E4);setTimeout(function(){ii.innerHTML="";z=I=0;clearInterval(x);a.style.transition="1s";Y();Ea();D&&(kT.className=kB.className="",y.lossst_B=1)},13500)}}function Da(){if(!Q&&null!==J){solved=1;H&&(ij.disabled=0);for(i=0;i<T;i++)for(j=0;j<T;j++)try{top["g"+K+i+j]&&(top["g"+K+i+j].style.background=L[i][j]?"#000":"#fff"),top["w"+K+i+j]&&(top["w"+K+i+j].style.background=M[i][j]?"#000":"#fff")}catch(m){}if(q[t]<R||q[t]>R+T-1||w[t]<S||w[t]>S+T-1||0>E[t]||E[t]>T-1)H&&(ij.disabled=1);else{for(i=0;i<G;i++){top["g"+K+(w[t-i]-S)+(q[t-i]-R)]&&(top["g"+K+(w[t-i]-S)+(q[t-i]-R)].style.background=L[w[t-i]-S][q[t-i]-R]?"#080":H?"#44c":"#f00");w[t-i]>=S&&w[t-i]<S+T&&top["w"+K+(T-1-E[t-i])+(q[t-i]-R)]&&(top["w"+K+(T-1-E[t-i])+(q[t-i]-R)].style.background=M[T-1-E[t-i]][q[t-i]-R]?"#080":H?"#44c":"#f00");if(q[t-i]<R||q[t-i]>R+T-1||w[t-i]<S||w[t-i]>S+T-1||E[t-i]>T-1)H&&(ij.disabled=1),solved=0;xa&&L[w[t-i]-S]&&!L[w[t-i]-S][q[t-i]-R]&&(solved=0);N&&M[T-1-E[t-i]]&&!M[T-1-E[t-i]][q[t-i]-R]&&(solved=0)}for(i=0;i<T;i++)for(j=0;j<T;j++){try{xa&&3==top["g"+K+i+j].style.backgroundColor.match(/0/g).length&&(solved=0)}catch(m){}try{N&&3==top["w"+K+i+j].style.backgroundColor.match(/0/g).length&&(solved=0)}catch(m){}}if(solved){Q=H?0:1;puzzles[J][2]=0;top["puzzle"+J].classList.remove("w");H||(y["lossst_p"+W+J]=1);for(i=0;i<T;i++)for(j=0;j<T;j++){try{top["g"+K+i+j].style.background=L[i][j]?"#44c":"#fd0"}catch(m){}try{top["w"+K+i+j].style.background=M[i][j]?"#44c":"#fd0"}catch(m){}}H||(ja(oa).play(),ya++,y.lossst_T=ya);var k=1,f={},n;for(n in cubes)f.b=n,cubes[f.b][0]>=puzzles[J][5]&&cubes[f.b][0]<puzzles[J][5]+puzzles[J][0]&&cubes[f.b][1]>=puzzles[J][6]&&cubes[f.b][1]<puzzles[J][6]+puzzles[J][0]&&(delete cubes[f.b],k++,setTimeout(function(f){return function(){top["cube"+f.b].remove()}}(f),200*k)),f={b:f.b}}}}}function Ea(){for(var k in apples)if(!y["lossst_A"+W+k]&&(0<apples[k][3]&&apples[k][3]==G||0<apples[k][4]&&apples[k][4]==ya)){I=1;D&&"px"==W&&1==k&&(kw.className="",y.lossst_b=1);var f=setTimeout;a.style.transform="translateX("+-apples[k][0]*v+"vh)translateY("+-apples[k][1]*v+"vh)translateZ(50vh)rotateX(35deg)";y["lossst_A"+W+k]=1;a.style.transformOrigin=""+apples[k][0]*v+"vh "+apples[k][1]*v+"vh";f(void 0,250);f=setTimeout;top["a"+k].className="j g";top["as"+k].className="e p";f(void 0,800);setTimeout(function(){ja(la).play()},850);setTimeout(function(){Y();z||(I=0)},2E3)}}function Fa(){U=0;H||(J=null);for(p in puzzles)q[t]>=puzzles[p][5]&&q[t]<puzzles[p][5]+puzzles[p][0]&&w[t]>=puzzles[p][6]&&w[t]<puzzles[p][6]+puzzles[p][0]&&0<=E[t]&&E[t]<puzzles[p][0]&&(J=+p,U=1)}onkeydown=function(k){top["lurd************************l**r************l*d***u**u"[k.which-37]]=1;18==k.which&&(B=1);16==k.which&&(s=1);17==k.which&&(c=1);if(!I){if(49==k.which||97==k.which)-1<g&&g--,ca();if(50==k.which||98==k.which)g=0,ca();if(51==k.which||99==k.which)1>g&&g++,ca()}Fa();U?Da():Aa=0;if(82==k.which&&U){if(Aa<=t)for(var f=Aa;f<=t;f++)q.pop(),w.pop(),E.pop(),F.pop(),setTimeout(function(){sa.back()},70*(t-f));t=Aa-1;Aa=0;Y();Da();y.lossst_M=++ua}else if(116!=k.which&&82!=k.which&&17!=k.which&&123!=k.which&&k.preventDefault&&k.preventDefault(),!I){V=0;if(l)!Q&&O&&U&&q[t]==R?(Z(R+T-1,w[t],E[t]),V||(q.push(R+T-1),w.push(w[t]),E.push(E[t]),F.push(Math.PI/2),t++)):(Z(q[t]-1,w[t],E[t]),V||(q.push(q[t]-1),w.push(w[t]),E.push(E[t]),F.push(Math.PI/2),t++));else if(r)!Q&&O&&U&&q[t]==R+T-1?(Z(R,w[t],E[t]),V||(q.push(R),w.push(w[t]),E.push(E[t]),F.push(-Math.PI/2),t++)):(Z(q[t]+1,w[t],E[t]),V||(q.push(q[t]+1),w.push(w[t]),E.push(E[t]),F.push(-Math.PI/2),t++));else if(u)!Q&&O&&U&&w[t]==S?(Z(q[t],S+T-1,E[t]),V||(q.push(q[t]),w.push(S+T-1),E.push(E[t]),F.push(Math.PI),t++)):(Z(q[t],w[t]-1,E[t]),V||(q.push(q[t]),w.push(w[t]-1),E.push(E[t]),F.push(Math.PI),t++));else if(d)!Q&&O&&U&&w[t]==S+T-1?(Z(q[t],S,E[t]),V||(q.push(q[t]),w.push(S),E.push(E[t]),F.push(0),t++)):(Z(q[t],w[t]+1,E[t]),V||(q.push(q[t]),w.push(w[t]+1),E.push(E[t]),F.push(0),t++));else if((C||N)&&s){if(!U){k=G-1;for(f in cubes)cubes[f][0]==q[t]&&cubes[f][1]==w[t]&&k++;if(E[t]==k)return}!Q&&O&&U&&E[t]==T-1?(Z(q[t],w[t],0),V||(q.push(q[t]),w.push(w[t]),E.push(0),F.push(F[t]),t++)):(Z(q[t],w[t],E[t]+1),V||(q.push(q[t]),w.push(w[t]),E.push(E[t]+1),F.push(F[t]),t++))}else(C||N)&&c?!Q&&O&&U&&0==E[t]?(Z(q[t],w[t],T-1),V||(q.push(q[t]),w.push(w[t]),E.push(T-1),F.push(F[t]),t++)):0==E[t]?V=1:(Z(q[t],w[t],E[t]-1),V||(q.push(q[t]),w.push(w[t]),E.push(E[t]-1),F.push(F[t]),t++)):B&&t>G&&(F.pop(),q.pop(),w.pop(),E.pop(),t--);V&&!I&&(I=1,setTimeout(function(){z||(I=0)},150),!(-1<q[t]&&q[t]<X&&-1<w[t]&&w[t]<h)||"pI"==W&&!C&&16<q[t]||hitcube2||ja(ma).play());if(!V&&!z&&(u||r||d||l||s||c||B)){y.lossst_M=++ua;Da();Y();B?t>G&&sa.back():(C||!s&&!c&&!C)&&sa.forward();Y(1);Ea();I||(I=1,setTimeout(function(){z||(I=0)},150));if("px"==W&&(C||14<=G)&&20==q[t]&&10==w[t]){I=1;var n=0;for(f=0;f<G;f++)setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(--n);F.push(F[t]);t++;Y()},150*f);setTimeout(function(){AA("pz",1)},160*G);y.lossst_x=20;y.lossst_y=10}Fa();U&&!Aa&&(Aa=t)}}};onkeyup=function(){u=r=d=l=s=c=B=0};onload=function(){1<location.hash.length?AA("py",1):(setTimeout(function(){x=setInterval(function(){sa.forward()},500)},200),b.innerHTML="<center id=e>\ud83d\udc40</center>\n<center id=iw></center>\n<div id=iv style=perspective:30vh>\n<center id=menu>\n<h1>LOSSST</h1>\n<span onclick=newgame()>New game</span><br>\n"+(y.lossst_a&&!y.lossst_E?"<span onclick=AA(0,1)>Continue</span><br>":"")+"\n<span onclick=AA(\"pz\",1)>Puzzle editor</span><br>\n<span onclick=top.open('//goo.gl/iKqoCS')>Bonus",newgame=function(){for(i in localStorage)0==i.indexOf("lossst")&&-1==i.indexOf("e")&&delete localStorage[i];y.lossst_a=1;menu.innerHTML="<br><br><span onclick=intro(0)>Desssktop</span><br><br><span onclick=intro(1)>Mobile"},intro=function(k){clearInterval(x);_=$=0;x=setInterval(sa.forward,250);y.lossst_m=D=k;y.lossst_S=G=5;ta=y.lossst_t=0;ua=y.lossst_M=0;y.lossst_M=0;y.lossst_t=0;menu.innerHTML="";setTimeout(function(){e.style.margin=0},500);dir=1;inter=setInterval(function(){e.style.opacity=0;setTimeout(function(){e.style.opacity=1;dir=-dir;e.style.transform="scaleX("+dir+")"},150)},3E3);setTimeout(function(){iw.innerHTML="I lossst my kid !"},2E3);setTimeout(function(){iw.innerHTML=""},5E3);setTimeout(function(){clearInterval(inter);e.style.margin="-80vh 0 0"},7E3);setTimeout(AA,7500)})};AA=function(k,f){if(0===k||"pz"==k)clearInterval(x),_=$=0;"pz"==k&&(H=1,J=0);W=k||y.lossst_p||"px";b.outerHTML="<body id=b class="+W+">\n<div id=iv>\n<div id=a style=transform:translateX(-97vh)translateY(-50vh)rotateZ(90deg)translateZ(119vh);transform-origin:100vh+50vh>\n<div id=ig>"+(H?"<div class=t style=width:60vh;transform:translateX(70vh)translateY(1vh)translateZ(2vh)rotateX(-42deg)>\n<label style=width:100%;text-align:center>Create a pattern with the snake and share it !</label>\n<br style=line-height:6vh>\n<div style=text-align:left;padding-left:5vh>\n<label>Grid</label> <input id=ib type=range value=5 min=3 max=8 step=1>\n<span id=gridval>5</span>\n<br>\n<label>Snake</label> <input id=iq type=range value=5 min=5 max=40 step=1>\n<span id=it>5</span>\n</div>\n<input type=checkbox id=ik checked> <label for=ik id=im>ground</label>\n"+(y.lossst_e||y.lossst_s&&6<y.lossst_S?"<input type=checkbox id=wall> <label for=wall>wall</label>":"")+"\n"+(y.lossst_e||y.lossst_s?"<input type=checkbox id=wrap> <label for=wrap>wrap</label>":"")+"\n<br>\n<center>\n<button id=ij disabled>Share</button>\n</center>\n</div>":"")+"\n</div>\n<div id=ih></div>\n<div id=ie></div>\n<div id=ia></div>\n</div>\n</div>\n<center id=iz style='font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw'>\n<button id=kU class=h ontouchstart=TS(38) ontouchend=TE(38)>\u2191</button>\n<button id=kD class=h ontouchstart=TS(40) ontouchend=TE(40)>\u2193</button>\n<button id=kL class=h ontouchstart=TS(37) ontouchend=TE(37)>\u2190</button>\n<button id=kR class=h ontouchstart=TS(39) ontouchend=TE(39)>\u2192</button>\n<button id=kT class=h ontouchstart=TS(16) ontouchend=TE(16)>\u2b06\ufe0e</button>\n<button id=kB class=h ontouchstart=TS(17) ontouchend=TE(17)>\u2b07\ufe0e</button>\n<button id=kw class=h ontouchstart=TS(18) ontouchend=TE(18)>\u21a9</button>\n<button id=kx class=h ontouchstart=TS(82) ontouchend=TE(82)>\u00d7</button>\n<button id=ky class=h ontouchstart=TS(49) ontouchend=TE(49)>\u21bb</button>\n<button id=kz class=h ontouchstart=TS(51) ontouchend=TE(51)>\u21ba</button>\n</center>\n<center id=ii style='font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw'>";y.lossst_Apx0=1;Ba();if(D&&"py"==W||y.lossst_w)kU.className=kD.className=kL.className=kR.className="";if(D&&"py"==W||y.lossst_b)kw.className="";if(D&&"py"==W||y.lossst_r)kr.className="";if(D&&"py"==W||y.lossst_B)kT.className="",kB.className="";if(D&&"py"==W||y.lossst_c)ky.className="",kz.className="";H||(va=setInterval(function(){y.lossst_t=++ta},1E3));f&&(b.innerHTML+="<div style='position:fixed;font:8vh a;top:3vh;right:3vh'onclick=location='.'>\u00d7")}</script><style>@keyframes move{0%,100%{transform:rotateY(-10deg)}50%{transform:rotateY(10deg)}}*{margin:0;padding:0;font:2.5vh/5.5vh arial,sans-serif;vertical-align:middle;box-sizing:border-box;-webkit-touch-callout:none;-webkit-user-select:none;-webkit-tap-highlight-color:transparent;user-select:none;cursor:pointer;touch-action:manipulation}html,body{height:100%;background:#000;overflow:hidden;background:radial-gradient(#def 25%,#7ce)}a{color:#def}input,button{position:relative;z-index:2}input[type=range]::-webkit-slider-runnable-track,input[type=range]::-webkit-slider-thumb{background:#888;border:1px solid #000}input[type=range]::-moz-range-track,input[type=range]::-moz-range-thumb{background:#888;border:1px solid #000}#iv{width:0;height:0;perspective:120vh;position:absolute;top:50%;left:50%}#iv *{transform-style:preserve-3d}#a{width:0;height:0;transform-origin:18vh 0%;transition:transform 1s,transform-origin 1s}.z{position:fixed;top:0;left:0}.z>div{width:100%;height:100%;position:fixed}.z .u{transform:rotateY(90deg)translateX(-100%)rotateY(-90deg)}.z .l{transform:rotateX(-90deg)translateY(-50%)translateX(-50%)rotateY(-90deg)}.z .r{transform:rotateX(-90deg)translateY(-50%)translateX(50%)rotateY(90deg)}.z .f{transform:translateY(50%)rotateX(-90deg)translateY(-50%)}.z .b{transform:translateY(-50%)rotateX(-90deg)translateY(-50%)rotateY(180deg)}.z.q{width:32vh;height:32vh;transform:none}.z.q>div{background:transparent}.z.q .b{transition:opacity .5s;transform:translateY(-50%)rotateX(-90deg)translateY(-52%)}.z.q.w .d,.z.q .d{transition:opacity .5s;background:#0c5b0c}.sm,.sr{transform-origin:50% 50%;width:100%;height:100%;position:fixed}.sm{transition:transform .15s}.z.k{width:100%;height:100%}.z.k>div{box-shadow:0 0 0 .1vh #000 inset;text-align:center}.z.k .f{line-height:3vh}#ie .z.k>div{background:#FFA500}#ie .z.k .u{background:#dF8500}#ia .z.k>div,#a.haswall .z.k>div{background:#444}#ia .z.k .u,#a.haswall .z.k .u{background:#333}#ia .z.k .f{color:#fff}.ss{position:fixed;width:100%;height:100%;background:rgba(0,0,0,.25);transform:translateX(14%)translateY(14%)translateZ(-.25vh)}label{display:inline-block;width:22%}button{display:inline-block;width:23%;border:.2vh solid #000;margin:1vh 2% 0 0}input[type=range]{width:60%}#form{width:50vh;margin:auto}.o{float:left;outline:.4vh solid #888;opacity:0;transition:opacity .5s;background:#fff}.z.q.v{transform:translateZ(.1vh)}.z.q.v .o{opacity:1}.z.q.v .d{transform:none}.z.q.w>div{background:linear-gradient(45deg,rgba(200,200,200,.1),rgba(200,200,200,.3));box-shadow:0 0 .1vh rgba(255,255,255,.5)}.j{position:fixed;transform-origin:50% 100%;bottom:0}.m{animation:move 3s infinite}.e{color:rgba(0,0,0,.002);text-shadow:0px 0px rgba(0,0,0,.25);position:fixed;transform-origin:50% 100%;bottom:0}.tr,.h{font:11vh/12vh a}.a .tr{font:15vh/11vh a}.a .h,.c .h,.i .h,.a .p,.c .p,.i .p,.c .x.b,#iz button.h{display:none}.g,.g *,.p{font:4vh/5vh a;transition:opacity .5s .5s}.n,.n *{font:5vh/6vh a}.g.h,.p.h{opacity:0}.a .g{font:6vh/5vh a}.do{position:fixed;transform-origin:0% 100%;width:0;height:0}.do .y{position:fixed;width:15vh;height:20vh;background:radial-gradient(2vh at 90% 50%,gold 35%,transparent 40%),#a22;border-radius:1vh 1vh 0 0;transform-origin:0% 100%;transform:translateX(-7.5vh)translateY(-12.5vh)rotateX(-90deg);text-align:center;font-size:6vh;line-height:12vh;color:#fff;transition:transform 1s}.do .y.d1{background:radial-gradient(2vh at 90% 50%,gold 35%,transparent 40%),#222}.do.s .y{transform:translateX(-7.5vh)translateY(-12.5vh)rotateX(-90deg)rotateY(90deg)}.z.x div{background:linear-gradient(45deg,#640,#583808)}.z.x div.u{transform:rotateY(90deg)translateX(-5.4vh)translateZ(-.1vh)rotateY(-90deg);background:radial-gradient(#3F7D1F,#034301);background-size:280vh 140vh;width:5.3vh;height:5.3vh}.t{position:fixed;background:#fff;padding:.7vh;width:20vh;font:2vh/2.5vh arial,sans-serif;transform-origin:50% 100%;text-align:center;box-shadow:0 0 0 .2vh #000 inset;bottom:0}.t br{font:0/0 a}.t:before{content:"";width:3vh;height:3vh;background:#750;position:absolute;bottom:-3vh;left:8vh;border-left:.2vh solid;border-right:.2vh solid}.pz .t:before{left:28vh}label{text-align:left}#a{transition:transform 6s ease-in,transform-origin 6s ease-in;width:280vh;height:140vh;background:radial-gradient(#4F8D2F,#136321);border-radius:3vh}.px #a,.pI #a{background:radial-gradient(10vh at 51.3% 52%,#000 40%,transparent 50%),radial-gradient(15vh at 51.3% 52%,#640 40%,transparent 50%),radial-gradient(#4F8D2F,#136321)}#e{margin:99vh 0 0;transition:margin 1s;font:10vh/80vh a}#iw{font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw}#menu{color:#fff;width:55vh;transform:translateX(-27vh)translateY(-20vh)rotateX(-17deg)}#menu span{font:7vh/12vh arial,sans-serif}#menu h1{font:13vh/16vh arial,sans-serif;text-shadow:.1vh -.1vh #777,.2vh -.2vh #777,.3vh -.3vh #777}#menu span:hover{color:#ace;transform:rotateX(-10deg)}.pN #menu span:hover{color:#fff}#iz button{position:fixed;width:10vh;height:10vh;text-align:center;font:6vh/10vh a}#kU{right:14vh;bottom:14vh}#kD{right:14vh;bottom:2vh}#kL{right:26vh;bottom:2vh}#kR{right:2vh;bottom:2vh}#kT{left:2vh;top:2vh}#kB{left:2vh;top:14vh}#kw{bottom:2vh;left:2vh}#kx{bottom:14vh;left:2vh}#ky{top:2vh;right:18vh}#kz{top:2vh;right:6vh}#hpx0{opacity:0;transition:opacity .5s}</style></head><head></head><body id="b" class="pM">
<div id="iv">
<div id="a" style="transform: translateX(-30vh) translateY(-10vh) translateZ(45vh) rotateX(40deg) rotateZ(0rad); transform-origin: 30vh 10vh 0px; width: 75vh; height: 150vh; transition: transform 1s, transform-origin 1s;">
<div id="ig"><div id="tree0" class="j tr" style="left:50vh;transform:translateX(-7vh)translateY(64vh)rotateX(-70deg)">🌳</div><div id="treeshadow0" class="e h" style="left:50vh;transform:translateX(-7.5vh)translateY(63.5vh)rotateZ(144deg)scaleY(1.5)">🌳</div><div id="a0" class="j g" style="left:40vh;transform:translateY(59vh)rotateX(-65deg)"><div class="m">🍎</div></div><div id="as0" class="e p" style="left:40vh;transform:scaleX(-1)translateY(58vh)rotateZ(212deg)">🍎</div><div id="a1" class="j g" style="left:45vh;transform:translateY(54vh)rotateX(-65deg)"><div class="m">🍎</div></div><div id="as1" class="e p" style="left:45vh;transform:scaleX(-1)translateY(53vh)rotateZ(212deg)">🍎</div><div id="a2" class="j g" style="left:50vh;transform:translateY(49vh)rotateX(-65deg)"><div class="m">🍎</div></div><div id="as2" class="e p" style="left:50vh;transform:scaleX(-1)translateY(48vh)rotateZ(212deg)">🍎</div><div id="a3" class="j g" style="left:55vh;transform:translateY(54vh)rotateX(-65deg)"><div class="m">🍎</div></div><div id="as3" class="e p" style="left:55vh;transform:scaleX(-1)translateY(53vh)rotateZ(212deg)">🍎</div><div id="a4" class="j g" style="left:60vh;transform:translateY(59vh)rotateX(-65deg)"><div class="m">🍎</div></div><div id="as4" class="e p" style="left:60vh;transform:scaleX(-1)translateY(58vh)rotateZ(212deg)">🍎</div><div id="a5" class="j g" style="left:35vh;transform:translateY(64vh)rotateX(-65deg)"><div class="m">🍎</div></div><div id="as5" class="e p" style="left:35vh;transform:scaleX(-1)translateY(63vh)rotateZ(212deg)">🍎</div><div class="j n" style="left:4vh;transform:translateY(74vh)rotateX(-65deg)"><div class="m">🐓</div></div><div id="dpM0" class="do s" style="left:82.5vh;top:127.5vh;transform:rotateZ(1.5707963267948966rad)translateZ(0vh)"><div class="y d1" hidden="">14</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh"></div></div><div id="dpM1" class="do" style="left:-7.5vh;top:27.5vh;transform:rotateZ(-1.5707963267948966rad)translateZ(0vh)"><div class="y d1">20</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh"></div></div></div>
<div id="ih"><div id="puzzle0" class="z q v" style="left:10vh;top:120vh;width:25vh;height:25vh"><div class="l"></div><div class="r"></div><div id="D0" class="d"><div class="o" id="g000" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g001" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g002" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g003" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g004" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g010" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g011" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g012" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g013" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g014" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g020" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g021" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g022" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g023" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g024" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g030" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g031" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g032" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g033" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g034" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g040" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g041" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g042" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g043" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g044" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div></div><div id="B0" class="b"><div class="o" id="w000" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w001" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w002" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w003" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w004" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w010" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w011" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w012" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w013" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w014" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w020" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w021" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w022" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w023" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w024" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w030" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w031" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w032" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w033" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w034" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w040" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w041" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w042" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w043" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w044" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div></div><div class="f"></div></div><div id="puzzle1" class="z q v" style="left:20vh;top:65vh;width:25vh;height:25vh"><div class="l"></div><div class="r"></div><div id="D1" class="d"><div class="o" id="g100" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g101" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g102" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g103" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g104" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g110" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g111" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g112" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g113" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g114" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g120" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g121" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g122" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g123" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g124" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g130" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g131" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g132" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g133" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g134" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g140" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g141" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g142" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g143" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g144" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div></div><div id="B1" class="b"><div class="o" id="w100" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w101" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w102" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w103" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w104" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w110" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w111" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w112" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w113" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w114" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w120" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w121" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w122" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w123" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w124" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w130" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w131" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w132" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w133" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w134" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w140" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w141" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w142" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w143" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w144" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div></div><div class="f"></div></div><div id="puzzle2" class="z q v" style="left:30vh;top:10vh;width:25vh;height:25vh"><div class="l"></div><div class="r"></div><div id="D2" class="d"><div class="o" id="g200" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g201" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g202" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g203" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g204" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g210" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g211" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g212" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g213" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g214" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g220" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g221" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g222" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g223" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g224" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g230" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g231" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g232" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g233" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g234" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g240" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g241" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g242" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g243" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g244" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div></div><div id="B2" class="b"><div class="o" id="w200" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w201" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w202" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w203" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w204" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w210" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w211" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w212" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w213" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w214" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w220" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w221" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w222" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w223" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w224" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w230" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w231" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w232" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w233" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w234" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w240" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w241" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w242" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w243" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w244" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div></div><div class="f"></div></div></div>
<div id="ie"></div>
<div id="ia"><div id="M0" class="sm" style="transform: translateX(30.25vh) translateY(10vh) translateZ(5.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S0" style="display: none;"></div><div id="R0" class="sr" style="transform: rotateZ(3.14159rad);"><div class="z k" id="T0"><div style="background:none;box-shadow:none;color:red;font-size:4vh;text-align:center;transform:rotateZ(180deg)translateY(-4vh)translateZ(1.5vh)">Y</div><div class="u" style="font:2.5vh/4vh a">👀</div><div class="f">‿</div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M1" class="sm" style="transform: translateX(30.25vh) translateY(15vh) translateZ(5.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S1" style="display: none;"></div><div id="R1" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T1"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M2" class="sm" style="transform: translateX(30.25vh) translateY(15vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S2" style=""></div><div id="R2" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T2"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M3" class="sm" style="transform: translateX(30.25vh) translateY(10vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S3" style=""></div><div id="R3" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T3"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M4" class="sm" style="transform: translateX(35.25vh) translateY(10vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S4" style=""></div><div id="R4" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T4"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M5" class="sm" style="transform: translateX(35.25vh) translateY(10vh) translateZ(20.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S5" style="display: none;"></div><div id="R5" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T5"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M6" class="sm" style="transform: translateX(35.25vh) translateY(30vh) translateZ(20.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S6" style="display: none;"></div><div id="R6" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id="T6"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M7" class="sm" style="transform: translateX(30.25vh) translateY(30vh) translateZ(20.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S7" style="display: none;"></div><div id="R7" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T7"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M8" class="sm" style="transform: translateX(30.25vh) translateY(30vh) translateZ(15.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S8" style="display: none;"></div><div id="R8" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T8"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M9" class="sm" style="transform: translateX(30.25vh) translateY(25vh) translateZ(15.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S9" style="display: none;"></div><div id="R9" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id="T9"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M10" class="sm" style="transform: translateX(50.25vh) translateY(25vh) translateZ(15.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S10" style="display: none;"></div><div id="R10" class="sr" style="transform: rotateZ(3.14159rad);"><div class="z k" id="T10"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M11" class="sm" style="transform: translateX(50.25vh) translateY(30vh) translateZ(15.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S11" style="display: none;"></div><div id="R11" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id="T11"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M12" class="sm" style="transform: translateX(50.25vh) translateY(30vh) translateZ(20.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S12" style="display: none;"></div><div id="R12" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id="T12"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M13" class="sm" style="transform: translateX(45.25vh) translateY(30vh) translateZ(20.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S13" style="display: none;"></div><div id="R13" class="sr" style="transform: rotateZ(3.14159rad);"><div class="z k" id="T13"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M14" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S14"></div><div id="R14" class="sr"><div class="z k" id="T14"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M15" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S15"></div><div id="R15" class="sr"><div class="z k" id="T15"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M16" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S16"></div><div id="R16" class="sr"><div class="z k" id="T16"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M17" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S17"></div><div id="R17" class="sr"><div class="z k" id="T17"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div></div>
</div>
</div>
<center id="iz" style="font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw">
<button id="kU" class="h" ontouchstart="TS(38)" ontouchend="TE(38)">↑</button>
<button id="kD" class="h" ontouchstart="TS(40)" ontouchend="TE(40)">↓</button>
<button id="kL" class="h" ontouchstart="TS(37)" ontouchend="TE(37)">←</button>
<button id="kR" class="h" ontouchstart="TS(39)" ontouchend="TE(39)">→</button>
<button id="kT" class="h" ontouchstart="TS(16)" ontouchend="TE(16)">⬆︎</button>
<button id="kB" class="h" ontouchstart="TS(17)" ontouchend="TE(17)">⬇︎</button>
<button id="kw" class="h" ontouchstart="TS(18)" ontouchend="TE(18)">↩</button>
<button id="kx" class="h" ontouchstart="TS(82)" ontouchend="TE(82)">×</button>
<button id="ky" class="h" ontouchstart="TS(49)" ontouchend="TE(49)">↻</button>
<button id="kz" class="h" ontouchstart="TS(51)" ontouchend="TE(51)">↺</button>
</center>
<center id="ii" style="font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw"></center><div style="position:fixed;font:8vh a;top:3vh;right:3vh" onclick="location='index.html'">×</div></body></html><html><head><title>LOSSST</title><meta content="width=device-width,user-scalable=no" name="viewport"><script>u=r=d=l=s=c=B=0;trees=[];apples=[];doors=[];cubes=[];hints=[];emoji=[];puzzles=[];TS=function(k){ba[k]&&clearInterval(ba[k]);onkeydown({which:"+n+"});ba[k]=setInterval(function(){onkeydown({which:k})},150)};TE=function(k){setTimeout(function(){clearInterval(ba[k]);onkeyup()},150)};var g=0;function ca(){a.style.transform="translateX(-"+q[t]*v+"vh)translateY(-"+w[t]*v+"vh)translateZ(45vh)rotateX(40deg)rotateZ("+g+"rad)"}var x=$=_=0;function da(){var k=0;this.i=function(f){k+=f/48E3*Math.PI*2;return k%=2*Math.PI}}function fa(k){var f=new da,n=new da,m=.1;this.i=function(){if(!k)return 0;var A=k+.4*Math.sin(n.i(3));A=440*Math.pow(2,(A-57)/12);m*=.9998;A=f.i(A);return Math.pow(Math.sin(A),1)*m}}function ha(k){function f(){var f=k.length/2;for(_=$;0>_;)_+=f;_%=f;f=new fa(k[2*_+0].charCodeAt(0)-48);for(var A=new fa(k[2*_+1].charCodeAt(0)-48),P=[],aa=0;48E3>aa;aa++){var ea=f.i(),na=A.i(),za=.5*ea+na;P.push(ea+.5*na);P.push(za)}n(P).play()}function n(f){function k(f){f=m(f);return f[0]+f[1]}function m(f){for(var k=0,m="",n=0;4>n;n++,k+=8)m+=String.fromCharCode(f>>k&255);return m}var n=2*f.length;n="RIFF"+m(n+36)+"WAVEfmt "+m(16)+k(1)+k(2)+m(48E3)+m(192E3)+k(4)+k(16)+"data"+m(n);for(var ea in f)n+=k(32767*f[ea]);return new Audio("data:audio/wav;base64,"+btoa(n))}$=-1;this.forward=function(){$++;f()};this.back=function(){$--;f()}}function ja(k){function f(f){f=n(f);return f[0]+f[1]}function n(f){for(var k=0,m="",n=0;4>n;n++,k+=8)m+=String.fromCharCode(f>>k&255);return m}for(var m=[],A=0;;A++){var P=k(A);if(null===P)break;m.push(P)}k=2*m.length;k="RIFF"+n(k+36)+"WAVEfmt "+n(16)+f(1)+f(1)+n(48E3)+n(96E3)+f(2)+f(16)+"data"+n(k);for(A in m)k+=f(1E4*m[A]);return new Audio("data:audio/wav;base64,"+btoa(k))}function ka(k){return 1E4<k?null:(Math.pow(k,1.055)&128?1:-1)*Math.pow((1E4-k)/1E4,2)/2}function la(k){return 25E3<k?null:((k^k>>3^k*k*7.3^k<<4)&65535)/65536*((25E3-k)/25E3)/2}function ma(k){return 5E3<k?null:(Math.pow(k+1E3*Math.sin(.01*k),.8)&200?.5:-.5)*Math.pow((5E3-k)/5E3,1)/2}function oa(k){if(16E3<k)return null;var f=Math.pow((16E3-k)/16E3,2.1)/2;return(k<16E3/7?k+10*Math.sin(-k/900)&16:k&13)?f:-f}function pa(k){return 9E4<k?null:(Math.pow(k+1E3*Math.sin(.01*k),.8)&200?.5:-.5)*Math.pow((9E4-k)/9E4,1)/4}var qa=new ha("nbo0risiubv0uisirbs0ui0i0b0c0f0gniojrlsjuivjymvjubv0ui0i0j0m0n0rsgu0vnxnzgx0vnunsg0n0o0n0g0s0o0nrisjulvgufsjufscrbo0ni0j0b0i0j0il`n0ogqgs`u0vgxgz`0gxl0nsouqvsxuuev0u`0`0eq0slulqcs0qcs0qbs0q`s0njo0reseujv0xeveuj0v0e0q0j0i0g0e0cu0scq00bv0ufr0sgn0vbr0xiz0zjr0sgu0vbx0zgx0vbubsg{0zb{`z^{0zi{fzgv0xiu0vjs0ulr0sbn0oll0nbl0jfi0g00bxc0`zb0^{`0]z^0[z]0Zz[0]z^0`zb0]uf0bxi0f{l0izr0ozn0ixr0nrulrnbo0risiufs0r`o0nb0czf0gzi0gzf0cub0i0j0mvn0m0j0irbscrbs`rbs`sbrbo`q0sgugv`x0zg{gz`s0x`s0v`x0vcx0ues0q`l00eu00`x00ev00`u00eq00`o`"),ra=new ha("p0r0sdk0rco0pdk0p0r0sdw0rcs0pdk0p0r0sdk0rck0pdk0p0r0sdw0rcs0pd0f0g0iwg0bwgx0wgurrnspur0bufwgubs0pkrcsdk0rco0pkk0p0r0sdk0rco0pk0l0k0iwg0b0k0g0n0kzs0nxi0f|l0izr0p0n0lwk0dwg0k0p0k|s0pur0kuo0k0i0l0k0isd0krj0kpd0k0p0rsd0krl0opd0f0g0iskw0riw0pgw0nfw0u`s0rbs0pd0k"),y=localStorage,z=0,C=+y.lossst_s||0,sa=C?ra:qa,D=+y.lossst_m||0,ta=+y.lossst_t||0,ua=+y.lossst_M||0,va=0,ba=[],wa=0,v=5,t=0,q=[],w=[],E=[],F=[],G=y.lossst_S=+y.lossst_S||5,H=0,I=0,J=null,K="0",L=[],M=[],xa=0,N=0,O=0,Q=0,R=0,S=0,T=0,ya=+y.lossst_T||0,Aa=0,U=0,V=0,W="",X=h=0;function Ba(){var k;navigator.userAgent.match(/Mac/)&&(iv.className="a");navigator.userAgent.match(/Fire|Edg/)&&(iv.className+=" c",wa=4E3);D&&(iv.className+=" i");b.className=W;C&&!H&&(ie.innerHTML="");cubes=[];doors=[];trees=[];apples=[];hints=[];emoji=[];if("pz"==W)X=40,h=20,puzzles=[[5,,1,,"0000000000000000000000000",16,9]],G=5,C=0;else if("py"==W)h=X=20,puzzles=[eval("["+location.hash.slice(1).replace(/[01]{2,}/g,'"$&"')+"]")],G=puzzles[0][1],puzzles[0][5]=puzzles[0][6]=8,C=!!puzzles[0][3],hints=[["Move: arrow keys<br>"+(C?"Up/Down: "+(D?"\u2b06\ufe0e/\u2b07\ufe0e":"Shift/Ctrl")+"<br>":"")+"backtrack: "+(D?"\u21a9":"Alt")+"<br>Reset: R",1,5,1,0,C,0]],delete y.lossst_ppy0;else if("px"==W){X=40;h=20;trees=[[13,9,0],[7,13,0],[35,8,0]];apples=[[11,11,0,0,0],[2,12,0,6,0],[38,10,0,7,0]];doors=[[41,10,Math.PI/2,8,0,"pA",1,0,10,0,0],[20,-2,0,14,0,"pD",1,10,19,0,0],[-2,11,-Math.PI/2,6,0,"pJ",1,14,5,1,1],[20,21,Math.PI,14,0,"pC",1,22,1,0,0],[5,21,Math.PI,5,0,"pI",1,36,1,0,1]];puzzles=[];cubes=[];for(f=9;15>f;f++)for(m=0;5>m;m++)2==m&&14==f||2==m&&13==f||3==m&&13==f||3==m&&12==f||2==m&&12==f||cubes.push([m,f]);hints=[["Move with<br>arrow keys"+(D?"":" or WASD/ZQSD"),19,5,0,13,0],["Use the "+(D?"\u21a9":"Alt")+" key to backtrack",1,9,0,13,0,1],["Approach red doors with the right length to open them",35,14,0,13,0],["\u2191<br>New puzzles !<hr>Puzzle editor<br>\u2193",19,8,14,0,0],["\u2190<br>New puzzles !",1,9,6,7,1,1]];emoji=[["\ud83d\udc3f\ufe0f",30,7],["\ud83c\udf30\ufe0f",29,7]]}else if("pA"==W)X=40,h=20,trees=[[35,15,0]],apples=[[33,16,0,0,6],[34,17,0,0,6],[37,15,0,0,6]],cubes=[],doors=[[-2,10,-Math.PI/2,8,0,"px",0,39,11,0,0],[35,21,Math.PI,11,0,"pB",1,35,1,0,0]],puzzles=[[6,,0,,"000000001000001110001110001000000000",2,3],[6,,0,,"000000011000011100010000011000000000",14,3],[6,,0,,"000000000100001100011000011100000000",26,3],[5,,0,,"0000001110011100110000000",2,13],[6,,0,,"000000011000011000001100001100000000",14,13],[6,,0,,"000000000100001100001110001100000000",26,13]],hints=[["Cover the black patterns to solve puzzles",9,9,1,0],["Solve all the puzzles in the room to unlock a new door",21,9,1,0],["Your progress is saved automatically",34,9,1,0]],emoji=[["\ud83d\udc0c",11,10]];else if("pB"==W)D&&(kx.className="",y.lossst_r=1),X=40,h=20,trees=[[4,7,0]],apples=[[1,8,0,0,12],[2,9,0,0,12]],doors=[[35,-2,0,8,0,"pA",0,35,19,0,0],[-2,10,-Math.PI/2,13,0,"pC",1,39,10,0,0]],puzzles=[[6,,0,,"000000011110011010011110000000000000",8,2],[7,,0,,"0000000001110000111000001100000110000010000000000",18,2],[6,,0,,"000000011000011110001010001110000000",28,2],[6,,0,,"000000011100001110001110001100000000",8,12],[6,,0,,"000000001110001110001110001010000000",18,12],[6,,0,,"000000011110011110001100001000000000",28,12]],hints=[["If you get stuck, "+(D?"click \u00d7":"press R")+" to exit a puzzle",35,11,1,0]],cubes=[[11,4],[21,16]],emoji=[["\ud83d\udc08",4,14]];else if("pC"==W)X=40,h=20,trees=[[35,8,0]],apples=[[34,11,0,0,18]],doors=[[41,10,Math.PI/2,8,0,"pB",0,1,10,0,0],[22,-2,0,14,0,"px",1,20,19,0,0]],puzzles=[[7,,0,,"0000000000000001111000111100001111000100000000000",2,3],[7,,0,,"0000000001110000101000011100001110000110000000000",26,3],[6,,0,,"000000001110011110011010001110000000",14,3],[7,,0,,"0000000001100000111000011100001110000110000000000",2,12],[7,,0,,"0000000000000001111100101010011111000000000000000",14,12],[6,,0,,"000000011000011100011110011110000000",26,12]],hints=[["\u2191<br>After this room, you can try a puzzle editor and a new kind of puzzles !",22,11,13,0,0]],cubes=[[29,5],[30,8],[17,6],[15,4],[15,7],[29,13],[30,13],[30,14],[18,15],[16,15],[6,13],[6,17],[7,8],[6,8],[5,8],[3,7],[3,8],[7,6],[7,5]],emoji=[["\ud83e\udd8b<br><br>",29,13]];else if("pD"==W){h=X=20;trees=[[10,2,0]];doors=[[10,21,Math.PI,14,0,"px",0,20,0,0,0],[-2,5,-Math.PI/2,14,0,"pE",0,24,12,0,0]];puzzles=[[7,,1,,"0100010011111000000000000000000000001111100100010",7,7]];hints=[["Now you're thinking with wraps !",2,2,0,14,0]];for(f=0;20>f;f++)cubes.push([f,10]);emoji=[["\ud83d\udc10",12,2]]}else if("pE"==W)h=X=25,trees=[[5,12,0]],apples=[[4,14,0,0,23]],doors=[[26,12,Math.PI/2,14,0,"pD",0,0,5,0,0],[-2,12,-Math.PI/2,15,0,"pF",1,79,5,0,0]],puzzles=[[7,,1,,"1000001000000000000000010100011011011000111000001",3,3],[6,,1,,"110011100001000000100001100001110011",15,17],[5,,1,,"1100111001100011001110011",16,4],[6,,1,,"000011000011110001110001000011000011",3,17]],hints=[["Reminder:<br>use "+(D?"\u21a9":"Alt")+" to backtrack,<br>"+(D?"\u00d7":"R")+" to exit a puzzle.",11,14,1,0,0]],emoji=[["\ud83d\udc12",12,20]];else if("pF"==W)X=80,h=20,trees=[[35,10,0]],apples=[[38,11,0,0,35]],doors=[[81,5,Math.PI/2,15,0,"pE",0,0,12,0,0],[-2,15,-Math.PI/2,16,0,"pG",1,19,5,0,0]],puzzles=[[5,,1,,"0111101001010110100011111",59,13],[5,,1,,"1111011000111100001011110",48,13],[5,,1,,"1111101000011110111001100",37,13],[5,,1,,"1111110000111001000011111",26,13],[5,,1,,"1100101101001110011101101",15,13],[5,,1,,"1111100001110010000111111",59,2],[5,,1,,"1000110111100011000111111",48,2],[5,,1,,"1000110101101011111110001",37,2],[5,,1,,"1111110001000110000111111",26,2],[5,,1,,"0111101100011100011011110",15,2],[5,,1,,"1111101111001110001100001",4,8],[5,,1,,"1010100101111010000111111",71,8]],hints=[["This room hides a surprise !",72,2,0,15,0],["\u2190<br>Exit",38,9,16,0,0]],cubes=[],emoji=[];else if("pG"==W)X=20,h=30,trees=[[5,25,0]],apples=[[4,24,0,0,37],[7,25,0,0,37],[2,26,0,0,37],[3,28,0,0,37]],doors=[[21,5,Math.PI/2,16,0,"pF",0,1,15,0,0],[10,31,Math.PI,20,0,"pH",1,10,1,0,0]],puzzles=[[6,,1,,"001000001110111111011100011000001000",7,6],[6,,1,,"110001100001000111000111100001110001",7,18]],emoji=[["\ud83d\udc01",9,14]];else if("pH"==W)X=20,h=30,trees=[[16,22]],apples=[[18,22,0,0,39]],doors=[[10,-2,0,18,0,"pG",0,10,29,0,0],[21,25,Math.PI/2,21,0,"pI",1,1,10,0,0]],puzzles=[[6,,1,,"001000011110111111011110011110001000",7,6],[6,,1,,"110001100001000011000111001111111111",7,18]],emoji=[["\ud83e\udd86",9,14]];else if("pI"==W){X=40;h=20;apples=[[38,2,0,5,0]];doors=[[-2,10,-Math.PI/2,1,0,"pH",0,19,25,0,0],[36,-2,0,6,0,"px",1,5,19,0,1]];puzzles=[];hints=[["Guess what, you finished the first half of the game !",5,9,1,0],["You can now move up and down with "+(D?"\u2b06\ufe0e and \u2b07\ufe0e":"Shift and Ctrl keys")+", and open black doors",30,11,1,0]];for(f=0;9>f;f++)cubes.push([30,f]);for(f=30;40>f;f++)cubes.push([f,8]);emoji=[["\ud83d\udc22",13,14]];trees=[[3,1],[15,2],[36,3],[26,5],[25,15],[33,9],[10,12],[36,14],[3,15]]}else"pJ"==W?(X=15,h=70,trees=[[2,62]],apples=[[2,65,0,0,47],[1,66,0,0,47]],doors=[[16,5,Math.PI/2,6,0,"px",0,1,11,0,1],[-2,65,-Math.PI/2,8,0,"pK",1,19,65,0,1]],puzzles=[[5,,0,"0000000000000000000001110",,2,2],[4,,0,"0000000001000110",,4,11],[5,,0,"0000000000000000101001110",,6,20],[5,,0,"0000000000000000111000100",,8,29],[4,,0,"0000000001100110","0000011001100000",2,38],[4,,0,"0000010001100100","0000011001100000",4,47],[4,,0,"0000011001000100","0000010001100000",6,56],[4,,0,"0000000001100110","0100011000100000",8,65]],hints=[["You now have to match the patterns on the walls...",10,2,1,0,1],["... and on the floor too !",10,40,1,0,1]],emoji=[["\ud83e\udd89",10,14]]):"pK"==W?(D&&(ky.className=kz.className="",y.lossst_c=1),X=20,h=75,trees=[[2,2]],apples=[[1,4,0,0,59],[2,5,0,0,59],[3,6,0,0,59],[4,2,0,0,59]],doors=[[21,65,Math.PI/2,7,0,"pJ",0,1,65,0,1],[-2,5,-Math.PI/2,12,0,"pL",1,14,5,0,1]],puzzles=[[5,,0,"0000000000010000110001110",,8,69],[6,,0,"000000000000000000000100001110011000",,12,58],[5,,0,"0000000000010000111001000",,2,58],[4,,0,"0000001001100110","0000001001100000",2,45],[5,,0,"0000000000000000010001110","0000000100001100110000000",12,45],[5,,0,"0000000000000000101001110","0000001110010100000000000",2,34],[5,,0,"0000000000000000011001100","0000001110011000010000000",12,34],[4,,1,"0000011001100110","0110000000000110",2,22],[4,,1,"1001000000001001","1001000000001001",12,22],[4,,1,"0000010011110010","0000111101100000",2,12],[4,,1,"0110010000000011","0000011100110000",12,12],[4,,1,"1101000000000001","1101000000010001",12,2]],hints=[["You can rotate the camera with "+(D?"<br>\u21bb and \u21ba":"the keys 1, 2 and 3"),15,68,1,0,1],["Can you guess what's coming next?",7,54,1,0,1],["3D puzzles with wrap ! Use "+(D?"\u2b06\ufe0e and \u2b07\ufe0e":"Shift and Ctrl")+" to wrap between top and bottom",7,24,1,0,1]],emoji=[["\ud83d\udc1e",3,70]]):"pL"==W?(X=15,h=80,trees=[[2,70]],apples=[[1,73,0,0,68],[3,75,0,0,68]],doors=[[16,5,Math.PI/2,12,0,"pK",0,1,5,0,1],[-2,75,-Math.PI/2,14,0,"pM",1,14,25,0,1]],puzzles=[[5,,0,"0000000000001001111100100",,2,2],[4,,0,"0000010001100000",,5,11],[5,,0,"0000000110000110111000010",,8,20],[5,,0,"0000000000001000111011111","0000000000111001111100000",2,29],[4,,0,"1000110011101111","0000001111110000",5,38],[4,,0,"0000100011001110","1110110010000000",8,45],[4,,1,"1000100110010001","0000100110010000",2,54],[4,,1,"0000001011110100","0000110011110011",5,63],[5,,1,"0100011000010000111001000","0000001110110000100000000",8,72]],cubes=[[6,12]],emoji=[["\ud83d\udc1d",3,20]]):"pM"==W?(X=15,h=30,trees=[[10,12]],apples=[[8,11,0,0,71],[9,10,0,0,71],[10,9,0,0,71],[11,10,0,0,71],[12,11,0,0,71],[7,12,0,0,71]],doors=[[16,25,Math.PI/2,14,0,"pL",0,1,75,0,1],[-2,5,-Math.PI/2,20,0,"pN",1,14,5,0,1]],puzzles=[[5,,1,"0001100110011001100010000","0001100110011001100010000",2,24],[5,,1,"1100010001000011000111000","0000011000110010000000000",4,13],[5,,1,"1101110001000001000011000","1100010000000001000111011",6,2]],emoji=[["\ud83d\udc13",1,14]]):"pN"==W&&(X=15,h=48,trees=[[10,44]],apples=[[7,45,0,0,75]],doors=[[16,5,Math.PI/2,20,0,"pM",0,1,5,0,1]],puzzles=[[4,,1,"0000111101101111","1000111111111000",5,38],[4,,1,"1111001001001111","1111101010101111",5,28],[4,,1,"1111010101011101","0001101101101111",5,18],[4,,1,"1111000100011110","1111110110011111",5,8]],emoji=[["\ud83d\udc09",13,46]]);a.style.width=X*v+"vh";a.style.height=h*v+"vh";H||(ig.innerHTML="");ih.innerHTML="";for(var f in trees)ig.innerHTML+="<div id=tree"+f+' class="j tr"style=left:'+trees[f][0]*v+"vh;transform:translateX(-7vh)translateY("+(trees[f][1]*v+4)+"vh)rotateX(-70deg)>\ud83c\udf33</div><div id=treeshadow"+f+' class="e h"style=left:'+trees[f][0]*v+"vh;transform:translateX(-7.5vh)translateY("+(trees[f][1]*v+3.5)+"vh)rotateZ(144deg)scaleY(1.5)>\ud83c\udf33";for(f in apples)y["lossst_a"+W+f]?delete apples[f]:ig.innerHTML+="<div id=a"+f+' class="j g '+(y["lossst_A"+W+f]?"":"h")+'"style=left:'+apples[f][0]*v+"vh;transform:translateY("+(apples[f][1]*v+4)+"vh)rotateX(-65deg)>"+("pN"==W?"<div>\u26bd</div>":"<div class=m>\ud83c\udf4e</div>")+"</div><div id=as"+f+' class="e p '+(y["lossst_A"+W+f]?"":"h")+'"style=left:'+apples[f][0]*v+"vh;transform:scaleX(-1)translateY("+(apples[f][1]*v+3)+"vh)rotateZ(212deg)>"+("pN"==W?"\u26bd":"\ud83c\udf4e");for(f in emoji)ig.innerHTML+='<div class="j n"style=left:'+(emoji[f][1]*v-1)+"vh;transform:translateY("+(emoji[f][2]*v+4)+"vh)rotateX(-65deg)><div class=m>"+emoji[f][0];for(f in doors)ig.innerHTML+="<div id=d"+(""+W+f)+' class="do'+(y["lossst_d"+W+f]?" s":"")+'"style=left:'+(doors[f][0]+.5)*v+"vh;top:"+(doors[f][1]+.5)*v+"vh;transform:rotateZ("+doors[f][2]+"rad)translateZ("+doors[f][9]*v+'vh)><div class="y d'+doors[f][10]+'"'+(doors[f][6]?"":"hidden")+">"+doors[f][3]+'</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh">';for(var n in puzzles)for(var m in cubes)y["lossst_p"+W+n]&&cubes[m][0]>=puzzles[n][5]&&cubes[m][0]<puzzles[n][5]+puzzles[n][0]&&cubes[m][1]>=puzzles[n][6]&&cubes[m][1]<puzzles[n][6]+puzzles[n][0]&&delete cubes[m];for(f in cubes)ig.innerHTML+="<div id=cube"+f+' class="z x"style=left:'+cubes[f][0]*v+"vh;top:"+cubes[f][1]*v+'vh;width:5vh;height:5vh><div class=f></div><div class=u style="background-position:'+(-300-cubes[f][0]*v)+"vh "+(-140-cubes[f][1]*v)+'vh"></div><div class=r></div><div class=l></div><div class=b>';for(f in hints)C^hints[f][5]||!(hints[f][3]&&hints[f][3]<=G||hints[f][4]&&hints[f][4]>=G)||(ig.innerHTML+="<div id=h"+(""+W+f)+" class=t style=left:"+hints[f][1]*v+"vh;transform:translateY("+(hints[f][2]*v+5)+"vh)translateZ("+(hints[f][6]*v||0)+"vh)rotateX(-70deg)translateY(-4vh)>"+hints[f][0]);y.lossst_x&&top.hpx0&&(hpx0.style.opacity=1);for(n in puzzles){T=puzzles[n][0];var A=k="";ih.innerHTML+="<div id=puzzle"+n+' class="z q v '+(puzzles[n][2]&&!y["lossst_p"+W+n]?"w":"")+'"style=left:'+puzzles[n][5]*v+"vh;top:"+puzzles[n][6]*v+"vh;width:"+puzzles[n][0]*v+"vh;height:"+T*v+"vh>"+(puzzles[n][2]?"<div class=l></div><div class=r></div>":"")+"<div id=D"+n+" class=d></div><div id=B"+n+" class=b></div>"+(puzzles[n][2]?"<div class=f>":"");var P="000",aa="fff";y["lossst_p"+W+n]&&(P="44c",aa="fd0",puzzles[n][2]=0);for(f=0;f<T;f++)for(m=0;m<T;m++)puzzles[n][3]&&(k+="<div class=o id=w"+n+f+m+" style=width:"+v+"vh;height:"+v+"vh;background:#"+("1"==puzzles[n][3][f*T+m]?P:aa)+"></div>"),puzzles[n][4]&&(A+="<div class=o id=g"+n+f+m+" style=width:"+v+"vh;height:"+v+"vh;background:#"+("1"==puzzles[n][4][f*T+m]?P:aa)+"></div>");top["D"+n]&&(top["D"+n].innerHTML+=A);top["B"+n]&&(top["B"+n].innerHTML+=k)}"pN"==W&&(ig.innerHTML+="<div style='position:fixed;transform:"+(D?"rotateZ(-90deg)translateX(-87vh)translateY(22vh)translateZ(365vh)":"rotateZ(-90deg)translateX(-83vh)translateY(6vh)translateZ(208vh)")+";font: 30vh/25vh a'>THE<br><br>END");H&&(y.lossst_e||y.lossst_s&&6<y.lossst_S||(ik.style.opacity=im.style.opacity=0,ik.style.position=im.style.position="fixed",ik.style.top=im.style.top="-9vh"),J=0,Y(1),xa=1,Q=O=N=0,puzzles[0][2]=0,setTimeout(function(){(ib.onchange=ib.oninput=resetgrid=function(){Ca();Y();ij.disabled=1;gridval.innerHTML=T=+ib.value;puzzle0.style.width=puzzle0.style.height=T*v+"vh";puzzles[0][0]=T;D0.innerHTML="";A=k=B0.innerHTML="";M=[];L=[];for(f=0;f<T;f++)for(M[f]=[],L[f]=[],m=0;m<T;m++)M[f][m]=0,L[f][m]=0;for(f=0;f<T;f++)for(m=0;m<T;m++)k+="<div class=o id=w"+K+f+m+" style=width:"+v+"vh;padding-top:"+v+"vh></div>",A+="<div class=o id=g"+K+f+m+" style=width:"+v+"vh;padding-top:"+v+"vh></div>";xa&&(D0.innerHTML+=A);N&&(B0.innerHTML+=k)})();iq.onchange=iq.oninput=function(){it.innerHTML=G=+iq.value;Ca();Y()};ik.onclick=function(){ik.checked?xa=1:top.wall&&(xa=0,C=N=1,wall.checked=!0);a.className=N?"haswall":"";resetgrid()};top.wall&&(wall.onclick=function(){wall.checked?(N=1,C=puzzles[0][3]=1):(N=C=0,xa=1,ik.checked=!0,puzzles[0][3]=0);a.className=N?"haswall":"";resetgrid()});top.wrap&&(wrap.onclick=function(){O=puzzles[0][2]=wrap.checked||0;puzzle0.className="z q v "+(O?"w":"");resetgrid()});print=function(k){var n="";for(f=0;f<T;f++)for(m=0;m<T;m++)n=top[k+"0"+f+m].style.background&&top[k+"0"+f+m].style.background.match(/255/)?n+0:n+1;return n};ij.onclick=function(){var f=[];f.push(T);f.push(G);f.push(O?1:0);f.push(N?print("w"):"");f.push(ik.checked?print("g"):"");open("//twitter.com/intent/tweet?text=I%20made%20a%20level%20for%20@MaximeEuziere's%20%23js13k%20game%20LOSSST!%0APlay%20here:%20js13kgames.com%2Fentries%2Flossst%0AMy%20level:%20js13kgames.com%2Fgames%2Flossst%23"+f+"%0A%23LOSSSTlevels")}},100));"px"!=W||y.lossst_x?(a.style.transition="transform 1s,transform-origin 1s",Ca()):(I=1,setTimeout(function(){Ca();Y();M0.style.transition="transform .5s"},2E3),setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(0);F.push(F[t]);t++;Y()},5500+wa),setTimeout(function(){M0.style.transition="";R0.style.transition="transform .2s";R0.style.transform="rotateZ("+-Math.PI/4+"rad)"},6500+wa),setTimeout(function(){R0.style.transform="rotateZ("+Math.PI/4+"rad)"},7E3+wa),setTimeout(function(){R0.style.transform=""},7500+wa),setTimeout(function(){S0.style.transition=R0.style.transition=""},8E3+wa),setTimeout(function(){clearInterval(x);z||(I=0);hpx0.style.opacity=1},8400),setTimeout(function(){a.style.transition="transform 1s,transform-origin 1s";y.lossst_x=20;y.lossst_y=10;b.innerHTML+="<div style='position:fixed;font:8vh a;top:3vh;right:3vh'onclick=location='index.html'>\u00d7";D&&(kU.className=kD.className=kL.className=kR.className="",y.lossst_w=1)},9E3));Y()}function Ca(){var k=C&&!H?ia:ie;k.innerHTML="";q=[];w=[];E=[];F=[];t=G-1;if("py"==W)for(i=0;i<G;i++)q[t-i]=1-i,w[t-i]=10,E[t-i]=0,F[t-i]=-Math.PI/2;else if(H)for(i=0;i<G;i++)q[t-i]=13-i,w[t-i]=12,E[t-i]=0,F[t-i]=-Math.PI/2;else if(y.lossst_x){var f=+y.lossst_x,n=+y.lossst_y,m=+y.lossst_z;"px"==W&&2>y.lossst_x&&(m=y.lossst_z=1);if("pI"==W&&z&&1==C)for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i-1,F[t-i]=0;else if(2>f)for(i=0;i<G;i++)q[t-i]=f-i,w[t-i]=n,E[t-i]=m,F[t-i]=-Math.PI/2;else if(f>X-2)for(i=0;i<G;i++)q[t-i]=f+i,w[t-i]=n,E[t-i]=m,F[t-i]=Math.PI/2;else if(2>n)for(i=0;i<G;i++)q[t-i]=f,w[t-i]=n-i,E[t-i]=m,F[t-i]=0;else if(n>h-2)for(i=0;i<G;i++)q[t-i]=f,w[t-i]=n+i,E[t-i]=m,F[t-i]=0;else for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i,F[t-i]=0}else if("px"==W)for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i-1,F[t-i]=0;for(i=0;i<Math.max(G+4,16);i++)k.innerHTML+="<div id=M"+i+" class=sm style=transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:"+(v-.7)+"vh;height:"+(v-.7)+"vh><div class=ss id=S"+i+"></div><div id=R"+i+' class=sr><div class="z k"id=T'+i+">"+(1>i?"<div style=background:none;box-shadow:none;color:red;font-size:4vh;text-align:center;transform:rotateZ(180deg)translateY(-4vh)translateZ(1.5vh)>Y</div>":"")+'<div class=u style="font:'+.5*v+"vh/"+.8*v+'vh a">'+(1>i?"\ud83d\udc40":"")+"</div><div class=f>"+(1>i?"\u203f":"")+"</div><div class=r></div><div class=l></div><div class=b>"}function Y(k){for(var f={a:0};f.a<G;f={a:f.a,j:f.j,m:f.m,o:f.o},f.a++)if(!k){var n=oldx=oldy=oldz=newx=newy=newz=0;O&&T&&(q[t-f.a-1]==R&&q[t-f.a]==R+T-1?(n=1,oldx=R-1,newx=R+T,oldy=newy=w[t-f.a],oldz=newz=E[t-f.a]):q[t-f.a-1]==R+T-1&&q[t-f.a]==R?(n=1,oldx=R+T,newx=R-1,oldy=newy=w[t-f.a],oldz=newz=E[t-f.a]):w[t-f.a-1]==S&&w[t-f.a]==S+T-1?(n=1,oldy=S-1,newy=S+T,oldx=newx=q[t-f.a],oldz=newz=E[t-f.a]):w[t-f.a-1]==S+T-1&&w[t-f.a]==S?(n=1,oldy=S+T,newy=S-1,oldx=newx=q[t-f.a],oldz=newz=E[t-f.a]):0==E[t-f.a-1]&&E[t-f.a]==T-1?(n=1,oldz=-1,newz=T,oldx=newx=q[t-f.a],oldy=newy=w[t-f.a]):E[t-f.a-1]==T-1&&0==E[t-f.a]&&(n=1,oldz=T,newz=-1,oldx=newx=q[t-f.a],oldy=newy=w[t-f.a]));if(n)top["R"+f.a].style.transform="rotateZ("+F[t-f.a]+"rad)",top["M"+f.a].style.transform="translateX("+(oldx*v+.5)+"vh)translateY("+(oldy*v+.5)+"vh)translateZ("+(oldz*v+.5)+"vh)scale(.01)scaleZ(.01)",setTimeout(function(f){return function(){top["M"+f.a].style.transition="none"}}(f),90),f.j=newx,f.m=newy,f.o=newz,setTimeout(function(f){return function(){top["M"+f.a].style.transform="translateX("+(f.j*v+.5)+"vh)translateY("+(f.m*v+.5)+"vh)translateZ("+(f.o*v+.5)+"vh)scale(.01)"}}(f),100),setTimeout(function(f){return function(){top["M"+f.a].style.transition="";top["M"+f.a].style.transform="translateX("+(q[t-f.a]*v+.25)+"vh)translateY("+w[t-f.a]*v+"vh)translateZ("+(E[t-f.a]*v+.5)+"vh)"}}(f),150);else try{top["M"+f.a].style.transform="translateX("+(q[t-f.a]*v+.25)+"vh)translateY("+w[t-f.a]*v+"vh)translateZ("+(E[t-f.a]*v+.5)+"vh)",top["R"+f.a].style.transform="rotateZ("+F[t-f.a]+"rad)"}catch(A){}try{top["S"+f.a].style.display=0==E[t-f.a]?"":"none"}catch(A){}}H?a.style.transform="translateX(-100vh)translateY(-37vh)translateZ(-5vh)rotateX(33deg)":null===J||y["lossst_p"+W+J]?(a.style.transform="translateX("+-q[t]*v+"vh)translateY("+-w[t]*v+"vh)translateZ(45vh)rotateX(40deg)rotateZ("+g+"rad)",a.style.transformOrigin=""+q[t]*v+"vh "+w[t]*v+"vh"):(a.style.transform="translateX("+(-(R+puzzles[J][0]/2)*v+5)+"vh)translateY("+(-(S+puzzles[J][0]/2)*v+8)+"vh)translateZ("+(90-puzzles[J][0]*(v+3))+"vh)rotateX(30deg)rotateZ("+g+"rad)",a.style.transformOrigin=""+((R+puzzles[J][0]/2)*v+5)+"vh "+((S+puzzles[J][0]/2-1)*v+8)+"vh");f=C?1:0;for(k=0;k<G;k++){if(0>=E[t-k]){f=0;break}for(m in cubes)cubes[m][0]==q[t-k]&&cubes[m][1]==w[t-k]&&1==E[t-k]&&(f=0)}if(f){for(k=0;k<G;k++)E[t-k]--;try{Y()}catch(A){for(var m=2*G;m--;)q.pop(),w.pop(),E.pop(),F.pop(),t--;Aa=0;Y()}}f=q[t];n=w[t];for(k in doors)(doors[k][10]&&C||!doors[k][10]&&!C)&&top["d"+W+k]&&0<doors[k][3]&&G>=doors[k][3]&&4>Math.hypot(f-doors[k][0],n-doors[k][1])&&!y["lossst_d"+W+k]&&(top["d"+W+k].className="do s",!doors[k][6]||"px"==W&&2<k||ja(pa).play(),y["lossst_d"+W+k]=1),top["d"+W+k]&&"do s"==top["d"+W+k].className&&2>Math.hypot(f-doors[k][0],n-doors[k][1])&&(y.lossst_p=W=doors[k][5],setTimeout(Ba,600),y.lossst_x=doors[k][7],y.lossst_y=doors[k][8],y.lossst_z=0);null!==J&&Da();H||(J=null);H||(L=[],M=[]);for(p in puzzles)if(f>=puzzles[p][5]&&f<puzzles[p][5]+puzzles[p][0]&&n>=puzzles[p][6]&&n<puzzles[p][6]+puzzles[p][0]){J=+p;Q=0;y["lossst_p"+W+p]&&(Q=1);K=p;xa=!!puzzles[p][4];N=!!puzzles[p][3];O=!!puzzles[p][2];R=puzzles[p][5];S=puzzles[p][6];T=puzzles[p][0];for(k=0;k<T;k++)for(L[k]=[],M[k]=[],m=0;m<T;m++)puzzles[p][3]&&(M[k][m]=+puzzles[p][3][k*puzzles[p][0]+m]),puzzles[p][4]&&(L[k][m]=+puzzles[p][4][k*puzzles[p][0]+m]);Da()}}function Z(k,f,n){V=0;if(0>k||k>=X||0>f||f>=h)V=1;for(var m in trees)k>=trees[m][0]-1&&k<=trees[m][0]&&f==trees[m][1]&&3>E[t]&&(V=1);for(m in hints)k>=hints[m][1]&&k<=hints[m][1]+3&&f==hints[m][2]&&G>=hints[m][3]&&(!hints[m][4]||G<=hints[m][4])&&(C&&hints[m][5]||!C&&!hints[m][5])&&(V=1);for(m in apples)if(y["lossst_A"+W+m]&&k==apples[m][0]&&f==apples[m][1]&&0==E[t])if(ja(ka).play(),"pN"==W){x=setInterval(sa.forward,150);y.lossst_E=1;setTimeout(function(){I=1;as0.remove();a0.style.transform="translateY(319vh)translateZ(2vh)rotateX(-65deg)rotateY(90deg)";a0.style.transition=a.style.transition="10s";a0.style.transform="translateY(15vh)translateZ(2vh)rotateX(-65deg)";a.style.transform=D?"translateX(-133vh)translateY(-249vh)translateZ(-373vh)rotateZ(90deg)":"translateX(-141vh)translateY(-227vh)translateZ(-185vh)rotateZ(90deg)"},200);var A={},P;for(P in puzzles)A.g=P,setTimeout(function(f){return function(){top["B"+f.g].style.transition=".5s";top["B"+f.g].style.transform="translateY(-125%)"}}(A),[1450,2500,3800,5400][A.g]),A={g:A.g};setTimeout(function(){clearInterval(va);y.lossst_E=1;y.lossst_e=1;b.style.background="#000";y.lossst_s=0;b.innerHTML="<div id=iv style=perspective:90vh><center id=menu style=width:75vh;transform:translateX(-38vh)translateY(-35vh)rotateX(-28deg)><span style=font-size:4vh;line-height:5vh><h1>Congrats!</h1><br>You completed the game in<br>"+ta+" seconds and "+ua+" moves!<br><br><a href=//twitter.com/intent/tweet?text=I%20played%20LOSSST,%20a%20%23js13k%20game%20by%20by%20@MaximeEuziere%0Amy%20score:%20"+ta+"%20seconds%20and%20"+ua+"%20moves!%0Ajs13kgames.com%2Fentries%2Flossst target=_blank style=color:#def;font-size:4vh>TWEET YOUR SCORE</a><br><br>Dev record:<br>854 seconds, 2452 moves<br><br>3D puzzle editor unlocked!<br><br><a href=. style=font-size:4vh>MAIN MENU"},15E3);n=document.querySelectorAll(".o");A={};for(var aa in n){A.h=aa;try{2==n[A.h].style.backgroundColor.match(/68/g).length&&setTimeout(function(f){return function(){top[n[f.h].id].style.background="#a00"}}(A),8E3+10*A.h)}catch(na){}A={h:A.h}}}else if(delete apples[m],top["a"+m].remove(),top["as"+m].remove(),G++,y.lossst_S=G,y["lossst_a"+W+m]=1,"pF"==W&&16==G){I=1;x=setInterval(sa.forward,150);z=1;a.style.transition="5s";a.style.transform="translateX(-180vh)translateY(-53vh)translateZ("+(D?-422:-180)+"vh)rotateZ(180deg)";setTimeout(function(){a.style.transition="1s";I=z=0;Y();ig.innerHTML+="<div class=t style=left:190vh;transform:translateY(50vh)rotateX(-55deg)translateY(-4vh)>\u2190<br>Exit";clearInterval(x)},1E4);n=document.querySelectorAll(".o");A={};for(var ea in n){A.f=ea;try{n[A.f].id.match(/g\d\d\d$/)&&2==n[A.f].style.backgroundColor.match(/68/g).length&&setTimeout(function(f){return function(){top[n[f.f].id].style.background="#a00"}}(A),5500+10*A.f)}catch(na){}A={f:A.f}}}for(m in cubes)k==cubes[m][0]&&f==cubes[m][1]&&0==n&&(V=1);for(m in emoji)"pC"!=W&&k==emoji[m][1]&&f==emoji[m][2]&&0==n&&(V=1);for(m in doors)top["d"+W+m]&&"do s"==top["d"+W+m].className&&2>=Math.hypot(k-doors[m][0],f-doors[m][1])&&(V=0);hitcube2=0;for(m=G-2;0<m;m--)q[t-m]==k&&w[t-m]==f&&E[t-m]==n&&(V=1,1==m&&(hitcube2=1));for(p in puzzles)puzzles[p][3]&&k>=puzzles[p][5]&&k<puzzles[p][5]+puzzles[p][0]&&(f==puzzles[p][6]-1&&w[t]==puzzles[p][6]&&!puzzles[p][2]||f==puzzles[p][6]&&w[t]==puzzles[p][6]-1)&&(V=1);if("pI"==W&&18==k&&!C){z=C=V=I=1;clearInterval(x);sa=ra;_=$=0;x=setInterval(ra.forward,250);y.lossst_s=1;y.lossst_S=G=5;for(k=0;21>k;k++)cubes.push([q[t-k],w[t-k]]),top["M"+k].id="",top["R"+k].id="",top["S"+k].id="",top["T"+k].id="";a.style.transition="2s";Ca();Y();a.style.transform="translateX(-105vh)translateY(-51vh)translateZ(80vh)rotateX(45deg)";a.style.transformOrigin="140vh 70vh";setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(0);F.push(F[t]);t++;Y()},3E3);setTimeout(function(){ii.innerHTML="Daddy!"},4E3);setTimeout(function(){ii.innerHTML=""},6E3);setTimeout(function(){ii.innerHTML="I lossst my soccer ball!"},7E3);setTimeout(function(){ii.innerHTML=""},9E3);setTimeout(function(){ii.innerHTML="But I found new moves!"},1E4);setTimeout(function(){ii.innerHTML="";z=I=0;clearInterval(x);a.style.transition="1s";Y();Ea();D&&(kT.className=kB.className="",y.lossst_B=1)},13500)}}function Da(){if(!Q&&null!==J){solved=1;H&&(ij.disabled=0);for(i=0;i<T;i++)for(j=0;j<T;j++)try{top["g"+K+i+j]&&(top["g"+K+i+j].style.background=L[i][j]?"#000":"#fff"),top["w"+K+i+j]&&(top["w"+K+i+j].style.background=M[i][j]?"#000":"#fff")}catch(m){}if(q[t]<R||q[t]>R+T-1||w[t]<S||w[t]>S+T-1||0>E[t]||E[t]>T-1)H&&(ij.disabled=1);else{for(i=0;i<G;i++){top["g"+K+(w[t-i]-S)+(q[t-i]-R)]&&(top["g"+K+(w[t-i]-S)+(q[t-i]-R)].style.background=L[w[t-i]-S][q[t-i]-R]?"#080":H?"#44c":"#f00");w[t-i]>=S&&w[t-i]<S+T&&top["w"+K+(T-1-E[t-i])+(q[t-i]-R)]&&(top["w"+K+(T-1-E[t-i])+(q[t-i]-R)].style.background=M[T-1-E[t-i]][q[t-i]-R]?"#080":H?"#44c":"#f00");if(q[t-i]<R||q[t-i]>R+T-1||w[t-i]<S||w[t-i]>S+T-1||E[t-i]>T-1)H&&(ij.disabled=1),solved=0;xa&&L[w[t-i]-S]&&!L[w[t-i]-S][q[t-i]-R]&&(solved=0);N&&M[T-1-E[t-i]]&&!M[T-1-E[t-i]][q[t-i]-R]&&(solved=0)}for(i=0;i<T;i++)for(j=0;j<T;j++){try{xa&&3==top["g"+K+i+j].style.backgroundColor.match(/0/g).length&&(solved=0)}catch(m){}try{N&&3==top["w"+K+i+j].style.backgroundColor.match(/0/g).length&&(solved=0)}catch(m){}}if(solved){Q=H?0:1;puzzles[J][2]=0;top["puzzle"+J].classList.remove("w");H||(y["lossst_p"+W+J]=1);for(i=0;i<T;i++)for(j=0;j<T;j++){try{top["g"+K+i+j].style.background=L[i][j]?"#44c":"#fd0"}catch(m){}try{top["w"+K+i+j].style.background=M[i][j]?"#44c":"#fd0"}catch(m){}}H||(ja(oa).play(),ya++,y.lossst_T=ya);var k=1,f={},n;for(n in cubes)f.b=n,cubes[f.b][0]>=puzzles[J][5]&&cubes[f.b][0]<puzzles[J][5]+puzzles[J][0]&&cubes[f.b][1]>=puzzles[J][6]&&cubes[f.b][1]<puzzles[J][6]+puzzles[J][0]&&(delete cubes[f.b],k++,setTimeout(function(f){return function(){top["cube"+f.b].remove()}}(f),200*k)),f={b:f.b}}}}}function Ea(){for(var k in apples)if(!y["lossst_A"+W+k]&&(0<apples[k][3]&&apples[k][3]==G||0<apples[k][4]&&apples[k][4]==ya)){I=1;D&&"px"==W&&1==k&&(kw.className="",y.lossst_b=1);var f=setTimeout;a.style.transform="translateX("+-apples[k][0]*v+"vh)translateY("+-apples[k][1]*v+"vh)translateZ(50vh)rotateX(35deg)";y["lossst_A"+W+k]=1;a.style.transformOrigin=""+apples[k][0]*v+"vh "+apples[k][1]*v+"vh";f(void 0,250);f=setTimeout;top["a"+k].className="j g";top["as"+k].className="e p";f(void 0,800);setTimeout(function(){ja(la).play()},850);setTimeout(function(){Y();z||(I=0)},2E3)}}function Fa(){U=0;H||(J=null);for(p in puzzles)q[t]>=puzzles[p][5]&&q[t]<puzzles[p][5]+puzzles[p][0]&&w[t]>=puzzles[p][6]&&w[t]<puzzles[p][6]+puzzles[p][0]&&0<=E[t]&&E[t]<puzzles[p][0]&&(J=+p,U=1)}onkeydown=function(k){top["lurd************************l**r************l*d***u**u"[k.which-37]]=1;18==k.which&&(B=1);16==k.which&&(s=1);17==k.which&&(c=1);if(!I){if(49==k.which||97==k.which)-1<g&&g--,ca();if(50==k.which||98==k.which)g=0,ca();if(51==k.which||99==k.which)1>g&&g++,ca()}Fa();U?Da():Aa=0;if(82==k.which&&U){if(Aa<=t)for(var f=Aa;f<=t;f++)q.pop(),w.pop(),E.pop(),F.pop(),setTimeout(function(){sa.back()},70*(t-f));t=Aa-1;Aa=0;Y();Da();y.lossst_M=++ua}else if(116!=k.which&&82!=k.which&&17!=k.which&&123!=k.which&&k.preventDefault&&k.preventDefault(),!I){V=0;if(l)!Q&&O&&U&&q[t]==R?(Z(R+T-1,w[t],E[t]),V||(q.push(R+T-1),w.push(w[t]),E.push(E[t]),F.push(Math.PI/2),t++)):(Z(q[t]-1,w[t],E[t]),V||(q.push(q[t]-1),w.push(w[t]),E.push(E[t]),F.push(Math.PI/2),t++));else if(r)!Q&&O&&U&&q[t]==R+T-1?(Z(R,w[t],E[t]),V||(q.push(R),w.push(w[t]),E.push(E[t]),F.push(-Math.PI/2),t++)):(Z(q[t]+1,w[t],E[t]),V||(q.push(q[t]+1),w.push(w[t]),E.push(E[t]),F.push(-Math.PI/2),t++));else if(u)!Q&&O&&U&&w[t]==S?(Z(q[t],S+T-1,E[t]),V||(q.push(q[t]),w.push(S+T-1),E.push(E[t]),F.push(Math.PI),t++)):(Z(q[t],w[t]-1,E[t]),V||(q.push(q[t]),w.push(w[t]-1),E.push(E[t]),F.push(Math.PI),t++));else if(d)!Q&&O&&U&&w[t]==S+T-1?(Z(q[t],S,E[t]),V||(q.push(q[t]),w.push(S),E.push(E[t]),F.push(0),t++)):(Z(q[t],w[t]+1,E[t]),V||(q.push(q[t]),w.push(w[t]+1),E.push(E[t]),F.push(0),t++));else if((C||N)&&s){if(!U){k=G-1;for(f in cubes)cubes[f][0]==q[t]&&cubes[f][1]==w[t]&&k++;if(E[t]==k)return}!Q&&O&&U&&E[t]==T-1?(Z(q[t],w[t],0),V||(q.push(q[t]),w.push(w[t]),E.push(0),F.push(F[t]),t++)):(Z(q[t],w[t],E[t]+1),V||(q.push(q[t]),w.push(w[t]),E.push(E[t]+1),F.push(F[t]),t++))}else(C||N)&&c?!Q&&O&&U&&0==E[t]?(Z(q[t],w[t],T-1),V||(q.push(q[t]),w.push(w[t]),E.push(T-1),F.push(F[t]),t++)):0==E[t]?V=1:(Z(q[t],w[t],E[t]-1),V||(q.push(q[t]),w.push(w[t]),E.push(E[t]-1),F.push(F[t]),t++)):B&&t>G&&(F.pop(),q.pop(),w.pop(),E.pop(),t--);V&&!I&&(I=1,setTimeout(function(){z||(I=0)},150),!(-1<q[t]&&q[t]<X&&-1<w[t]&&w[t]<h)||"pI"==W&&!C&&16<q[t]||hitcube2||ja(ma).play());if(!V&&!z&&(u||r||d||l||s||c||B)){y.lossst_M=++ua;Da();Y();B?t>G&&sa.back():(C||!s&&!c&&!C)&&sa.forward();Y(1);Ea();I||(I=1,setTimeout(function(){z||(I=0)},150));if("px"==W&&(C||14<=G)&&20==q[t]&&10==w[t]){I=1;var n=0;for(f=0;f<G;f++)setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(--n);F.push(F[t]);t++;Y()},150*f);setTimeout(function(){AA("pz",1)},160*G);y.lossst_x=20;y.lossst_y=10}Fa();U&&!Aa&&(Aa=t)}}};onkeyup=function(){u=r=d=l=s=c=B=0};onload=function(){1<location.hash.length?AA("py",1):(setTimeout(function(){x=setInterval(function(){sa.forward()},500)},200),b.innerHTML="<center id=e>\ud83d\udc40</center>\n<center id=iw></center>\n<div id=iv style=perspective:30vh>\n<center id=menu>\n<h1>LOSSST</h1>\n<span onclick=newgame()>New game</span><br>\n"+(y.lossst_a&&!y.lossst_E?"<span onclick=AA(0,1)>Continue</span><br>":"")+"\n<span onclick=AA(\"pz\",1)>Puzzle editor</span><br>\n<span onclick=top.open('//goo.gl/iKqoCS')>Bonus",newgame=function(){for(i in localStorage)0==i.indexOf("lossst")&&-1==i.indexOf("e")&&delete localStorage[i];y.lossst_a=1;menu.innerHTML="<br><br><span onclick=intro(0)>Desssktop</span><br><br><span onclick=intro(1)>Mobile"},intro=function(k){clearInterval(x);_=$=0;x=setInterval(sa.forward,250);y.lossst_m=D=k;y.lossst_S=G=5;ta=y.lossst_t=0;ua=y.lossst_M=0;y.lossst_M=0;y.lossst_t=0;menu.innerHTML="";setTimeout(function(){e.style.margin=0},500);dir=1;inter=setInterval(function(){e.style.opacity=0;setTimeout(function(){e.style.opacity=1;dir=-dir;e.style.transform="scaleX("+dir+")"},150)},3E3);setTimeout(function(){iw.innerHTML="I lossst my kid !"},2E3);setTimeout(function(){iw.innerHTML=""},5E3);setTimeout(function(){clearInterval(inter);e.style.margin="-80vh 0 0"},7E3);setTimeout(AA,7500)})};AA=function(k,f){if(0===k||"pz"==k)clearInterval(x),_=$=0;"pz"==k&&(H=1,J=0);W=k||y.lossst_p||"px";b.outerHTML="<body id=b class="+W+">\n<div id=iv>\n<div id=a style=transform:translateX(-97vh)translateY(-50vh)rotateZ(90deg)translateZ(119vh);transform-origin:100vh+50vh>\n<div id=ig>"+(H?"<div class=t style=width:60vh;transform:translateX(70vh)translateY(1vh)translateZ(2vh)rotateX(-42deg)>\n<label style=width:100%;text-align:center>Create a pattern with the snake and share it !</label>\n<br style=line-height:6vh>\n<div style=text-align:left;padding-left:5vh>\n<label>Grid</label> <input id=ib type=range value=5 min=3 max=8 step=1>\n<span id=gridval>5</span>\n<br>\n<label>Snake</label> <input id=iq type=range value=5 min=5 max=40 step=1>\n<span id=it>5</span>\n</div>\n<input type=checkbox id=ik checked> <label for=ik id=im>ground</label>\n"+(y.lossst_e||y.lossst_s&&6<y.lossst_S?"<input type=checkbox id=wall> <label for=wall>wall</label>":"")+"\n"+(y.lossst_e||y.lossst_s?"<input type=checkbox id=wrap> <label for=wrap>wrap</label>":"")+"\n<br>\n<center>\n<button id=ij disabled>Share</button>\n</center>\n</div>":"")+"\n</div>\n<div id=ih></div>\n<div id=ie></div>\n<div id=ia></div>\n</div>\n</div>\n<center id=iz style='font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw'>\n<button id=kU class=h ontouchstart=TS(38) ontouchend=TE(38)>\u2191</button>\n<button id=kD class=h ontouchstart=TS(40) ontouchend=TE(40)>\u2193</button>\n<button id=kL class=h ontouchstart=TS(37) ontouchend=TE(37)>\u2190</button>\n<button id=kR class=h ontouchstart=TS(39) ontouchend=TE(39)>\u2192</button>\n<button id=kT class=h ontouchstart=TS(16) ontouchend=TE(16)>\u2b06\ufe0e</button>\n<button id=kB class=h ontouchstart=TS(17) ontouchend=TE(17)>\u2b07\ufe0e</button>\n<button id=kw class=h ontouchstart=TS(18) ontouchend=TE(18)>\u21a9</button>\n<button id=kx class=h ontouchstart=TS(82) ontouchend=TE(82)>\u00d7</button>\n<button id=ky class=h ontouchstart=TS(49) ontouchend=TE(49)>\u21bb</button>\n<button id=kz class=h ontouchstart=TS(51) ontouchend=TE(51)>\u21ba</button>\n</center>\n<center id=ii style='font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw'>";y.lossst_Apx0=1;Ba();if(D&&"py"==W||y.lossst_w)kU.className=kD.className=kL.className=kR.className="";if(D&&"py"==W||y.lossst_b)kw.className="";if(D&&"py"==W||y.lossst_r)kr.className="";if(D&&"py"==W||y.lossst_B)kT.className="",kB.className="";if(D&&"py"==W||y.lossst_c)ky.className="",kz.className="";H||(va=setInterval(function(){y.lossst_t=++ta},1E3));f&&(b.innerHTML+="<div style='position:fixed;font:8vh a;top:3vh;right:3vh'onclick=location='.'>\u00d7")}</script><style>@keyframes move{0%,100%{transform:rotateY(-10deg)}50%{transform:rotateY(10deg)}}*{margin:0;padding:0;font:2.5vh/5.5vh arial,sans-serif;vertical-align:middle;box-sizing:border-box;-webkit-touch-callout:none;-webkit-user-select:none;-webkit-tap-highlight-color:transparent;user-select:none;cursor:pointer;touch-action:manipulation}html,body{height:100%;background:#000;overflow:hidden;background:radial-gradient(#def 25%,#7ce)}a{color:#def}input,button{position:relative;z-index:2}input[type=range]::-webkit-slider-runnable-track,input[type=range]::-webkit-slider-thumb{background:#888;border:1px solid #000}input[type=range]::-moz-range-track,input[type=range]::-moz-range-thumb{background:#888;border:1px solid #000}#iv{width:0;height:0;perspective:120vh;position:absolute;top:50%;left:50%}#iv *{transform-style:preserve-3d}#a{width:0;height:0;transform-origin:18vh 0%;transition:transform 1s,transform-origin 1s}.z{position:fixed;top:0;left:0}.z>div{width:100%;height:100%;position:fixed}.z .u{transform:rotateY(90deg)translateX(-100%)rotateY(-90deg)}.z .l{transform:rotateX(-90deg)translateY(-50%)translateX(-50%)rotateY(-90deg)}.z .r{transform:rotateX(-90deg)translateY(-50%)translateX(50%)rotateY(90deg)}.z .f{transform:translateY(50%)rotateX(-90deg)translateY(-50%)}.z .b{transform:translateY(-50%)rotateX(-90deg)translateY(-50%)rotateY(180deg)}.z.q{width:32vh;height:32vh;transform:none}.z.q>div{background:transparent}.z.q .b{transition:opacity .5s;transform:translateY(-50%)rotateX(-90deg)translateY(-52%)}.z.q.w .d,.z.q .d{transition:opacity .5s;background:#0c5b0c}.sm,.sr{transform-origin:50% 50%;width:100%;height:100%;position:fixed}.sm{transition:transform .15s}.z.k{width:100%;height:100%}.z.k>div{box-shadow:0 0 0 .1vh #000 inset;text-align:center}.z.k .f{line-height:3vh}#ie .z.k>div{background:#FFA500}#ie .z.k .u{background:#dF8500}#ia .z.k>div,#a.haswall .z.k>div{background:#444}#ia .z.k .u,#a.haswall .z.k .u{background:#333}#ia .z.k .f{color:#fff}.ss{position:fixed;width:100%;height:100%;background:rgba(0,0,0,.25);transform:translateX(14%)translateY(14%)translateZ(-.25vh)}label{display:inline-block;width:22%}button{display:inline-block;width:23%;border:.2vh solid #000;margin:1vh 2% 0 0}input[type=range]{width:60%}#form{width:50vh;margin:auto}.o{float:left;outline:.4vh solid #888;opacity:0;transition:opacity .5s;background:#fff}.z.q.v{transform:translateZ(.1vh)}.z.q.v .o{opacity:1}.z.q.v .d{transform:none}.z.q.w>div{background:linear-gradient(45deg,rgba(200,200,200,.1),rgba(200,200,200,.3));box-shadow:0 0 .1vh rgba(255,255,255,.5)}.j{position:fixed;transform-origin:50% 100%;bottom:0}.m{animation:move 3s infinite}.e{color:rgba(0,0,0,.002);text-shadow:0px 0px rgba(0,0,0,.25);position:fixed;transform-origin:50% 100%;bottom:0}.tr,.h{font:11vh/12vh a}.a .tr{font:15vh/11vh a}.a .h,.c .h,.i .h,.a .p,.c .p,.i .p,.c .x.b,#iz button.h{display:none}.g,.g *,.p{font:4vh/5vh a;transition:opacity .5s .5s}.n,.n *{font:5vh/6vh a}.g.h,.p.h{opacity:0}.a .g{font:6vh/5vh a}.do{position:fixed;transform-origin:0% 100%;width:0;height:0}.do .y{position:fixed;width:15vh;height:20vh;background:radial-gradient(2vh at 90% 50%,gold 35%,transparent 40%),#a22;border-radius:1vh 1vh 0 0;transform-origin:0% 100%;transform:translateX(-7.5vh)translateY(-12.5vh)rotateX(-90deg);text-align:center;font-size:6vh;line-height:12vh;color:#fff;transition:transform 1s}.do .y.d1{background:radial-gradient(2vh at 90% 50%,gold 35%,transparent 40%),#222}.do.s .y{transform:translateX(-7.5vh)translateY(-12.5vh)rotateX(-90deg)rotateY(90deg)}.z.x div{background:linear-gradient(45deg,#640,#583808)}.z.x div.u{transform:rotateY(90deg)translateX(-5.4vh)translateZ(-.1vh)rotateY(-90deg);background:radial-gradient(#3F7D1F,#034301);background-size:280vh 140vh;width:5.3vh;height:5.3vh}.t{position:fixed;background:#fff;padding:.7vh;width:20vh;font:2vh/2.5vh arial,sans-serif;transform-origin:50% 100%;text-align:center;box-shadow:0 0 0 .2vh #000 inset;bottom:0}.t br{font:0/0 a}.t:before{content:"";width:3vh;height:3vh;background:#750;position:absolute;bottom:-3vh;left:8vh;border-left:.2vh solid;border-right:.2vh solid}.pz .t:before{left:28vh}label{text-align:left}#a{transition:transform 6s ease-in,transform-origin 6s ease-in;width:280vh;height:140vh;background:radial-gradient(#4F8D2F,#136321);border-radius:3vh}.px #a,.pI #a{background:radial-gradient(10vh at 51.3% 52%,#000 40%,transparent 50%),radial-gradient(15vh at 51.3% 52%,#640 40%,transparent 50%),radial-gradient(#4F8D2F,#136321)}#e{margin:99vh 0 0;transition:margin 1s;font:10vh/80vh a}#iw{font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw}#menu{color:#fff;width:55vh;transform:translateX(-27vh)translateY(-20vh)rotateX(-17deg)}#menu span{font:7vh/12vh arial,sans-serif}#menu h1{font:13vh/16vh arial,sans-serif;text-shadow:.1vh -.1vh #777,.2vh -.2vh #777,.3vh -.3vh #777}#menu span:hover{color:#ace;transform:rotateX(-10deg)}.pN #menu span:hover{color:#fff}#iz button{position:fixed;width:10vh;height:10vh;text-align:center;font:6vh/10vh a}#kU{right:14vh;bottom:14vh}#kD{right:14vh;bottom:2vh}#kL{right:26vh;bottom:2vh}#kR{right:2vh;bottom:2vh}#kT{left:2vh;top:2vh}#kB{left:2vh;top:14vh}#kw{bottom:2vh;left:2vh}#kx{bottom:14vh;left:2vh}#ky{top:2vh;right:18vh}#kz{top:2vh;right:6vh}#hpx0{opacity:0;transition:opacity .5s}</style></head><head></head><body id="b" class="pN">
<div id="iv">
<div id="a" style="transform: translateX(-141vh) translateY(-227vh) translateZ(-185vh) rotateZ(90deg); transform-origin: 35vh 225vh 0px; width: 75vh; height: 240vh; transition: 10s;">
<div id="ig"><div id="tree0" class="j tr" style="left:50vh;transform:translateX(-7vh)translateY(224vh)rotateX(-70deg)">🌳</div><div id="treeshadow0" class="e h" style="left:50vh;transform:translateX(-7.5vh)translateY(223.5vh)rotateZ(144deg)scaleY(1.5)">🌳</div><div id="a0" class="j g" style="left: 35vh; transform: translateY(15vh) translateZ(2vh) rotateX(-65deg); transition: 10s;"><div>⚽</div></div><div class="j n" style="left:64vh;transform:translateY(234vh)rotateX(-65deg)"><div class="m">🐉</div></div><div id="dpN0" class="do s" style="left:82.5vh;top:27.5vh;transform:rotateZ(1.5707963267948966rad)translateZ(0vh)"><div class="y d1" hidden="">20</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh"></div></div><div style="position:fixed;transform:rotateZ(-90deg)translateX(-83vh)translateY(6vh)translateZ(208vh);font: 30vh/25vh a">THE<br><br>END</div></div>
<div id="ih"><div id="puzzle0" class="z q v" style="left:25vh;top:190vh;width:20vh;height:20vh"><div class="l"></div><div class="r"></div><div id="D0" class="d"><div class="o" id="g000" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g001" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g002" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g003" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g010" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g011" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g012" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g013" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g020" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g021" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g022" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g023" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g030" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g031" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g032" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g033" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div></div><div id="B0" class="b" style="transition: 0.5s; transform: translateY(-125%);"><div class="o" id="w000" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w001" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w002" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w003" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w010" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w011" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w012" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w013" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w020" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w021" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w022" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w023" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w030" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w031" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w032" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w033" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div></div><div class="f"></div></div><div id="puzzle1" class="z q v" style="left:25vh;top:140vh;width:20vh;height:20vh"><div class="l"></div><div class="r"></div><div id="D1" class="d"><div class="o" id="g100" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g101" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g102" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g103" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g110" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g111" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g112" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g113" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g120" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g121" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g122" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g123" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g130" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g131" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g132" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g133" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div></div><div id="B1" class="b" style="transition: 0.5s; transform: translateY(-125%);"><div class="o" id="w100" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w101" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w102" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w103" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w110" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w111" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w112" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w113" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w120" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w121" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w122" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w123" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w130" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w131" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w132" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w133" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div></div><div class="f"></div></div><div id="puzzle2" class="z q v" style="left:25vh;top:90vh;width:20vh;height:20vh"><div class="l"></div><div class="r"></div><div id="D2" class="d"><div class="o" id="g200" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g201" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g202" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g203" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g210" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g211" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g212" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g213" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g220" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g221" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g222" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g223" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g230" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g231" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g232" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g233" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div></div><div id="B2" class="b" style="transition: 0.5s; transform: translateY(-125%);"><div class="o" id="w200" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w201" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w202" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w203" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w210" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w211" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w212" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w213" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w220" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w221" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w222" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w223" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w230" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w231" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w232" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w233" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div></div><div class="f"></div></div><div id="puzzle3" class="z q v" style="left:25vh;top:40vh;width:20vh;height:20vh"><div class="l"></div><div class="r"></div><div id="D3" class="d"><div class="o" id="g300" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g301" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g302" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g303" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g310" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g311" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g312" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g313" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g320" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g321" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g322" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="g323" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g330" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g331" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g332" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g333" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div></div><div id="B3" class="b"><div class="o" id="w300" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w301" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w302" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w303" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w310" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w311" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w312" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w313" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w320" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w321" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w322" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div><div class="o" id="w323" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w330" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w331" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w332" style="width: 5vh; height: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w333" style="width: 5vh; height: 5vh; background: rgb(255, 221, 0);"></div></div><div class="f"></div></div></div>
<div id="ie"></div>
<div id="ia"><div id="M0" class="sm" style="transform: translateX(35.25vh) translateY(225vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S0" style=""></div><div id="R0" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id="T0"><div style="background:none;box-shadow:none;color:red;font-size:4vh;text-align:center;transform:rotateZ(180deg)translateY(-4vh)translateZ(1.5vh)">Y</div><div class="u" style="font:2.5vh/4vh a">👀</div><div class="f">‿</div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M1" class="sm" style="transform: translateX(30.25vh) translateY(225vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S1" style=""></div><div id="R1" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id="T1"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M2" class="sm" style="transform: translateX(25.25vh) translateY(225vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S2" style=""></div><div id="R2" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id="T2"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M3" class="sm" style="transform: translateX(20.25vh) translateY(225vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S3" style=""></div><div id="R3" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T3"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M4" class="sm" style="transform: translateX(20.25vh) translateY(220vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S4" style=""></div><div id="R4" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T4"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M5" class="sm" style="transform: translateX(20.25vh) translateY(215vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S5" style=""></div><div id="R5" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T5"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M6" class="sm" style="transform: translateX(20.25vh) translateY(210vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S6" style=""></div><div id="R6" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T6"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M7" class="sm" style="transform: translateX(20.25vh) translateY(205vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S7" style=""></div><div id="R7" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T7"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M8" class="sm" style="transform: translateX(20.25vh) translateY(200vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S8" style=""></div><div id="R8" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T8"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M9" class="sm" style="transform: translateX(20.25vh) translateY(195vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S9" style=""></div><div id="R9" class="sr" style="transform: rotateZ(0rad);"><div class="z k" id="T9"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M10" class="sm" style="transform: translateX(20.25vh) translateY(190vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S10" style=""></div><div id="R10" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T10"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M11" class="sm" style="transform: translateX(25.25vh) translateY(190vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S11" style=""></div><div id="R11" class="sr" style="transform: rotateZ(3.14159rad);"><div class="z k" id="T11"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M12" class="sm" style="transform: translateX(25.25vh) translateY(195vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S12" style=""></div><div id="R12" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T12"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M13" class="sm" style="transform: translateX(30.25vh) translateY(195vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S13" style=""></div><div id="R13" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id="T13"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M14" class="sm" style="transform: translateX(30.25vh) translateY(195vh) translateZ(5.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S14" style="display: none;"></div><div id="R14" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id="T14"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M15" class="sm" style="transform: translateX(30.25vh) translateY(195vh) translateZ(10.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S15" style="display: none;"></div><div id="R15" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id="T15"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M16" class="sm" style="transform: translateX(25.25vh) translateY(195vh) translateZ(10.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S16" style="display: none;"></div><div id="R16" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id="T16"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M17" class="sm" style="transform: translateX(40.25vh) translateY(195vh) translateZ(10.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S17" style="display: none;"></div><div id="R17" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id="T17"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M18" class="sm" style="transform: translateX(35.25vh) translateY(195vh) translateZ(10.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S18" style="display: none;"></div><div id="R18" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T18"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M19" class="sm" style="transform: translateX(35.25vh) translateY(195vh) translateZ(5.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S19" style="display: none;"></div><div id="R19" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T19"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M20" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S20"></div><div id="R20" class="sr"><div class="z k" id="T20"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M21" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S21"></div><div id="R21" class="sr"><div class="z k" id="T21"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M22" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S22"></div><div id="R22" class="sr"><div class="z k" id="T22"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M23" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S23"></div><div id="R23" class="sr"><div class="z k" id="T23"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div></div>
</div>
</div>
<center id="iz" style="font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw">
<button id="kU" class="h" ontouchstart="TS(38)" ontouchend="TE(38)">↑</button>
<button id="kD" class="h" ontouchstart="TS(40)" ontouchend="TE(40)">↓</button>
<button id="kL" class="h" ontouchstart="TS(37)" ontouchend="TE(37)">←</button>
<button id="kR" class="h" ontouchstart="TS(39)" ontouchend="TE(39)">→</button>
<button id="kT" class="h" ontouchstart="TS(16)" ontouchend="TE(16)">⬆︎</button>
<button id="kB" class="h" ontouchstart="TS(17)" ontouchend="TE(17)">⬇︎</button>
<button id="kw" class="h" ontouchstart="TS(18)" ontouchend="TE(18)">↩</button>
<button id="kx" class="h" ontouchstart="TS(82)" ontouchend="TE(82)">×</button>
<button id="ky" class="h" ontouchstart="TS(49)" ontouchend="TE(49)">↻</button>
<button id="kz" class="h" ontouchstart="TS(51)" ontouchend="TE(51)">↺</button>
</center>
<center id="ii" style="font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw"></center><div style="position:fixed;font:8vh a;top:3vh;right:3vh" onclick="location='index.html'">×</div></body></html><html><head><title>LOSSST</title><meta content="width=device-width,user-scalable=no" name="viewport"><script>u=r=d=l=s=c=B=0;trees=[];apples=[];doors=[];cubes=[];hints=[];emoji=[];puzzles=[];TS=function(k){ba[k]&&clearInterval(ba[k]);onkeydown({which:"+n+"});ba[k]=setInterval(function(){onkeydown({which:k})},150)};TE=function(k){setTimeout(function(){clearInterval(ba[k]);onkeyup()},150)};var g=0;function ca(){a.style.transform="translateX(-"+q[t]*v+"vh)translateY(-"+w[t]*v+"vh)translateZ(45vh)rotateX(40deg)rotateZ("+g+"rad)"}var x=$=_=0;function da(){var k=0;this.i=function(f){k+=f/48E3*Math.PI*2;return k%=2*Math.PI}}function fa(k){var f=new da,n=new da,m=.1;this.i=function(){if(!k)return 0;var A=k+.4*Math.sin(n.i(3));A=440*Math.pow(2,(A-57)/12);m*=.9998;A=f.i(A);return Math.pow(Math.sin(A),1)*m}}function ha(k){function f(){var f=k.length/2;for(_=$;0>_;)_+=f;_%=f;f=new fa(k[2*_+0].charCodeAt(0)-48);for(var A=new fa(k[2*_+1].charCodeAt(0)-48),P=[],aa=0;48E3>aa;aa++){var ea=f.i(),na=A.i(),za=.5*ea+na;P.push(ea+.5*na);P.push(za)}n(P).play()}function n(f){function k(f){f=m(f);return f[0]+f[1]}function m(f){for(var k=0,m="",n=0;4>n;n++,k+=8)m+=String.fromCharCode(f>>k&255);return m}var n=2*f.length;n="RIFF"+m(n+36)+"WAVEfmt "+m(16)+k(1)+k(2)+m(48E3)+m(192E3)+k(4)+k(16)+"data"+m(n);for(var ea in f)n+=k(32767*f[ea]);return new Audio("data:audio/wav;base64,"+btoa(n))}$=-1;this.forward=function(){$++;f()};this.back=function(){$--;f()}}function ja(k){function f(f){f=n(f);return f[0]+f[1]}function n(f){for(var k=0,m="",n=0;4>n;n++,k+=8)m+=String.fromCharCode(f>>k&255);return m}for(var m=[],A=0;;A++){var P=k(A);if(null===P)break;m.push(P)}k=2*m.length;k="RIFF"+n(k+36)+"WAVEfmt "+n(16)+f(1)+f(1)+n(48E3)+n(96E3)+f(2)+f(16)+"data"+n(k);for(A in m)k+=f(1E4*m[A]);return new Audio("data:audio/wav;base64,"+btoa(k))}function ka(k){return 1E4<k?null:(Math.pow(k,1.055)&128?1:-1)*Math.pow((1E4-k)/1E4,2)/2}function la(k){return 25E3<k?null:((k^k>>3^k*k*7.3^k<<4)&65535)/65536*((25E3-k)/25E3)/2}function ma(k){return 5E3<k?null:(Math.pow(k+1E3*Math.sin(.01*k),.8)&200?.5:-.5)*Math.pow((5E3-k)/5E3,1)/2}function oa(k){if(16E3<k)return null;var f=Math.pow((16E3-k)/16E3,2.1)/2;return(k<16E3/7?k+10*Math.sin(-k/900)&16:k&13)?f:-f}function pa(k){return 9E4<k?null:(Math.pow(k+1E3*Math.sin(.01*k),.8)&200?.5:-.5)*Math.pow((9E4-k)/9E4,1)/4}var qa=new ha("nbo0risiubv0uisirbs0ui0i0b0c0f0gniojrlsjuivjymvjubv0ui0i0j0m0n0rsgu0vnxnzgx0vnunsg0n0o0n0g0s0o0nrisjulvgufsjufscrbo0ni0j0b0i0j0il`n0ogqgs`u0vgxgz`0gxl0nsouqvsxuuev0u`0`0eq0slulqcs0qcs0qbs0q`s0njo0reseujv0xeveuj0v0e0q0j0i0g0e0cu0scq00bv0ufr0sgn0vbr0xiz0zjr0sgu0vbx0zgx0vbubsg{0zb{`z^{0zi{fzgv0xiu0vjs0ulr0sbn0oll0nbl0jfi0g00bxc0`zb0^{`0]z^0[z]0Zz[0]z^0`zb0]uf0bxi0f{l0izr0ozn0ixr0nrulrnbo0risiufs0r`o0nb0czf0gzi0gzf0cub0i0j0mvn0m0j0irbscrbs`rbs`sbrbo`q0sgugv`x0zg{gz`s0x`s0v`x0vcx0ues0q`l00eu00`x00ev00`u00eq00`o`"),ra=new ha("p0r0sdk0rco0pdk0p0r0sdw0rcs0pdk0p0r0sdk0rck0pdk0p0r0sdw0rcs0pd0f0g0iwg0bwgx0wgurrnspur0bufwgubs0pkrcsdk0rco0pkk0p0r0sdk0rco0pk0l0k0iwg0b0k0g0n0kzs0nxi0f|l0izr0p0n0lwk0dwg0k0p0k|s0pur0kuo0k0i0l0k0isd0krj0kpd0k0p0rsd0krl0opd0f0g0iskw0riw0pgw0nfw0u`s0rbs0pd0k"),y=localStorage,z=0,C=+y.lossst_s||0,sa=C?ra:qa,D=+y.lossst_m||0,ta=+y.lossst_t||0,ua=+y.lossst_M||0,va=0,ba=[],wa=0,v=5,t=0,q=[],w=[],E=[],F=[],G=y.lossst_S=+y.lossst_S||5,H=0,I=0,J=null,K="0",L=[],M=[],xa=0,N=0,O=0,Q=0,R=0,S=0,T=0,ya=+y.lossst_T||0,Aa=0,U=0,V=0,W="",X=h=0;function Ba(){var k;navigator.userAgent.match(/Mac/)&&(iv.className="a");navigator.userAgent.match(/Fire|Edg/)&&(iv.className+=" c",wa=4E3);D&&(iv.className+=" i");b.className=W;C&&!H&&(ie.innerHTML="");cubes=[];doors=[];trees=[];apples=[];hints=[];emoji=[];if("pz"==W)X=40,h=20,puzzles=[[5,,1,,"0000000000000000000000000",16,9]],G=5,C=0;else if("py"==W)h=X=20,puzzles=[eval("["+location.hash.slice(1).replace(/[01]{2,}/g,'"$&"')+"]")],G=puzzles[0][1],puzzles[0][5]=puzzles[0][6]=8,C=!!puzzles[0][3],hints=[["Move: arrow keys<br>"+(C?"Up/Down: "+(D?"\u2b06\ufe0e/\u2b07\ufe0e":"Shift/Ctrl")+"<br>":"")+"backtrack: "+(D?"\u21a9":"Alt")+"<br>Reset: R",1,5,1,0,C,0]],delete y.lossst_ppy0;else if("px"==W){X=40;h=20;trees=[[13,9,0],[7,13,0],[35,8,0]];apples=[[11,11,0,0,0],[2,12,0,6,0],[38,10,0,7,0]];doors=[[41,10,Math.PI/2,8,0,"pA",1,0,10,0,0],[20,-2,0,14,0,"pD",1,10,19,0,0],[-2,11,-Math.PI/2,6,0,"pJ",1,14,5,1,1],[20,21,Math.PI,14,0,"pC",1,22,1,0,0],[5,21,Math.PI,5,0,"pI",1,36,1,0,1]];puzzles=[];cubes=[];for(f=9;15>f;f++)for(m=0;5>m;m++)2==m&&14==f||2==m&&13==f||3==m&&13==f||3==m&&12==f||2==m&&12==f||cubes.push([m,f]);hints=[["Move with<br>arrow keys"+(D?"":" or WASD/ZQSD"),19,5,0,13,0],["Use the "+(D?"\u21a9":"Alt")+" key to backtrack",1,9,0,13,0,1],["Approach red doors with the right length to open them",35,14,0,13,0],["\u2191<br>New puzzles !<hr>Puzzle editor<br>\u2193",19,8,14,0,0],["\u2190<br>New puzzles !",1,9,6,7,1,1]];emoji=[["\ud83d\udc3f\ufe0f",30,7],["\ud83c\udf30\ufe0f",29,7]]}else if("pA"==W)X=40,h=20,trees=[[35,15,0]],apples=[[33,16,0,0,6],[34,17,0,0,6],[37,15,0,0,6]],cubes=[],doors=[[-2,10,-Math.PI/2,8,0,"px",0,39,11,0,0],[35,21,Math.PI,11,0,"pB",1,35,1,0,0]],puzzles=[[6,,0,,"000000001000001110001110001000000000",2,3],[6,,0,,"000000011000011100010000011000000000",14,3],[6,,0,,"000000000100001100011000011100000000",26,3],[5,,0,,"0000001110011100110000000",2,13],[6,,0,,"000000011000011000001100001100000000",14,13],[6,,0,,"000000000100001100001110001100000000",26,13]],hints=[["Cover the black patterns to solve puzzles",9,9,1,0],["Solve all the puzzles in the room to unlock a new door",21,9,1,0],["Your progress is saved automatically",34,9,1,0]],emoji=[["\ud83d\udc0c",11,10]];else if("pB"==W)D&&(kx.className="",y.lossst_r=1),X=40,h=20,trees=[[4,7,0]],apples=[[1,8,0,0,12],[2,9,0,0,12]],doors=[[35,-2,0,8,0,"pA",0,35,19,0,0],[-2,10,-Math.PI/2,13,0,"pC",1,39,10,0,0]],puzzles=[[6,,0,,"000000011110011010011110000000000000",8,2],[7,,0,,"0000000001110000111000001100000110000010000000000",18,2],[6,,0,,"000000011000011110001010001110000000",28,2],[6,,0,,"000000011100001110001110001100000000",8,12],[6,,0,,"000000001110001110001110001010000000",18,12],[6,,0,,"000000011110011110001100001000000000",28,12]],hints=[["If you get stuck, "+(D?"click \u00d7":"press R")+" to exit a puzzle",35,11,1,0]],cubes=[[11,4],[21,16]],emoji=[["\ud83d\udc08",4,14]];else if("pC"==W)X=40,h=20,trees=[[35,8,0]],apples=[[34,11,0,0,18]],doors=[[41,10,Math.PI/2,8,0,"pB",0,1,10,0,0],[22,-2,0,14,0,"px",1,20,19,0,0]],puzzles=[[7,,0,,"0000000000000001111000111100001111000100000000000",2,3],[7,,0,,"0000000001110000101000011100001110000110000000000",26,3],[6,,0,,"000000001110011110011010001110000000",14,3],[7,,0,,"0000000001100000111000011100001110000110000000000",2,12],[7,,0,,"0000000000000001111100101010011111000000000000000",14,12],[6,,0,,"000000011000011100011110011110000000",26,12]],hints=[["\u2191<br>After this room, you can try a puzzle editor and a new kind of puzzles !",22,11,13,0,0]],cubes=[[29,5],[30,8],[17,6],[15,4],[15,7],[29,13],[30,13],[30,14],[18,15],[16,15],[6,13],[6,17],[7,8],[6,8],[5,8],[3,7],[3,8],[7,6],[7,5]],emoji=[["\ud83e\udd8b<br><br>",29,13]];else if("pD"==W){h=X=20;trees=[[10,2,0]];doors=[[10,21,Math.PI,14,0,"px",0,20,0,0,0],[-2,5,-Math.PI/2,14,0,"pE",0,24,12,0,0]];puzzles=[[7,,1,,"0100010011111000000000000000000000001111100100010",7,7]];hints=[["Now you're thinking with wraps !",2,2,0,14,0]];for(f=0;20>f;f++)cubes.push([f,10]);emoji=[["\ud83d\udc10",12,2]]}else if("pE"==W)h=X=25,trees=[[5,12,0]],apples=[[4,14,0,0,23]],doors=[[26,12,Math.PI/2,14,0,"pD",0,0,5,0,0],[-2,12,-Math.PI/2,15,0,"pF",1,79,5,0,0]],puzzles=[[7,,1,,"1000001000000000000000010100011011011000111000001",3,3],[6,,1,,"110011100001000000100001100001110011",15,17],[5,,1,,"1100111001100011001110011",16,4],[6,,1,,"000011000011110001110001000011000011",3,17]],hints=[["Reminder:<br>use "+(D?"\u21a9":"Alt")+" to backtrack,<br>"+(D?"\u00d7":"R")+" to exit a puzzle.",11,14,1,0,0]],emoji=[["\ud83d\udc12",12,20]];else if("pF"==W)X=80,h=20,trees=[[35,10,0]],apples=[[38,11,0,0,35]],doors=[[81,5,Math.PI/2,15,0,"pE",0,0,12,0,0],[-2,15,-Math.PI/2,16,0,"pG",1,19,5,0,0]],puzzles=[[5,,1,,"0111101001010110100011111",59,13],[5,,1,,"1111011000111100001011110",48,13],[5,,1,,"1111101000011110111001100",37,13],[5,,1,,"1111110000111001000011111",26,13],[5,,1,,"1100101101001110011101101",15,13],[5,,1,,"1111100001110010000111111",59,2],[5,,1,,"1000110111100011000111111",48,2],[5,,1,,"1000110101101011111110001",37,2],[5,,1,,"1111110001000110000111111",26,2],[5,,1,,"0111101100011100011011110",15,2],[5,,1,,"1111101111001110001100001",4,8],[5,,1,,"1010100101111010000111111",71,8]],hints=[["This room hides a surprise !",72,2,0,15,0],["\u2190<br>Exit",38,9,16,0,0]],cubes=[],emoji=[];else if("pG"==W)X=20,h=30,trees=[[5,25,0]],apples=[[4,24,0,0,37],[7,25,0,0,37],[2,26,0,0,37],[3,28,0,0,37]],doors=[[21,5,Math.PI/2,16,0,"pF",0,1,15,0,0],[10,31,Math.PI,20,0,"pH",1,10,1,0,0]],puzzles=[[6,,1,,"001000001110111111011100011000001000",7,6],[6,,1,,"110001100001000111000111100001110001",7,18]],emoji=[["\ud83d\udc01",9,14]];else if("pH"==W)X=20,h=30,trees=[[16,22]],apples=[[18,22,0,0,39]],doors=[[10,-2,0,18,0,"pG",0,10,29,0,0],[21,25,Math.PI/2,21,0,"pI",1,1,10,0,0]],puzzles=[[6,,1,,"001000011110111111011110011110001000",7,6],[6,,1,,"110001100001000011000111001111111111",7,18]],emoji=[["\ud83e\udd86",9,14]];else if("pI"==W){X=40;h=20;apples=[[38,2,0,5,0]];doors=[[-2,10,-Math.PI/2,1,0,"pH",0,19,25,0,0],[36,-2,0,6,0,"px",1,5,19,0,1]];puzzles=[];hints=[["Guess what, you finished the first half of the game !",5,9,1,0],["You can now move up and down with "+(D?"\u2b06\ufe0e and \u2b07\ufe0e":"Shift and Ctrl keys")+", and open black doors",30,11,1,0]];for(f=0;9>f;f++)cubes.push([30,f]);for(f=30;40>f;f++)cubes.push([f,8]);emoji=[["\ud83d\udc22",13,14]];trees=[[3,1],[15,2],[36,3],[26,5],[25,15],[33,9],[10,12],[36,14],[3,15]]}else"pJ"==W?(X=15,h=70,trees=[[2,62]],apples=[[2,65,0,0,47],[1,66,0,0,47]],doors=[[16,5,Math.PI/2,6,0,"px",0,1,11,0,1],[-2,65,-Math.PI/2,8,0,"pK",1,19,65,0,1]],puzzles=[[5,,0,"0000000000000000000001110",,2,2],[4,,0,"0000000001000110",,4,11],[5,,0,"0000000000000000101001110",,6,20],[5,,0,"0000000000000000111000100",,8,29],[4,,0,"0000000001100110","0000011001100000",2,38],[4,,0,"0000010001100100","0000011001100000",4,47],[4,,0,"0000011001000100","0000010001100000",6,56],[4,,0,"0000000001100110","0100011000100000",8,65]],hints=[["You now have to match the patterns on the walls...",10,2,1,0,1],["... and on the floor too !",10,40,1,0,1]],emoji=[["\ud83e\udd89",10,14]]):"pK"==W?(D&&(ky.className=kz.className="",y.lossst_c=1),X=20,h=75,trees=[[2,2]],apples=[[1,4,0,0,59],[2,5,0,0,59],[3,6,0,0,59],[4,2,0,0,59]],doors=[[21,65,Math.PI/2,7,0,"pJ",0,1,65,0,1],[-2,5,-Math.PI/2,12,0,"pL",1,14,5,0,1]],puzzles=[[5,,0,"0000000000010000110001110",,8,69],[6,,0,"000000000000000000000100001110011000",,12,58],[5,,0,"0000000000010000111001000",,2,58],[4,,0,"0000001001100110","0000001001100000",2,45],[5,,0,"0000000000000000010001110","0000000100001100110000000",12,45],[5,,0,"0000000000000000101001110","0000001110010100000000000",2,34],[5,,0,"0000000000000000011001100","0000001110011000010000000",12,34],[4,,1,"0000011001100110","0110000000000110",2,22],[4,,1,"1001000000001001","1001000000001001",12,22],[4,,1,"0000010011110010","0000111101100000",2,12],[4,,1,"0110010000000011","0000011100110000",12,12],[4,,1,"1101000000000001","1101000000010001",12,2]],hints=[["You can rotate the camera with "+(D?"<br>\u21bb and \u21ba":"the keys 1, 2 and 3"),15,68,1,0,1],["Can you guess what's coming next?",7,54,1,0,1],["3D puzzles with wrap ! Use "+(D?"\u2b06\ufe0e and \u2b07\ufe0e":"Shift and Ctrl")+" to wrap between top and bottom",7,24,1,0,1]],emoji=[["\ud83d\udc1e",3,70]]):"pL"==W?(X=15,h=80,trees=[[2,70]],apples=[[1,73,0,0,68],[3,75,0,0,68]],doors=[[16,5,Math.PI/2,12,0,"pK",0,1,5,0,1],[-2,75,-Math.PI/2,14,0,"pM",1,14,25,0,1]],puzzles=[[5,,0,"0000000000001001111100100",,2,2],[4,,0,"0000010001100000",,5,11],[5,,0,"0000000110000110111000010",,8,20],[5,,0,"0000000000001000111011111","0000000000111001111100000",2,29],[4,,0,"1000110011101111","0000001111110000",5,38],[4,,0,"0000100011001110","1110110010000000",8,45],[4,,1,"1000100110010001","0000100110010000",2,54],[4,,1,"0000001011110100","0000110011110011",5,63],[5,,1,"0100011000010000111001000","0000001110110000100000000",8,72]],cubes=[[6,12]],emoji=[["\ud83d\udc1d",3,20]]):"pM"==W?(X=15,h=30,trees=[[10,12]],apples=[[8,11,0,0,71],[9,10,0,0,71],[10,9,0,0,71],[11,10,0,0,71],[12,11,0,0,71],[7,12,0,0,71]],doors=[[16,25,Math.PI/2,14,0,"pL",0,1,75,0,1],[-2,5,-Math.PI/2,20,0,"pN",1,14,5,0,1]],puzzles=[[5,,1,"0001100110011001100010000","0001100110011001100010000",2,24],[5,,1,"1100010001000011000111000","0000011000110010000000000",4,13],[5,,1,"1101110001000001000011000","1100010000000001000111011",6,2]],emoji=[["\ud83d\udc13",1,14]]):"pN"==W&&(X=15,h=48,trees=[[10,44]],apples=[[7,45,0,0,75]],doors=[[16,5,Math.PI/2,20,0,"pM",0,1,5,0,1]],puzzles=[[4,,1,"0000111101101111","1000111111111000",5,38],[4,,1,"1111001001001111","1111101010101111",5,28],[4,,1,"1111010101011101","0001101101101111",5,18],[4,,1,"1111000100011110","1111110110011111",5,8]],emoji=[["\ud83d\udc09",13,46]]);a.style.width=X*v+"vh";a.style.height=h*v+"vh";H||(ig.innerHTML="");ih.innerHTML="";for(var f in trees)ig.innerHTML+="<div id=tree"+f+' class="j tr"style=left:'+trees[f][0]*v+"vh;transform:translateX(-7vh)translateY("+(trees[f][1]*v+4)+"vh)rotateX(-70deg)>\ud83c\udf33</div><div id=treeshadow"+f+' class="e h"style=left:'+trees[f][0]*v+"vh;transform:translateX(-7.5vh)translateY("+(trees[f][1]*v+3.5)+"vh)rotateZ(144deg)scaleY(1.5)>\ud83c\udf33";for(f in apples)y["lossst_a"+W+f]?delete apples[f]:ig.innerHTML+="<div id=a"+f+' class="j g '+(y["lossst_A"+W+f]?"":"h")+'"style=left:'+apples[f][0]*v+"vh;transform:translateY("+(apples[f][1]*v+4)+"vh)rotateX(-65deg)>"+("pN"==W?"<div>\u26bd</div>":"<div class=m>\ud83c\udf4e</div>")+"</div><div id=as"+f+' class="e p '+(y["lossst_A"+W+f]?"":"h")+'"style=left:'+apples[f][0]*v+"vh;transform:scaleX(-1)translateY("+(apples[f][1]*v+3)+"vh)rotateZ(212deg)>"+("pN"==W?"\u26bd":"\ud83c\udf4e");for(f in emoji)ig.innerHTML+='<div class="j n"style=left:'+(emoji[f][1]*v-1)+"vh;transform:translateY("+(emoji[f][2]*v+4)+"vh)rotateX(-65deg)><div class=m>"+emoji[f][0];for(f in doors)ig.innerHTML+="<div id=d"+(""+W+f)+' class="do'+(y["lossst_d"+W+f]?" s":"")+'"style=left:'+(doors[f][0]+.5)*v+"vh;top:"+(doors[f][1]+.5)*v+"vh;transform:rotateZ("+doors[f][2]+"rad)translateZ("+doors[f][9]*v+'vh)><div class="y d'+doors[f][10]+'"'+(doors[f][6]?"":"hidden")+">"+doors[f][3]+'</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh">';for(var n in puzzles)for(var m in cubes)y["lossst_p"+W+n]&&cubes[m][0]>=puzzles[n][5]&&cubes[m][0]<puzzles[n][5]+puzzles[n][0]&&cubes[m][1]>=puzzles[n][6]&&cubes[m][1]<puzzles[n][6]+puzzles[n][0]&&delete cubes[m];for(f in cubes)ig.innerHTML+="<div id=cube"+f+' class="z x"style=left:'+cubes[f][0]*v+"vh;top:"+cubes[f][1]*v+'vh;width:5vh;height:5vh><div class=f></div><div class=u style="background-position:'+(-300-cubes[f][0]*v)+"vh "+(-140-cubes[f][1]*v)+'vh"></div><div class=r></div><div class=l></div><div class=b>';for(f in hints)C^hints[f][5]||!(hints[f][3]&&hints[f][3]<=G||hints[f][4]&&hints[f][4]>=G)||(ig.innerHTML+="<div id=h"+(""+W+f)+" class=t style=left:"+hints[f][1]*v+"vh;transform:translateY("+(hints[f][2]*v+5)+"vh)translateZ("+(hints[f][6]*v||0)+"vh)rotateX(-70deg)translateY(-4vh)>"+hints[f][0]);y.lossst_x&&top.hpx0&&(hpx0.style.opacity=1);for(n in puzzles){T=puzzles[n][0];var A=k="";ih.innerHTML+="<div id=puzzle"+n+' class="z q v '+(puzzles[n][2]&&!y["lossst_p"+W+n]?"w":"")+'"style=left:'+puzzles[n][5]*v+"vh;top:"+puzzles[n][6]*v+"vh;width:"+puzzles[n][0]*v+"vh;height:"+T*v+"vh>"+(puzzles[n][2]?"<div class=l></div><div class=r></div>":"")+"<div id=D"+n+" class=d></div><div id=B"+n+" class=b></div>"+(puzzles[n][2]?"<div class=f>":"");var P="000",aa="fff";y["lossst_p"+W+n]&&(P="44c",aa="fd0",puzzles[n][2]=0);for(f=0;f<T;f++)for(m=0;m<T;m++)puzzles[n][3]&&(k+="<div class=o id=w"+n+f+m+" style=width:"+v+"vh;height:"+v+"vh;background:#"+("1"==puzzles[n][3][f*T+m]?P:aa)+"></div>"),puzzles[n][4]&&(A+="<div class=o id=g"+n+f+m+" style=width:"+v+"vh;height:"+v+"vh;background:#"+("1"==puzzles[n][4][f*T+m]?P:aa)+"></div>");top["D"+n]&&(top["D"+n].innerHTML+=A);top["B"+n]&&(top["B"+n].innerHTML+=k)}"pN"==W&&(ig.innerHTML+="<div style='position:fixed;transform:"+(D?"rotateZ(-90deg)translateX(-87vh)translateY(22vh)translateZ(365vh)":"rotateZ(-90deg)translateX(-83vh)translateY(6vh)translateZ(208vh)")+";font: 30vh/25vh a'>THE<br><br>END");H&&(y.lossst_e||y.lossst_s&&6<y.lossst_S||(ik.style.opacity=im.style.opacity=0,ik.style.position=im.style.position="fixed",ik.style.top=im.style.top="-9vh"),J=0,Y(1),xa=1,Q=O=N=0,puzzles[0][2]=0,setTimeout(function(){(ib.onchange=ib.oninput=resetgrid=function(){Ca();Y();ij.disabled=1;gridval.innerHTML=T=+ib.value;puzzle0.style.width=puzzle0.style.height=T*v+"vh";puzzles[0][0]=T;D0.innerHTML="";A=k=B0.innerHTML="";M=[];L=[];for(f=0;f<T;f++)for(M[f]=[],L[f]=[],m=0;m<T;m++)M[f][m]=0,L[f][m]=0;for(f=0;f<T;f++)for(m=0;m<T;m++)k+="<div class=o id=w"+K+f+m+" style=width:"+v+"vh;padding-top:"+v+"vh></div>",A+="<div class=o id=g"+K+f+m+" style=width:"+v+"vh;padding-top:"+v+"vh></div>";xa&&(D0.innerHTML+=A);N&&(B0.innerHTML+=k)})();iq.onchange=iq.oninput=function(){it.innerHTML=G=+iq.value;Ca();Y()};ik.onclick=function(){ik.checked?xa=1:top.wall&&(xa=0,C=N=1,wall.checked=!0);a.className=N?"haswall":"";resetgrid()};top.wall&&(wall.onclick=function(){wall.checked?(N=1,C=puzzles[0][3]=1):(N=C=0,xa=1,ik.checked=!0,puzzles[0][3]=0);a.className=N?"haswall":"";resetgrid()});top.wrap&&(wrap.onclick=function(){O=puzzles[0][2]=wrap.checked||0;puzzle0.className="z q v "+(O?"w":"");resetgrid()});print=function(k){var n="";for(f=0;f<T;f++)for(m=0;m<T;m++)n=top[k+"0"+f+m].style.background&&top[k+"0"+f+m].style.background.match(/255/)?n+0:n+1;return n};ij.onclick=function(){var f=[];f.push(T);f.push(G);f.push(O?1:0);f.push(N?print("w"):"");f.push(ik.checked?print("g"):"");open("//twitter.com/intent/tweet?text=I%20made%20a%20level%20for%20@MaximeEuziere's%20%23js13k%20game%20LOSSST!%0APlay%20here:%20js13kgames.com%2Fentries%2Flossst%0AMy%20level:%20js13kgames.com%2Fgames%2Flossst%23"+f+"%0A%23LOSSSTlevels")}},100));"px"!=W||y.lossst_x?(a.style.transition="transform 1s,transform-origin 1s",Ca()):(I=1,setTimeout(function(){Ca();Y();M0.style.transition="transform .5s"},2E3),setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(0);F.push(F[t]);t++;Y()},5500+wa),setTimeout(function(){M0.style.transition="";R0.style.transition="transform .2s";R0.style.transform="rotateZ("+-Math.PI/4+"rad)"},6500+wa),setTimeout(function(){R0.style.transform="rotateZ("+Math.PI/4+"rad)"},7E3+wa),setTimeout(function(){R0.style.transform=""},7500+wa),setTimeout(function(){S0.style.transition=R0.style.transition=""},8E3+wa),setTimeout(function(){clearInterval(x);z||(I=0);hpx0.style.opacity=1},8400),setTimeout(function(){a.style.transition="transform 1s,transform-origin 1s";y.lossst_x=20;y.lossst_y=10;b.innerHTML+="<div style='position:fixed;font:8vh a;top:3vh;right:3vh'onclick=location='index.html'>\u00d7";D&&(kU.className=kD.className=kL.className=kR.className="",y.lossst_w=1)},9E3));Y()}function Ca(){var k=C&&!H?ia:ie;k.innerHTML="";q=[];w=[];E=[];F=[];t=G-1;if("py"==W)for(i=0;i<G;i++)q[t-i]=1-i,w[t-i]=10,E[t-i]=0,F[t-i]=-Math.PI/2;else if(H)for(i=0;i<G;i++)q[t-i]=13-i,w[t-i]=12,E[t-i]=0,F[t-i]=-Math.PI/2;else if(y.lossst_x){var f=+y.lossst_x,n=+y.lossst_y,m=+y.lossst_z;"px"==W&&2>y.lossst_x&&(m=y.lossst_z=1);if("pI"==W&&z&&1==C)for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i-1,F[t-i]=0;else if(2>f)for(i=0;i<G;i++)q[t-i]=f-i,w[t-i]=n,E[t-i]=m,F[t-i]=-Math.PI/2;else if(f>X-2)for(i=0;i<G;i++)q[t-i]=f+i,w[t-i]=n,E[t-i]=m,F[t-i]=Math.PI/2;else if(2>n)for(i=0;i<G;i++)q[t-i]=f,w[t-i]=n-i,E[t-i]=m,F[t-i]=0;else if(n>h-2)for(i=0;i<G;i++)q[t-i]=f,w[t-i]=n+i,E[t-i]=m,F[t-i]=0;else for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i,F[t-i]=0}else if("px"==W)for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i-1,F[t-i]=0;for(i=0;i<Math.max(G+4,16);i++)k.innerHTML+="<div id=M"+i+" class=sm style=transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:"+(v-.7)+"vh;height:"+(v-.7)+"vh><div class=ss id=S"+i+"></div><div id=R"+i+' class=sr><div class="z k"id=T'+i+">"+(1>i?"<div style=background:none;box-shadow:none;color:red;font-size:4vh;text-align:center;transform:rotateZ(180deg)translateY(-4vh)translateZ(1.5vh)>Y</div>":"")+'<div class=u style="font:'+.5*v+"vh/"+.8*v+'vh a">'+(1>i?"\ud83d\udc40":"")+"</div><div class=f>"+(1>i?"\u203f":"")+"</div><div class=r></div><div class=l></div><div class=b>"}function Y(k){for(var f={a:0};f.a<G;f={a:f.a,j:f.j,m:f.m,o:f.o},f.a++)if(!k){var n=oldx=oldy=oldz=newx=newy=newz=0;O&&T&&(q[t-f.a-1]==R&&q[t-f.a]==R+T-1?(n=1,oldx=R-1,newx=R+T,oldy=newy=w[t-f.a],oldz=newz=E[t-f.a]):q[t-f.a-1]==R+T-1&&q[t-f.a]==R?(n=1,oldx=R+T,newx=R-1,oldy=newy=w[t-f.a],oldz=newz=E[t-f.a]):w[t-f.a-1]==S&&w[t-f.a]==S+T-1?(n=1,oldy=S-1,newy=S+T,oldx=newx=q[t-f.a],oldz=newz=E[t-f.a]):w[t-f.a-1]==S+T-1&&w[t-f.a]==S?(n=1,oldy=S+T,newy=S-1,oldx=newx=q[t-f.a],oldz=newz=E[t-f.a]):0==E[t-f.a-1]&&E[t-f.a]==T-1?(n=1,oldz=-1,newz=T,oldx=newx=q[t-f.a],oldy=newy=w[t-f.a]):E[t-f.a-1]==T-1&&0==E[t-f.a]&&(n=1,oldz=T,newz=-1,oldx=newx=q[t-f.a],oldy=newy=w[t-f.a]));if(n)top["R"+f.a].style.transform="rotateZ("+F[t-f.a]+"rad)",top["M"+f.a].style.transform="translateX("+(oldx*v+.5)+"vh)translateY("+(oldy*v+.5)+"vh)translateZ("+(oldz*v+.5)+"vh)scale(.01)scaleZ(.01)",setTimeout(function(f){return function(){top["M"+f.a].style.transition="none"}}(f),90),f.j=newx,f.m=newy,f.o=newz,setTimeout(function(f){return function(){top["M"+f.a].style.transform="translateX("+(f.j*v+.5)+"vh)translateY("+(f.m*v+.5)+"vh)translateZ("+(f.o*v+.5)+"vh)scale(.01)"}}(f),100),setTimeout(function(f){return function(){top["M"+f.a].style.transition="";top["M"+f.a].style.transform="translateX("+(q[t-f.a]*v+.25)+"vh)translateY("+w[t-f.a]*v+"vh)translateZ("+(E[t-f.a]*v+.5)+"vh)"}}(f),150);else try{top["M"+f.a].style.transform="translateX("+(q[t-f.a]*v+.25)+"vh)translateY("+w[t-f.a]*v+"vh)translateZ("+(E[t-f.a]*v+.5)+"vh)",top["R"+f.a].style.transform="rotateZ("+F[t-f.a]+"rad)"}catch(A){}try{top["S"+f.a].style.display=0==E[t-f.a]?"":"none"}catch(A){}}H?a.style.transform="translateX(-100vh)translateY(-37vh)translateZ(-5vh)rotateX(33deg)":null===J||y["lossst_p"+W+J]?(a.style.transform="translateX("+-q[t]*v+"vh)translateY("+-w[t]*v+"vh)translateZ(45vh)rotateX(40deg)rotateZ("+g+"rad)",a.style.transformOrigin=""+q[t]*v+"vh "+w[t]*v+"vh"):(a.style.transform="translateX("+(-(R+puzzles[J][0]/2)*v+5)+"vh)translateY("+(-(S+puzzles[J][0]/2)*v+8)+"vh)translateZ("+(90-puzzles[J][0]*(v+3))+"vh)rotateX(30deg)rotateZ("+g+"rad)",a.style.transformOrigin=""+((R+puzzles[J][0]/2)*v+5)+"vh "+((S+puzzles[J][0]/2-1)*v+8)+"vh");f=C?1:0;for(k=0;k<G;k++){if(0>=E[t-k]){f=0;break}for(m in cubes)cubes[m][0]==q[t-k]&&cubes[m][1]==w[t-k]&&1==E[t-k]&&(f=0)}if(f){for(k=0;k<G;k++)E[t-k]--;try{Y()}catch(A){for(var m=2*G;m--;)q.pop(),w.pop(),E.pop(),F.pop(),t--;Aa=0;Y()}}f=q[t];n=w[t];for(k in doors)(doors[k][10]&&C||!doors[k][10]&&!C)&&top["d"+W+k]&&0<doors[k][3]&&G>=doors[k][3]&&4>Math.hypot(f-doors[k][0],n-doors[k][1])&&!y["lossst_d"+W+k]&&(top["d"+W+k].className="do s",!doors[k][6]||"px"==W&&2<k||ja(pa).play(),y["lossst_d"+W+k]=1),top["d"+W+k]&&"do s"==top["d"+W+k].className&&2>Math.hypot(f-doors[k][0],n-doors[k][1])&&(y.lossst_p=W=doors[k][5],setTimeout(Ba,600),y.lossst_x=doors[k][7],y.lossst_y=doors[k][8],y.lossst_z=0);null!==J&&Da();H||(J=null);H||(L=[],M=[]);for(p in puzzles)if(f>=puzzles[p][5]&&f<puzzles[p][5]+puzzles[p][0]&&n>=puzzles[p][6]&&n<puzzles[p][6]+puzzles[p][0]){J=+p;Q=0;y["lossst_p"+W+p]&&(Q=1);K=p;xa=!!puzzles[p][4];N=!!puzzles[p][3];O=!!puzzles[p][2];R=puzzles[p][5];S=puzzles[p][6];T=puzzles[p][0];for(k=0;k<T;k++)for(L[k]=[],M[k]=[],m=0;m<T;m++)puzzles[p][3]&&(M[k][m]=+puzzles[p][3][k*puzzles[p][0]+m]),puzzles[p][4]&&(L[k][m]=+puzzles[p][4][k*puzzles[p][0]+m]);Da()}}function Z(k,f,n){V=0;if(0>k||k>=X||0>f||f>=h)V=1;for(var m in trees)k>=trees[m][0]-1&&k<=trees[m][0]&&f==trees[m][1]&&3>E[t]&&(V=1);for(m in hints)k>=hints[m][1]&&k<=hints[m][1]+3&&f==hints[m][2]&&G>=hints[m][3]&&(!hints[m][4]||G<=hints[m][4])&&(C&&hints[m][5]||!C&&!hints[m][5])&&(V=1);for(m in apples)if(y["lossst_A"+W+m]&&k==apples[m][0]&&f==apples[m][1]&&0==E[t])if(ja(ka).play(),"pN"==W){x=setInterval(sa.forward,150);y.lossst_E=1;setTimeout(function(){I=1;as0.remove();a0.style.transform="translateY(319vh)translateZ(2vh)rotateX(-65deg)rotateY(90deg)";a0.style.transition=a.style.transition="10s";a0.style.transform="translateY(15vh)translateZ(2vh)rotateX(-65deg)";a.style.transform=D?"translateX(-133vh)translateY(-249vh)translateZ(-373vh)rotateZ(90deg)":"translateX(-141vh)translateY(-227vh)translateZ(-185vh)rotateZ(90deg)"},200);var A={},P;for(P in puzzles)A.g=P,setTimeout(function(f){return function(){top["B"+f.g].style.transition=".5s";top["B"+f.g].style.transform="translateY(-125%)"}}(A),[1450,2500,3800,5400][A.g]),A={g:A.g};setTimeout(function(){clearInterval(va);y.lossst_E=1;y.lossst_e=1;b.style.background="#000";y.lossst_s=0;b.innerHTML="<div id=iv style=perspective:90vh><center id=menu style=width:75vh;transform:translateX(-38vh)translateY(-35vh)rotateX(-28deg)><span style=font-size:4vh;line-height:5vh><h1>Congrats!</h1><br>You completed the game in<br>"+ta+" seconds and "+ua+" moves!<br><br><a href=//twitter.com/intent/tweet?text=I%20played%20LOSSST,%20a%20%23js13k%20game%20by%20by%20@MaximeEuziere%0Amy%20score:%20"+ta+"%20seconds%20and%20"+ua+"%20moves!%0Ajs13kgames.com%2Fentries%2Flossst target=_blank style=color:#def;font-size:4vh>TWEET YOUR SCORE</a><br><br>Dev record:<br>854 seconds, 2452 moves<br><br>3D puzzle editor unlocked!<br><br><a href=. style=font-size:4vh>MAIN MENU"},15E3);n=document.querySelectorAll(".o");A={};for(var aa in n){A.h=aa;try{2==n[A.h].style.backgroundColor.match(/68/g).length&&setTimeout(function(f){return function(){top[n[f.h].id].style.background="#a00"}}(A),8E3+10*A.h)}catch(na){}A={h:A.h}}}else if(delete apples[m],top["a"+m].remove(),top["as"+m].remove(),G++,y.lossst_S=G,y["lossst_a"+W+m]=1,"pF"==W&&16==G){I=1;x=setInterval(sa.forward,150);z=1;a.style.transition="5s";a.style.transform="translateX(-180vh)translateY(-53vh)translateZ("+(D?-422:-180)+"vh)rotateZ(180deg)";setTimeout(function(){a.style.transition="1s";I=z=0;Y();ig.innerHTML+="<div class=t style=left:190vh;transform:translateY(50vh)rotateX(-55deg)translateY(-4vh)>\u2190<br>Exit";clearInterval(x)},1E4);n=document.querySelectorAll(".o");A={};for(var ea in n){A.f=ea;try{n[A.f].id.match(/g\d\d\d$/)&&2==n[A.f].style.backgroundColor.match(/68/g).length&&setTimeout(function(f){return function(){top[n[f.f].id].style.background="#a00"}}(A),5500+10*A.f)}catch(na){}A={f:A.f}}}for(m in cubes)k==cubes[m][0]&&f==cubes[m][1]&&0==n&&(V=1);for(m in emoji)"pC"!=W&&k==emoji[m][1]&&f==emoji[m][2]&&0==n&&(V=1);for(m in doors)top["d"+W+m]&&"do s"==top["d"+W+m].className&&2>=Math.hypot(k-doors[m][0],f-doors[m][1])&&(V=0);hitcube2=0;for(m=G-2;0<m;m--)q[t-m]==k&&w[t-m]==f&&E[t-m]==n&&(V=1,1==m&&(hitcube2=1));for(p in puzzles)puzzles[p][3]&&k>=puzzles[p][5]&&k<puzzles[p][5]+puzzles[p][0]&&(f==puzzles[p][6]-1&&w[t]==puzzles[p][6]&&!puzzles[p][2]||f==puzzles[p][6]&&w[t]==puzzles[p][6]-1)&&(V=1);if("pI"==W&&18==k&&!C){z=C=V=I=1;clearInterval(x);sa=ra;_=$=0;x=setInterval(ra.forward,250);y.lossst_s=1;y.lossst_S=G=5;for(k=0;21>k;k++)cubes.push([q[t-k],w[t-k]]),top["M"+k].id="",top["R"+k].id="",top["S"+k].id="",top["T"+k].id="";a.style.transition="2s";Ca();Y();a.style.transform="translateX(-105vh)translateY(-51vh)translateZ(80vh)rotateX(45deg)";a.style.transformOrigin="140vh 70vh";setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(0);F.push(F[t]);t++;Y()},3E3);setTimeout(function(){ii.innerHTML="Daddy!"},4E3);setTimeout(function(){ii.innerHTML=""},6E3);setTimeout(function(){ii.innerHTML="I lossst my soccer ball!"},7E3);setTimeout(function(){ii.innerHTML=""},9E3);setTimeout(function(){ii.innerHTML="But I found new moves!"},1E4);setTimeout(function(){ii.innerHTML="";z=I=0;clearInterval(x);a.style.transition="1s";Y();Ea();D&&(kT.className=kB.className="",y.lossst_B=1)},13500)}}function Da(){if(!Q&&null!==J){solved=1;H&&(ij.disabled=0);for(i=0;i<T;i++)for(j=0;j<T;j++)try{top["g"+K+i+j]&&(top["g"+K+i+j].style.background=L[i][j]?"#000":"#fff"),top["w"+K+i+j]&&(top["w"+K+i+j].style.background=M[i][j]?"#000":"#fff")}catch(m){}if(q[t]<R||q[t]>R+T-1||w[t]<S||w[t]>S+T-1||0>E[t]||E[t]>T-1)H&&(ij.disabled=1);else{for(i=0;i<G;i++){top["g"+K+(w[t-i]-S)+(q[t-i]-R)]&&(top["g"+K+(w[t-i]-S)+(q[t-i]-R)].style.background=L[w[t-i]-S][q[t-i]-R]?"#080":H?"#44c":"#f00");w[t-i]>=S&&w[t-i]<S+T&&top["w"+K+(T-1-E[t-i])+(q[t-i]-R)]&&(top["w"+K+(T-1-E[t-i])+(q[t-i]-R)].style.background=M[T-1-E[t-i]][q[t-i]-R]?"#080":H?"#44c":"#f00");if(q[t-i]<R||q[t-i]>R+T-1||w[t-i]<S||w[t-i]>S+T-1||E[t-i]>T-1)H&&(ij.disabled=1),solved=0;xa&&L[w[t-i]-S]&&!L[w[t-i]-S][q[t-i]-R]&&(solved=0);N&&M[T-1-E[t-i]]&&!M[T-1-E[t-i]][q[t-i]-R]&&(solved=0)}for(i=0;i<T;i++)for(j=0;j<T;j++){try{xa&&3==top["g"+K+i+j].style.backgroundColor.match(/0/g).length&&(solved=0)}catch(m){}try{N&&3==top["w"+K+i+j].style.backgroundColor.match(/0/g).length&&(solved=0)}catch(m){}}if(solved){Q=H?0:1;puzzles[J][2]=0;top["puzzle"+J].classList.remove("w");H||(y["lossst_p"+W+J]=1);for(i=0;i<T;i++)for(j=0;j<T;j++){try{top["g"+K+i+j].style.background=L[i][j]?"#44c":"#fd0"}catch(m){}try{top["w"+K+i+j].style.background=M[i][j]?"#44c":"#fd0"}catch(m){}}H||(ja(oa).play(),ya++,y.lossst_T=ya);var k=1,f={},n;for(n in cubes)f.b=n,cubes[f.b][0]>=puzzles[J][5]&&cubes[f.b][0]<puzzles[J][5]+puzzles[J][0]&&cubes[f.b][1]>=puzzles[J][6]&&cubes[f.b][1]<puzzles[J][6]+puzzles[J][0]&&(delete cubes[f.b],k++,setTimeout(function(f){return function(){top["cube"+f.b].remove()}}(f),200*k)),f={b:f.b}}}}}function Ea(){for(var k in apples)if(!y["lossst_A"+W+k]&&(0<apples[k][3]&&apples[k][3]==G||0<apples[k][4]&&apples[k][4]==ya)){I=1;D&&"px"==W&&1==k&&(kw.className="",y.lossst_b=1);var f=setTimeout;a.style.transform="translateX("+-apples[k][0]*v+"vh)translateY("+-apples[k][1]*v+"vh)translateZ(50vh)rotateX(35deg)";y["lossst_A"+W+k]=1;a.style.transformOrigin=""+apples[k][0]*v+"vh "+apples[k][1]*v+"vh";f(void 0,250);f=setTimeout;top["a"+k].className="j g";top["as"+k].className="e p";f(void 0,800);setTimeout(function(){ja(la).play()},850);setTimeout(function(){Y();z||(I=0)},2E3)}}function Fa(){U=0;H||(J=null);for(p in puzzles)q[t]>=puzzles[p][5]&&q[t]<puzzles[p][5]+puzzles[p][0]&&w[t]>=puzzles[p][6]&&w[t]<puzzles[p][6]+puzzles[p][0]&&0<=E[t]&&E[t]<puzzles[p][0]&&(J=+p,U=1)}onkeydown=function(k){top["lurd************************l**r************l*d***u**u"[k.which-37]]=1;18==k.which&&(B=1);16==k.which&&(s=1);17==k.which&&(c=1);if(!I){if(49==k.which||97==k.which)-1<g&&g--,ca();if(50==k.which||98==k.which)g=0,ca();if(51==k.which||99==k.which)1>g&&g++,ca()}Fa();U?Da():Aa=0;if(82==k.which&&U){if(Aa<=t)for(var f=Aa;f<=t;f++)q.pop(),w.pop(),E.pop(),F.pop(),setTimeout(function(){sa.back()},70*(t-f));t=Aa-1;Aa=0;Y();Da();y.lossst_M=++ua}else if(116!=k.which&&82!=k.which&&17!=k.which&&123!=k.which&&k.preventDefault&&k.preventDefault(),!I){V=0;if(l)!Q&&O&&U&&q[t]==R?(Z(R+T-1,w[t],E[t]),V||(q.push(R+T-1),w.push(w[t]),E.push(E[t]),F.push(Math.PI/2),t++)):(Z(q[t]-1,w[t],E[t]),V||(q.push(q[t]-1),w.push(w[t]),E.push(E[t]),F.push(Math.PI/2),t++));else if(r)!Q&&O&&U&&q[t]==R+T-1?(Z(R,w[t],E[t]),V||(q.push(R),w.push(w[t]),E.push(E[t]),F.push(-Math.PI/2),t++)):(Z(q[t]+1,w[t],E[t]),V||(q.push(q[t]+1),w.push(w[t]),E.push(E[t]),F.push(-Math.PI/2),t++));else if(u)!Q&&O&&U&&w[t]==S?(Z(q[t],S+T-1,E[t]),V||(q.push(q[t]),w.push(S+T-1),E.push(E[t]),F.push(Math.PI),t++)):(Z(q[t],w[t]-1,E[t]),V||(q.push(q[t]),w.push(w[t]-1),E.push(E[t]),F.push(Math.PI),t++));else if(d)!Q&&O&&U&&w[t]==S+T-1?(Z(q[t],S,E[t]),V||(q.push(q[t]),w.push(S),E.push(E[t]),F.push(0),t++)):(Z(q[t],w[t]+1,E[t]),V||(q.push(q[t]),w.push(w[t]+1),E.push(E[t]),F.push(0),t++));else if((C||N)&&s){if(!U){k=G-1;for(f in cubes)cubes[f][0]==q[t]&&cubes[f][1]==w[t]&&k++;if(E[t]==k)return}!Q&&O&&U&&E[t]==T-1?(Z(q[t],w[t],0),V||(q.push(q[t]),w.push(w[t]),E.push(0),F.push(F[t]),t++)):(Z(q[t],w[t],E[t]+1),V||(q.push(q[t]),w.push(w[t]),E.push(E[t]+1),F.push(F[t]),t++))}else(C||N)&&c?!Q&&O&&U&&0==E[t]?(Z(q[t],w[t],T-1),V||(q.push(q[t]),w.push(w[t]),E.push(T-1),F.push(F[t]),t++)):0==E[t]?V=1:(Z(q[t],w[t],E[t]-1),V||(q.push(q[t]),w.push(w[t]),E.push(E[t]-1),F.push(F[t]),t++)):B&&t>G&&(F.pop(),q.pop(),w.pop(),E.pop(),t--);V&&!I&&(I=1,setTimeout(function(){z||(I=0)},150),!(-1<q[t]&&q[t]<X&&-1<w[t]&&w[t]<h)||"pI"==W&&!C&&16<q[t]||hitcube2||ja(ma).play());if(!V&&!z&&(u||r||d||l||s||c||B)){y.lossst_M=++ua;Da();Y();B?t>G&&sa.back():(C||!s&&!c&&!C)&&sa.forward();Y(1);Ea();I||(I=1,setTimeout(function(){z||(I=0)},150));if("px"==W&&(C||14<=G)&&20==q[t]&&10==w[t]){I=1;var n=0;for(f=0;f<G;f++)setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(--n);F.push(F[t]);t++;Y()},150*f);setTimeout(function(){AA("pz",1)},160*G);y.lossst_x=20;y.lossst_y=10}Fa();U&&!Aa&&(Aa=t)}}};onkeyup=function(){u=r=d=l=s=c=B=0};onload=function(){1<location.hash.length?AA("py",1):(setTimeout(function(){x=setInterval(function(){sa.forward()},500)},200),b.innerHTML="<center id=e>\ud83d\udc40</center>\n<center id=iw></center>\n<div id=iv style=perspective:30vh>\n<center id=menu>\n<h1>LOSSST</h1>\n<span onclick=newgame()>New game</span><br>\n"+(y.lossst_a&&!y.lossst_E?"<span onclick=AA(0,1)>Continue</span><br>":"")+"\n<span onclick=AA(\"pz\",1)>Puzzle editor</span><br>\n<span onclick=top.open('//goo.gl/iKqoCS')>Bonus",newgame=function(){for(i in localStorage)0==i.indexOf("lossst")&&-1==i.indexOf("e")&&delete localStorage[i];y.lossst_a=1;menu.innerHTML="<br><br><span onclick=intro(0)>Desssktop</span><br><br><span onclick=intro(1)>Mobile"},intro=function(k){clearInterval(x);_=$=0;x=setInterval(sa.forward,250);y.lossst_m=D=k;y.lossst_S=G=5;ta=y.lossst_t=0;ua=y.lossst_M=0;y.lossst_M=0;y.lossst_t=0;menu.innerHTML="";setTimeout(function(){e.style.margin=0},500);dir=1;inter=setInterval(function(){e.style.opacity=0;setTimeout(function(){e.style.opacity=1;dir=-dir;e.style.transform="scaleX("+dir+")"},150)},3E3);setTimeout(function(){iw.innerHTML="I lossst my kid !"},2E3);setTimeout(function(){iw.innerHTML=""},5E3);setTimeout(function(){clearInterval(inter);e.style.margin="-80vh 0 0"},7E3);setTimeout(AA,7500)})};AA=function(k,f){if(0===k||"pz"==k)clearInterval(x),_=$=0;"pz"==k&&(H=1,J=0);W=k||y.lossst_p||"px";b.outerHTML="<body id=b class="+W+">\n<div id=iv>\n<div id=a style=transform:translateX(-97vh)translateY(-50vh)rotateZ(90deg)translateZ(119vh);transform-origin:100vh+50vh>\n<div id=ig>"+(H?"<div class=t style=width:60vh;transform:translateX(70vh)translateY(1vh)translateZ(2vh)rotateX(-42deg)>\n<label style=width:100%;text-align:center>Create a pattern with the snake and share it !</label>\n<br style=line-height:6vh>\n<div style=text-align:left;padding-left:5vh>\n<label>Grid</label> <input id=ib type=range value=5 min=3 max=8 step=1>\n<span id=gridval>5</span>\n<br>\n<label>Snake</label> <input id=iq type=range value=5 min=5 max=40 step=1>\n<span id=it>5</span>\n</div>\n<input type=checkbox id=ik checked> <label for=ik id=im>ground</label>\n"+(y.lossst_e||y.lossst_s&&6<y.lossst_S?"<input type=checkbox id=wall> <label for=wall>wall</label>":"")+"\n"+(y.lossst_e||y.lossst_s?"<input type=checkbox id=wrap> <label for=wrap>wrap</label>":"")+"\n<br>\n<center>\n<button id=ij disabled>Share</button>\n</center>\n</div>":"")+"\n</div>\n<div id=ih></div>\n<div id=ie></div>\n<div id=ia></div>\n</div>\n</div>\n<center id=iz style='font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw'>\n<button id=kU class=h ontouchstart=TS(38) ontouchend=TE(38)>\u2191</button>\n<button id=kD class=h ontouchstart=TS(40) ontouchend=TE(40)>\u2193</button>\n<button id=kL class=h ontouchstart=TS(37) ontouchend=TE(37)>\u2190</button>\n<button id=kR class=h ontouchstart=TS(39) ontouchend=TE(39)>\u2192</button>\n<button id=kT class=h ontouchstart=TS(16) ontouchend=TE(16)>\u2b06\ufe0e</button>\n<button id=kB class=h ontouchstart=TS(17) ontouchend=TE(17)>\u2b07\ufe0e</button>\n<button id=kw class=h ontouchstart=TS(18) ontouchend=TE(18)>\u21a9</button>\n<button id=kx class=h ontouchstart=TS(82) ontouchend=TE(82)>\u00d7</button>\n<button id=ky class=h ontouchstart=TS(49) ontouchend=TE(49)>\u21bb</button>\n<button id=kz class=h ontouchstart=TS(51) ontouchend=TE(51)>\u21ba</button>\n</center>\n<center id=ii style='font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw'>";y.lossst_Apx0=1;Ba();if(D&&"py"==W||y.lossst_w)kU.className=kD.className=kL.className=kR.className="";if(D&&"py"==W||y.lossst_b)kw.className="";if(D&&"py"==W||y.lossst_r)kr.className="";if(D&&"py"==W||y.lossst_B)kT.className="",kB.className="";if(D&&"py"==W||y.lossst_c)ky.className="",kz.className="";H||(va=setInterval(function(){y.lossst_t=++ta},1E3));f&&(b.innerHTML+="<div style='position:fixed;font:8vh a;top:3vh;right:3vh'onclick=location='.'>\u00d7")}</script><style>@keyframes move{0%,100%{transform:rotateY(-10deg)}50%{transform:rotateY(10deg)}}*{margin:0;padding:0;font:2.5vh/5.5vh arial,sans-serif;vertical-align:middle;box-sizing:border-box;-webkit-touch-callout:none;-webkit-user-select:none;-webkit-tap-highlight-color:transparent;user-select:none;cursor:pointer;touch-action:manipulation}html,body{height:100%;background:#000;overflow:hidden;background:radial-gradient(#def 25%,#7ce)}a{color:#def}input,button{position:relative;z-index:2}input[type=range]::-webkit-slider-runnable-track,input[type=range]::-webkit-slider-thumb{background:#888;border:1px solid #000}input[type=range]::-moz-range-track,input[type=range]::-moz-range-thumb{background:#888;border:1px solid #000}#iv{width:0;height:0;perspective:120vh;position:absolute;top:50%;left:50%}#iv *{transform-style:preserve-3d}#a{width:0;height:0;transform-origin:18vh 0%;transition:transform 1s,transform-origin 1s}.z{position:fixed;top:0;left:0}.z>div{width:100%;height:100%;position:fixed}.z .u{transform:rotateY(90deg)translateX(-100%)rotateY(-90deg)}.z .l{transform:rotateX(-90deg)translateY(-50%)translateX(-50%)rotateY(-90deg)}.z .r{transform:rotateX(-90deg)translateY(-50%)translateX(50%)rotateY(90deg)}.z .f{transform:translateY(50%)rotateX(-90deg)translateY(-50%)}.z .b{transform:translateY(-50%)rotateX(-90deg)translateY(-50%)rotateY(180deg)}.z.q{width:32vh;height:32vh;transform:none}.z.q>div{background:transparent}.z.q .b{transition:opacity .5s;transform:translateY(-50%)rotateX(-90deg)translateY(-52%)}.z.q.w .d,.z.q .d{transition:opacity .5s;background:#0c5b0c}.sm,.sr{transform-origin:50% 50%;width:100%;height:100%;position:fixed}.sm{transition:transform .15s}.z.k{width:100%;height:100%}.z.k>div{box-shadow:0 0 0 .1vh #000 inset;text-align:center}.z.k .f{line-height:3vh}#ie .z.k>div{background:#FFA500}#ie .z.k .u{background:#dF8500}#ia .z.k>div,#a.haswall .z.k>div{background:#444}#ia .z.k .u,#a.haswall .z.k .u{background:#333}#ia .z.k .f{color:#fff}.ss{position:fixed;width:100%;height:100%;background:rgba(0,0,0,.25);transform:translateX(14%)translateY(14%)translateZ(-.25vh)}label{display:inline-block;width:22%}button{display:inline-block;width:23%;border:.2vh solid #000;margin:1vh 2% 0 0}input[type=range]{width:60%}#form{width:50vh;margin:auto}.o{float:left;outline:.4vh solid #888;opacity:0;transition:opacity .5s;background:#fff}.z.q.v{transform:translateZ(.1vh)}.z.q.v .o{opacity:1}.z.q.v .d{transform:none}.z.q.w>div{background:linear-gradient(45deg,rgba(200,200,200,.1),rgba(200,200,200,.3));box-shadow:0 0 .1vh rgba(255,255,255,.5)}.j{position:fixed;transform-origin:50% 100%;bottom:0}.m{animation:move 3s infinite}.e{color:rgba(0,0,0,.002);text-shadow:0px 0px rgba(0,0,0,.25);position:fixed;transform-origin:50% 100%;bottom:0}.tr,.h{font:11vh/12vh a}.a .tr{font:15vh/11vh a}.a .h,.c .h,.i .h,.a .p,.c .p,.i .p,.c .x.b,#iz button.h{display:none}.g,.g *,.p{font:4vh/5vh a;transition:opacity .5s .5s}.n,.n *{font:5vh/6vh a}.g.h,.p.h{opacity:0}.a .g{font:6vh/5vh a}.do{position:fixed;transform-origin:0% 100%;width:0;height:0}.do .y{position:fixed;width:15vh;height:20vh;background:radial-gradient(2vh at 90% 50%,gold 35%,transparent 40%),#a22;border-radius:1vh 1vh 0 0;transform-origin:0% 100%;transform:translateX(-7.5vh)translateY(-12.5vh)rotateX(-90deg);text-align:center;font-size:6vh;line-height:12vh;color:#fff;transition:transform 1s}.do .y.d1{background:radial-gradient(2vh at 90% 50%,gold 35%,transparent 40%),#222}.do.s .y{transform:translateX(-7.5vh)translateY(-12.5vh)rotateX(-90deg)rotateY(90deg)}.z.x div{background:linear-gradient(45deg,#640,#583808)}.z.x div.u{transform:rotateY(90deg)translateX(-5.4vh)translateZ(-.1vh)rotateY(-90deg);background:radial-gradient(#3F7D1F,#034301);background-size:280vh 140vh;width:5.3vh;height:5.3vh}.t{position:fixed;background:#fff;padding:.7vh;width:20vh;font:2vh/2.5vh arial,sans-serif;transform-origin:50% 100%;text-align:center;box-shadow:0 0 0 .2vh #000 inset;bottom:0}.t br{font:0/0 a}.t:before{content:"";width:3vh;height:3vh;background:#750;position:absolute;bottom:-3vh;left:8vh;border-left:.2vh solid;border-right:.2vh solid}.pz .t:before{left:28vh}label{text-align:left}#a{transition:transform 6s ease-in,transform-origin 6s ease-in;width:280vh;height:140vh;background:radial-gradient(#4F8D2F,#136321);border-radius:3vh}.px #a,.pI #a{background:radial-gradient(10vh at 51.3% 52%,#000 40%,transparent 50%),radial-gradient(15vh at 51.3% 52%,#640 40%,transparent 50%),radial-gradient(#4F8D2F,#136321)}#e{margin:99vh 0 0;transition:margin 1s;font:10vh/80vh a}#iw{font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw}#menu{color:#fff;width:55vh;transform:translateX(-27vh)translateY(-20vh)rotateX(-17deg)}#menu span{font:7vh/12vh arial,sans-serif}#menu h1{font:13vh/16vh arial,sans-serif;text-shadow:.1vh -.1vh #777,.2vh -.2vh #777,.3vh -.3vh #777}#menu span:hover{color:#ace;transform:rotateX(-10deg)}.pN #menu span:hover{color:#fff}#iz button{position:fixed;width:10vh;height:10vh;text-align:center;font:6vh/10vh a}#kU{right:14vh;bottom:14vh}#kD{right:14vh;bottom:2vh}#kL{right:26vh;bottom:2vh}#kR{right:2vh;bottom:2vh}#kT{left:2vh;top:2vh}#kB{left:2vh;top:14vh}#kw{bottom:2vh;left:2vh}#kx{bottom:14vh;left:2vh}#ky{top:2vh;right:18vh}#kz{top:2vh;right:6vh}#hpx0{opacity:0;transition:opacity .5s}</style></head><head></head><body id="b" class="pN" style="background: rgb(0, 0, 0);"><div id="iv" style="perspective:90vh"><center id="menu" style="width:75vh;transform:translateX(-38vh)translateY(-35vh)rotateX(-28deg)"><span style="font-size:4vh;line-height:5vh"><h1>Congrats!</h1><br>You completed the game in<br>1145 seconds and 2385 moves!<br><br><a href="//twitter.com/intent/tweet?text=I%20played%20LOSSST,%20a%20%23js13k%20game%20by%20by%20@MaximeEuziere%0Amy%20score:%201145%20seconds%20and%202385%20moves!%0Ajs13kgames.com%2Fentries%2Flossst" target="_blank" style="color:#def;font-size:4vh">TWEET YOUR SCORE</a><br><br>Dev record:<br>854 seconds, 2452 moves<br><br>3D puzzle editor unlocked!<br><br><a href="." style="font-size:4vh">MAIN MENU</a></span></center></div></body></html><html><head><title>LOSSST</title><meta content="width=device-width,user-scalable=no" name="viewport"><script>u=r=d=l=s=c=B=0;trees=[];apples=[];doors=[];cubes=[];hints=[];emoji=[];puzzles=[];TS=function(k){ba[k]&&clearInterval(ba[k]);onkeydown({which:"+n+"});ba[k]=setInterval(function(){onkeydown({which:k})},150)};TE=function(k){setTimeout(function(){clearInterval(ba[k]);onkeyup()},150)};var g=0;function ca(){a.style.transform="translateX(-"+q[t]*v+"vh)translateY(-"+w[t]*v+"vh)translateZ(45vh)rotateX(40deg)rotateZ("+g+"rad)"}var x=$=_=0;function da(){var k=0;this.i=function(f){k+=f/48E3*Math.PI*2;return k%=2*Math.PI}}function fa(k){var f=new da,n=new da,m=.1;this.i=function(){if(!k)return 0;var A=k+.4*Math.sin(n.i(3));A=440*Math.pow(2,(A-57)/12);m*=.9998;A=f.i(A);return Math.pow(Math.sin(A),1)*m}}function ha(k){function f(){var f=k.length/2;for(_=$;0>_;)_+=f;_%=f;f=new fa(k[2*_+0].charCodeAt(0)-48);for(var A=new fa(k[2*_+1].charCodeAt(0)-48),P=[],aa=0;48E3>aa;aa++){var ea=f.i(),na=A.i(),za=.5*ea+na;P.push(ea+.5*na);P.push(za)}n(P).play()}function n(f){function k(f){f=m(f);return f[0]+f[1]}function m(f){for(var k=0,m="",n=0;4>n;n++,k+=8)m+=String.fromCharCode(f>>k&255);return m}var n=2*f.length;n="RIFF"+m(n+36)+"WAVEfmt "+m(16)+k(1)+k(2)+m(48E3)+m(192E3)+k(4)+k(16)+"data"+m(n);for(var ea in f)n+=k(32767*f[ea]);return new Audio("data:audio/wav;base64,"+btoa(n))}$=-1;this.forward=function(){$++;f()};this.back=function(){$--;f()}}function ja(k){function f(f){f=n(f);return f[0]+f[1]}function n(f){for(var k=0,m="",n=0;4>n;n++,k+=8)m+=String.fromCharCode(f>>k&255);return m}for(var m=[],A=0;;A++){var P=k(A);if(null===P)break;m.push(P)}k=2*m.length;k="RIFF"+n(k+36)+"WAVEfmt "+n(16)+f(1)+f(1)+n(48E3)+n(96E3)+f(2)+f(16)+"data"+n(k);for(A in m)k+=f(1E4*m[A]);return new Audio("data:audio/wav;base64,"+btoa(k))}function ka(k){return 1E4<k?null:(Math.pow(k,1.055)&128?1:-1)*Math.pow((1E4-k)/1E4,2)/2}function la(k){return 25E3<k?null:((k^k>>3^k*k*7.3^k<<4)&65535)/65536*((25E3-k)/25E3)/2}function ma(k){return 5E3<k?null:(Math.pow(k+1E3*Math.sin(.01*k),.8)&200?.5:-.5)*Math.pow((5E3-k)/5E3,1)/2}function oa(k){if(16E3<k)return null;var f=Math.pow((16E3-k)/16E3,2.1)/2;return(k<16E3/7?k+10*Math.sin(-k/900)&16:k&13)?f:-f}function pa(k){return 9E4<k?null:(Math.pow(k+1E3*Math.sin(.01*k),.8)&200?.5:-.5)*Math.pow((9E4-k)/9E4,1)/4}var qa=new ha("nbo0risiubv0uisirbs0ui0i0b0c0f0gniojrlsjuivjymvjubv0ui0i0j0m0n0rsgu0vnxnzgx0vnunsg0n0o0n0g0s0o0nrisjulvgufsjufscrbo0ni0j0b0i0j0il`n0ogqgs`u0vgxgz`0gxl0nsouqvsxuuev0u`0`0eq0slulqcs0qcs0qbs0q`s0njo0reseujv0xeveuj0v0e0q0j0i0g0e0cu0scq00bv0ufr0sgn0vbr0xiz0zjr0sgu0vbx0zgx0vbubsg{0zb{`z^{0zi{fzgv0xiu0vjs0ulr0sbn0oll0nbl0jfi0g00bxc0`zb0^{`0]z^0[z]0Zz[0]z^0`zb0]uf0bxi0f{l0izr0ozn0ixr0nrulrnbo0risiufs0r`o0nb0czf0gzi0gzf0cub0i0j0mvn0m0j0irbscrbs`rbs`sbrbo`q0sgugv`x0zg{gz`s0x`s0v`x0vcx0ues0q`l00eu00`x00ev00`u00eq00`o`"),ra=new ha("p0r0sdk0rco0pdk0p0r0sdw0rcs0pdk0p0r0sdk0rck0pdk0p0r0sdw0rcs0pd0f0g0iwg0bwgx0wgurrnspur0bufwgubs0pkrcsdk0rco0pkk0p0r0sdk0rco0pk0l0k0iwg0b0k0g0n0kzs0nxi0f|l0izr0p0n0lwk0dwg0k0p0k|s0pur0kuo0k0i0l0k0isd0krj0kpd0k0p0rsd0krl0opd0f0g0iskw0riw0pgw0nfw0u`s0rbs0pd0k"),y=localStorage,z=0,C=+y.lossst_s||0,sa=C?ra:qa,D=+y.lossst_m||0,ta=+y.lossst_t||0,ua=+y.lossst_M||0,va=0,ba=[],wa=0,v=5,t=0,q=[],w=[],E=[],F=[],G=y.lossst_S=+y.lossst_S||5,H=0,I=0,J=null,K="0",L=[],M=[],xa=0,N=0,O=0,Q=0,R=0,S=0,T=0,ya=+y.lossst_T||0,Aa=0,U=0,V=0,W="",X=h=0;function Ba(){var k;navigator.userAgent.match(/Mac/)&&(iv.className="a");navigator.userAgent.match(/Fire|Edg/)&&(iv.className+=" c",wa=4E3);D&&(iv.className+=" i");b.className=W;C&&!H&&(ie.innerHTML="");cubes=[];doors=[];trees=[];apples=[];hints=[];emoji=[];if("pz"==W)X=40,h=20,puzzles=[[5,,1,,"0000000000000000000000000",16,9]],G=5,C=0;else if("py"==W)h=X=20,puzzles=[eval("["+location.hash.slice(1).replace(/[01]{2,}/g,'"$&"')+"]")],G=puzzles[0][1],puzzles[0][5]=puzzles[0][6]=8,C=!!puzzles[0][3],hints=[["Move: arrow keys<br>"+(C?"Up/Down: "+(D?"\u2b06\ufe0e/\u2b07\ufe0e":"Shift/Ctrl")+"<br>":"")+"backtrack: "+(D?"\u21a9":"Alt")+"<br>Reset: R",1,5,1,0,C,0]],delete y.lossst_ppy0;else if("px"==W){X=40;h=20;trees=[[13,9,0],[7,13,0],[35,8,0]];apples=[[11,11,0,0,0],[2,12,0,6,0],[38,10,0,7,0]];doors=[[41,10,Math.PI/2,8,0,"pA",1,0,10,0,0],[20,-2,0,14,0,"pD",1,10,19,0,0],[-2,11,-Math.PI/2,6,0,"pJ",1,14,5,1,1],[20,21,Math.PI,14,0,"pC",1,22,1,0,0],[5,21,Math.PI,5,0,"pI",1,36,1,0,1]];puzzles=[];cubes=[];for(f=9;15>f;f++)for(m=0;5>m;m++)2==m&&14==f||2==m&&13==f||3==m&&13==f||3==m&&12==f||2==m&&12==f||cubes.push([m,f]);hints=[["Move with<br>arrow keys"+(D?"":" or WASD/ZQSD"),19,5,0,13,0],["Use the "+(D?"\u21a9":"Alt")+" key to backtrack",1,9,0,13,0,1],["Approach red doors with the right length to open them",35,14,0,13,0],["\u2191<br>New puzzles !<hr>Puzzle editor<br>\u2193",19,8,14,0,0],["\u2190<br>New puzzles !",1,9,6,7,1,1]];emoji=[["\ud83d\udc3f\ufe0f",30,7],["\ud83c\udf30\ufe0f",29,7]]}else if("pA"==W)X=40,h=20,trees=[[35,15,0]],apples=[[33,16,0,0,6],[34,17,0,0,6],[37,15,0,0,6]],cubes=[],doors=[[-2,10,-Math.PI/2,8,0,"px",0,39,11,0,0],[35,21,Math.PI,11,0,"pB",1,35,1,0,0]],puzzles=[[6,,0,,"000000001000001110001110001000000000",2,3],[6,,0,,"000000011000011100010000011000000000",14,3],[6,,0,,"000000000100001100011000011100000000",26,3],[5,,0,,"0000001110011100110000000",2,13],[6,,0,,"000000011000011000001100001100000000",14,13],[6,,0,,"000000000100001100001110001100000000",26,13]],hints=[["Cover the black patterns to solve puzzles",9,9,1,0],["Solve all the puzzles in the room to unlock a new door",21,9,1,0],["Your progress is saved automatically",34,9,1,0]],emoji=[["\ud83d\udc0c",11,10]];else if("pB"==W)D&&(kx.className="",y.lossst_r=1),X=40,h=20,trees=[[4,7,0]],apples=[[1,8,0,0,12],[2,9,0,0,12]],doors=[[35,-2,0,8,0,"pA",0,35,19,0,0],[-2,10,-Math.PI/2,13,0,"pC",1,39,10,0,0]],puzzles=[[6,,0,,"000000011110011010011110000000000000",8,2],[7,,0,,"0000000001110000111000001100000110000010000000000",18,2],[6,,0,,"000000011000011110001010001110000000",28,2],[6,,0,,"000000011100001110001110001100000000",8,12],[6,,0,,"000000001110001110001110001010000000",18,12],[6,,0,,"000000011110011110001100001000000000",28,12]],hints=[["If you get stuck, "+(D?"click \u00d7":"press R")+" to exit a puzzle",35,11,1,0]],cubes=[[11,4],[21,16]],emoji=[["\ud83d\udc08",4,14]];else if("pC"==W)X=40,h=20,trees=[[35,8,0]],apples=[[34,11,0,0,18]],doors=[[41,10,Math.PI/2,8,0,"pB",0,1,10,0,0],[22,-2,0,14,0,"px",1,20,19,0,0]],puzzles=[[7,,0,,"0000000000000001111000111100001111000100000000000",2,3],[7,,0,,"0000000001110000101000011100001110000110000000000",26,3],[6,,0,,"000000001110011110011010001110000000",14,3],[7,,0,,"0000000001100000111000011100001110000110000000000",2,12],[7,,0,,"0000000000000001111100101010011111000000000000000",14,12],[6,,0,,"000000011000011100011110011110000000",26,12]],hints=[["\u2191<br>After this room, you can try a puzzle editor and a new kind of puzzles !",22,11,13,0,0]],cubes=[[29,5],[30,8],[17,6],[15,4],[15,7],[29,13],[30,13],[30,14],[18,15],[16,15],[6,13],[6,17],[7,8],[6,8],[5,8],[3,7],[3,8],[7,6],[7,5]],emoji=[["\ud83e\udd8b<br><br>",29,13]];else if("pD"==W){h=X=20;trees=[[10,2,0]];doors=[[10,21,Math.PI,14,0,"px",0,20,0,0,0],[-2,5,-Math.PI/2,14,0,"pE",0,24,12,0,0]];puzzles=[[7,,1,,"0100010011111000000000000000000000001111100100010",7,7]];hints=[["Now you're thinking with wraps !",2,2,0,14,0]];for(f=0;20>f;f++)cubes.push([f,10]);emoji=[["\ud83d\udc10",12,2]]}else if("pE"==W)h=X=25,trees=[[5,12,0]],apples=[[4,14,0,0,23]],doors=[[26,12,Math.PI/2,14,0,"pD",0,0,5,0,0],[-2,12,-Math.PI/2,15,0,"pF",1,79,5,0,0]],puzzles=[[7,,1,,"1000001000000000000000010100011011011000111000001",3,3],[6,,1,,"110011100001000000100001100001110011",15,17],[5,,1,,"1100111001100011001110011",16,4],[6,,1,,"000011000011110001110001000011000011",3,17]],hints=[["Reminder:<br>use "+(D?"\u21a9":"Alt")+" to backtrack,<br>"+(D?"\u00d7":"R")+" to exit a puzzle.",11,14,1,0,0]],emoji=[["\ud83d\udc12",12,20]];else if("pF"==W)X=80,h=20,trees=[[35,10,0]],apples=[[38,11,0,0,35]],doors=[[81,5,Math.PI/2,15,0,"pE",0,0,12,0,0],[-2,15,-Math.PI/2,16,0,"pG",1,19,5,0,0]],puzzles=[[5,,1,,"0111101001010110100011111",59,13],[5,,1,,"1111011000111100001011110",48,13],[5,,1,,"1111101000011110111001100",37,13],[5,,1,,"1111110000111001000011111",26,13],[5,,1,,"1100101101001110011101101",15,13],[5,,1,,"1111100001110010000111111",59,2],[5,,1,,"1000110111100011000111111",48,2],[5,,1,,"1000110101101011111110001",37,2],[5,,1,,"1111110001000110000111111",26,2],[5,,1,,"0111101100011100011011110",15,2],[5,,1,,"1111101111001110001100001",4,8],[5,,1,,"1010100101111010000111111",71,8]],hints=[["This room hides a surprise !",72,2,0,15,0],["\u2190<br>Exit",38,9,16,0,0]],cubes=[],emoji=[];else if("pG"==W)X=20,h=30,trees=[[5,25,0]],apples=[[4,24,0,0,37],[7,25,0,0,37],[2,26,0,0,37],[3,28,0,0,37]],doors=[[21,5,Math.PI/2,16,0,"pF",0,1,15,0,0],[10,31,Math.PI,20,0,"pH",1,10,1,0,0]],puzzles=[[6,,1,,"001000001110111111011100011000001000",7,6],[6,,1,,"110001100001000111000111100001110001",7,18]],emoji=[["\ud83d\udc01",9,14]];else if("pH"==W)X=20,h=30,trees=[[16,22]],apples=[[18,22,0,0,39]],doors=[[10,-2,0,18,0,"pG",0,10,29,0,0],[21,25,Math.PI/2,21,0,"pI",1,1,10,0,0]],puzzles=[[6,,1,,"001000011110111111011110011110001000",7,6],[6,,1,,"110001100001000011000111001111111111",7,18]],emoji=[["\ud83e\udd86",9,14]];else if("pI"==W){X=40;h=20;apples=[[38,2,0,5,0]];doors=[[-2,10,-Math.PI/2,1,0,"pH",0,19,25,0,0],[36,-2,0,6,0,"px",1,5,19,0,1]];puzzles=[];hints=[["Guess what, you finished the first half of the game !",5,9,1,0],["You can now move up and down with "+(D?"\u2b06\ufe0e and \u2b07\ufe0e":"Shift and Ctrl keys")+", and open black doors",30,11,1,0]];for(f=0;9>f;f++)cubes.push([30,f]);for(f=30;40>f;f++)cubes.push([f,8]);emoji=[["\ud83d\udc22",13,14]];trees=[[3,1],[15,2],[36,3],[26,5],[25,15],[33,9],[10,12],[36,14],[3,15]]}else"pJ"==W?(X=15,h=70,trees=[[2,62]],apples=[[2,65,0,0,47],[1,66,0,0,47]],doors=[[16,5,Math.PI/2,6,0,"px",0,1,11,0,1],[-2,65,-Math.PI/2,8,0,"pK",1,19,65,0,1]],puzzles=[[5,,0,"0000000000000000000001110",,2,2],[4,,0,"0000000001000110",,4,11],[5,,0,"0000000000000000101001110",,6,20],[5,,0,"0000000000000000111000100",,8,29],[4,,0,"0000000001100110","0000011001100000",2,38],[4,,0,"0000010001100100","0000011001100000",4,47],[4,,0,"0000011001000100","0000010001100000",6,56],[4,,0,"0000000001100110","0100011000100000",8,65]],hints=[["You now have to match the patterns on the walls...",10,2,1,0,1],["... and on the floor too !",10,40,1,0,1]],emoji=[["\ud83e\udd89",10,14]]):"pK"==W?(D&&(ky.className=kz.className="",y.lossst_c=1),X=20,h=75,trees=[[2,2]],apples=[[1,4,0,0,59],[2,5,0,0,59],[3,6,0,0,59],[4,2,0,0,59]],doors=[[21,65,Math.PI/2,7,0,"pJ",0,1,65,0,1],[-2,5,-Math.PI/2,12,0,"pL",1,14,5,0,1]],puzzles=[[5,,0,"0000000000010000110001110",,8,69],[6,,0,"000000000000000000000100001110011000",,12,58],[5,,0,"0000000000010000111001000",,2,58],[4,,0,"0000001001100110","0000001001100000",2,45],[5,,0,"0000000000000000010001110","0000000100001100110000000",12,45],[5,,0,"0000000000000000101001110","0000001110010100000000000",2,34],[5,,0,"0000000000000000011001100","0000001110011000010000000",12,34],[4,,1,"0000011001100110","0110000000000110",2,22],[4,,1,"1001000000001001","1001000000001001",12,22],[4,,1,"0000010011110010","0000111101100000",2,12],[4,,1,"0110010000000011","0000011100110000",12,12],[4,,1,"1101000000000001","1101000000010001",12,2]],hints=[["You can rotate the camera with "+(D?"<br>\u21bb and \u21ba":"the keys 1, 2 and 3"),15,68,1,0,1],["Can you guess what's coming next?",7,54,1,0,1],["3D puzzles with wrap ! Use "+(D?"\u2b06\ufe0e and \u2b07\ufe0e":"Shift and Ctrl")+" to wrap between top and bottom",7,24,1,0,1]],emoji=[["\ud83d\udc1e",3,70]]):"pL"==W?(X=15,h=80,trees=[[2,70]],apples=[[1,73,0,0,68],[3,75,0,0,68]],doors=[[16,5,Math.PI/2,12,0,"pK",0,1,5,0,1],[-2,75,-Math.PI/2,14,0,"pM",1,14,25,0,1]],puzzles=[[5,,0,"0000000000001001111100100",,2,2],[4,,0,"0000010001100000",,5,11],[5,,0,"0000000110000110111000010",,8,20],[5,,0,"0000000000001000111011111","0000000000111001111100000",2,29],[4,,0,"1000110011101111","0000001111110000",5,38],[4,,0,"0000100011001110","1110110010000000",8,45],[4,,1,"1000100110010001","0000100110010000",2,54],[4,,1,"0000001011110100","0000110011110011",5,63],[5,,1,"0100011000010000111001000","0000001110110000100000000",8,72]],cubes=[[6,12]],emoji=[["\ud83d\udc1d",3,20]]):"pM"==W?(X=15,h=30,trees=[[10,12]],apples=[[8,11,0,0,71],[9,10,0,0,71],[10,9,0,0,71],[11,10,0,0,71],[12,11,0,0,71],[7,12,0,0,71]],doors=[[16,25,Math.PI/2,14,0,"pL",0,1,75,0,1],[-2,5,-Math.PI/2,20,0,"pN",1,14,5,0,1]],puzzles=[[5,,1,"0001100110011001100010000","0001100110011001100010000",2,24],[5,,1,"1100010001000011000111000","0000011000110010000000000",4,13],[5,,1,"1101110001000001000011000","1100010000000001000111011",6,2]],emoji=[["\ud83d\udc13",1,14]]):"pN"==W&&(X=15,h=48,trees=[[10,44]],apples=[[7,45,0,0,75]],doors=[[16,5,Math.PI/2,20,0,"pM",0,1,5,0,1]],puzzles=[[4,,1,"0000111101101111","1000111111111000",5,38],[4,,1,"1111001001001111","1111101010101111",5,28],[4,,1,"1111010101011101","0001101101101111",5,18],[4,,1,"1111000100011110","1111110110011111",5,8]],emoji=[["\ud83d\udc09",13,46]]);a.style.width=X*v+"vh";a.style.height=h*v+"vh";H||(ig.innerHTML="");ih.innerHTML="";for(var f in trees)ig.innerHTML+="<div id=tree"+f+' class="j tr"style=left:'+trees[f][0]*v+"vh;transform:translateX(-7vh)translateY("+(trees[f][1]*v+4)+"vh)rotateX(-70deg)>\ud83c\udf33</div><div id=treeshadow"+f+' class="e h"style=left:'+trees[f][0]*v+"vh;transform:translateX(-7.5vh)translateY("+(trees[f][1]*v+3.5)+"vh)rotateZ(144deg)scaleY(1.5)>\ud83c\udf33";for(f in apples)y["lossst_a"+W+f]?delete apples[f]:ig.innerHTML+="<div id=a"+f+' class="j g '+(y["lossst_A"+W+f]?"":"h")+'"style=left:'+apples[f][0]*v+"vh;transform:translateY("+(apples[f][1]*v+4)+"vh)rotateX(-65deg)>"+("pN"==W?"<div>\u26bd</div>":"<div class=m>\ud83c\udf4e</div>")+"</div><div id=as"+f+' class="e p '+(y["lossst_A"+W+f]?"":"h")+'"style=left:'+apples[f][0]*v+"vh;transform:scaleX(-1)translateY("+(apples[f][1]*v+3)+"vh)rotateZ(212deg)>"+("pN"==W?"\u26bd":"\ud83c\udf4e");for(f in emoji)ig.innerHTML+='<div class="j n"style=left:'+(emoji[f][1]*v-1)+"vh;transform:translateY("+(emoji[f][2]*v+4)+"vh)rotateX(-65deg)><div class=m>"+emoji[f][0];for(f in doors)ig.innerHTML+="<div id=d"+(""+W+f)+' class="do'+(y["lossst_d"+W+f]?" s":"")+'"style=left:'+(doors[f][0]+.5)*v+"vh;top:"+(doors[f][1]+.5)*v+"vh;transform:rotateZ("+doors[f][2]+"rad)translateZ("+doors[f][9]*v+'vh)><div class="y d'+doors[f][10]+'"'+(doors[f][6]?"":"hidden")+">"+doors[f][3]+'</div><div style="position:fixed;width:15vh;height:15vh;background:linear-gradient(transparent,#640 50%);top:-7.4vh;left:-7.5vh">';for(var n in puzzles)for(var m in cubes)y["lossst_p"+W+n]&&cubes[m][0]>=puzzles[n][5]&&cubes[m][0]<puzzles[n][5]+puzzles[n][0]&&cubes[m][1]>=puzzles[n][6]&&cubes[m][1]<puzzles[n][6]+puzzles[n][0]&&delete cubes[m];for(f in cubes)ig.innerHTML+="<div id=cube"+f+' class="z x"style=left:'+cubes[f][0]*v+"vh;top:"+cubes[f][1]*v+'vh;width:5vh;height:5vh><div class=f></div><div class=u style="background-position:'+(-300-cubes[f][0]*v)+"vh "+(-140-cubes[f][1]*v)+'vh"></div><div class=r></div><div class=l></div><div class=b>';for(f in hints)C^hints[f][5]||!(hints[f][3]&&hints[f][3]<=G||hints[f][4]&&hints[f][4]>=G)||(ig.innerHTML+="<div id=h"+(""+W+f)+" class=t style=left:"+hints[f][1]*v+"vh;transform:translateY("+(hints[f][2]*v+5)+"vh)translateZ("+(hints[f][6]*v||0)+"vh)rotateX(-70deg)translateY(-4vh)>"+hints[f][0]);y.lossst_x&&top.hpx0&&(hpx0.style.opacity=1);for(n in puzzles){T=puzzles[n][0];var A=k="";ih.innerHTML+="<div id=puzzle"+n+' class="z q v '+(puzzles[n][2]&&!y["lossst_p"+W+n]?"w":"")+'"style=left:'+puzzles[n][5]*v+"vh;top:"+puzzles[n][6]*v+"vh;width:"+puzzles[n][0]*v+"vh;height:"+T*v+"vh>"+(puzzles[n][2]?"<div class=l></div><div class=r></div>":"")+"<div id=D"+n+" class=d></div><div id=B"+n+" class=b></div>"+(puzzles[n][2]?"<div class=f>":"");var P="000",aa="fff";y["lossst_p"+W+n]&&(P="44c",aa="fd0",puzzles[n][2]=0);for(f=0;f<T;f++)for(m=0;m<T;m++)puzzles[n][3]&&(k+="<div class=o id=w"+n+f+m+" style=width:"+v+"vh;height:"+v+"vh;background:#"+("1"==puzzles[n][3][f*T+m]?P:aa)+"></div>"),puzzles[n][4]&&(A+="<div class=o id=g"+n+f+m+" style=width:"+v+"vh;height:"+v+"vh;background:#"+("1"==puzzles[n][4][f*T+m]?P:aa)+"></div>");top["D"+n]&&(top["D"+n].innerHTML+=A);top["B"+n]&&(top["B"+n].innerHTML+=k)}"pN"==W&&(ig.innerHTML+="<div style='position:fixed;transform:"+(D?"rotateZ(-90deg)translateX(-87vh)translateY(22vh)translateZ(365vh)":"rotateZ(-90deg)translateX(-83vh)translateY(6vh)translateZ(208vh)")+";font: 30vh/25vh a'>THE<br><br>END");H&&(y.lossst_e||y.lossst_s&&6<y.lossst_S||(ik.style.opacity=im.style.opacity=0,ik.style.position=im.style.position="fixed",ik.style.top=im.style.top="-9vh"),J=0,Y(1),xa=1,Q=O=N=0,puzzles[0][2]=0,setTimeout(function(){(ib.onchange=ib.oninput=resetgrid=function(){Ca();Y();ij.disabled=1;gridval.innerHTML=T=+ib.value;puzzle0.style.width=puzzle0.style.height=T*v+"vh";puzzles[0][0]=T;D0.innerHTML="";A=k=B0.innerHTML="";M=[];L=[];for(f=0;f<T;f++)for(M[f]=[],L[f]=[],m=0;m<T;m++)M[f][m]=0,L[f][m]=0;for(f=0;f<T;f++)for(m=0;m<T;m++)k+="<div class=o id=w"+K+f+m+" style=width:"+v+"vh;padding-top:"+v+"vh></div>",A+="<div class=o id=g"+K+f+m+" style=width:"+v+"vh;padding-top:"+v+"vh></div>";xa&&(D0.innerHTML+=A);N&&(B0.innerHTML+=k)})();iq.onchange=iq.oninput=function(){it.innerHTML=G=+iq.value;Ca();Y()};ik.onclick=function(){ik.checked?xa=1:top.wall&&(xa=0,C=N=1,wall.checked=!0);a.className=N?"haswall":"";resetgrid()};top.wall&&(wall.onclick=function(){wall.checked?(N=1,C=puzzles[0][3]=1):(N=C=0,xa=1,ik.checked=!0,puzzles[0][3]=0);a.className=N?"haswall":"";resetgrid()});top.wrap&&(wrap.onclick=function(){O=puzzles[0][2]=wrap.checked||0;puzzle0.className="z q v "+(O?"w":"");resetgrid()});print=function(k){var n="";for(f=0;f<T;f++)for(m=0;m<T;m++)n=top[k+"0"+f+m].style.background&&top[k+"0"+f+m].style.background.match(/255/)?n+0:n+1;return n};ij.onclick=function(){var f=[];f.push(T);f.push(G);f.push(O?1:0);f.push(N?print("w"):"");f.push(ik.checked?print("g"):"");open("//twitter.com/intent/tweet?text=I%20made%20a%20level%20for%20@MaximeEuziere's%20%23js13k%20game%20LOSSST!%0APlay%20here:%20js13kgames.com%2Fentries%2Flossst%0AMy%20level:%20js13kgames.com%2Fgames%2Flossst%23"+f+"%0A%23LOSSSTlevels")}},100));"px"!=W||y.lossst_x?(a.style.transition="transform 1s,transform-origin 1s",Ca()):(I=1,setTimeout(function(){Ca();Y();M0.style.transition="transform .5s"},2E3),setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(0);F.push(F[t]);t++;Y()},5500+wa),setTimeout(function(){M0.style.transition="";R0.style.transition="transform .2s";R0.style.transform="rotateZ("+-Math.PI/4+"rad)"},6500+wa),setTimeout(function(){R0.style.transform="rotateZ("+Math.PI/4+"rad)"},7E3+wa),setTimeout(function(){R0.style.transform=""},7500+wa),setTimeout(function(){S0.style.transition=R0.style.transition=""},8E3+wa),setTimeout(function(){clearInterval(x);z||(I=0);hpx0.style.opacity=1},8400),setTimeout(function(){a.style.transition="transform 1s,transform-origin 1s";y.lossst_x=20;y.lossst_y=10;b.innerHTML+="<div style='position:fixed;font:8vh a;top:3vh;right:3vh'onclick=location='index.html'>\u00d7";D&&(kU.className=kD.className=kL.className=kR.className="",y.lossst_w=1)},9E3));Y()}function Ca(){var k=C&&!H?ia:ie;k.innerHTML="";q=[];w=[];E=[];F=[];t=G-1;if("py"==W)for(i=0;i<G;i++)q[t-i]=1-i,w[t-i]=10,E[t-i]=0,F[t-i]=-Math.PI/2;else if(H)for(i=0;i<G;i++)q[t-i]=13-i,w[t-i]=12,E[t-i]=0,F[t-i]=-Math.PI/2;else if(y.lossst_x){var f=+y.lossst_x,n=+y.lossst_y,m=+y.lossst_z;"px"==W&&2>y.lossst_x&&(m=y.lossst_z=1);if("pI"==W&&z&&1==C)for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i-1,F[t-i]=0;else if(2>f)for(i=0;i<G;i++)q[t-i]=f-i,w[t-i]=n,E[t-i]=m,F[t-i]=-Math.PI/2;else if(f>X-2)for(i=0;i<G;i++)q[t-i]=f+i,w[t-i]=n,E[t-i]=m,F[t-i]=Math.PI/2;else if(2>n)for(i=0;i<G;i++)q[t-i]=f,w[t-i]=n-i,E[t-i]=m,F[t-i]=0;else if(n>h-2)for(i=0;i<G;i++)q[t-i]=f,w[t-i]=n+i,E[t-i]=m,F[t-i]=0;else for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i,F[t-i]=0}else if("px"==W)for(i=0;i<G;i++)q[t-i]=20,w[t-i]=10,E[t-i]=-i-1,F[t-i]=0;for(i=0;i<Math.max(G+4,16);i++)k.innerHTML+="<div id=M"+i+" class=sm style=transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:"+(v-.7)+"vh;height:"+(v-.7)+"vh><div class=ss id=S"+i+"></div><div id=R"+i+' class=sr><div class="z k"id=T'+i+">"+(1>i?"<div style=background:none;box-shadow:none;color:red;font-size:4vh;text-align:center;transform:rotateZ(180deg)translateY(-4vh)translateZ(1.5vh)>Y</div>":"")+'<div class=u style="font:'+.5*v+"vh/"+.8*v+'vh a">'+(1>i?"\ud83d\udc40":"")+"</div><div class=f>"+(1>i?"\u203f":"")+"</div><div class=r></div><div class=l></div><div class=b>"}function Y(k){for(var f={a:0};f.a<G;f={a:f.a,j:f.j,m:f.m,o:f.o},f.a++)if(!k){var n=oldx=oldy=oldz=newx=newy=newz=0;O&&T&&(q[t-f.a-1]==R&&q[t-f.a]==R+T-1?(n=1,oldx=R-1,newx=R+T,oldy=newy=w[t-f.a],oldz=newz=E[t-f.a]):q[t-f.a-1]==R+T-1&&q[t-f.a]==R?(n=1,oldx=R+T,newx=R-1,oldy=newy=w[t-f.a],oldz=newz=E[t-f.a]):w[t-f.a-1]==S&&w[t-f.a]==S+T-1?(n=1,oldy=S-1,newy=S+T,oldx=newx=q[t-f.a],oldz=newz=E[t-f.a]):w[t-f.a-1]==S+T-1&&w[t-f.a]==S?(n=1,oldy=S+T,newy=S-1,oldx=newx=q[t-f.a],oldz=newz=E[t-f.a]):0==E[t-f.a-1]&&E[t-f.a]==T-1?(n=1,oldz=-1,newz=T,oldx=newx=q[t-f.a],oldy=newy=w[t-f.a]):E[t-f.a-1]==T-1&&0==E[t-f.a]&&(n=1,oldz=T,newz=-1,oldx=newx=q[t-f.a],oldy=newy=w[t-f.a]));if(n)top["R"+f.a].style.transform="rotateZ("+F[t-f.a]+"rad)",top["M"+f.a].style.transform="translateX("+(oldx*v+.5)+"vh)translateY("+(oldy*v+.5)+"vh)translateZ("+(oldz*v+.5)+"vh)scale(.01)scaleZ(.01)",setTimeout(function(f){return function(){top["M"+f.a].style.transition="none"}}(f),90),f.j=newx,f.m=newy,f.o=newz,setTimeout(function(f){return function(){top["M"+f.a].style.transform="translateX("+(f.j*v+.5)+"vh)translateY("+(f.m*v+.5)+"vh)translateZ("+(f.o*v+.5)+"vh)scale(.01)"}}(f),100),setTimeout(function(f){return function(){top["M"+f.a].style.transition="";top["M"+f.a].style.transform="translateX("+(q[t-f.a]*v+.25)+"vh)translateY("+w[t-f.a]*v+"vh)translateZ("+(E[t-f.a]*v+.5)+"vh)"}}(f),150);else try{top["M"+f.a].style.transform="translateX("+(q[t-f.a]*v+.25)+"vh)translateY("+w[t-f.a]*v+"vh)translateZ("+(E[t-f.a]*v+.5)+"vh)",top["R"+f.a].style.transform="rotateZ("+F[t-f.a]+"rad)"}catch(A){}try{top["S"+f.a].style.display=0==E[t-f.a]?"":"none"}catch(A){}}H?a.style.transform="translateX(-100vh)translateY(-37vh)translateZ(-5vh)rotateX(33deg)":null===J||y["lossst_p"+W+J]?(a.style.transform="translateX("+-q[t]*v+"vh)translateY("+-w[t]*v+"vh)translateZ(45vh)rotateX(40deg)rotateZ("+g+"rad)",a.style.transformOrigin=""+q[t]*v+"vh "+w[t]*v+"vh"):(a.style.transform="translateX("+(-(R+puzzles[J][0]/2)*v+5)+"vh)translateY("+(-(S+puzzles[J][0]/2)*v+8)+"vh)translateZ("+(90-puzzles[J][0]*(v+3))+"vh)rotateX(30deg)rotateZ("+g+"rad)",a.style.transformOrigin=""+((R+puzzles[J][0]/2)*v+5)+"vh "+((S+puzzles[J][0]/2-1)*v+8)+"vh");f=C?1:0;for(k=0;k<G;k++){if(0>=E[t-k]){f=0;break}for(m in cubes)cubes[m][0]==q[t-k]&&cubes[m][1]==w[t-k]&&1==E[t-k]&&(f=0)}if(f){for(k=0;k<G;k++)E[t-k]--;try{Y()}catch(A){for(var m=2*G;m--;)q.pop(),w.pop(),E.pop(),F.pop(),t--;Aa=0;Y()}}f=q[t];n=w[t];for(k in doors)(doors[k][10]&&C||!doors[k][10]&&!C)&&top["d"+W+k]&&0<doors[k][3]&&G>=doors[k][3]&&4>Math.hypot(f-doors[k][0],n-doors[k][1])&&!y["lossst_d"+W+k]&&(top["d"+W+k].className="do s",!doors[k][6]||"px"==W&&2<k||ja(pa).play(),y["lossst_d"+W+k]=1),top["d"+W+k]&&"do s"==top["d"+W+k].className&&2>Math.hypot(f-doors[k][0],n-doors[k][1])&&(y.lossst_p=W=doors[k][5],setTimeout(Ba,600),y.lossst_x=doors[k][7],y.lossst_y=doors[k][8],y.lossst_z=0);null!==J&&Da();H||(J=null);H||(L=[],M=[]);for(p in puzzles)if(f>=puzzles[p][5]&&f<puzzles[p][5]+puzzles[p][0]&&n>=puzzles[p][6]&&n<puzzles[p][6]+puzzles[p][0]){J=+p;Q=0;y["lossst_p"+W+p]&&(Q=1);K=p;xa=!!puzzles[p][4];N=!!puzzles[p][3];O=!!puzzles[p][2];R=puzzles[p][5];S=puzzles[p][6];T=puzzles[p][0];for(k=0;k<T;k++)for(L[k]=[],M[k]=[],m=0;m<T;m++)puzzles[p][3]&&(M[k][m]=+puzzles[p][3][k*puzzles[p][0]+m]),puzzles[p][4]&&(L[k][m]=+puzzles[p][4][k*puzzles[p][0]+m]);Da()}}function Z(k,f,n){V=0;if(0>k||k>=X||0>f||f>=h)V=1;for(var m in trees)k>=trees[m][0]-1&&k<=trees[m][0]&&f==trees[m][1]&&3>E[t]&&(V=1);for(m in hints)k>=hints[m][1]&&k<=hints[m][1]+3&&f==hints[m][2]&&G>=hints[m][3]&&(!hints[m][4]||G<=hints[m][4])&&(C&&hints[m][5]||!C&&!hints[m][5])&&(V=1);for(m in apples)if(y["lossst_A"+W+m]&&k==apples[m][0]&&f==apples[m][1]&&0==E[t])if(ja(ka).play(),"pN"==W){x=setInterval(sa.forward,150);y.lossst_E=1;setTimeout(function(){I=1;as0.remove();a0.style.transform="translateY(319vh)translateZ(2vh)rotateX(-65deg)rotateY(90deg)";a0.style.transition=a.style.transition="10s";a0.style.transform="translateY(15vh)translateZ(2vh)rotateX(-65deg)";a.style.transform=D?"translateX(-133vh)translateY(-249vh)translateZ(-373vh)rotateZ(90deg)":"translateX(-141vh)translateY(-227vh)translateZ(-185vh)rotateZ(90deg)"},200);var A={},P;for(P in puzzles)A.g=P,setTimeout(function(f){return function(){top["B"+f.g].style.transition=".5s";top["B"+f.g].style.transform="translateY(-125%)"}}(A),[1450,2500,3800,5400][A.g]),A={g:A.g};setTimeout(function(){clearInterval(va);y.lossst_E=1;y.lossst_e=1;b.style.background="#000";y.lossst_s=0;b.innerHTML="<div id=iv style=perspective:90vh><center id=menu style=width:75vh;transform:translateX(-38vh)translateY(-35vh)rotateX(-28deg)><span style=font-size:4vh;line-height:5vh><h1>Congrats!</h1><br>You completed the game in<br>"+ta+" seconds and "+ua+" moves!<br><br><a href=//twitter.com/intent/tweet?text=I%20played%20LOSSST,%20a%20%23js13k%20game%20by%20by%20@MaximeEuziere%0Amy%20score:%20"+ta+"%20seconds%20and%20"+ua+"%20moves!%0Ajs13kgames.com%2Fentries%2Flossst target=_blank style=color:#def;font-size:4vh>TWEET YOUR SCORE</a><br><br>Dev record:<br>854 seconds, 2452 moves<br><br>3D puzzle editor unlocked!<br><br><a href=. style=font-size:4vh>MAIN MENU"},15E3);n=document.querySelectorAll(".o");A={};for(var aa in n){A.h=aa;try{2==n[A.h].style.backgroundColor.match(/68/g).length&&setTimeout(function(f){return function(){top[n[f.h].id].style.background="#a00"}}(A),8E3+10*A.h)}catch(na){}A={h:A.h}}}else if(delete apples[m],top["a"+m].remove(),top["as"+m].remove(),G++,y.lossst_S=G,y["lossst_a"+W+m]=1,"pF"==W&&16==G){I=1;x=setInterval(sa.forward,150);z=1;a.style.transition="5s";a.style.transform="translateX(-180vh)translateY(-53vh)translateZ("+(D?-422:-180)+"vh)rotateZ(180deg)";setTimeout(function(){a.style.transition="1s";I=z=0;Y();ig.innerHTML+="<div class=t style=left:190vh;transform:translateY(50vh)rotateX(-55deg)translateY(-4vh)>\u2190<br>Exit";clearInterval(x)},1E4);n=document.querySelectorAll(".o");A={};for(var ea in n){A.f=ea;try{n[A.f].id.match(/g\d\d\d$/)&&2==n[A.f].style.backgroundColor.match(/68/g).length&&setTimeout(function(f){return function(){top[n[f.f].id].style.background="#a00"}}(A),5500+10*A.f)}catch(na){}A={f:A.f}}}for(m in cubes)k==cubes[m][0]&&f==cubes[m][1]&&0==n&&(V=1);for(m in emoji)"pC"!=W&&k==emoji[m][1]&&f==emoji[m][2]&&0==n&&(V=1);for(m in doors)top["d"+W+m]&&"do s"==top["d"+W+m].className&&2>=Math.hypot(k-doors[m][0],f-doors[m][1])&&(V=0);hitcube2=0;for(m=G-2;0<m;m--)q[t-m]==k&&w[t-m]==f&&E[t-m]==n&&(V=1,1==m&&(hitcube2=1));for(p in puzzles)puzzles[p][3]&&k>=puzzles[p][5]&&k<puzzles[p][5]+puzzles[p][0]&&(f==puzzles[p][6]-1&&w[t]==puzzles[p][6]&&!puzzles[p][2]||f==puzzles[p][6]&&w[t]==puzzles[p][6]-1)&&(V=1);if("pI"==W&&18==k&&!C){z=C=V=I=1;clearInterval(x);sa=ra;_=$=0;x=setInterval(ra.forward,250);y.lossst_s=1;y.lossst_S=G=5;for(k=0;21>k;k++)cubes.push([q[t-k],w[t-k]]),top["M"+k].id="",top["R"+k].id="",top["S"+k].id="",top["T"+k].id="";a.style.transition="2s";Ca();Y();a.style.transform="translateX(-105vh)translateY(-51vh)translateZ(80vh)rotateX(45deg)";a.style.transformOrigin="140vh 70vh";setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(0);F.push(F[t]);t++;Y()},3E3);setTimeout(function(){ii.innerHTML="Daddy!"},4E3);setTimeout(function(){ii.innerHTML=""},6E3);setTimeout(function(){ii.innerHTML="I lossst my soccer ball!"},7E3);setTimeout(function(){ii.innerHTML=""},9E3);setTimeout(function(){ii.innerHTML="But I found new moves!"},1E4);setTimeout(function(){ii.innerHTML="";z=I=0;clearInterval(x);a.style.transition="1s";Y();Ea();D&&(kT.className=kB.className="",y.lossst_B=1)},13500)}}function Da(){if(!Q&&null!==J){solved=1;H&&(ij.disabled=0);for(i=0;i<T;i++)for(j=0;j<T;j++)try{top["g"+K+i+j]&&(top["g"+K+i+j].style.background=L[i][j]?"#000":"#fff"),top["w"+K+i+j]&&(top["w"+K+i+j].style.background=M[i][j]?"#000":"#fff")}catch(m){}if(q[t]<R||q[t]>R+T-1||w[t]<S||w[t]>S+T-1||0>E[t]||E[t]>T-1)H&&(ij.disabled=1);else{for(i=0;i<G;i++){top["g"+K+(w[t-i]-S)+(q[t-i]-R)]&&(top["g"+K+(w[t-i]-S)+(q[t-i]-R)].style.background=L[w[t-i]-S][q[t-i]-R]?"#080":H?"#44c":"#f00");w[t-i]>=S&&w[t-i]<S+T&&top["w"+K+(T-1-E[t-i])+(q[t-i]-R)]&&(top["w"+K+(T-1-E[t-i])+(q[t-i]-R)].style.background=M[T-1-E[t-i]][q[t-i]-R]?"#080":H?"#44c":"#f00");if(q[t-i]<R||q[t-i]>R+T-1||w[t-i]<S||w[t-i]>S+T-1||E[t-i]>T-1)H&&(ij.disabled=1),solved=0;xa&&L[w[t-i]-S]&&!L[w[t-i]-S][q[t-i]-R]&&(solved=0);N&&M[T-1-E[t-i]]&&!M[T-1-E[t-i]][q[t-i]-R]&&(solved=0)}for(i=0;i<T;i++)for(j=0;j<T;j++){try{xa&&3==top["g"+K+i+j].style.backgroundColor.match(/0/g).length&&(solved=0)}catch(m){}try{N&&3==top["w"+K+i+j].style.backgroundColor.match(/0/g).length&&(solved=0)}catch(m){}}if(solved){Q=H?0:1;puzzles[J][2]=0;top["puzzle"+J].classList.remove("w");H||(y["lossst_p"+W+J]=1);for(i=0;i<T;i++)for(j=0;j<T;j++){try{top["g"+K+i+j].style.background=L[i][j]?"#44c":"#fd0"}catch(m){}try{top["w"+K+i+j].style.background=M[i][j]?"#44c":"#fd0"}catch(m){}}H||(ja(oa).play(),ya++,y.lossst_T=ya);var k=1,f={},n;for(n in cubes)f.b=n,cubes[f.b][0]>=puzzles[J][5]&&cubes[f.b][0]<puzzles[J][5]+puzzles[J][0]&&cubes[f.b][1]>=puzzles[J][6]&&cubes[f.b][1]<puzzles[J][6]+puzzles[J][0]&&(delete cubes[f.b],k++,setTimeout(function(f){return function(){top["cube"+f.b].remove()}}(f),200*k)),f={b:f.b}}}}}function Ea(){for(var k in apples)if(!y["lossst_A"+W+k]&&(0<apples[k][3]&&apples[k][3]==G||0<apples[k][4]&&apples[k][4]==ya)){I=1;D&&"px"==W&&1==k&&(kw.className="",y.lossst_b=1);var f=setTimeout;a.style.transform="translateX("+-apples[k][0]*v+"vh)translateY("+-apples[k][1]*v+"vh)translateZ(50vh)rotateX(35deg)";y["lossst_A"+W+k]=1;a.style.transformOrigin=""+apples[k][0]*v+"vh "+apples[k][1]*v+"vh";f(void 0,250);f=setTimeout;top["a"+k].className="j g";top["as"+k].className="e p";f(void 0,800);setTimeout(function(){ja(la).play()},850);setTimeout(function(){Y();z||(I=0)},2E3)}}function Fa(){U=0;H||(J=null);for(p in puzzles)q[t]>=puzzles[p][5]&&q[t]<puzzles[p][5]+puzzles[p][0]&&w[t]>=puzzles[p][6]&&w[t]<puzzles[p][6]+puzzles[p][0]&&0<=E[t]&&E[t]<puzzles[p][0]&&(J=+p,U=1)}onkeydown=function(k){top["lurd************************l**r************l*d***u**u"[k.which-37]]=1;18==k.which&&(B=1);16==k.which&&(s=1);17==k.which&&(c=1);if(!I){if(49==k.which||97==k.which)-1<g&&g--,ca();if(50==k.which||98==k.which)g=0,ca();if(51==k.which||99==k.which)1>g&&g++,ca()}Fa();U?Da():Aa=0;if(82==k.which&&U){if(Aa<=t)for(var f=Aa;f<=t;f++)q.pop(),w.pop(),E.pop(),F.pop(),setTimeout(function(){sa.back()},70*(t-f));t=Aa-1;Aa=0;Y();Da();y.lossst_M=++ua}else if(116!=k.which&&82!=k.which&&17!=k.which&&123!=k.which&&k.preventDefault&&k.preventDefault(),!I){V=0;if(l)!Q&&O&&U&&q[t]==R?(Z(R+T-1,w[t],E[t]),V||(q.push(R+T-1),w.push(w[t]),E.push(E[t]),F.push(Math.PI/2),t++)):(Z(q[t]-1,w[t],E[t]),V||(q.push(q[t]-1),w.push(w[t]),E.push(E[t]),F.push(Math.PI/2),t++));else if(r)!Q&&O&&U&&q[t]==R+T-1?(Z(R,w[t],E[t]),V||(q.push(R),w.push(w[t]),E.push(E[t]),F.push(-Math.PI/2),t++)):(Z(q[t]+1,w[t],E[t]),V||(q.push(q[t]+1),w.push(w[t]),E.push(E[t]),F.push(-Math.PI/2),t++));else if(u)!Q&&O&&U&&w[t]==S?(Z(q[t],S+T-1,E[t]),V||(q.push(q[t]),w.push(S+T-1),E.push(E[t]),F.push(Math.PI),t++)):(Z(q[t],w[t]-1,E[t]),V||(q.push(q[t]),w.push(w[t]-1),E.push(E[t]),F.push(Math.PI),t++));else if(d)!Q&&O&&U&&w[t]==S+T-1?(Z(q[t],S,E[t]),V||(q.push(q[t]),w.push(S),E.push(E[t]),F.push(0),t++)):(Z(q[t],w[t]+1,E[t]),V||(q.push(q[t]),w.push(w[t]+1),E.push(E[t]),F.push(0),t++));else if((C||N)&&s){if(!U){k=G-1;for(f in cubes)cubes[f][0]==q[t]&&cubes[f][1]==w[t]&&k++;if(E[t]==k)return}!Q&&O&&U&&E[t]==T-1?(Z(q[t],w[t],0),V||(q.push(q[t]),w.push(w[t]),E.push(0),F.push(F[t]),t++)):(Z(q[t],w[t],E[t]+1),V||(q.push(q[t]),w.push(w[t]),E.push(E[t]+1),F.push(F[t]),t++))}else(C||N)&&c?!Q&&O&&U&&0==E[t]?(Z(q[t],w[t],T-1),V||(q.push(q[t]),w.push(w[t]),E.push(T-1),F.push(F[t]),t++)):0==E[t]?V=1:(Z(q[t],w[t],E[t]-1),V||(q.push(q[t]),w.push(w[t]),E.push(E[t]-1),F.push(F[t]),t++)):B&&t>G&&(F.pop(),q.pop(),w.pop(),E.pop(),t--);V&&!I&&(I=1,setTimeout(function(){z||(I=0)},150),!(-1<q[t]&&q[t]<X&&-1<w[t]&&w[t]<h)||"pI"==W&&!C&&16<q[t]||hitcube2||ja(ma).play());if(!V&&!z&&(u||r||d||l||s||c||B)){y.lossst_M=++ua;Da();Y();B?t>G&&sa.back():(C||!s&&!c&&!C)&&sa.forward();Y(1);Ea();I||(I=1,setTimeout(function(){z||(I=0)},150));if("px"==W&&(C||14<=G)&&20==q[t]&&10==w[t]){I=1;var n=0;for(f=0;f<G;f++)setTimeout(function(){q.push(q[t]);w.push(w[t]);E.push(--n);F.push(F[t]);t++;Y()},150*f);setTimeout(function(){AA("pz",1)},160*G);y.lossst_x=20;y.lossst_y=10}Fa();U&&!Aa&&(Aa=t)}}};onkeyup=function(){u=r=d=l=s=c=B=0};onload=function(){1<location.hash.length?AA("py",1):(setTimeout(function(){x=setInterval(function(){sa.forward()},500)},200),b.innerHTML="<center id=e>\ud83d\udc40</center>\n<center id=iw></center>\n<div id=iv style=perspective:30vh>\n<center id=menu>\n<h1>LOSSST</h1>\n<span onclick=newgame()>New game</span><br>\n"+(y.lossst_a&&!y.lossst_E?"<span onclick=AA(0,1)>Continue</span><br>":"")+"\n<span onclick=AA(\"pz\",1)>Puzzle editor</span><br>\n<span onclick=top.open('//goo.gl/iKqoCS')>Bonus",newgame=function(){for(i in localStorage)0==i.indexOf("lossst")&&-1==i.indexOf("e")&&delete localStorage[i];y.lossst_a=1;menu.innerHTML="<br><br><span onclick=intro(0)>Desssktop</span><br><br><span onclick=intro(1)>Mobile"},intro=function(k){clearInterval(x);_=$=0;x=setInterval(sa.forward,250);y.lossst_m=D=k;y.lossst_S=G=5;ta=y.lossst_t=0;ua=y.lossst_M=0;y.lossst_M=0;y.lossst_t=0;menu.innerHTML="";setTimeout(function(){e.style.margin=0},500);dir=1;inter=setInterval(function(){e.style.opacity=0;setTimeout(function(){e.style.opacity=1;dir=-dir;e.style.transform="scaleX("+dir+")"},150)},3E3);setTimeout(function(){iw.innerHTML="I lossst my kid !"},2E3);setTimeout(function(){iw.innerHTML=""},5E3);setTimeout(function(){clearInterval(inter);e.style.margin="-80vh 0 0"},7E3);setTimeout(AA,7500)})};AA=function(k,f){if(0===k||"pz"==k)clearInterval(x),_=$=0;"pz"==k&&(H=1,J=0);W=k||y.lossst_p||"px";b.outerHTML="<body id=b class="+W+">\n<div id=iv>\n<div id=a style=transform:translateX(-97vh)translateY(-50vh)rotateZ(90deg)translateZ(119vh);transform-origin:100vh+50vh>\n<div id=ig>"+(H?"<div class=t style=width:60vh;transform:translateX(70vh)translateY(1vh)translateZ(2vh)rotateX(-42deg)>\n<label style=width:100%;text-align:center>Create a pattern with the snake and share it !</label>\n<br style=line-height:6vh>\n<div style=text-align:left;padding-left:5vh>\n<label>Grid</label> <input id=ib type=range value=5 min=3 max=8 step=1>\n<span id=gridval>5</span>\n<br>\n<label>Snake</label> <input id=iq type=range value=5 min=5 max=40 step=1>\n<span id=it>5</span>\n</div>\n<input type=checkbox id=ik checked> <label for=ik id=im>ground</label>\n"+(y.lossst_e||y.lossst_s&&6<y.lossst_S?"<input type=checkbox id=wall> <label for=wall>wall</label>":"")+"\n"+(y.lossst_e||y.lossst_s?"<input type=checkbox id=wrap> <label for=wrap>wrap</label>":"")+"\n<br>\n<center>\n<button id=ij disabled>Share</button>\n</center>\n</div>":"")+"\n</div>\n<div id=ih></div>\n<div id=ie></div>\n<div id=ia></div>\n</div>\n</div>\n<center id=iz style='font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw'>\n<button id=kU class=h ontouchstart=TS(38) ontouchend=TE(38)>\u2191</button>\n<button id=kD class=h ontouchstart=TS(40) ontouchend=TE(40)>\u2193</button>\n<button id=kL class=h ontouchstart=TS(37) ontouchend=TE(37)>\u2190</button>\n<button id=kR class=h ontouchstart=TS(39) ontouchend=TE(39)>\u2192</button>\n<button id=kT class=h ontouchstart=TS(16) ontouchend=TE(16)>\u2b06\ufe0e</button>\n<button id=kB class=h ontouchstart=TS(17) ontouchend=TE(17)>\u2b07\ufe0e</button>\n<button id=kw class=h ontouchstart=TS(18) ontouchend=TE(18)>\u21a9</button>\n<button id=kx class=h ontouchstart=TS(82) ontouchend=TE(82)>\u00d7</button>\n<button id=ky class=h ontouchstart=TS(49) ontouchend=TE(49)>\u21bb</button>\n<button id=kz class=h ontouchstart=TS(51) ontouchend=TE(51)>\u21ba</button>\n</center>\n<center id=ii style='font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw'>";y.lossst_Apx0=1;Ba();if(D&&"py"==W||y.lossst_w)kU.className=kD.className=kL.className=kR.className="";if(D&&"py"==W||y.lossst_b)kw.className="";if(D&&"py"==W||y.lossst_r)kr.className="";if(D&&"py"==W||y.lossst_B)kT.className="",kB.className="";if(D&&"py"==W||y.lossst_c)ky.className="",kz.className="";H||(va=setInterval(function(){y.lossst_t=++ta},1E3));f&&(b.innerHTML+="<div style='position:fixed;font:8vh a;top:3vh;right:3vh'onclick=location='.'>\u00d7")}</script><style>@keyframes move{0%,100%{transform:rotateY(-10deg)}50%{transform:rotateY(10deg)}}*{margin:0;padding:0;font:2.5vh/5.5vh arial,sans-serif;vertical-align:middle;box-sizing:border-box;-webkit-touch-callout:none;-webkit-user-select:none;-webkit-tap-highlight-color:transparent;user-select:none;cursor:pointer;touch-action:manipulation}html,body{height:100%;background:#000;overflow:hidden;background:radial-gradient(#def 25%,#7ce)}a{color:#def}input,button{position:relative;z-index:2}input[type=range]::-webkit-slider-runnable-track,input[type=range]::-webkit-slider-thumb{background:#888;border:1px solid #000}input[type=range]::-moz-range-track,input[type=range]::-moz-range-thumb{background:#888;border:1px solid #000}#iv{width:0;height:0;perspective:120vh;position:absolute;top:50%;left:50%}#iv *{transform-style:preserve-3d}#a{width:0;height:0;transform-origin:18vh 0%;transition:transform 1s,transform-origin 1s}.z{position:fixed;top:0;left:0}.z>div{width:100%;height:100%;position:fixed}.z .u{transform:rotateY(90deg)translateX(-100%)rotateY(-90deg)}.z .l{transform:rotateX(-90deg)translateY(-50%)translateX(-50%)rotateY(-90deg)}.z .r{transform:rotateX(-90deg)translateY(-50%)translateX(50%)rotateY(90deg)}.z .f{transform:translateY(50%)rotateX(-90deg)translateY(-50%)}.z .b{transform:translateY(-50%)rotateX(-90deg)translateY(-50%)rotateY(180deg)}.z.q{width:32vh;height:32vh;transform:none}.z.q>div{background:transparent}.z.q .b{transition:opacity .5s;transform:translateY(-50%)rotateX(-90deg)translateY(-52%)}.z.q.w .d,.z.q .d{transition:opacity .5s;background:#0c5b0c}.sm,.sr{transform-origin:50% 50%;width:100%;height:100%;position:fixed}.sm{transition:transform .15s}.z.k{width:100%;height:100%}.z.k>div{box-shadow:0 0 0 .1vh #000 inset;text-align:center}.z.k .f{line-height:3vh}#ie .z.k>div{background:#FFA500}#ie .z.k .u{background:#dF8500}#ia .z.k>div,#a.haswall .z.k>div{background:#444}#ia .z.k .u,#a.haswall .z.k .u{background:#333}#ia .z.k .f{color:#fff}.ss{position:fixed;width:100%;height:100%;background:rgba(0,0,0,.25);transform:translateX(14%)translateY(14%)translateZ(-.25vh)}label{display:inline-block;width:22%}button{display:inline-block;width:23%;border:.2vh solid #000;margin:1vh 2% 0 0}input[type=range]{width:60%}#form{width:50vh;margin:auto}.o{float:left;outline:.4vh solid #888;opacity:0;transition:opacity .5s;background:#fff}.z.q.v{transform:translateZ(.1vh)}.z.q.v .o{opacity:1}.z.q.v .d{transform:none}.z.q.w>div{background:linear-gradient(45deg,rgba(200,200,200,.1),rgba(200,200,200,.3));box-shadow:0 0 .1vh rgba(255,255,255,.5)}.j{position:fixed;transform-origin:50% 100%;bottom:0}.m{animation:move 3s infinite}.e{color:rgba(0,0,0,.002);text-shadow:0px 0px rgba(0,0,0,.25);position:fixed;transform-origin:50% 100%;bottom:0}.tr,.h{font:11vh/12vh a}.a .tr{font:15vh/11vh a}.a .h,.c .h,.i .h,.a .p,.c .p,.i .p,.c .x.b,#iz button.h{display:none}.g,.g *,.p{font:4vh/5vh a;transition:opacity .5s .5s}.n,.n *{font:5vh/6vh a}.g.h,.p.h{opacity:0}.a .g{font:6vh/5vh a}.do{position:fixed;transform-origin:0% 100%;width:0;height:0}.do .y{position:fixed;width:15vh;height:20vh;background:radial-gradient(2vh at 90% 50%,gold 35%,transparent 40%),#a22;border-radius:1vh 1vh 0 0;transform-origin:0% 100%;transform:translateX(-7.5vh)translateY(-12.5vh)rotateX(-90deg);text-align:center;font-size:6vh;line-height:12vh;color:#fff;transition:transform 1s}.do .y.d1{background:radial-gradient(2vh at 90% 50%,gold 35%,transparent 40%),#222}.do.s .y{transform:translateX(-7.5vh)translateY(-12.5vh)rotateX(-90deg)rotateY(90deg)}.z.x div{background:linear-gradient(45deg,#640,#583808)}.z.x div.u{transform:rotateY(90deg)translateX(-5.4vh)translateZ(-.1vh)rotateY(-90deg);background:radial-gradient(#3F7D1F,#034301);background-size:280vh 140vh;width:5.3vh;height:5.3vh}.t{position:fixed;background:#fff;padding:.7vh;width:20vh;font:2vh/2.5vh arial,sans-serif;transform-origin:50% 100%;text-align:center;box-shadow:0 0 0 .2vh #000 inset;bottom:0}.t br{font:0/0 a}.t:before{content:"";width:3vh;height:3vh;background:#750;position:absolute;bottom:-3vh;left:8vh;border-left:.2vh solid;border-right:.2vh solid}.pz .t:before{left:28vh}label{text-align:left}#a{transition:transform 6s ease-in,transform-origin 6s ease-in;width:280vh;height:140vh;background:radial-gradient(#4F8D2F,#136321);border-radius:3vh}.px #a,.pI #a{background:radial-gradient(10vh at 51.3% 52%,#000 40%,transparent 50%),radial-gradient(15vh at 51.3% 52%,#640 40%,transparent 50%),radial-gradient(#4F8D2F,#136321)}#e{margin:99vh 0 0;transition:margin 1s;font:10vh/80vh a}#iw{font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw}#menu{color:#fff;width:55vh;transform:translateX(-27vh)translateY(-20vh)rotateX(-17deg)}#menu span{font:7vh/12vh arial,sans-serif}#menu h1{font:13vh/16vh arial,sans-serif;text-shadow:.1vh -.1vh #777,.2vh -.2vh #777,.3vh -.3vh #777}#menu span:hover{color:#ace;transform:rotateX(-10deg)}.pN #menu span:hover{color:#fff}#iz button{position:fixed;width:10vh;height:10vh;text-align:center;font:6vh/10vh a}#kU{right:14vh;bottom:14vh}#kD{right:14vh;bottom:2vh}#kL{right:26vh;bottom:2vh}#kR{right:2vh;bottom:2vh}#kT{left:2vh;top:2vh}#kB{left:2vh;top:14vh}#kw{bottom:2vh;left:2vh}#kx{bottom:14vh;left:2vh}#ky{top:2vh;right:18vh}#kz{top:2vh;right:6vh}#hpx0{opacity:0;transition:opacity .5s}</style></head><head></head><body id="b" class="pz">
<div id="iv">
<div id="a" style="transform: translateX(-100vh) translateY(-37vh) translateZ(-5vh) rotateX(33deg); transform-origin: 100vh 50vh 0px; width: 200vh; height: 100vh; transition: transform 1s, transform-origin 1s;" class="haswall">
<div id="ig"><div class="t" style="width:60vh;transform:translateX(70vh)translateY(1vh)translateZ(2vh)rotateX(-42deg)">
<label style="width:100%;text-align:center">Create a pattern with the snake and share it !</label>
<br style="line-height:6vh">
<div style="text-align:left;padding-left:5vh">
<label>Grid</label> <input id="ib" type="range" value="5" min="3" max="8" step="1">
<span id="gridval">7</span>
<br>
<label>Snake</label> <input id="iq" type="range" value="5" min="5" max="40" step="1">
<span id="it">13</span>
</div>
<input type="checkbox" id="ik" checked=""> <label for="ik" id="im">ground</label>
<input type="checkbox" id="wall"> <label for="wall">wall</label>
<input type="checkbox" id="wrap"> <label for="wrap">wrap</label>
<br>
<center>
<button id="ij">Share</button>
</center>
</div>
</div>
<div id="ih"><div id="puzzle0" class="z q v w" style="left: 80vh; top: 45vh; width: 35vh; height: 35vh;"><div class="l"></div><div class="r"></div><div id="D0" class="d"><div class="o" id="g000" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="g001" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="g002" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="g003" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="g004" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="g005" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="g006" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="g010" style="width: 5vh; padding-top: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g011" style="width: 5vh; padding-top: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g012" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="g013" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="g014" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="g015" style="width: 5vh; padding-top: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g016" style="width: 5vh; padding-top: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g020" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="g021" style="width: 5vh; padding-top: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g022" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="g023" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="g024" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="g025" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="g026" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="g030" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="g031" style="width: 5vh; padding-top: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g032" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="g033" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="g034" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="g035" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="g036" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="g040" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="g041" style="width: 5vh; padding-top: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g042" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="g043" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="g044" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="g045" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="g046" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="g050" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="g051" style="width: 5vh; padding-top: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g052" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="g053" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="g054" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="g055" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="g056" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="g060" style="width: 5vh; padding-top: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g061" style="width: 5vh; padding-top: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g062" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="g063" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="g064" style="width: 5vh; padding-top: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g065" style="width: 5vh; padding-top: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="g066" style="width: 5vh; padding-top: 5vh; background: rgb(68, 68, 204);"></div></div><div id="B0" class="b"><div class="o" id="w000" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="w001" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="w002" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="w003" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="w004" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="w005" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="w006" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="w010" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="w011" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="w012" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="w013" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="w014" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="w015" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="w016" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="w020" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="w021" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="w022" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="w023" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="w024" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="w025" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="w026" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="w030" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="w031" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="w032" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="w033" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="w034" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="w035" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="w036" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="w040" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="w041" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="w042" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="w043" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="w044" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="w045" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="w046" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="w050" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="w051" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="w052" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="w053" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="w054" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="w055" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="w056" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="w060" style="width: 5vh; padding-top: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w061" style="width: 5vh; padding-top: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w062" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="w063" style="width: 5vh; padding-top: 5vh; background: rgb(255, 255, 255);"></div><div class="o" id="w064" style="width: 5vh; padding-top: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w065" style="width: 5vh; padding-top: 5vh; background: rgb(68, 68, 204);"></div><div class="o" id="w066" style="width: 5vh; padding-top: 5vh; background: rgb(68, 68, 204);"></div></div><div class="f"></div></div></div>
<div id="ie"><div id="M0" class="sm" style="transform: translateX(105.25vh) translateY(50vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S0" style=""></div><div id="R0" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T0"><div style="background:none;box-shadow:none;color:red;font-size:4vh;text-align:center;transform:rotateZ(180deg)translateY(-4vh)translateZ(1.5vh)">Y</div><div class="u" style="font:2.5vh/4vh a">👀</div><div class="f">‿</div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M1" class="sm" style="transform: translateX(110.25vh) translateY(50vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S1" style=""></div><div id="R1" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T1"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M2" class="sm" style="transform: translateX(80.25vh) translateY(50vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S2" style=""></div><div id="R2" class="sr" style="transform: rotateZ(1.5708rad);"><div class="z k" id="T2"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M3" class="sm" style="transform: translateX(85.25vh) translateY(50vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S3" style=""></div><div id="R3" class="sr" style="transform: rotateZ(3.14159rad);"><div class="z k" id="T3"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M4" class="sm" style="transform: translateX(85.25vh) translateY(55vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S4" style=""></div><div id="R4" class="sr" style="transform: rotateZ(3.14159rad);"><div class="z k" id="T4"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M5" class="sm" style="transform: translateX(85.25vh) translateY(60vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S5" style=""></div><div id="R5" class="sr" style="transform: rotateZ(3.14159rad);"><div class="z k" id="T5"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M6" class="sm" style="transform: translateX(85.25vh) translateY(65vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S6" style=""></div><div id="R6" class="sr" style="transform: rotateZ(3.14159rad);"><div class="z k" id="T6"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M7" class="sm" style="transform: translateX(85.25vh) translateY(70vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S7" style=""></div><div id="R7" class="sr" style="transform: rotateZ(3.14159rad);"><div class="z k" id="T7"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M8" class="sm" style="transform: translateX(85.25vh) translateY(75vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S8" style=""></div><div id="R8" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id="T8"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M9" class="sm" style="transform: translateX(80.25vh) translateY(75vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S9" style=""></div><div id="R9" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id="T9"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M10" class="sm" style="transform: translateX(110.25vh) translateY(75vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S10" style=""></div><div id="R10" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id="T10"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M11" class="sm" style="transform: translateX(105.25vh) translateY(75vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S11" style=""></div><div id="R11" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id="T11"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M12" class="sm" style="transform: translateX(100.25vh) translateY(75vh) translateZ(0.5vh); width: 4.3vh; height: 4.3vh;"><div class="ss" id="S12" style=""></div><div id="R12" class="sr" style="transform: rotateZ(-1.5708rad);"><div class="z k" id="T12"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M13" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S13"></div><div id="R13" class="sr"><div class="z k" id="T13"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M14" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S14"></div><div id="R14" class="sr"><div class="z k" id="T14"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M15" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S15"></div><div id="R15" class="sr"><div class="z k" id="T15"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div><div id="M16" class="sm" style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:4.3vh;height:4.3vh"><div class="ss" id="S16"></div><div id="R16" class="sr"><div class="z k" id="T16"><div class="u" style="font:2.5vh/4vh a"></div><div class="f"></div><div class="r"></div><div class="l"></div><div class="b"></div></div></div></div></div>
<div id="ia"></div>
</div>
</div>
<center id="iz" style="font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw">
<button id="kU" class="h" ontouchstart="TS(38)" ontouchend="TE(38)">↑</button>
<button id="kD" class="h" ontouchstart="TS(40)" ontouchend="TE(40)">↓</button>
<button id="kL" class="h" ontouchstart="TS(37)" ontouchend="TE(37)">←</button>
<button id="kR" class="h" ontouchstart="TS(39)" ontouchend="TE(39)">→</button>
<button id="kT" class="h" ontouchstart="TS(16)" ontouchend="TE(16)">⬆︎</button>
<button id="kB" class="h" ontouchstart="TS(17)" ontouchend="TE(17)">⬇︎</button>
<button id="kw" class="h" ontouchstart="TS(18)" ontouchend="TE(18)">↩</button>
<button id="kx" class="h" ontouchstart="TS(82)" ontouchend="TE(82)">×</button>
<button id="ky" class="h" ontouchstart="TS(49)" ontouchend="TE(49)">↻</button>
<button id="kz" class="h" ontouchstart="TS(51)" ontouchend="TE(51)">↺</button>
</center>
<center id="ii" style="font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw"></center><div style="position:fixed;font:8vh a;top:3vh;right:3vh" onclick="location='.'">×</div></body></html>
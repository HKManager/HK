t=g=D=U=X=Y=0,Q=80,o=[],p=[],onmousemove=function(e){x=e.pageX+99,y=e.pageY,t||L()},onmouseup=function(e){U=!g};for(e in c)c[e[0]+e[2]+(e[6]||"")]=c[e];L=function(e){with(c){setTimeout(L,18-18*x/a.width),X=.98*X+(x-X)/30,Y+=(y-Y)/30,++t%9||g||(p[Math.random()]=[X,Y,6,(x-X)/30,(y-Y)/30,2]),1>t%Q&&(o[Math.random()]=[a.width,a.height*Math.random(),40+3e3*Math.random()/(Q=30>Q?200:.98*Q),-a.width*(1+t/1e4+Math.random())/3e3,0,0,0,"#1"+t%7+t%5]),sv(),globalAlpha=.8/(1+D),fillStyle=strokeStyle="#8cd",g&&(fillStyle=strokeStyle="#e44"),flc(0,0,a.width,a.height),fillStyle=strokeStyle="#ffb",taa(6*D*Math.random(),6*D*Math.random());for(j in p)e=p[j],bga(),arc(e[0]+=e[3],e[1]+=e[4],e[2],0,9),fl();for(fillStyle=strokeStyle="#e44",i=0,f=X;14>i;i++)f-=28-2*i+(i/20+.6)*(x-X)/30,flc(f,9*Math.cos(-i/2+t/12)-i*(y-Y)/14+Y-14,28-2*i,28-2*i),3==i&&flc(f,9*Math.cos(-i/2+t/12)-i*(y-Y)/14+Y,44+(x-X)/30,90*Math.cos(-i/2+t/12));D=x/a.width;for(i in o){e=o[i],fillStyle=strokeStyle="#ffb",t>e[6]&&(fillStyle=strokeStyle=e[7]),bga(),arc(e[0]+=e[3],e[1]+=e[4],e[2],0,9),fl(),f=[x,y,18],(e[5]=e[5]||(f[0]-e[0])*(f[0]-e[0])+(f[1]-e[1])*(f[1]-e[1])<(f[2]+e[2])*(f[2]+e[2])&&t)&&(sv(),fillStyle=strokeStyle="#ffb",taa(e[0],e[1]),0<20-(t-e[5])/2&&sa(20-(t-e[5])/2,20-(t-e[5])/2),rt(-t/14),srR(-9,-9,18,18),rse(),U&&(p[Math.random()]=[X,Y,20,(e[0]-X)/20,(e[1]-Y)/20,40,e[5]=0]));for(j in p)f=p[j],(f[0]-e[0])*(f[0]-e[0])+(f[1]-e[1])*(f[1]-e[1])<(f[2]+e[2])*(f[2]+e[2])&&(e[2]-=f[5],e[6]=t+5,e[0]+=9,delete p[j]),a.width<f[0]&&delete p[j];D+=Math.max(0,.6-e[0]/a.width),e[2]<18&&delete o[i],e[0]<0&&(g=g||t)}fillStyle=strokeStyle="#ffb",taa(x,y),sa(2,2),flx(g||t,18,18),rt(-t/14),srR(-9,-9,18,18),rse(),sv(),fillStyle=strokeStyle="#ffb",g&&sa(18,18),flx(g||t,18,18),rse(),U=0}};